var ZL=Object.defineProperty;var DN=e=>{throw TypeError(e)};var JL=(e,t,s)=>t in e?ZL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var A=(e,t,s)=>JL(e,typeof t!="symbol"?t+"":t,s),Ux=(e,t,s)=>t.has(e)||DN("Cannot "+s);var _=(e,t,s)=>(Ux(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>t.has(e)?DN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),te=(e,t,s,r)=>(Ux(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),ne=(e,t,s)=>(Ux(e,t,"access private method"),s);var Em=(e,t,s,r)=>({set _(i){te(e,t,i,s)},get _(){return _(e,t,r)}});function e8(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _E={exports:{}},Fg={},TE={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.element"),t8=Symbol.for("react.portal"),s8=Symbol.for("react.fragment"),n8=Symbol.for("react.strict_mode"),r8=Symbol.for("react.profiler"),i8=Symbol.for("react.provider"),a8=Symbol.for("react.context"),o8=Symbol.for("react.forward_ref"),l8=Symbol.for("react.suspense"),c8=Symbol.for("react.memo"),d8=Symbol.for("react.lazy"),MN=Symbol.iterator;function u8(e){return e===null||typeof e!="object"?null:(e=MN&&e[MN]||e["@@iterator"],typeof e=="function"?e:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EE=Object.assign,AE={};function Nd(e,t,s){this.props=e,this.context=t,this.refs=AE,this.updater=s||PE}Nd.prototype.isReactComponent={};Nd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DE(){}DE.prototype=Nd.prototype;function Kb(e,t,s){this.props=e,this.context=t,this.refs=AE,this.updater=s||PE}var Qb=Kb.prototype=new DE;Qb.constructor=Kb;EE(Qb,Nd.prototype);Qb.isPureReactComponent=!0;var IN=Array.isArray,ME=Object.prototype.hasOwnProperty,Yb={current:null},IE={key:!0,ref:!0,__self:!0,__source:!0};function RE(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ME.call(t,r)&&!IE.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:am,type:e,key:a,ref:o,props:i,_owner:Yb.current}}function h8(e,t){return{$$typeof:am,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xb(e){return typeof e=="object"&&e!==null&&e.$$typeof===am}function m8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var RN=/\/+/g;function Bx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m8(""+e.key):t.toString(36)}function Sp(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case am:case t8:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Bx(o,0):r,IN(i)?(s="",e!=null&&(s=e.replace(RN,"$&/")+"/"),Sp(i,t,s,"",function(d){return d})):i!=null&&(Xb(i)&&(i=h8(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(RN,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",IN(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Bx(a,l);o+=Sp(a,t,s,c,i)}else if(c=u8(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Bx(a,l++),o+=Sp(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dm(e,t,s){if(e==null)return e;var r=[],i=0;return Sp(e,r,"","",function(a){return t.call(s,a,i++)}),r}function p8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nn={current:null},Cp={transition:null},f8={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Cp,ReactCurrentOwner:Yb};function FE(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Dm,forEach:function(e,t,s){Dm(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Dm(e,function(){t++}),t},toArray:function(e){return Dm(e,function(t){return t})||[]},only:function(e){if(!Xb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Nd;jt.Fragment=s8;jt.Profiler=r8;jt.PureComponent=Kb;jt.StrictMode=n8;jt.Suspense=l8;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f8;jt.act=FE;jt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=EE({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Yb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ME.call(t,c)&&!IE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:am,type:e.type,key:i,ref:a,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:a8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i8,_context:e},e.Consumer=e};jt.createElement=RE;jt.createFactory=function(e){var t=RE.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:o8,render:e}};jt.isValidElement=Xb;jt.lazy=function(e){return{$$typeof:d8,_payload:{_status:-1,_result:e},_init:p8}};jt.memo=function(e,t){return{$$typeof:c8,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Cp.transition;Cp.transition={};try{e()}finally{Cp.transition=t}};jt.unstable_act=FE;jt.useCallback=function(e,t){return Nn.current.useCallback(e,t)};jt.useContext=function(e){return Nn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Nn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Nn.current.useEffect(e,t)};jt.useId=function(){return Nn.current.useId()};jt.useImperativeHandle=function(e,t,s){return Nn.current.useImperativeHandle(e,t,s)};jt.useInsertionEffect=function(e,t){return Nn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Nn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Nn.current.useMemo(e,t)};jt.useReducer=function(e,t,s){return Nn.current.useReducer(e,t,s)};jt.useRef=function(e){return Nn.current.useRef(e)};jt.useState=function(e){return Nn.current.useState(e)};jt.useSyncExternalStore=function(e,t,s){return Nn.current.useSyncExternalStore(e,t,s)};jt.useTransition=function(){return Nn.current.useTransition()};jt.version="18.3.1";TE.exports=jt;var v=TE.exports;const he=Di(v),OE=e8({__proto__:null,default:he},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8=v,x8=Symbol.for("react.element"),y8=Symbol.for("react.fragment"),v8=Object.prototype.hasOwnProperty,b8=g8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j8={key:!0,ref:!0,__self:!0,__source:!0};function LE(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)v8.call(t,r)&&!j8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:x8,type:e,key:a,ref:o,props:i,_owner:b8.current}}Fg.Fragment=y8;Fg.jsx=LE;Fg.jsxs=LE;_E.exports=Fg;var n=_E.exports,$E={exports:{}},tr={},UE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,L){var oe=V.length;V.push(L);e:for(;0<oe;){var be=oe-1>>>1,st=V[be];if(0<i(st,L))V[be]=L,V[oe]=st,oe=be;else break e}}function s(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],oe=V.pop();if(oe!==L){V[0]=oe;e:for(var be=0,st=V.length,_t=st>>>1;be<_t;){var Ft=2*(be+1)-1,ms=V[Ft],Qt=Ft+1,Le=V[Qt];if(0>i(ms,oe))Qt<st&&0>i(Le,ms)?(V[be]=Le,V[Qt]=oe,be=Qt):(V[be]=ms,V[Ft]=oe,be=Ft);else if(Qt<st&&0>i(Le,oe))V[be]=Le,V[Qt]=oe,be=Qt;else break e}}return L}function i(V,L){var oe=V.sortIndex-L.sortIndex;return oe!==0?oe:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,m=3,p=!1,j=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var L=s(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=V)r(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(d)}}function w(V){if(y=!1,x(V),!j)if(s(c)!==null)j=!0,re(S);else{var L=s(d);L!==null&&fe(w,L.startTime-V)}}function S(V,L){j=!1,y&&(y=!1,f(k),k=-1),p=!0;var oe=m;try{for(x(L),u=s(c);u!==null&&(!(u.expirationTime>L)||V&&!P());){var be=u.callback;if(typeof be=="function"){u.callback=null,m=u.priorityLevel;var st=be(u.expirationTime<=L);L=e.unstable_now(),typeof st=="function"?u.callback=st:u===s(c)&&r(c),x(L)}else r(c);u=s(c)}if(u!==null)var _t=!0;else{var Ft=s(d);Ft!==null&&fe(w,Ft.startTime-L),_t=!1}return _t}finally{u=null,m=oe,p=!1}}var N=!1,C=null,k=-1,T=5,D=-1;function P(){return!(e.unstable_now()-D<T)}function M(){if(C!==null){var V=e.unstable_now();D=V;var L=!0;try{L=C(!0,V)}finally{L?X():(N=!1,C=null)}}else N=!1}var X;if(typeof b=="function")X=function(){b(M)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=M,X=function(){F.postMessage(null)}}else X=function(){g(M,0)};function re(V){C=V,N||(N=!0,X())}function fe(V,L){k=g(function(){V(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){j||p||(j=!0,re(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var oe=m;m=L;try{return V()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=m;m=V;try{return L()}finally{m=oe}},e.unstable_scheduleCallback=function(V,L,oe){var be=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,V){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=oe+st,V={id:h++,callback:L,priorityLevel:V,startTime:oe,expirationTime:st,sortIndex:-1},oe>be?(V.sortIndex=oe,t(d,V),s(c)===null&&V===s(d)&&(y?(f(k),k=-1):y=!0,fe(w,oe-be))):(V.sortIndex=st,t(c,V),j||p||(j=!0,re(S))),V},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(V){var L=m;return function(){var oe=m;m=L;try{return V.apply(this,arguments)}finally{m=oe}}}})(BE);UE.exports=BE;var w8=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=v,er=w8;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,$u={};function Tl(e,t){Jc(e,t),Jc(e+"Capture",t)}function Jc(e,t){for($u[e]=t,e=0;e<t.length;e++)zE.add(t[e])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,S8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},ON={};function C8(e){return gv.call(ON,e)?!0:gv.call(FN,e)?!1:S8.test(e)?ON[e]=!0:(FN[e]=!0,!1)}function k8(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _8(e,t,s,r){if(t===null||typeof t>"u"||k8(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Js[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Js[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Js[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Js[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Js[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Js[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Js[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Js[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Js[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zb=/[\-:]([a-z])/g;function Jb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zb,Jb);Js[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zb,Jb);Js[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zb,Jb);Js[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Js[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Js.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Js[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ej(e,t,s,r){var i=Js.hasOwnProperty(t)?Js[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_8(t,s,i,r)&&(s=null),r||i===null?C8(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var ha=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mm=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),xv=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),sj=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),nj=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),HE=Symbol.for("react.offscreen"),LN=Symbol.iterator;function Ud(e){return e===null||typeof e!="object"?null:(e=LN&&e[LN]||e["@@iterator"],typeof e=="function"?e:null)}var ls=Object.assign,zx;function cu(e){if(zx===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);zx=t&&t[1]||""}return`
`+zx+e}var Vx=!1;function qx(e,t){if(!e||Vx)return"";Vx=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vx=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?cu(e):""}function T8(e){switch(e.tag){case 5:return cu(e.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return e=qx(e.type,!1),e;case 11:return e=qx(e.type.render,!1),e;case 1:return e=qx(e.type,!0),e;default:return""}}function bv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bl:return"Fragment";case Ul:return"Portal";case xv:return"Profiler";case tj:return"StrictMode";case yv:return"Suspense";case vv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qE:return(e.displayName||"Context")+".Consumer";case VE:return(e._context.displayName||"Context")+".Provider";case sj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nj:return t=e.displayName||null,t!==null?t:bv(e.type)||"Memo";case Sa:t=e._payload,e=e._init;try{return bv(e(t))}catch{}}return null}function P8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bv(t);case 8:return t===tj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E8(e){var t=WE(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Im(e){e._valueTracker||(e._valueTracker=E8(e))}function GE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=WE(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jv(e,t){var s=t.checked;return ls({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function $N(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=io(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KE(e,t){t=t.checked,t!=null&&ej(e,"checked",t,!1)}function wv(e,t){KE(e,t);var s=io(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nv(e,t.type,s):t.hasOwnProperty("defaultValue")&&Nv(e,t.type,io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UN(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Nv(e,t,s){(t!=="number"||tf(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var du=Array.isArray;function tc(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+io(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ls({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BN(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(ge(92));if(du(s)){if(1<s.length)throw Error(ge(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:io(s)}}function QE(e,t){var s=io(t.value),r=io(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function zN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rm,XE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rm=Rm||document.createElement("div"),Rm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uu(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A8=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){A8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function ZE(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function JE(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=ZE(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var D8=ls({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kv(e,t){if(t){if(D8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function _v(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function rj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pv=null,sc=null,nc=null;function VN(e){if(e=cm(e)){if(typeof Pv!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Bg(t),Pv(e.stateNode,e.type,t))}}function e4(e){sc?nc?nc.push(e):nc=[e]:sc=e}function t4(){if(sc){var e=sc,t=nc;if(nc=sc=null,VN(e),t)for(e=0;e<t.length;e++)VN(t[e])}}function s4(e,t){return e(t)}function n4(){}var Hx=!1;function r4(e,t,s){if(Hx)return e(t,s);Hx=!0;try{return s4(e,t,s)}finally{Hx=!1,(sc!==null||nc!==null)&&(n4(),t4())}}function Bu(e,t){var s=e.stateNode;if(s===null)return null;var r=Bg(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ge(231,t,typeof s));return s}var Ev=!1;if(na)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){Ev=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Ev=!1}function M8(e,t,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(h){this.onError(h)}}var wu=!1,sf=null,nf=!1,Av=null,I8={onError:function(e){wu=!0,sf=e}};function R8(e,t,s,r,i,a,o,l,c){wu=!1,sf=null,M8.apply(I8,arguments)}function F8(e,t,s,r,i,a,o,l,c){if(R8.apply(this,arguments),wu){if(wu){var d=sf;wu=!1,sf=null}else throw Error(ge(198));nf||(nf=!0,Av=d)}}function Pl(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function i4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qN(e){if(Pl(e)!==e)throw Error(ge(188))}function O8(e){var t=e.alternate;if(!t){if(t=Pl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return qN(i),e;if(a===r)return qN(i),t;a=a.sibling}throw Error(ge(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(s.alternate!==r)throw Error(ge(190))}if(s.tag!==3)throw Error(ge(188));return s.stateNode.current===s?e:t}function a4(e){return e=O8(e),e!==null?o4(e):null}function o4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o4(e);if(t!==null)return t;e=e.sibling}return null}var l4=er.unstable_scheduleCallback,HN=er.unstable_cancelCallback,L8=er.unstable_shouldYield,$8=er.unstable_requestPaint,ys=er.unstable_now,U8=er.unstable_getCurrentPriorityLevel,ij=er.unstable_ImmediatePriority,c4=er.unstable_UserBlockingPriority,rf=er.unstable_NormalPriority,B8=er.unstable_LowPriority,d4=er.unstable_IdlePriority,Og=null,bi=null;function z8(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Og,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:H8,V8=Math.log,q8=Math.LN2;function H8(e){return e>>>=0,e===0?32:31-(V8(e)/q8|0)|0}var Fm=64,Om=4194304;function uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function af(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=uu(l):(a&=o,a!==0&&(r=uu(a)))}else o=s&~i,o!==0?r=uu(o):a!==0&&(r=uu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Vr(t),i=1<<s,r|=e[s],t&=~i;return r}function W8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G8(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=W8(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Dv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u4(){var e=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),e}function Wx(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function om(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=s}function K8(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Vr(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function aj(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Vr(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var $t=0;function h4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m4,oj,p4,f4,g4,Mv=!1,Lm=[],Ga=null,Ka=null,Qa=null,zu=new Map,Vu=new Map,Ta=[],Q8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WN(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":zu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(t.pointerId)}}function zd(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=cm(t),t!==null&&oj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Y8(e,t,s,r,i){switch(t){case"focusin":return Ga=zd(Ga,e,t,s,r,i),!0;case"dragenter":return Ka=zd(Ka,e,t,s,r,i),!0;case"mouseover":return Qa=zd(Qa,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return zu.set(a,zd(zu.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vu.set(a,zd(Vu.get(a)||null,e,t,s,r,i)),!0}return!1}function x4(e){var t=Fo(e.target);if(t!==null){var s=Pl(t);if(s!==null){if(t=s.tag,t===13){if(t=i4(s),t!==null){e.blockedOn=t,g4(e.priority,function(){p4(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Iv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Tv=r,s.target.dispatchEvent(r),Tv=null}else return t=cm(s),t!==null&&oj(t),e.blockedOn=s,!1;t.shift()}return!0}function GN(e,t,s){kp(e)&&s.delete(t)}function X8(){Mv=!1,Ga!==null&&kp(Ga)&&(Ga=null),Ka!==null&&kp(Ka)&&(Ka=null),Qa!==null&&kp(Qa)&&(Qa=null),zu.forEach(GN),Vu.forEach(GN)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,Mv||(Mv=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,X8)))}function qu(e){function t(i){return Vd(i,e)}if(0<Lm.length){Vd(Lm[0],e);for(var s=1;s<Lm.length;s++){var r=Lm[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ga!==null&&Vd(Ga,e),Ka!==null&&Vd(Ka,e),Qa!==null&&Vd(Qa,e),zu.forEach(t),Vu.forEach(t),s=0;s<Ta.length;s++)r=Ta[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ta.length&&(s=Ta[0],s.blockedOn===null);)x4(s),s.blockedOn===null&&Ta.shift()}var rc=ha.ReactCurrentBatchConfig,of=!0;function Z8(e,t,s,r){var i=$t,a=rc.transition;rc.transition=null;try{$t=1,lj(e,t,s,r)}finally{$t=i,rc.transition=a}}function J8(e,t,s,r){var i=$t,a=rc.transition;rc.transition=null;try{$t=4,lj(e,t,s,r)}finally{$t=i,rc.transition=a}}function lj(e,t,s,r){if(of){var i=Iv(e,t,s,r);if(i===null)sy(e,t,r,lf,s),WN(e,r);else if(Y8(i,e,t,s,r))r.stopPropagation();else if(WN(e,r),t&4&&-1<Q8.indexOf(e)){for(;i!==null;){var a=cm(i);if(a!==null&&m4(a),a=Iv(e,t,s,r),a===null&&sy(e,t,r,lf,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else sy(e,t,r,null,s)}}var lf=null;function Iv(e,t,s,r){if(lf=null,e=rj(r),e=Fo(e),e!==null)if(t=Pl(e),t===null)e=null;else if(s=t.tag,s===13){if(e=i4(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lf=e,null}function y4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case ij:return 1;case c4:return 4;case rf:case B8:return 16;case d4:return 536870912;default:return 16}default:return 16}}var Va=null,cj=null,_p=null;function v4(){if(_p)return _p;var e,t=cj,s=t.length,r,i="value"in Va?Va.value:Va.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return _p=i.slice(e,1<r?1-r:void 0)}function Tp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $m(){return!0}function KN(){return!1}function sr(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$m:KN,this.isPropagationStopped=KN,this}return ls(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),t}var Sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dj=sr(Sd),lm=ls({},Sd,{view:0,detail:0}),e$=sr(lm),Gx,Kx,qd,Lg=ls({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(Gx=e.screenX-qd.screenX,Kx=e.screenY-qd.screenY):Kx=Gx=0,qd=e),Gx)},movementY:function(e){return"movementY"in e?e.movementY:Kx}}),QN=sr(Lg),t$=ls({},Lg,{dataTransfer:0}),s$=sr(t$),n$=ls({},lm,{relatedTarget:0}),Qx=sr(n$),r$=ls({},Sd,{animationName:0,elapsedTime:0,pseudoElement:0}),i$=sr(r$),a$=ls({},Sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o$=sr(a$),l$=ls({},Sd,{data:0}),YN=sr(l$),c$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u$[e])?!!t[e]:!1}function uj(){return h$}var m$=ls({},lm,{key:function(e){if(e.key){var t=c$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uj,charCode:function(e){return e.type==="keypress"?Tp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p$=sr(m$),f$=ls({},Lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=sr(f$),g$=ls({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uj}),x$=sr(g$),y$=ls({},Sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),v$=sr(y$),b$=ls({},Lg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j$=sr(b$),w$=[9,13,27,32],hj=na&&"CompositionEvent"in window,Nu=null;na&&"documentMode"in document&&(Nu=document.documentMode);var N$=na&&"TextEvent"in window&&!Nu,b4=na&&(!hj||Nu&&8<Nu&&11>=Nu),ZN=" ",JN=!1;function j4(e,t){switch(e){case"keyup":return w$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function S$(e,t){switch(e){case"compositionend":return w4(t);case"keypress":return t.which!==32?null:(JN=!0,ZN);case"textInput":return e=t.data,e===ZN&&JN?null:e;default:return null}}function C$(e,t){if(zl)return e==="compositionend"||!hj&&j4(e,t)?(e=v4(),_p=cj=Va=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b4&&t.locale!=="ko"?null:t.data;default:return null}}var k$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k$[e.type]:t==="textarea"}function N4(e,t,s,r){e4(r),t=cf(t,"onChange"),0<t.length&&(s=new dj("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Su=null,Hu=null;function _$(e){I4(e,0)}function $g(e){var t=Hl(e);if(GE(t))return e}function T$(e,t){if(e==="change")return t}var S4=!1;if(na){var Yx;if(na){var Xx="oninput"in document;if(!Xx){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),Xx=typeof t1.oninput=="function"}Yx=Xx}else Yx=!1;S4=Yx&&(!document.documentMode||9<document.documentMode)}function s1(){Su&&(Su.detachEvent("onpropertychange",C4),Hu=Su=null)}function C4(e){if(e.propertyName==="value"&&$g(Hu)){var t=[];N4(t,Hu,e,rj(e)),r4(_$,t)}}function P$(e,t,s){e==="focusin"?(s1(),Su=t,Hu=s,Su.attachEvent("onpropertychange",C4)):e==="focusout"&&s1()}function E$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $g(Hu)}function A$(e,t){if(e==="click")return $g(t)}function D$(e,t){if(e==="input"||e==="change")return $g(t)}function M$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:M$;function Wu(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!gv.call(t,i)||!Gr(e[i],t[i]))return!1}return!0}function n1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r1(e,t){var s=n1(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=n1(s)}}function k4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _4(){for(var e=window,t=tf();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=tf(e.document)}return t}function mj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I$(e){var t=_4(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&k4(s.ownerDocument.documentElement,s)){if(r!==null&&mj(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=r1(s,a);var o=r1(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R$=na&&"documentMode"in document&&11>=document.documentMode,Vl=null,Rv=null,Cu=null,Fv=!1;function i1(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fv||Vl==null||Vl!==tf(r)||(r=Vl,"selectionStart"in r&&mj(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cu&&Wu(Cu,r)||(Cu=r,r=cf(Rv,"onSelect"),0<r.length&&(t=new dj("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Vl)))}function Um(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ql={animationend:Um("Animation","AnimationEnd"),animationiteration:Um("Animation","AnimationIteration"),animationstart:Um("Animation","AnimationStart"),transitionend:Um("Transition","TransitionEnd")},Zx={},T4={};na&&(T4=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Ug(e){if(Zx[e])return Zx[e];if(!ql[e])return e;var t=ql[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in T4)return Zx[e]=t[s];return e}var P4=Ug("animationend"),E4=Ug("animationiteration"),A4=Ug("animationstart"),D4=Ug("transitionend"),M4=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){M4.set(e,t),Tl(t,[e])}for(var Jx=0;Jx<a1.length;Jx++){var ey=a1[Jx],F$=ey.toLowerCase(),O$=ey[0].toUpperCase()+ey.slice(1);jo(F$,"on"+O$)}jo(P4,"onAnimationEnd");jo(E4,"onAnimationIteration");jo(A4,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(D4,"onTransitionEnd");Jc("onMouseEnter",["mouseout","mouseover"]);Jc("onMouseLeave",["mouseout","mouseover"]);Jc("onPointerEnter",["pointerout","pointerover"]);Jc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L$=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function o1(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,F8(r,t,void 0,e),e.currentTarget=null}function I4(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;o1(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;o1(i,l,d),a=c}}}if(nf)throw e=Av,nf=!1,Av=null,e}function Gt(e,t){var s=t[Bv];s===void 0&&(s=t[Bv]=new Set);var r=e+"__bubble";s.has(r)||(R4(t,e,2,!1),s.add(r))}function ty(e,t,s){var r=0;t&&(r|=4),R4(s,e,r,t)}var Bm="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Bm]){e[Bm]=!0,zE.forEach(function(s){s!=="selectionchange"&&(L$.has(s)||ty(s,!1,e),ty(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bm]||(t[Bm]=!0,ty("selectionchange",!1,t))}}function R4(e,t,s,r){switch(y4(t)){case 1:var i=Z8;break;case 4:i=J8;break;default:i=lj}s=i.bind(null,t,s,e),i=void 0,!Ev||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function sy(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Fo(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}r4(function(){var d=a,h=rj(s),u=[];e:{var m=M4.get(e);if(m!==void 0){var p=dj,j=e;switch(e){case"keypress":if(Tp(s)===0)break e;case"keydown":case"keyup":p=p$;break;case"focusin":j="focus",p=Qx;break;case"focusout":j="blur",p=Qx;break;case"beforeblur":case"afterblur":p=Qx;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=s$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=x$;break;case P4:case E4:case A4:p=i$;break;case D4:p=v$;break;case"scroll":p=e$;break;case"wheel":p=j$;break;case"copy":case"cut":case"paste":p=o$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XN}var y=(t&4)!==0,g=!y&&e==="scroll",f=y?m!==null?m+"Capture":null:m;y=[];for(var b=d,x;b!==null;){x=b;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,f!==null&&(w=Bu(b,f),w!=null&&y.push(Ku(b,w,x)))),g)break;b=b.return}0<y.length&&(m=new p(m,j,null,s,h),u.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&s!==Tv&&(j=s.relatedTarget||s.fromElement)&&(Fo(j)||j[ra]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(j=s.relatedTarget||s.toElement,p=d,j=j?Fo(j):null,j!==null&&(g=Pl(j),j!==g||j.tag!==5&&j.tag!==6)&&(j=null)):(p=null,j=d),p!==j)){if(y=QN,w="onMouseLeave",f="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=XN,w="onPointerLeave",f="onPointerEnter",b="pointer"),g=p==null?m:Hl(p),x=j==null?m:Hl(j),m=new y(w,b+"leave",p,s,h),m.target=g,m.relatedTarget=x,w=null,Fo(h)===d&&(y=new y(f,b+"enter",j,s,h),y.target=x,y.relatedTarget=g,w=y),g=w,p&&j)t:{for(y=p,f=j,b=0,x=y;x;x=El(x))b++;for(x=0,w=f;w;w=El(w))x++;for(;0<b-x;)y=El(y),b--;for(;0<x-b;)f=El(f),x--;for(;b--;){if(y===f||f!==null&&y===f.alternate)break t;y=El(y),f=El(f)}y=null}else y=null;p!==null&&l1(u,m,p,y,!1),j!==null&&g!==null&&l1(u,g,j,y,!0)}}e:{if(m=d?Hl(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=T$;else if(e1(m))if(S4)S=D$;else{S=E$;var N=P$}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=A$);if(S&&(S=S(e,d))){N4(u,S,s,h);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Nv(m,"number",m.value)}switch(N=d?Hl(d):window,e){case"focusin":(e1(N)||N.contentEditable==="true")&&(Vl=N,Rv=d,Cu=null);break;case"focusout":Cu=Rv=Vl=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,i1(u,s,h);break;case"selectionchange":if(R$)break;case"keydown":case"keyup":i1(u,s,h)}var C;if(hj)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zl?j4(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(b4&&s.locale!=="ko"&&(zl||k!=="onCompositionStart"?k==="onCompositionEnd"&&zl&&(C=v4()):(Va=h,cj="value"in Va?Va.value:Va.textContent,zl=!0)),N=cf(d,k),0<N.length&&(k=new YN(k,e,null,s,h),u.push({event:k,listeners:N}),C?k.data=C:(C=w4(s),C!==null&&(k.data=C)))),(C=N$?S$(e,s):C$(e,s))&&(d=cf(d,"onBeforeInput"),0<d.length&&(h=new YN("onBeforeInput","beforeinput",null,s,h),u.push({event:h,listeners:d}),h.data=C))}I4(u,t)})}function Ku(e,t,s){return{instance:e,listener:t,currentTarget:s}}function cf(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Bu(e,s),a!=null&&r.unshift(Ku(e,a,i)),a=Bu(e,t),a!=null&&r.push(Ku(e,a,i))),e=e.return}return r}function El(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l1(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Bu(s,a),c!=null&&o.unshift(Ku(s,c,l))):i||(c=Bu(s,a),c!=null&&o.push(Ku(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var $$=/\r\n?/g,U$=/\u0000|\uFFFD/g;function c1(e){return(typeof e=="string"?e:""+e).replace($$,`
`).replace(U$,"")}function zm(e,t,s){if(t=c1(t),c1(e)!==t&&s)throw Error(ge(425))}function df(){}var Ov=null,Lv=null;function $v(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uv=typeof setTimeout=="function"?setTimeout:void 0,B$=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,z$=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(e){return d1.resolve(null).then(e).catch(V$)}:Uv;function V$(e){setTimeout(function(){throw e})}function ny(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),qu(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);qu(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Cd=Math.random().toString(36).slice(2),pi="__reactFiber$"+Cd,Qu="__reactProps$"+Cd,ra="__reactContainer$"+Cd,Bv="__reactEvents$"+Cd,q$="__reactListeners$"+Cd,H$="__reactHandles$"+Cd;function Fo(e){var t=e[pi];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ra]||s[pi]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=u1(e);e!==null;){if(s=e[pi])return s;e=u1(e)}return t}e=s,s=e.parentNode}return null}function cm(e){return e=e[pi]||e[ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Bg(e){return e[Qu]||null}var zv=[],Wl=-1;function wo(e){return{current:e}}function Kt(e){0>Wl||(e.current=zv[Wl],zv[Wl]=null,Wl--)}function qt(e,t){Wl++,zv[Wl]=e.current,e.current=t}var ao={},ln=wo(ao),Mn=wo(!1),hl=ao;function ed(e,t){var s=e.type.contextTypes;if(!s)return ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function In(e){return e=e.childContextTypes,e!=null}function uf(){Kt(Mn),Kt(ln)}function h1(e,t,s){if(ln.current!==ao)throw Error(ge(168));qt(ln,t),qt(Mn,s)}function F4(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ge(108,P8(e)||"Unknown",i));return ls({},s,r)}function hf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,hl=ln.current,qt(ln,e),qt(Mn,Mn.current),!0}function m1(e,t,s){var r=e.stateNode;if(!r)throw Error(ge(169));s?(e=F4(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,Kt(Mn),Kt(ln),qt(ln,e)):Kt(Mn),qt(Mn,s)}var zi=null,zg=!1,ry=!1;function O4(e){zi===null?zi=[e]:zi.push(e)}function W$(e){zg=!0,O4(e)}function No(){if(!ry&&zi!==null){ry=!0;var e=0,t=$t;try{var s=zi;for($t=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}zi=null,zg=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),l4(ij,No),i}finally{$t=t,ry=!1}}return null}var Gl=[],Kl=0,mf=null,pf=0,lr=[],cr=0,ml=null,Yi=1,Xi="";function Po(e,t){Gl[Kl++]=pf,Gl[Kl++]=mf,mf=e,pf=t}function L4(e,t,s){lr[cr++]=Yi,lr[cr++]=Xi,lr[cr++]=ml,ml=e;var r=Yi;e=Xi;var i=32-Vr(r)-1;r&=~(1<<i),s+=1;var a=32-Vr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-Vr(t)+i|s<<i|r,Xi=a+e}else Yi=1<<a|s<<i|r,Xi=e}function pj(e){e.return!==null&&(Po(e,1),L4(e,1,0))}function fj(e){for(;e===mf;)mf=Gl[--Kl],Gl[Kl]=null,pf=Gl[--Kl],Gl[Kl]=null;for(;e===ml;)ml=lr[--cr],lr[cr]=null,Xi=lr[--cr],lr[cr]=null,Yi=lr[--cr],lr[cr]=null}var Qn=null,Gn=null,Yt=!1,Mr=null;function $4(e,t){var s=dr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function p1(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ml!==null?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=dr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Qn=e,Gn=null,!0):!1;default:return!1}}function Vv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qv(e){if(Yt){var t=Gn;if(t){var s=t;if(!p1(e,t)){if(Vv(e))throw Error(ge(418));t=Ya(s.nextSibling);var r=Qn;t&&p1(e,t)?$4(r,s):(e.flags=e.flags&-4097|2,Yt=!1,Qn=e)}}else{if(Vv(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Yt=!1,Qn=e}}}function f1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function Vm(e){if(e!==Qn)return!1;if(!Yt)return f1(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$v(e.type,e.memoizedProps)),t&&(t=Gn)){if(Vv(e))throw U4(),Error(ge(418));for(;t;)$4(e,t),t=Ya(t.nextSibling)}if(f1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Gn=Ya(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Qn?Ya(e.stateNode.nextSibling):null;return!0}function U4(){for(var e=Gn;e;)e=Ya(e.nextSibling)}function td(){Gn=Qn=null,Yt=!1}function gj(e){Mr===null?Mr=[e]:Mr.push(e)}var G$=ha.ReactCurrentBatchConfig;function Hd(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ge(309));var r=s.stateNode}if(!r)throw Error(ge(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!s._owner)throw Error(ge(290,e))}return e}function qm(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function g1(e){var t=e._init;return t(e._payload)}function B4(e){function t(f,b){if(e){var x=f.deletions;x===null?(f.deletions=[b],f.flags|=16):x.push(b)}}function s(f,b){if(!e)return null;for(;b!==null;)t(f,b),b=b.sibling;return null}function r(f,b){for(f=new Map;b!==null;)b.key!==null?f.set(b.key,b):f.set(b.index,b),b=b.sibling;return f}function i(f,b){return f=eo(f,b),f.index=0,f.sibling=null,f}function a(f,b,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<b?(f.flags|=2,b):x):(f.flags|=2,b)):(f.flags|=1048576,b)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,b,x,w){return b===null||b.tag!==6?(b=uy(x,f.mode,w),b.return=f,b):(b=i(b,x),b.return=f,b)}function c(f,b,x,w){var S=x.type;return S===Bl?h(f,b,x.props.children,w,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sa&&g1(S)===b.type)?(w=i(b,x.props),w.ref=Hd(f,b,x),w.return=f,w):(w=Rp(x.type,x.key,x.props,null,f.mode,w),w.ref=Hd(f,b,x),w.return=f,w)}function d(f,b,x,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=hy(x,f.mode,w),b.return=f,b):(b=i(b,x.children||[]),b.return=f,b)}function h(f,b,x,w,S){return b===null||b.tag!==7?(b=al(x,f.mode,w,S),b.return=f,b):(b=i(b,x),b.return=f,b)}function u(f,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=uy(""+b,f.mode,x),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mm:return x=Rp(b.type,b.key,b.props,null,f.mode,x),x.ref=Hd(f,null,b),x.return=f,x;case Ul:return b=hy(b,f.mode,x),b.return=f,b;case Sa:var w=b._init;return u(f,w(b._payload),x)}if(du(b)||Ud(b))return b=al(b,f.mode,x,null),b.return=f,b;qm(f,b)}return null}function m(f,b,x,w){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(f,b,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mm:return x.key===S?c(f,b,x,w):null;case Ul:return x.key===S?d(f,b,x,w):null;case Sa:return S=x._init,m(f,b,S(x._payload),w)}if(du(x)||Ud(x))return S!==null?null:h(f,b,x,w,null);qm(f,x)}return null}function p(f,b,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(x)||null,l(b,f,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mm:return f=f.get(w.key===null?x:w.key)||null,c(b,f,w,S);case Ul:return f=f.get(w.key===null?x:w.key)||null,d(b,f,w,S);case Sa:var N=w._init;return p(f,b,x,N(w._payload),S)}if(du(w)||Ud(w))return f=f.get(x)||null,h(b,f,w,S,null);qm(b,w)}return null}function j(f,b,x,w){for(var S=null,N=null,C=b,k=b=0,T=null;C!==null&&k<x.length;k++){C.index>k?(T=C,C=null):T=C.sibling;var D=m(f,C,x[k],w);if(D===null){C===null&&(C=T);break}e&&C&&D.alternate===null&&t(f,C),b=a(D,b,k),N===null?S=D:N.sibling=D,N=D,C=T}if(k===x.length)return s(f,C),Yt&&Po(f,k),S;if(C===null){for(;k<x.length;k++)C=u(f,x[k],w),C!==null&&(b=a(C,b,k),N===null?S=C:N.sibling=C,N=C);return Yt&&Po(f,k),S}for(C=r(f,C);k<x.length;k++)T=p(C,f,k,x[k],w),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),b=a(T,b,k),N===null?S=T:N.sibling=T,N=T);return e&&C.forEach(function(P){return t(f,P)}),Yt&&Po(f,k),S}function y(f,b,x,w){var S=Ud(x);if(typeof S!="function")throw Error(ge(150));if(x=S.call(x),x==null)throw Error(ge(151));for(var N=S=null,C=b,k=b=0,T=null,D=x.next();C!==null&&!D.done;k++,D=x.next()){C.index>k?(T=C,C=null):T=C.sibling;var P=m(f,C,D.value,w);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(f,C),b=a(P,b,k),N===null?S=P:N.sibling=P,N=P,C=T}if(D.done)return s(f,C),Yt&&Po(f,k),S;if(C===null){for(;!D.done;k++,D=x.next())D=u(f,D.value,w),D!==null&&(b=a(D,b,k),N===null?S=D:N.sibling=D,N=D);return Yt&&Po(f,k),S}for(C=r(f,C);!D.done;k++,D=x.next())D=p(C,f,k,D.value,w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?k:D.key),b=a(D,b,k),N===null?S=D:N.sibling=D,N=D);return e&&C.forEach(function(M){return t(f,M)}),Yt&&Po(f,k),S}function g(f,b,x,w){if(typeof x=="object"&&x!==null&&x.type===Bl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Mm:e:{for(var S=x.key,N=b;N!==null;){if(N.key===S){if(S=x.type,S===Bl){if(N.tag===7){s(f,N.sibling),b=i(N,x.props.children),b.return=f,f=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sa&&g1(S)===N.type){s(f,N.sibling),b=i(N,x.props),b.ref=Hd(f,N,x),b.return=f,f=b;break e}s(f,N);break}else t(f,N);N=N.sibling}x.type===Bl?(b=al(x.props.children,f.mode,w,x.key),b.return=f,f=b):(w=Rp(x.type,x.key,x.props,null,f.mode,w),w.ref=Hd(f,b,x),w.return=f,f=w)}return o(f);case Ul:e:{for(N=x.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){s(f,b.sibling),b=i(b,x.children||[]),b.return=f,f=b;break e}else{s(f,b);break}else t(f,b);b=b.sibling}b=hy(x,f.mode,w),b.return=f,f=b}return o(f);case Sa:return N=x._init,g(f,b,N(x._payload),w)}if(du(x))return j(f,b,x,w);if(Ud(x))return y(f,b,x,w);qm(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(s(f,b.sibling),b=i(b,x),b.return=f,f=b):(s(f,b),b=uy(x,f.mode,w),b.return=f,f=b),o(f)):s(f,b)}return g}var sd=B4(!0),z4=B4(!1),ff=wo(null),gf=null,Ql=null,xj=null;function yj(){xj=Ql=gf=null}function vj(e){var t=ff.current;Kt(ff),e._currentValue=t}function Hv(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function ic(e,t){gf=e,xj=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(xj!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(gf===null)throw Error(ge(308));Ql=e,gf.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var Oo=null;function bj(e){Oo===null?Oo=[e]:Oo.push(e)}function V4(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,bj(t)):(s.next=i.next,i.next=s),t.interleaved=s,ia(e,r)}function ia(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ca=!1;function jj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ia(e,s)}return i=r.interleaved,i===null?(t.next=t,bj(r)):(t.next=i.next,i.next=t),r.interleaved=t,ia(e,s)}function Pp(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,aj(e,s)}}function x1(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function xf(e,t,s,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,y=l;switch(m=t,p=s,y.tag){case 1:if(j=y.payload,typeof j=="function"){u=j.call(p,u,m);break e}u=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,m=typeof j=="function"?j.call(p,u,m):j,m==null)break e;u=ls({},u,m);break e;case 2:Ca=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=u):h=h.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=u),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fl|=o,e.lanes=o,e.memoizedState=u}}function y1(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var dm={},ji=wo(dm),Yu=wo(dm),Xu=wo(dm);function Lo(e){if(e===dm)throw Error(ge(174));return e}function wj(e,t){switch(qt(Xu,t),qt(Yu,e),qt(ji,dm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cv(t,e)}Kt(ji),qt(ji,t)}function nd(){Kt(ji),Kt(Yu),Kt(Xu)}function H4(e){Lo(Xu.current);var t=Lo(ji.current),s=Cv(t,e.type);t!==s&&(qt(Yu,e),qt(ji,s))}function Nj(e){Yu.current===e&&(Kt(ji),Kt(Yu))}var rs=wo(0);function yf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iy=[];function Sj(){for(var e=0;e<iy.length;e++)iy[e]._workInProgressVersionPrimary=null;iy.length=0}var Ep=ha.ReactCurrentDispatcher,ay=ha.ReactCurrentBatchConfig,pl=0,os=null,Es=null,Os=null,vf=!1,ku=!1,Zu=0,K$=0;function en(){throw Error(ge(321))}function Cj(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Gr(e[s],t[s]))return!1;return!0}function kj(e,t,s,r,i,a){if(pl=a,os=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ep.current=e===null||e.memoizedState===null?Z$:J$,e=s(r,i),ku){a=0;do{if(ku=!1,Zu=0,25<=a)throw Error(ge(301));a+=1,Os=Es=null,t.updateQueue=null,Ep.current=e7,e=s(r,i)}while(ku)}if(Ep.current=bf,t=Es!==null&&Es.next!==null,pl=0,Os=Es=os=null,vf=!1,t)throw Error(ge(300));return e}function _j(){var e=Zu!==0;return Zu=0,e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?os.memoizedState=Os=e:Os=Os.next=e,Os}function gr(){if(Es===null){var e=os.alternate;e=e!==null?e.memoizedState:null}else e=Es.next;var t=Os===null?os.memoizedState:Os.next;if(t!==null)Os=t,Es=e;else{if(e===null)throw Error(ge(310));Es=e,e={memoizedState:Es.memoizedState,baseState:Es.baseState,baseQueue:Es.baseQueue,queue:Es.queue,next:null},Os===null?os.memoizedState=Os=e:Os=Os.next=e}return Os}function Ju(e,t){return typeof t=="function"?t(e):t}function oy(e){var t=gr(),s=t.queue;if(s===null)throw Error(ge(311));s.lastRenderedReducer=e;var r=Es,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((pl&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=r):c=c.next=u,os.lanes|=h,fl|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Gr(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,os.lanes|=a,fl|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ly(e){var t=gr(),s=t.queue;if(s===null)throw Error(ge(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Gr(a,t.memoizedState)||(An=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function W4(){}function G4(e,t){var s=os,r=gr(),i=t(),a=!Gr(r.memoizedState,i);if(a&&(r.memoizedState=i,An=!0),r=r.queue,Tj(Y4.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Os!==null&&Os.memoizedState.tag&1){if(s.flags|=2048,eh(9,Q4.bind(null,s,r,i,t),void 0,null),$s===null)throw Error(ge(349));pl&30||K4(s,t,i)}return i}function K4(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=os.updateQueue,t===null?(t={lastEffect:null,stores:null},os.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Q4(e,t,s,r){t.value=s,t.getSnapshot=r,X4(t)&&Z4(e)}function Y4(e,t,s){return s(function(){X4(t)&&Z4(e)})}function X4(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Gr(e,s)}catch{return!0}}function Z4(e){var t=ia(e,1);t!==null&&qr(t,e,1,-1)}function v1(e){var t=ri();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},t.queue=e,e=e.dispatch=X$.bind(null,os,e),[t.memoizedState,e]}function eh(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=os.updateQueue,t===null?(t={lastEffect:null,stores:null},os.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function J4(){return gr().memoizedState}function Ap(e,t,s,r){var i=ri();os.flags|=e,i.memoizedState=eh(1|t,s,void 0,r===void 0?null:r)}function Vg(e,t,s,r){var i=gr();r=r===void 0?null:r;var a=void 0;if(Es!==null){var o=Es.memoizedState;if(a=o.destroy,r!==null&&Cj(r,o.deps)){i.memoizedState=eh(t,s,a,r);return}}os.flags|=e,i.memoizedState=eh(1|t,s,a,r)}function b1(e,t){return Ap(8390656,8,e,t)}function Tj(e,t){return Vg(2048,8,e,t)}function eA(e,t){return Vg(4,2,e,t)}function tA(e,t){return Vg(4,4,e,t)}function sA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nA(e,t,s){return s=s!=null?s.concat([e]):null,Vg(4,4,sA.bind(null,t,e),s)}function Pj(){}function rA(e,t){var s=gr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Cj(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function iA(e,t){var s=gr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Cj(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function aA(e,t,s){return pl&21?(Gr(s,t)||(s=u4(),os.lanes|=s,fl|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=s)}function Q$(e,t){var s=$t;$t=s!==0&&4>s?s:4,e(!0);var r=ay.transition;ay.transition={};try{e(!1),t()}finally{$t=s,ay.transition=r}}function oA(){return gr().memoizedState}function Y$(e,t,s){var r=Ja(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},lA(e))cA(t,s);else if(s=V4(e,t,s,r),s!==null){var i=jn();qr(s,e,r,i),dA(s,t,r)}}function X$(e,t,s){var r=Ja(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(lA(e))cA(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,o)){var c=t.interleaved;c===null?(i.next=i,bj(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=V4(e,t,i,r),s!==null&&(i=jn(),qr(s,e,r,i),dA(s,t,r))}}function lA(e){var t=e.alternate;return e===os||t!==null&&t===os}function cA(e,t){ku=vf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function dA(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,aj(e,s)}}var bf={readContext:fr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},Z$={readContext:fr,useCallback:function(e,t){return ri().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:b1,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ap(4194308,4,sA.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ap(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ap(4,2,e,t)},useMemo:function(e,t){var s=ri();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=ri();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Y$.bind(null,os,e),[r.memoizedState,e]},useRef:function(e){var t=ri();return e={current:e},t.memoizedState=e},useState:v1,useDebugValue:Pj,useDeferredValue:function(e){return ri().memoizedState=e},useTransition:function(){var e=v1(!1),t=e[0];return e=Q$.bind(null,e[1]),ri().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=os,i=ri();if(Yt){if(s===void 0)throw Error(ge(407));s=s()}else{if(s=t(),$s===null)throw Error(ge(349));pl&30||K4(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,b1(Y4.bind(null,r,a,e),[e]),r.flags|=2048,eh(9,Q4.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=ri(),t=$s.identifierPrefix;if(Yt){var s=Xi,r=Yi;s=(r&~(1<<32-Vr(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Zu++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=K$++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J$={readContext:fr,useCallback:rA,useContext:fr,useEffect:Tj,useImperativeHandle:nA,useInsertionEffect:eA,useLayoutEffect:tA,useMemo:iA,useReducer:oy,useRef:J4,useState:function(){return oy(Ju)},useDebugValue:Pj,useDeferredValue:function(e){var t=gr();return aA(t,Es.memoizedState,e)},useTransition:function(){var e=oy(Ju)[0],t=gr().memoizedState;return[e,t]},useMutableSource:W4,useSyncExternalStore:G4,useId:oA,unstable_isNewReconciler:!1},e7={readContext:fr,useCallback:rA,useContext:fr,useEffect:Tj,useImperativeHandle:nA,useInsertionEffect:eA,useLayoutEffect:tA,useMemo:iA,useReducer:ly,useRef:J4,useState:function(){return ly(Ju)},useDebugValue:Pj,useDeferredValue:function(e){var t=gr();return Es===null?t.memoizedState=e:aA(t,Es.memoizedState,e)},useTransition:function(){var e=ly(Ju)[0],t=gr().memoizedState;return[e,t]},useMutableSource:W4,useSyncExternalStore:G4,useId:oA,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=ls({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Wv(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ls({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qg={isMounted:function(e){return(e=e._reactInternals)?Pl(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=jn(),i=Ja(e),a=Zi(r,i);a.payload=t,s!=null&&(a.callback=s),t=Xa(e,a,i),t!==null&&(qr(t,e,i,r),Pp(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=jn(),i=Ja(e),a=Zi(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Xa(e,a,i),t!==null&&(qr(t,e,i,r),Pp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=jn(),r=Ja(e),i=Zi(s,r);i.tag=2,t!=null&&(i.callback=t),t=Xa(e,i,r),t!==null&&(qr(t,e,r,s),Pp(t,e,r))}};function j1(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wu(s,r)||!Wu(i,a):!0}function uA(e,t,s){var r=!1,i=ao,a=t.contextType;return typeof a=="object"&&a!==null?a=fr(a):(i=In(t)?hl:ln.current,r=t.contextTypes,a=(r=r!=null)?ed(e,i):ao),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function w1(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&qg.enqueueReplaceState(t,t.state,null)}function Gv(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},jj(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fr(a):(a=In(t)?hl:ln.current,i.context=ed(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wv(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qg.enqueueReplaceState(i,i.state,null),xf(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rd(e,t){try{var s="",r=t;do s+=T8(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function cy(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Kv(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var t7=typeof WeakMap=="function"?WeakMap:Map;function hA(e,t,s){s=Zi(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){wf||(wf=!0,r0=r),Kv(e,t)},s}function mA(e,t,s){s=Zi(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){Kv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Kv(e,t),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function N1(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new t7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=f7.bind(null,e,t,s),t.then(e,e))}function S1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C1(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Zi(-1,1),t.tag=2,Xa(s,t,1))),s.lanes|=1),e)}var s7=ha.ReactCurrentOwner,An=!1;function vn(e,t,s,r){t.child=e===null?z4(t,null,s,r):sd(t,e.child,s,r)}function k1(e,t,s,r,i){s=s.render;var a=t.ref;return ic(t,i),r=kj(e,t,s,r,a,i),s=_j(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Yt&&s&&pj(t),t.flags|=1,vn(e,t,r,i),t.child)}function _1(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!Oj(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,pA(e,t,a,r,i)):(e=Rp(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Wu,s(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,e=eo(a,r),e.ref=t.ref,e.return=t,t.child=e}function pA(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(Wu(a,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,aa(e,t,i)}return Qv(e,t,s,r,i)}function fA(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Xl,Vn),Vn|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Xl,Vn),Vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,qt(Xl,Vn),Vn|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,qt(Xl,Vn),Vn|=r;return vn(e,t,i,s),t.child}function gA(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Qv(e,t,s,r,i){var a=In(s)?hl:ln.current;return a=ed(t,a),ic(t,i),s=kj(e,t,s,r,a,i),r=_j(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Yt&&r&&pj(t),t.flags|=1,vn(e,t,s,i),t.child)}function T1(e,t,s,r,i){if(In(s)){var a=!0;hf(t)}else a=!1;if(ic(t,i),t.stateNode===null)Dp(e,t),uA(t,s,r),Gv(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=fr(d):(d=In(s)?hl:ln.current,d=ed(t,d));var h=s.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&w1(t,o,r,d),Ca=!1;var m=t.memoizedState;o.state=m,xf(t,r,o,i),c=t.memoizedState,l!==r||m!==c||Mn.current||Ca?(typeof h=="function"&&(Wv(t,s,h,r),c=t.memoizedState),(l=Ca||j1(t,s,l,r,m,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,q4(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wr(t.type,l),o.props=d,u=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=In(s)?hl:ln.current,c=ed(t,c));var p=s.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||m!==c)&&w1(t,o,r,c),Ca=!1,m=t.memoizedState,o.state=m,xf(t,r,o,i);var j=t.memoizedState;l!==u||m!==j||Mn.current||Ca?(typeof p=="function"&&(Wv(t,s,p,r),j=t.memoizedState),(d=Ca||j1(t,s,d,r,m,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Yv(e,t,s,r,a,i)}function Yv(e,t,s,r,i,a){gA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&m1(t,s,!1),aa(e,t,a);r=t.stateNode,s7.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=sd(t,e.child,null,a),t.child=sd(t,null,l,a)):vn(e,t,l,a),t.memoizedState=r.state,i&&m1(t,s,!0),t.child}function xA(e){var t=e.stateNode;t.pendingContext?h1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h1(e,t.context,!1),wj(e,t.containerInfo)}function P1(e,t,s,r,i){return td(),gj(i),t.flags|=256,vn(e,t,s,r),t.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Zv(e){return{baseLanes:e,cachePool:null,transitions:null}}function yA(e,t,s){var r=t.pendingProps,i=rs.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qt(rs,i&1),e===null)return qv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Gg(o,r,0,null),e=al(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zv(s),t.memoizedState=Xv,e):Ej(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return n7(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=eo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=eo(l,a):(a=al(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Zv(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Xv,r}return a=e.child,e=a.sibling,r=eo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Ej(e,t){return t=Gg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hm(e,t,s,r){return r!==null&&gj(r),sd(t,e.child,null,s),e=Ej(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n7(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=cy(Error(ge(422))),Hm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Gg({mode:"visible",children:r.children},i,0,null),a=al(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&sd(t,e.child,null,o),t.child.memoizedState=Zv(o),t.memoizedState=Xv,a);if(!(t.mode&1))return Hm(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ge(419)),r=cy(a,r,void 0),Hm(e,t,o,r)}if(l=(o&e.childLanes)!==0,An||l){if(r=$s,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ia(e,i),qr(r,e,i,-1))}return Fj(),r=cy(Error(ge(421))),Hm(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=g7.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gn=Ya(i.nextSibling),Qn=t,Yt=!0,Mr=null,e!==null&&(lr[cr++]=Yi,lr[cr++]=Xi,lr[cr++]=ml,Yi=e.id,Xi=e.overflow,ml=t),t=Ej(t,r.children),t.flags|=4096,t)}function E1(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hv(e.return,t,s)}function dy(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function vA(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(vn(e,t,r.children,s),r=rs.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E1(e,s,t);else if(e.tag===19)E1(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(rs,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&yf(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),dy(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yf(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}dy(t,!0,s,null,a);break;case"together":dy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,s=eo(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=eo(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function r7(e,t,s){switch(t.tag){case 3:xA(t),td();break;case 5:H4(t);break;case 1:In(t.type)&&hf(t);break;case 4:wj(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qt(ff,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(rs,rs.current&1),t.flags|=128,null):s&t.child.childLanes?yA(e,t,s):(qt(rs,rs.current&1),e=aa(e,t,s),e!==null?e.sibling:null);qt(rs,rs.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return vA(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(rs,rs.current),r)break;return null;case 22:case 23:return t.lanes=0,fA(e,t,s)}return aa(e,t,s)}var bA,Jv,jA,wA;bA=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Jv=function(){};jA=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lo(ji.current);var a=null;switch(s){case"input":i=jv(e,i),r=jv(e,r),a=[];break;case"select":i=ls({},i,{value:void 0}),r=ls({},r,{value:void 0}),a=[];break;case"textarea":i=Sv(e,i),r=Sv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=df)}kv(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($u.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($u.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Gt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};wA=function(e,t,s,r){s!==r&&(t.flags|=4)};function Wd(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function i7(e,t,s){var r=t.pendingProps;switch(fj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return In(t.type)&&uf(),tn(t),null;case 3:return r=t.stateNode,nd(),Kt(Mn),Kt(ln),Sj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(o0(Mr),Mr=null))),Jv(e,t),tn(t),null;case 5:Nj(t);var i=Lo(Xu.current);if(s=t.type,e!==null&&t.stateNode!=null)jA(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return tn(t),null}if(e=Lo(ji.current),Vm(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[Qu]=a,e=(t.mode&1)!==0,s){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(i=0;i<hu.length;i++)Gt(hu[i],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":$N(r,a),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gt("invalid",r);break;case"textarea":BN(r,a),Gt("invalid",r)}kv(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,e),i=["children",""+l]):$u.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Gt("scroll",r)}switch(s){case"input":Im(r),UN(r,a,!0);break;case"textarea":Im(r),zN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=df)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YE(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[pi]=t,e[Qu]=r,bA(e,t,!1,!1),t.stateNode=e;e:{switch(o=_v(s,r),s){case"dialog":Gt("cancel",e),Gt("close",e),i=r;break;case"iframe":case"object":case"embed":Gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<hu.length;i++)Gt(hu[i],e);i=r;break;case"source":Gt("error",e),i=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),i=r;break;case"details":Gt("toggle",e),i=r;break;case"input":$N(e,r),i=jv(e,r),Gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ls({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":BN(e,r),i=Sv(e,r),Gt("invalid",e);break;default:i=r}kv(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?JE(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XE(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Uu(e,c):typeof c=="number"&&Uu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($u.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Gt("scroll",e):c!=null&&ej(e,a,c,o))}switch(s){case"input":Im(e),UN(e,r,!1);break;case"textarea":Im(e),zN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+io(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?tc(e,!!r.multiple,a,!1):r.defaultValue!=null&&tc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=df)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)wA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(s=Lo(Xu.current),Lo(ji.current),Vm(t)){if(r=t.stateNode,s=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==s)&&(e=Qn,e!==null))switch(e.tag){case 3:zm(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zm(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[pi]=t,t.stateNode=r}return tn(t),null;case 13:if(Kt(rs),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Gn!==null&&t.mode&1&&!(t.flags&128))U4(),td(),t.flags|=98560,a=!1;else if(a=Vm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[pi]=t}else td(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),a=!1}else Mr!==null&&(o0(Mr),Mr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rs.current&1?Ms===0&&(Ms=3):Fj())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return nd(),Jv(e,t),e===null&&Gu(t.stateNode.containerInfo),tn(t),null;case 10:return vj(t.type._context),tn(t),null;case 17:return In(t.type)&&uf(),tn(t),null;case 19:if(Kt(rs),a=t.memoizedState,a===null)return tn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Wd(a,!1);else{if(Ms!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yf(e),o!==null){for(t.flags|=128,Wd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return qt(rs,rs.current&1|2),t.child}e=e.sibling}a.tail!==null&&ys()>id&&(t.flags|=128,r=!0,Wd(a,!1),t.lanes=4194304)}else{if(!r)if(e=yf(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Wd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Yt)return tn(t),null}else 2*ys()-a.renderingStartTime>id&&s!==1073741824&&(t.flags|=128,r=!0,Wd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ys(),t.sibling=null,s=rs.current,qt(rs,r?s&1|2:s&1),t):(tn(t),null);case 22:case 23:return Rj(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vn&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function a7(e,t){switch(fj(t),t.tag){case 1:return In(t.type)&&uf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nd(),Kt(Mn),Kt(ln),Sj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nj(t),null;case 13:if(Kt(rs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(rs),null;case 4:return nd(),null;case 10:return vj(t.type._context),null;case 22:case 23:return Rj(),null;case 24:return null;default:return null}}var Wm=!1,rn=!1,o7=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yl(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){us(e,t,r)}else s.current=null}function e0(e,t,s){try{s()}catch(r){us(e,t,r)}}var A1=!1;function l7(e,t){if(Ov=of,e=_4(),mj(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,m=null;t:for(;;){for(var p;u!==s||i!==0&&u.nodeType!==3||(l=o+i),u!==a||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)m=u,u=p;for(;;){if(u===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(p=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lv={focusedElem:e,selectionRange:s},of=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var y=j.memoizedProps,g=j.memoizedState,f=t.stateNode,b=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:wr(t.type,y),g);f.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(w){us(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return j=A1,A1=!1,j}function _u(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&e0(t,s,a)}i=i.next}while(i!==r)}}function Hg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function t0(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function NA(e){var t=e.alternate;t!==null&&(e.alternate=null,NA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pi],delete t[Qu],delete t[Bv],delete t[q$],delete t[H$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SA(e){return e.tag===5||e.tag===3||e.tag===4}function D1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s0(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=df));else if(r!==4&&(e=e.child,e!==null))for(s0(e,t,s),e=e.sibling;e!==null;)s0(e,t,s),e=e.sibling}function n0(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(n0(e,t,s),e=e.sibling;e!==null;)n0(e,t,s),e=e.sibling}var Gs=null,Er=!1;function ga(e,t,s){for(s=s.child;s!==null;)CA(e,t,s),s=s.sibling}function CA(e,t,s){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Og,s)}catch{}switch(s.tag){case 5:rn||Yl(s,t);case 6:var r=Gs,i=Er;Gs=null,ga(e,t,s),Gs=r,Er=i,Gs!==null&&(Er?(e=Gs,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Gs.removeChild(s.stateNode));break;case 18:Gs!==null&&(Er?(e=Gs,s=s.stateNode,e.nodeType===8?ny(e.parentNode,s):e.nodeType===1&&ny(e,s),qu(e)):ny(Gs,s.stateNode));break;case 4:r=Gs,i=Er,Gs=s.stateNode.containerInfo,Er=!0,ga(e,t,s),Gs=r,Er=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&e0(s,t,o),i=i.next}while(i!==r)}ga(e,t,s);break;case 1:if(!rn&&(Yl(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){us(s,t,l)}ga(e,t,s);break;case 21:ga(e,t,s);break;case 22:s.mode&1?(rn=(r=rn)||s.memoizedState!==null,ga(e,t,s),rn=r):ga(e,t,s);break;default:ga(e,t,s)}}function M1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new o7),t.forEach(function(r){var i=x7.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function br(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gs=l.stateNode,Er=!1;break e;case 3:Gs=l.stateNode.containerInfo,Er=!0;break e;case 4:Gs=l.stateNode.containerInfo,Er=!0;break e}l=l.return}if(Gs===null)throw Error(ge(160));CA(a,o,i),Gs=null,Er=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){us(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kA(t,e),t=t.sibling}function kA(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),si(e),r&4){try{_u(3,e,e.return),Hg(3,e)}catch(y){us(e,e.return,y)}try{_u(5,e,e.return)}catch(y){us(e,e.return,y)}}break;case 1:br(t,e),si(e),r&512&&s!==null&&Yl(s,s.return);break;case 5:if(br(t,e),si(e),r&512&&s!==null&&Yl(s,s.return),e.flags&32){var i=e.stateNode;try{Uu(i,"")}catch(y){us(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&KE(i,a),_v(l,o);var d=_v(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?JE(i,u):h==="dangerouslySetInnerHTML"?XE(i,u):h==="children"?Uu(i,u):ej(i,h,u,d)}switch(l){case"input":wv(i,a);break;case"textarea":QE(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?tc(i,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?tc(i,!!a.multiple,a.defaultValue,!0):tc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qu]=a}catch(y){us(e,e.return,y)}}break;case 6:if(br(t,e),si(e),r&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){us(e,e.return,y)}}break;case 3:if(br(t,e),si(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(y){us(e,e.return,y)}break;case 4:br(t,e),si(e);break;case 13:br(t,e),si(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Mj=ys())),r&4&&M1(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(rn=(d=rn)||h,br(t,e),rn=d):br(t,e),si(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Re=e,h=e.child;h!==null;){for(u=Re=h;Re!==null;){switch(m=Re,p=m.child,m.tag){case 0:case 11:case 14:case 15:_u(4,m,m.return);break;case 1:Yl(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(y){us(r,s,y)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){R1(u);continue}}p!==null?(p.return=m,Re=p):R1(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{i=u.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZE("display",o))}catch(y){us(e,e.return,y)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(y){us(e,e.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:br(t,e),si(e),r&4&&M1(e);break;case 21:break;default:br(t,e),si(e)}}function si(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(SA(s)){var r=s;break e}s=s.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uu(i,""),r.flags&=-33);var a=D1(e);n0(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=D1(e);s0(e,l,o);break;default:throw Error(ge(161))}}catch(c){us(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c7(e,t,s){Re=e,_A(e)}function _A(e,t,s){for(var r=(e.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||rn;l=Wm;var d=rn;if(Wm=o,(rn=c)&&!d)for(Re=i;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?F1(i):c!==null?(c.return=o,Re=c):F1(i);for(;a!==null;)Re=a,_A(a),a=a.sibling;Re=i,Wm=l,rn=d}I1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):I1(e)}}function I1(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||Hg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rn)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:wr(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y1(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}y1(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&qu(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}rn||t.flags&512&&t0(t)}catch(m){us(t,t.return,m)}}if(t===e){Re=null;break}if(s=t.sibling,s!==null){s.return=t.return,Re=s;break}Re=t.return}}function R1(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Re=s;break}Re=t.return}}function F1(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Hg(4,t)}catch(c){us(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){us(t,i,c)}}var a=t.return;try{t0(t)}catch(c){us(t,a,c)}break;case 5:var o=t.return;try{t0(t)}catch(c){us(t,o,c)}}}catch(c){us(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var d7=Math.ceil,jf=ha.ReactCurrentDispatcher,Aj=ha.ReactCurrentOwner,hr=ha.ReactCurrentBatchConfig,Pt=0,$s=null,ks=null,Ys=0,Vn=0,Xl=wo(0),Ms=0,th=null,fl=0,Wg=0,Dj=0,Tu=null,Pn=null,Mj=0,id=1/0,Bi=null,wf=!1,r0=null,Za=null,Gm=!1,qa=null,Nf=0,Pu=0,i0=null,Mp=-1,Ip=0;function jn(){return Pt&6?ys():Mp!==-1?Mp:Mp=ys()}function Ja(e){return e.mode&1?Pt&2&&Ys!==0?Ys&-Ys:G$.transition!==null?(Ip===0&&(Ip=u4()),Ip):(e=$t,e!==0||(e=window.event,e=e===void 0?16:y4(e.type)),e):1}function qr(e,t,s,r){if(50<Pu)throw Pu=0,i0=null,Error(ge(185));om(e,s,r),(!(Pt&2)||e!==$s)&&(e===$s&&(!(Pt&2)&&(Wg|=s),Ms===4&&Pa(e,Ys)),Rn(e,r),s===1&&Pt===0&&!(t.mode&1)&&(id=ys()+500,zg&&No()))}function Rn(e,t){var s=e.callbackNode;G8(e,t);var r=af(e,e===$s?Ys:0);if(r===0)s!==null&&HN(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&HN(s),t===1)e.tag===0?W$(O1.bind(null,e)):O4(O1.bind(null,e)),z$(function(){!(Pt&6)&&No()}),s=null;else{switch(h4(r)){case 1:s=ij;break;case 4:s=c4;break;case 16:s=rf;break;case 536870912:s=d4;break;default:s=rf}s=RA(s,TA.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function TA(e,t){if(Mp=-1,Ip=0,Pt&6)throw Error(ge(327));var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var r=af(e,e===$s?Ys:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sf(e,r);else{t=r;var i=Pt;Pt|=2;var a=EA();($s!==e||Ys!==t)&&(Bi=null,id=ys()+500,il(e,t));do try{m7();break}catch(l){PA(e,l)}while(!0);yj(),jf.current=a,Pt=i,ks!==null?t=0:($s=null,Ys=0,t=Ms)}if(t!==0){if(t===2&&(i=Dv(e),i!==0&&(r=i,t=a0(e,i))),t===1)throw s=th,il(e,0),Pa(e,r),Rn(e,ys()),s;if(t===6)Pa(e,r);else{if(i=e.current.alternate,!(r&30)&&!u7(i)&&(t=Sf(e,r),t===2&&(a=Dv(e),a!==0&&(r=a,t=a0(e,a))),t===1))throw s=th,il(e,0),Pa(e,r),Rn(e,ys()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Eo(e,Pn,Bi);break;case 3:if(Pa(e,r),(r&130023424)===r&&(t=Mj+500-ys(),10<t)){if(af(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Uv(Eo.bind(null,e,Pn,Bi),t);break}Eo(e,Pn,Bi);break;case 4:if(Pa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ys()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d7(r/1960))-r,10<r){e.timeoutHandle=Uv(Eo.bind(null,e,Pn,Bi),r);break}Eo(e,Pn,Bi);break;case 5:Eo(e,Pn,Bi);break;default:throw Error(ge(329))}}}return Rn(e,ys()),e.callbackNode===s?TA.bind(null,e):null}function a0(e,t){var s=Tu;return e.current.memoizedState.isDehydrated&&(il(e,t).flags|=256),e=Sf(e,t),e!==2&&(t=Pn,Pn=s,t!==null&&o0(t)),e}function o0(e){Pn===null?Pn=e:Pn.push.apply(Pn,e)}function u7(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Gr(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t){for(t&=~Dj,t&=~Wg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Vr(t),r=1<<s;e[s]=-1,t&=~r}}function O1(e){if(Pt&6)throw Error(ge(327));ac();var t=af(e,0);if(!(t&1))return Rn(e,ys()),null;var s=Sf(e,t);if(e.tag!==0&&s===2){var r=Dv(e);r!==0&&(t=r,s=a0(e,r))}if(s===1)throw s=th,il(e,0),Pa(e,t),Rn(e,ys()),s;if(s===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eo(e,Pn,Bi),Rn(e,ys()),null}function Ij(e,t){var s=Pt;Pt|=1;try{return e(t)}finally{Pt=s,Pt===0&&(id=ys()+500,zg&&No())}}function gl(e){qa!==null&&qa.tag===0&&!(Pt&6)&&ac();var t=Pt;Pt|=1;var s=hr.transition,r=$t;try{if(hr.transition=null,$t=1,e)return e()}finally{$t=r,hr.transition=s,Pt=t,!(Pt&6)&&No()}}function Rj(){Vn=Xl.current,Kt(Xl)}function il(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,B$(s)),ks!==null)for(s=ks.return;s!==null;){var r=s;switch(fj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uf();break;case 3:nd(),Kt(Mn),Kt(ln),Sj();break;case 5:Nj(r);break;case 4:nd();break;case 13:Kt(rs);break;case 19:Kt(rs);break;case 10:vj(r.type._context);break;case 22:case 23:Rj()}s=s.return}if($s=e,ks=e=eo(e.current,null),Ys=Vn=t,Ms=0,th=null,Dj=Wg=fl=0,Pn=Tu=null,Oo!==null){for(t=0;t<Oo.length;t++)if(s=Oo[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}Oo=null}return e}function PA(e,t){do{var s=ks;try{if(yj(),Ep.current=bf,vf){for(var r=os.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vf=!1}if(pl=0,Os=Es=os=null,ku=!1,Zu=0,Aj.current=null,s===null||s.return===null){Ms=1,th=t,ks=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Ys,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=S1(o);if(p!==null){p.flags&=-257,C1(p,o,l,a,t),p.mode&1&&N1(a,d,t),t=p,c=d;var j=t.updateQueue;if(j===null){var y=new Set;y.add(c),t.updateQueue=y}else j.add(c);break e}else{if(!(t&1)){N1(a,d,t),Fj();break e}c=Error(ge(426))}}else if(Yt&&l.mode&1){var g=S1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),C1(g,o,l,a,t),gj(rd(c,l));break e}}a=c=rd(c,l),Ms!==4&&(Ms=2),Tu===null?Tu=[a]:Tu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=hA(a,c,t);x1(a,f);break e;case 1:l=c;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Za===null||!Za.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=mA(a,l,t);x1(a,w);break e}}a=a.return}while(a!==null)}DA(s)}catch(S){t=S,ks===s&&s!==null&&(ks=s=s.return);continue}break}while(!0)}function EA(){var e=jf.current;return jf.current=bf,e===null?bf:e}function Fj(){(Ms===0||Ms===3||Ms===2)&&(Ms=4),$s===null||!(fl&268435455)&&!(Wg&268435455)||Pa($s,Ys)}function Sf(e,t){var s=Pt;Pt|=2;var r=EA();($s!==e||Ys!==t)&&(Bi=null,il(e,t));do try{h7();break}catch(i){PA(e,i)}while(!0);if(yj(),Pt=s,jf.current=r,ks!==null)throw Error(ge(261));return $s=null,Ys=0,Ms}function h7(){for(;ks!==null;)AA(ks)}function m7(){for(;ks!==null&&!L8();)AA(ks)}function AA(e){var t=IA(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?DA(e):ks=t,Aj.current=null}function DA(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=a7(s,t),s!==null){s.flags&=32767,ks=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ms=6,ks=null;return}}else if(s=i7(s,t,Vn),s!==null){ks=s;return}if(t=t.sibling,t!==null){ks=t;return}ks=t=e}while(t!==null);Ms===0&&(Ms=5)}function Eo(e,t,s){var r=$t,i=hr.transition;try{hr.transition=null,$t=1,p7(e,t,s,r)}finally{hr.transition=i,$t=r}return null}function p7(e,t,s,r){do ac();while(qa!==null);if(Pt&6)throw Error(ge(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(K8(e,a),e===$s&&(ks=$s=null,Ys=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gm||(Gm=!0,RA(rf,function(){return ac(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=hr.transition,hr.transition=null;var o=$t;$t=1;var l=Pt;Pt|=4,Aj.current=null,l7(e,s),kA(s,e),I$(Lv),of=!!Ov,Lv=Ov=null,e.current=s,c7(s),$8(),Pt=l,$t=o,hr.transition=a}else e.current=s;if(Gm&&(Gm=!1,qa=e,Nf=i),a=e.pendingLanes,a===0&&(Za=null),z8(s.stateNode),Rn(e,ys()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(wf)throw wf=!1,e=r0,r0=null,e;return Nf&1&&e.tag!==0&&ac(),a=e.pendingLanes,a&1?e===i0?Pu++:(Pu=0,i0=e):Pu=0,No(),null}function ac(){if(qa!==null){var e=h4(Nf),t=hr.transition,s=$t;try{if(hr.transition=null,$t=16>e?16:e,qa===null)var r=!1;else{if(e=qa,qa=null,Nf=0,Pt&6)throw Error(ge(331));var i=Pt;for(Pt|=4,Re=e.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Re=d;Re!==null;){var h=Re;switch(h.tag){case 0:case 11:case 15:_u(8,h,a)}var u=h.child;if(u!==null)u.return=h,Re=u;else for(;Re!==null;){h=Re;var m=h.sibling,p=h.return;if(NA(h),h===d){Re=null;break}if(m!==null){m.return=p,Re=m;break}Re=p}}}var j=a.alternate;if(j!==null){var y=j.child;if(y!==null){j.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_u(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,Re=f;break e}Re=a.return}}var b=e.current;for(Re=b;Re!==null;){o=Re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Re=x;else e:for(o=b;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hg(9,l)}}catch(S){us(l,l.return,S)}if(l===o){Re=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Re=w;break e}Re=l.return}}if(Pt=i,No(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Og,e)}catch{}r=!0}return r}finally{$t=s,hr.transition=t}}return!1}function L1(e,t,s){t=rd(s,t),t=hA(e,t,1),e=Xa(e,t,1),t=jn(),e!==null&&(om(e,1,t),Rn(e,t))}function us(e,t,s){if(e.tag===3)L1(e,e,s);else for(;t!==null;){if(t.tag===3){L1(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){e=rd(s,e),e=mA(t,e,1),t=Xa(t,e,1),e=jn(),t!==null&&(om(t,1,e),Rn(t,e));break}}t=t.return}}function f7(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&s,$s===e&&(Ys&s)===s&&(Ms===4||Ms===3&&(Ys&130023424)===Ys&&500>ys()-Mj?il(e,0):Dj|=s),Rn(e,t)}function MA(e,t){t===0&&(e.mode&1?(t=Om,Om<<=1,!(Om&130023424)&&(Om=4194304)):t=1);var s=jn();e=ia(e,t),e!==null&&(om(e,t,s),Rn(e,s))}function g7(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),MA(e,s)}function x7(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),MA(e,s)}var IA;IA=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)An=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return An=!1,r7(e,t,s);An=!!(e.flags&131072)}else An=!1,Yt&&t.flags&1048576&&L4(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dp(e,t),e=t.pendingProps;var i=ed(t,ln.current);ic(t,s),i=kj(null,t,r,e,i,s);var a=_j();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(a=!0,hf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jj(t),i.updater=qg,t.stateNode=i,i._reactInternals=t,Gv(t,r,e,s),t=Yv(null,t,r,!0,a,s)):(t.tag=0,Yt&&a&&pj(t),vn(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Dp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v7(r),e=wr(r,e),i){case 0:t=Qv(null,t,r,e,s);break e;case 1:t=T1(null,t,r,e,s);break e;case 11:t=k1(null,t,r,e,s);break e;case 14:t=_1(null,t,r,wr(r.type,e),s);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Qv(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),T1(e,t,r,i,s);case 3:e:{if(xA(t),e===null)throw Error(ge(387));r=t.pendingProps,a=t.memoizedState,i=a.element,q4(e,t),xf(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=rd(Error(ge(423)),t),t=P1(e,t,r,s,i);break e}else if(r!==i){i=rd(Error(ge(424)),t),t=P1(e,t,r,s,i);break e}else for(Gn=Ya(t.stateNode.containerInfo.firstChild),Qn=t,Yt=!0,Mr=null,s=z4(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(td(),r===i){t=aa(e,t,s);break e}vn(e,t,r,s)}t=t.child}return t;case 5:return H4(t),e===null&&qv(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,$v(r,i)?o=null:a!==null&&$v(r,a)&&(t.flags|=32),gA(e,t),vn(e,t,o,s),t.child;case 6:return e===null&&qv(t),null;case 13:return yA(e,t,s);case 4:return wj(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sd(t,null,r,s):vn(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),k1(e,t,r,i,s);case 7:return vn(e,t,t.pendingProps,s),t.child;case 8:return vn(e,t,t.pendingProps.children,s),t.child;case 12:return vn(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,qt(ff,r._currentValue),r._currentValue=o,a!==null)if(Gr(a.value,o)){if(a.children===i.children&&!Mn.current){t=aa(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Zi(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Hv(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Hv(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vn(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ic(t,s),i=fr(i),r=r(i),t.flags|=1,vn(e,t,r,s),t.child;case 14:return r=t.type,i=wr(r,t.pendingProps),i=wr(r.type,i),_1(e,t,r,i,s);case 15:return pA(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Dp(e,t),t.tag=1,In(r)?(e=!0,hf(t)):e=!1,ic(t,s),uA(t,r,i),Gv(t,r,i,s),Yv(null,t,r,!0,e,s);case 19:return vA(e,t,s);case 22:return fA(e,t,s)}throw Error(ge(156,t.tag))};function RA(e,t){return l4(e,t)}function y7(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,s,r){return new y7(e,t,s,r)}function Oj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v7(e){if(typeof e=="function")return Oj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sj)return 11;if(e===nj)return 14}return 2}function eo(e,t){var s=e.alternate;return s===null?(s=dr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rp(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")Oj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bl:return al(s.children,i,a,t);case tj:o=8,i|=8;break;case xv:return e=dr(12,s,t,i|2),e.elementType=xv,e.lanes=a,e;case yv:return e=dr(13,s,t,i),e.elementType=yv,e.lanes=a,e;case vv:return e=dr(19,s,t,i),e.elementType=vv,e.lanes=a,e;case HE:return Gg(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VE:o=10;break e;case qE:o=9;break e;case sj:o=11;break e;case nj:o=14;break e;case Sa:o=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=dr(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function al(e,t,s,r){return e=dr(7,e,r,t),e.lanes=s,e}function Gg(e,t,s,r){return e=dr(22,e,r,t),e.elementType=HE,e.lanes=s,e.stateNode={isHidden:!1},e}function uy(e,t,s){return e=dr(6,e,null,t),e.lanes=s,e}function hy(e,t,s){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b7(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wx(0),this.expirationTimes=Wx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lj(e,t,s,r,i,a,o,l,c){return e=new b7(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},jj(a),e}function j7(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function FA(e){if(!e)return ao;e=e._reactInternals;e:{if(Pl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var s=e.type;if(In(s))return F4(e,s,t)}return t}function OA(e,t,s,r,i,a,o,l,c){return e=Lj(s,r,!0,e,i,a,o,l,c),e.context=FA(null),s=e.current,r=jn(),i=Ja(s),a=Zi(r,i),a.callback=t??null,Xa(s,a,i),e.current.lanes=i,om(e,i,r),Rn(e,r),e}function Kg(e,t,s,r){var i=t.current,a=jn(),o=Ja(i);return s=FA(s),t.context===null?t.context=s:t.pendingContext=s,t=Zi(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xa(i,t,o),e!==null&&(qr(e,i,o,a),Pp(e,i,o)),o}function Cf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function $j(e,t){$1(e,t),(e=e.alternate)&&$1(e,t)}function w7(){return null}var LA=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uj(e){this._internalRoot=e}Qg.prototype.render=Uj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Kg(e,t,null,null)};Qg.prototype.unmount=Uj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){Kg(null,e,null,null)}),t[ra]=null}};function Qg(e){this._internalRoot=e}Qg.prototype.unstable_scheduleHydration=function(e){if(e){var t=f4();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ta.length&&t!==0&&t<Ta[s].priority;s++);Ta.splice(s,0,e),s===0&&x4(e)}};function Bj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U1(){}function N7(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Cf(o);a.call(d)}}var o=OA(t,r,e,0,null,!1,!1,"",U1);return e._reactRootContainer=o,e[ra]=o.current,Gu(e.nodeType===8?e.parentNode:e),gl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Cf(c);l.call(d)}}var c=Lj(e,0,!1,null,null,!1,!1,"",U1);return e._reactRootContainer=c,e[ra]=c.current,Gu(e.nodeType===8?e.parentNode:e),gl(function(){Kg(t,c,s,r)}),c}function Xg(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Cf(o);l.call(c)}}Kg(t,o,e,i)}else o=N7(s,t,e,i,r);return Cf(o)}m4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=uu(t.pendingLanes);s!==0&&(aj(t,s|1),Rn(t,ys()),!(Pt&6)&&(id=ys()+500,No()))}break;case 13:gl(function(){var r=ia(e,1);if(r!==null){var i=jn();qr(r,e,1,i)}}),$j(e,1)}};oj=function(e){if(e.tag===13){var t=ia(e,134217728);if(t!==null){var s=jn();qr(t,e,134217728,s)}$j(e,134217728)}};p4=function(e){if(e.tag===13){var t=Ja(e),s=ia(e,t);if(s!==null){var r=jn();qr(s,e,t,r)}$j(e,t)}};f4=function(){return $t};g4=function(e,t){var s=$t;try{return $t=e,t()}finally{$t=s}};Pv=function(e,t,s){switch(t){case"input":if(wv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=Bg(r);if(!i)throw Error(ge(90));GE(r),wv(r,i)}}}break;case"textarea":QE(e,s);break;case"select":t=s.value,t!=null&&tc(e,!!s.multiple,t,!1)}};s4=Ij;n4=gl;var S7={usingClientEntryPoint:!1,Events:[cm,Hl,Bg,e4,t4,Ij]},Gd={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C7={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a4(e),e===null?null:e.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||w7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{Og=Km.inject(C7),bi=Km}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S7;tr.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bj(t))throw Error(ge(200));return j7(e,t,null,s)};tr.createRoot=function(e,t){if(!Bj(e))throw Error(ge(299));var s=!1,r="",i=LA;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lj(e,1,!1,null,null,s,!1,r,i),e[ra]=t.current,Gu(e.nodeType===8?e.parentNode:e),new Uj(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=a4(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return gl(e)};tr.hydrate=function(e,t,s){if(!Yg(t))throw Error(ge(200));return Xg(null,e,t,!0,s)};tr.hydrateRoot=function(e,t,s){if(!Bj(e))throw Error(ge(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=LA;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=OA(t,null,e,1,s??null,i,!1,a,o),e[ra]=t.current,Gu(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Qg(t)};tr.render=function(e,t,s){if(!Yg(t))throw Error(ge(200));return Xg(null,e,t,!1,s)};tr.unmountComponentAtNode=function(e){if(!Yg(e))throw Error(ge(40));return e._reactRootContainer?(gl(function(){Xg(null,null,e,!1,function(){e._reactRootContainer=null,e[ra]=null})}),!0):!1};tr.unstable_batchedUpdates=Ij;tr.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Yg(s))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Xg(e,t,s,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function $A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($A)}catch(e){console.error(e)}}$A(),$E.exports=tr;var ma=$E.exports;const UA=Di(ma);var BA,B1=ma;BA=B1.createRoot,B1.hydrateRoot;var kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function ar(){}function k7(e,t){return typeof e=="function"?e(t):e}function l0(e){return typeof e=="number"&&e>=0&&e!==1/0}function zA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oc(e,t){return typeof e=="function"?e(t):e}function Ir(e,t){return typeof e=="function"?e(t):e}function z1(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==zj(o,t.options))return!1}else if(!sh(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function V1(e,t){const{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(yl(t.options.mutationKey)!==yl(a))return!1}else if(!sh(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function zj(e,t){return((t==null?void 0:t.queryKeyHashFn)||yl)(e)}function yl(e){return JSON.stringify(e,(t,s)=>c0(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function sh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!sh(e[s],t[s])):!1}function VA(e,t){if(e===t)return e;const s=q1(e)&&q1(t);if(s||c0(e)&&c0(t)){const r=s?e:Object.keys(e),i=r.length,a=s?t:Object.keys(t),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const h=s?d:a[d];(!s&&r.includes(h)||s)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=VA(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function kf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function q1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function c0(e){if(!H1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!H1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function H1(e){return Object.prototype.toString.call(e)==="[object Object]"}function _7(e){return new Promise(t=>{setTimeout(t,e)})}function d0(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?VA(e,t):t}function T7(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function P7(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Vj=Symbol();function qA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bo,Aa,bc,Rk,E7=(Rk=class extends kd{constructor(){super();K(this,Bo);K(this,Aa);K(this,bc);te(this,bc,t=>{if(!xl&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){_(this,Aa)||this.setEventListener(_(this,bc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Aa))==null||t.call(this),te(this,Aa,void 0))}setEventListener(t){var s;te(this,bc,t),(s=_(this,Aa))==null||s.call(this),te(this,Aa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,Bo)!==t&&(te(this,Bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof _(this,Bo)=="boolean"?_(this,Bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bo=new WeakMap,Aa=new WeakMap,bc=new WeakMap,Rk),qj=new E7,jc,Da,wc,Fk,A7=(Fk=class extends kd{constructor(){super();K(this,jc,!0);K(this,Da);K(this,wc);te(this,wc,t=>{if(!xl&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Da)||this.setEventListener(_(this,wc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Da))==null||t.call(this),te(this,Da,void 0))}setEventListener(t){var s;te(this,wc,t),(s=_(this,Da))==null||s.call(this),te(this,Da,t(this.setOnline.bind(this)))}setOnline(t){_(this,jc)!==t&&(te(this,jc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,jc)}},jc=new WeakMap,Da=new WeakMap,wc=new WeakMap,Fk),_f=new A7;function u0(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}function D7(e){return Math.min(1e3*2**e,3e4)}function HA(e){return(e??"online")==="online"?_f.isOnline():!0}var WA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function my(e){return e instanceof WA}function GA(e){let t=!1,s=0,r=!1,i;const a=u0(),o=y=>{var g;r||(m(new WA(y)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>qj.isFocused()&&(e.networkMode==="always"||_f.isOnline())&&e.canRun(),h=()=>HA(e.networkMode)&&e.canRun(),u=y=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,y),i==null||i(),a.resolve(y))},m=y=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,y),i==null||i(),a.reject(y))},p=()=>new Promise(y=>{var g;i=f=>{(r||d())&&y(f)},(g=e.onPause)==null||g.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),j=()=>{if(r)return;let y;const g=s===0?e.initialPromise:void 0;try{y=g??e.fn()}catch(f){y=Promise.reject(f)}Promise.resolve(y).then(u).catch(f=>{var N;if(r)return;const b=e.retry??(xl?0:3),x=e.retryDelay??D7,w=typeof x=="function"?x(s,f):x,S=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,f);if(t||!S){m(f);return}s++,(N=e.onFail)==null||N.call(e,s,f),_7(w).then(()=>d()?void 0:p()).then(()=>{t?m(f):j()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?j():p().then(j),a)}}function M7(){let e=[],t=0,s=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ds=M7(),zo,Ok,KA=(Ok=class{constructor(){K(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l0(this.gcTime)&&te(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:5*60*1e3))}clearGcTimeout(){_(this,zo)&&(clearTimeout(_(this,zo)),te(this,zo,void 0))}},zo=new WeakMap,Ok),Nc,Sc,rr,sn,Rh,Vo,Nr,$i,Lk,I7=(Lk=class extends KA{constructor(t){super();K(this,Nr);K(this,Nc);K(this,Sc);K(this,rr);K(this,sn);K(this,Rh);K(this,Vo);te(this,Vo,!1),te(this,Rh,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,rr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Nc,R7(this.options)),this.state=t.state??_(this,Nc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,sn))==null?void 0:t.promise}setOptions(t){this.options={..._(this,Rh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,rr).remove(this)}setData(t,s){const r=d0(this.state.data,t,this.options);return ne(this,Nr,$i).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){ne(this,Nr,$i).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,i;const s=(r=_(this,sn))==null?void 0:r.promise;return(i=_(this,sn))==null||i.cancel(t),s?s.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Nc))}isActive(){return this.observers.some(t=>Ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!zA(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,sn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,sn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(_(this,sn)&&(_(this,Vo)?_(this,sn).cancel({revert:!0}):_(this,sn).cancelRetry()),this.scheduleGc()),_(this,rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Nr,$i).call(this,{type:"invalidate"})}fetch(t,s){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(_(this,sn))return _(this,sn).continueRetry(),_(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(te(this,Vo,!0),r.signal)})},a=()=>{const u=qA(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),te(this,Vo,!1),this.options.persister?this.options.persister(u,m,this):u(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),te(this,Sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ne(this,Nr,$i).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=u=>{var m,p,j,y;my(u)&&u.silent||ne(this,Nr,$i).call(this,{type:"error",error:u}),my(u)||((p=(m=_(this,rr).config).onError)==null||p.call(m,u,this),(y=(j=_(this,rr).config).onSettled)==null||y.call(j,this.state.data,u,this)),this.scheduleGc()};return te(this,sn,GA({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var m,p,j,y;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(g){l(g);return}(p=(m=_(this,rr).config).onSuccess)==null||p.call(m,u,this),(y=(j=_(this,rr).config).onSettled)==null||y.call(j,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{ne(this,Nr,$i).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{ne(this,Nr,$i).call(this,{type:"pause"})},onContinue:()=>{ne(this,Nr,$i).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,sn).start()}},Nc=new WeakMap,Sc=new WeakMap,rr=new WeakMap,sn=new WeakMap,Rh=new WeakMap,Vo=new WeakMap,Nr=new WeakSet,$i=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QA(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return my(i)&&i.revert&&_(this,Sc)?{..._(this,Sc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Ds.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,rr).notify({query:this,type:"updated",action:t})})},Lk);function QA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function R7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ai,$k,F7=($k=class extends kd{constructor(t={}){super();K(this,ai);this.config=t,te(this,ai,new Map)}build(t,s,r){const i=s.queryKey,a=s.queryHash??zj(i,s);let o=this.get(a);return o||(o=new I7({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,ai).has(t.queryHash)||(_(this,ai).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=_(this,ai).get(t.queryHash);s&&(t.destroy(),s===t&&_(this,ai).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,ai).get(t)}getAll(){return[..._(this,ai).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>z1(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>z1(t,r)):s}notify(t){Ds.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ai=new WeakMap,$k),oi,fn,qo,li,ba,Uk,O7=(Uk=class extends KA{constructor(t){super();K(this,li);K(this,oi);K(this,fn);K(this,qo);this.mutationId=t.mutationId,te(this,fn,t.mutationCache),te(this,oi,[]),this.state=t.state||YA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,oi).includes(t)||(_(this,oi).push(t),this.clearGcTimeout(),_(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,oi,_(this,oi).filter(s=>s!==t)),this.scheduleGc(),_(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,oi).length||(this.state.status==="pending"?this.scheduleGc():_(this,fn).remove(this))}continue(){var t;return((t=_(this,qo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,d,h,u,m,p,j,y,g,f,b,x,w,S,N,C;te(this,qo,GA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{ne(this,li,ba).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{ne(this,li,ba).call(this,{type:"pause"})},onContinue:()=>{ne(this,li,ba).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,fn).canRun(this)}));const s=this.state.status==="pending",r=!_(this,qo).canStart();try{if(!s){ne(this,li,ba).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=_(this,fn).config).onMutate)==null?void 0:a.call(i,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&ne(this,li,ba).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const k=await _(this,qo).start();return await((d=(c=_(this,fn).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,k,t,this.state.context)),await((p=(m=_(this,fn).config).onSettled)==null?void 0:p.call(m,k,null,this.state.variables,this.state.context,this)),await((y=(j=this.options).onSettled)==null?void 0:y.call(j,k,null,t,this.state.context)),ne(this,li,ba).call(this,{type:"success",data:k}),k}catch(k){try{throw await((f=(g=_(this,fn).config).onError)==null?void 0:f.call(g,k,t,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,k,t,this.state.context)),await((S=(w=_(this,fn).config).onSettled)==null?void 0:S.call(w,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{ne(this,li,ba).call(this,{type:"error",error:k})}}finally{_(this,fn).runNext(this)}}},oi=new WeakMap,fn=new WeakMap,qo=new WeakMap,li=new WeakSet,ba=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ds.batch(()=>{_(this,oi).forEach(r=>{r.onMutationUpdate(t)}),_(this,fn).notify({mutation:this,type:"updated",action:t})})},Uk);function YA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zn,Fh,Bk,L7=(Bk=class extends kd{constructor(t={}){super();K(this,zn);K(this,Fh);this.config=t,te(this,zn,new Map),te(this,Fh,Date.now())}build(t,s,r){const i=new O7({mutationCache:this,mutationId:++Em(this,Fh)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){const s=Qm(t),r=_(this,zn).get(s)??[];r.push(t),_(this,zn).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=Qm(t);if(_(this,zn).has(s)){const i=(r=_(this,zn).get(s))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?_(this,zn).delete(s):_(this,zn).set(s,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=_(this,zn).get(Qm(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=_(this,zn).get(Qm(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[..._(this,zn).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>V1(s,r))}findAll(t={}){return this.getAll().filter(s=>V1(t,s))}notify(t){Ds.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Ds.batch(()=>Promise.all(t.map(s=>s.continue().catch(ar))))}},zn=new WeakMap,Fh=new WeakMap,Bk);function Qm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function W1(e){return{onFetch:(t,s)=>{var h,u,m,p,j;const r=t.options,i=(m=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const g=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},f=qA(t.options,t.fetchOptions),b=async(x,w,S)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const N={queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};g(N);const C=await f(N),{maxPages:k}=t.options,T=S?P7:T7;return{pages:T(x.pages,C,k),pageParams:T(x.pageParams,w,k)}};if(i&&a.length){const x=i==="backward",w=x?$7:G1,S={pages:a,pageParams:o},N=w(r,S);l=await b(S,N,x)}else{const x=e??a.length;do{const w=c===0?o[0]??r.initialPageParam:G1(r,l);if(c>0&&w==null)break;l=await b(l,w),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,g;return(g=(y=t.options).persister)==null?void 0:g.call(y,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function G1(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function $7(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var ds,Ma,Ia,Cc,kc,Ra,_c,Tc,zk,U7=(zk=class{constructor(e={}){K(this,ds);K(this,Ma);K(this,Ia);K(this,Cc);K(this,kc);K(this,Ra);K(this,_c);K(this,Tc);te(this,ds,e.queryCache||new F7),te(this,Ma,e.mutationCache||new L7),te(this,Ia,e.defaultOptions||{}),te(this,Cc,new Map),te(this,kc,new Map),te(this,Ra,0)}mount(){Em(this,Ra)._++,_(this,Ra)===1&&(te(this,_c,qj.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ds).onFocus())})),te(this,Tc,_f.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ds).onOnline())})))}unmount(){var e,t;Em(this,Ra)._--,_(this,Ra)===0&&((e=_(this,_c))==null||e.call(this),te(this,_c,void 0),(t=_(this,Tc))==null||t.call(this),te(this,Tc,void 0))}isFetching(e){return _(this,ds).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Ma).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,ds).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=_(this,ds).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(oc(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return _(this,ds).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=_(this,ds).get(r.queryHash),a=i==null?void 0:i.state.data,o=k7(t,a);if(o!==void 0)return _(this,ds).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Ds.batch(()=>_(this,ds).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,ds).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=_(this,ds);Ds.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=_(this,ds),r={type:"active",...e};return Ds.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Ds.batch(()=>_(this,ds).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(e={},t={}){return Ds.batch(()=>{if(_(this,ds).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ds.batch(()=>_(this,ds).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(ar)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=_(this,ds).build(this,t);return s.isStaleByTime(oc(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=W1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=W1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _f.isOnline()?_(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ds)}getMutationCache(){return _(this,Ma)}getDefaultOptions(){return _(this,Ia)}setDefaultOptions(e){te(this,Ia,e)}setQueryDefaults(e,t){_(this,Cc).set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,Cc).values()];let s={};return t.forEach(r=>{sh(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){_(this,kc).set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,kc).values()];let s={};return t.forEach(r=>{sh(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Ia).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Vj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Ia).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,ds).clear(),_(this,Ma).clear()}},ds=new WeakMap,Ma=new WeakMap,Ia=new WeakMap,Cc=new WeakMap,kc=new WeakMap,Ra=new WeakMap,_c=new WeakMap,Tc=new WeakMap,zk),_n,wt,Oh,gn,Ho,Pc,Fa,ci,Lh,Ec,Ac,Wo,Go,Oa,Dc,Rt,mu,h0,m0,p0,f0,g0,x0,y0,XA,Vk,B7=(Vk=class extends kd{constructor(t,s){super();K(this,Rt);K(this,_n);K(this,wt);K(this,Oh);K(this,gn);K(this,Ho);K(this,Pc);K(this,Fa);K(this,ci);K(this,Lh);K(this,Ec);K(this,Ac);K(this,Wo);K(this,Go);K(this,Oa);K(this,Dc,new Set);this.options=s,te(this,_n,t),te(this,ci,null),te(this,Fa,u0()),this.options.experimental_prefetchInRender||_(this,Fa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,wt).addObserver(this),K1(_(this,wt),this.options)?ne(this,Rt,mu).call(this):this.updateResult(),ne(this,Rt,f0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return v0(_(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return v0(_(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,Rt,g0).call(this),ne(this,Rt,x0).call(this),_(this,wt).removeObserver(this)}setOptions(t,s){const r=this.options,i=_(this,wt);if(this.options=_(this,_n).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,_(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,Rt,y0).call(this),_(this,wt).setOptions(this.options),r._defaulted&&!kf(this.options,r)&&_(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,wt),observer:this});const a=this.hasListeners();a&&Q1(_(this,wt),i,this.options,r)&&ne(this,Rt,mu).call(this),this.updateResult(s),a&&(_(this,wt)!==i||Ir(this.options.enabled,_(this,wt))!==Ir(r.enabled,_(this,wt))||oc(this.options.staleTime,_(this,wt))!==oc(r.staleTime,_(this,wt)))&&ne(this,Rt,h0).call(this);const o=ne(this,Rt,m0).call(this);a&&(_(this,wt)!==i||Ir(this.options.enabled,_(this,wt))!==Ir(r.enabled,_(this,wt))||o!==_(this,Oa))&&ne(this,Rt,p0).call(this,o)}getOptimisticResult(t){const s=_(this,_n).getQueryCache().build(_(this,_n),t),r=this.createResult(s,t);return V7(this,r)&&(te(this,gn,r),te(this,Pc,this.options),te(this,Ho,_(this,wt).state)),r}getCurrentResult(){return _(this,gn)}trackResult(t,s){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),t[i])})}),r}trackProp(t){_(this,Dc).add(t)}getCurrentQuery(){return _(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=_(this,_n).defaultQueryOptions(t),r=_(this,_n).getQueryCache().build(_(this,_n),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return ne(this,Rt,mu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,gn)))}createResult(t,s){var k;const r=_(this,wt),i=this.options,a=_(this,gn),o=_(this,Ho),l=_(this,Pc),d=t!==r?t.state:_(this,Oh),{state:h}=t;let u={...h},m=!1,p;if(s._optimisticResults){const T=this.hasListeners(),D=!T&&K1(t,s),P=T&&Q1(t,r,s,i);(D||P)&&(u={...u,...QA(h.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:j,errorUpdatedAt:y,status:g}=u;if(s.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&s.select===_(this,Lh))p=_(this,Ec);else try{te(this,Lh,s.select),p=s.select(u.data),p=d0(a==null?void 0:a.data,p,s),te(this,Ec,p),te(this,ci,null)}catch(T){te(this,ci,T)}else p=u.data;if(s.placeholderData!==void 0&&p===void 0&&g==="pending"){let T;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))T=a.data;else if(T=typeof s.placeholderData=="function"?s.placeholderData((k=_(this,Ac))==null?void 0:k.state.data,_(this,Ac)):s.placeholderData,s.select&&T!==void 0)try{T=s.select(T),te(this,ci,null)}catch(D){te(this,ci,D)}T!==void 0&&(g="success",p=d0(a==null?void 0:a.data,T,s),m=!0)}_(this,ci)&&(j=_(this,ci),p=_(this,Ec),y=Date.now(),g="error");const f=u.fetchStatus==="fetching",b=g==="pending",x=g==="error",w=b&&f,S=p!==void 0,C={status:g,fetchStatus:u.fetchStatus,isPending:b,isSuccess:g==="success",isError:x,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:u.dataUpdatedAt,error:j,errorUpdatedAt:y,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:f,isRefetching:f&&!b,isLoadingError:x&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&S,isStale:Hj(t,s),refetch:this.refetch,promise:_(this,Fa)};if(this.options.experimental_prefetchInRender){const T=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},D=()=>{const M=te(this,Fa,C.promise=u0());T(M)},P=_(this,Fa);switch(P.status){case"pending":t.queryHash===r.queryHash&&T(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&D();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&D();break}}return C}updateResult(t){const s=_(this,gn),r=this.createResult(_(this,wt),this.options);if(te(this,Ho,_(this,wt).state),te(this,Pc,this.options),_(this,Ho).data!==void 0&&te(this,Ac,_(this,wt)),kf(r,s))return;te(this,gn,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!_(this,Dc).size)return!0;const c=new Set(l??_(this,Dc));return this.options.throwOnError&&c.add("error"),Object.keys(_(this,gn)).some(d=>{const h=d;return _(this,gn)[h]!==s[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),ne(this,Rt,XA).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,Rt,f0).call(this)}},_n=new WeakMap,wt=new WeakMap,Oh=new WeakMap,gn=new WeakMap,Ho=new WeakMap,Pc=new WeakMap,Fa=new WeakMap,ci=new WeakMap,Lh=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Wo=new WeakMap,Go=new WeakMap,Oa=new WeakMap,Dc=new WeakMap,Rt=new WeakSet,mu=function(t){ne(this,Rt,y0).call(this);let s=_(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ar)),s},h0=function(){ne(this,Rt,g0).call(this);const t=oc(this.options.staleTime,_(this,wt));if(xl||_(this,gn).isStale||!l0(t))return;const r=zA(_(this,gn).dataUpdatedAt,t)+1;te(this,Wo,setTimeout(()=>{_(this,gn).isStale||this.updateResult()},r))},m0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,wt)):this.options.refetchInterval)??!1},p0=function(t){ne(this,Rt,x0).call(this),te(this,Oa,t),!(xl||Ir(this.options.enabled,_(this,wt))===!1||!l0(_(this,Oa))||_(this,Oa)===0)&&te(this,Go,setInterval(()=>{(this.options.refetchIntervalInBackground||qj.isFocused())&&ne(this,Rt,mu).call(this)},_(this,Oa)))},f0=function(){ne(this,Rt,h0).call(this),ne(this,Rt,p0).call(this,ne(this,Rt,m0).call(this))},g0=function(){_(this,Wo)&&(clearTimeout(_(this,Wo)),te(this,Wo,void 0))},x0=function(){_(this,Go)&&(clearInterval(_(this,Go)),te(this,Go,void 0))},y0=function(){const t=_(this,_n).getQueryCache().build(_(this,_n),this.options);if(t===_(this,wt))return;const s=_(this,wt);te(this,wt,t),te(this,Oh,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},XA=function(t){Ds.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(_(this,gn))}),_(this,_n).getQueryCache().notify({query:_(this,wt),type:"observerResultsUpdated"})})},Vk);function z7(e,t){return Ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function K1(e,t){return z7(e,t)||e.state.data!==void 0&&v0(e,t,t.refetchOnMount)}function v0(e,t,s){if(Ir(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Hj(e,t)}return!1}function Q1(e,t,s,r){return(e!==t||Ir(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Hj(e,s)}function Hj(e,t){return Ir(t.enabled,e)!==!1&&e.isStaleByTime(oc(t.staleTime,e))}function V7(e,t){return!kf(e.getCurrentResult(),t)}var La,$a,Tn,qi,sa,Fp,b0,qk,q7=(qk=class extends kd{constructor(s,r){super();K(this,sa);K(this,La);K(this,$a);K(this,Tn);K(this,qi);te(this,La,s),this.setOptions(r),this.bindMethods(),ne(this,sa,Fp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=_(this,La).defaultMutationOptions(s),kf(this.options,r)||_(this,La).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Tn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yl(r.mutationKey)!==yl(this.options.mutationKey)?this.reset():((i=_(this,Tn))==null?void 0:i.state.status)==="pending"&&_(this,Tn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=_(this,Tn))==null||s.removeObserver(this)}onMutationUpdate(s){ne(this,sa,Fp).call(this),ne(this,sa,b0).call(this,s)}getCurrentResult(){return _(this,$a)}reset(){var s;(s=_(this,Tn))==null||s.removeObserver(this),te(this,Tn,void 0),ne(this,sa,Fp).call(this),ne(this,sa,b0).call(this)}mutate(s,r){var i;return te(this,qi,r),(i=_(this,Tn))==null||i.removeObserver(this),te(this,Tn,_(this,La).getMutationCache().build(_(this,La),this.options)),_(this,Tn).addObserver(this),_(this,Tn).execute(s)}},La=new WeakMap,$a=new WeakMap,Tn=new WeakMap,qi=new WeakMap,sa=new WeakSet,Fp=function(){var r;const s=((r=_(this,Tn))==null?void 0:r.state)??YA();te(this,$a,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},b0=function(s){Ds.batch(()=>{var r,i,a,o,l,c,d,h;if(_(this,qi)&&this.hasListeners()){const u=_(this,$a).variables,m=_(this,$a).context;(s==null?void 0:s.type)==="success"?((i=(r=_(this,qi)).onSuccess)==null||i.call(r,s.data,u,m),(o=(a=_(this,qi)).onSettled)==null||o.call(a,s.data,null,u,m)):(s==null?void 0:s.type)==="error"&&((c=(l=_(this,qi)).onError)==null||c.call(l,s.error,u,m),(h=(d=_(this,qi)).onSettled)==null||h.call(d,void 0,s.error,u,m))}this.listeners.forEach(u=>{u(_(this,$a))})})},qk),ZA=v.createContext(void 0),Jt=e=>{const t=v.useContext(ZA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H7=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(ZA.Provider,{value:e,children:t})),JA=v.createContext(!1),W7=()=>v.useContext(JA);JA.Provider;function G7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var K7=v.createContext(G7()),Q7=()=>v.useContext(K7);function e5(e,t){return typeof e=="function"?e(...t):!!e}function j0(){}var Y7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},X7=e=>{v.useEffect(()=>{e.clearReset()},[e])},Z7=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&e5(s,[e.error,r]),J7=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},eU=(e,t)=>e.isLoading&&e.isFetching&&!t,tU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Y1=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function sU(e,t,s){var h,u,m,p,j;const r=Jt(),i=W7(),a=Q7(),o=r.defaultQueryOptions(e);(u=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",J7(o),Y7(o,a),X7(a);const l=!r.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(y=>{const g=i?j0:c.subscribe(Ds.batchCalls(y));return c.updateResult(),g},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),tU(o,d))throw Y1(o,c,a);if(Z7({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,d),o.experimental_prefetchInRender&&!xl&&eU(d,i)){const y=l?Y1(o,c,a):(j=r.getQueryCache().get(o.queryHash))==null?void 0:j.promise;y==null||y.catch(j0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xe(e,t){return sU(e,B7)}function Ce(e,t){const s=Jt(),[r]=v.useState(()=>new q7(s,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(Ds.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,l)=>{r.mutate(o,l).catch(j0)},[r]);if(i.error&&e5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Fe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function X1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t5(...e){return t=>{let s=!1;const r=e.map(i=>{const a=X1(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():X1(e[i],null)}}}}function xt(...e){return v.useCallback(t5(...e),e)}function nU(e,t){const s=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=v.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function On(e,t=[]){let s=[];function r(a,o){const l=v.createContext(o),c=s.length;s=[...s,o];const d=u=>{var f;const{scope:m,children:p,...j}=u,y=((f=m==null?void 0:m[e])==null?void 0:f[c])||l,g=v.useMemo(()=>j,Object.values(j));return n.jsx(y.Provider,{value:g,children:p})};d.displayName=a+"Provider";function h(u,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,j=v.useContext(p);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=s.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,rU(i,...t)]}function rU(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function ad(e){const t=iU(e),s=v.forwardRef((r,i)=>{const{children:a,...o}=r,l=v.Children.toArray(a),c=l.find(oU);if(c){const d=c.props.children,h=l.map(u=>u===c?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:u);return n.jsx(t,{...o,ref:i,children:v.isValidElement(d)?v.cloneElement(d,void 0,h):null})}return n.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var s5=ad("Slot");function iU(e){const t=v.forwardRef((s,r)=>{const{children:i,...a}=s;if(v.isValidElement(i)){const o=cU(i),l=lU(a,i.props);return i.type!==v.Fragment&&(l.ref=r?t5(r,o):o),v.cloneElement(i,l)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n5=Symbol("radix.slottable");function aU(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=n5,t}function oU(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n5}function lU(e,t){const s={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function cU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var dU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=dU.reduce((e,t)=>{const s=ad(`Primitive.${t}`),r=v.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function r5(e,t){e&&ma.flushSync(()=>e.dispatchEvent(t))}function hs(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function uU(e,t=globalThis==null?void 0:globalThis.document){const s=hs(e);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var hU="DismissableLayer",w0="dismissableLayer.update",mU="dismissableLayer.pointerDownOutside",pU="dismissableLayer.focusOutside",Z1,i5=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),um=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(i5),[h,u]=v.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),j=xt(t,C=>u(C)),y=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),f=y.indexOf(g),b=h?y.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,w=b>=f,S=gU(C=>{const k=C.target,T=[...d.branches].some(D=>D.contains(k));!w||T||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),N=xU(C=>{const k=C.target;[...d.branches].some(D=>D.contains(k))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return uU(C=>{b===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),v.useEffect(()=>{if(h)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Z1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),J1(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Z1)}},[h,m,s,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),J1())},[h,d]),v.useEffect(()=>{const C=()=>p({});return document.addEventListener(w0,C),()=>document.removeEventListener(w0,C)},[]),n.jsx(Be.div,{...c,ref:j,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,S.onPointerDownCapture)})});um.displayName=hU;var fU="DismissableLayerBranch",a5=v.forwardRef((e,t)=>{const s=v.useContext(i5),r=v.useRef(null),i=xt(t,r);return v.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Be.div,{...e,ref:i})});a5.displayName=fU;function gU(e,t=globalThis==null?void 0:globalThis.document){const s=hs(e),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){o5(mU,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function xU(e,t=globalThis==null?void 0:globalThis.document){const s=hs(e),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&o5(pU,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J1(){const e=new CustomEvent(w0);document.dispatchEvent(e)}function o5(e,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?r5(i,a):i.dispatchEvent(a)}var yU=um,vU=a5,_s=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},bU=OE[" useId ".trim().toString()]||(()=>{}),jU=0;function Ji(e){const[t,s]=v.useState(bU());return _s(()=>{e||s(r=>r??String(jU++))},[e]),e||(t?`radix-${t}`:"")}const wU=["top","right","bottom","left"],oo=Math.min,Hn=Math.max,Tf=Math.round,Ym=Math.floor,wi=e=>({x:e,y:e}),NU={left:"right",right:"left",bottom:"top",top:"bottom"},SU={start:"end",end:"start"};function N0(e,t,s){return Hn(e,oo(t,s))}function oa(e,t){return typeof e=="function"?e(t):e}function la(e){return e.split("-")[0]}function _d(e){return e.split("-")[1]}function Wj(e){return e==="x"?"y":"x"}function Gj(e){return e==="y"?"height":"width"}function lo(e){return["top","bottom"].includes(la(e))?"y":"x"}function Kj(e){return Wj(lo(e))}function CU(e,t,s){s===void 0&&(s=!1);const r=_d(e),i=Kj(e),a=Gj(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Pf(o)),[o,Pf(o)]}function kU(e){const t=Pf(e);return[S0(e),t,S0(t)]}function S0(e){return e.replace(/start|end/g,t=>SU[t])}function _U(e,t,s){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function TU(e,t,s,r){const i=_d(e);let a=_U(la(e),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(S0)))),a}function Pf(e){return e.replace(/left|right|bottom|top/g,t=>NU[t])}function PU(e){return{top:0,right:0,bottom:0,left:0,...e}}function l5(e){return typeof e!="number"?PU(e):{top:e,right:e,bottom:e,left:e}}function Ef(e){const{x:t,y:s,width:r,height:i}=e;return{width:r,height:i,top:s,left:t,right:t+r,bottom:s+i,x:t,y:s}}function eS(e,t,s){let{reference:r,floating:i}=e;const a=lo(t),o=Kj(t),l=Gj(o),c=la(t),d=a==="y",h=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:h,y:r.y-i.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(_d(t)){case"start":p[o]-=m*(s&&d?-1:1);break;case"end":p[o]+=m*(s&&d?-1:1);break}return p}const EU=async(e,t,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:u}=eS(d,r,c),m=r,p={},j=0;for(let y=0;y<l.length;y++){const{name:g,fn:f}=l[y],{x:b,y:x,data:w,reset:S}=await f({x:h,y:u,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});h=b??h,u=x??u,p={...p,[g]:{...p[g],...w}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:h,y:u}=eS(d,m,c)),y=-1)}return{x:h,y:u,placement:m,strategy:i,middlewareData:p}};async function nh(e,t){var s;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=oa(t,e),j=l5(p),g=l[m?u==="floating"?"reference":"floating":u],f=Ef(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(g)))==null||s?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),b=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Ef(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:x,strategy:c}):b);return{top:(f.top-S.top+j.top)/w.y,bottom:(S.bottom-f.bottom+j.bottom)/w.y,left:(f.left-S.left+j.left)/w.x,right:(S.right-f.right+j.right)/w.x}}const AU=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=oa(e,t)||{};if(d==null)return{};const u=l5(h),m={x:s,y:r},p=Kj(i),j=Gj(p),y=await o.getDimensions(d),g=p==="y",f=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",w=a.reference[j]+a.reference[p]-m[p]-a.floating[j],S=m[p]-a.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=N?N[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[x]||a.floating[j]);const k=w/2-S/2,T=C/2-y[j]/2-1,D=oo(u[f],T),P=oo(u[b],T),M=D,X=C-y[j]-P,ee=C/2-y[j]/2+k,F=N0(M,ee,X),re=!c.arrow&&_d(i)!=null&&ee!==F&&a.reference[j]/2-(ee<M?D:P)-y[j]/2<0,fe=re?ee<M?ee-M:ee-X:0;return{[p]:m[p]+fe,data:{[p]:F,centerOffset:ee-F-fe,...re&&{alignmentOffset:fe}},reset:re}}}),DU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:y=!0,...g}=oa(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const f=la(i),b=lo(l),x=la(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=m||(x||!y?[Pf(l)]:kU(l)),N=j!=="none";!m&&N&&S.push(...TU(l,y,j,w));const C=[l,...S],k=await nh(t,g),T=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&T.push(k[f]),u){const ee=CU(i,o,w);T.push(k[ee[0]],k[ee[1]])}if(D=[...D,{placement:i,overflows:T}],!T.every(ee=>ee<=0)){var P,M;const ee=(((P=a.flip)==null?void 0:P.index)||0)+1,F=C[ee];if(F)return{data:{index:ee,overflows:D},reset:{placement:F}};let re=(M=D.filter(fe=>fe.overflows[0]<=0).sort((fe,V)=>fe.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(p){case"bestFit":{var X;const fe=(X=D.filter(V=>{if(N){const L=lo(V.placement);return L===b||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,oe)=>L+oe,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:X[0];fe&&(re=fe);break}case"initialPlacement":re=l;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function tS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sS(e){return wU.some(t=>e[t]>=0)}const MU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...i}=oa(e,t);switch(r){case"referenceHidden":{const a=await nh(t,{...i,elementContext:"reference"}),o=tS(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sS(o)}}}case"escaped":{const a=await nh(t,{...i,altBoundary:!0}),o=tS(a,s.floating);return{data:{escapedOffsets:o,escaped:sS(o)}}}default:return{}}}}};async function IU(e,t){const{placement:s,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=la(s),l=_d(s),c=lo(s)==="y",d=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,u=oa(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:j}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof j=="number"&&(p=l==="end"?j*-1:j),c?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const RU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await IU(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},FU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:f,y:b}=g;return{x:f,y:b}}},...c}=oa(e,t),d={x:s,y:r},h=await nh(t,c),u=lo(la(i)),m=Wj(u);let p=d[m],j=d[u];if(a){const g=m==="y"?"top":"left",f=m==="y"?"bottom":"right",b=p+h[g],x=p-h[f];p=N0(b,p,x)}if(o){const g=u==="y"?"top":"left",f=u==="y"?"bottom":"right",b=j+h[g],x=j-h[f];j=N0(b,j,x)}const y=l.fn({...t,[m]:p,[u]:j});return{...y,data:{x:y.x-s,y:y.y-r,enabled:{[m]:a,[u]:o}}}}}},OU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=oa(e,t),h={x:s,y:r},u=lo(i),m=Wj(u);let p=h[m],j=h[u];const y=oa(l,t),g=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=m==="y"?"height":"width",w=a.reference[m]-a.floating[x]+g.mainAxis,S=a.reference[m]+a.reference[x]-g.mainAxis;p<w?p=w:p>S&&(p=S)}if(d){var f,b;const x=m==="y"?"width":"height",w=["top","left"].includes(la(i)),S=a.reference[u]-a.floating[x]+(w&&((f=o.offset)==null?void 0:f[u])||0)+(w?0:g.crossAxis),N=a.reference[u]+a.reference[x]+(w?0:((b=o.offset)==null?void 0:b[u])||0)-(w?g.crossAxis:0);j<S?j=S:j>N&&(j=N)}return{[m]:p,[u]:j}}}},LU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=oa(e,t),h=await nh(t,d),u=la(i),m=_d(i),p=lo(i)==="y",{width:j,height:y}=a.floating;let g,f;u==="top"||u==="bottom"?(g=u,f=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(f=u,g=m==="end"?"top":"bottom");const b=y-h.top-h.bottom,x=j-h.left-h.right,w=oo(y-h[g],b),S=oo(j-h[f],x),N=!t.middlewareData.shift;let C=w,k=S;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(k=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),N&&!m){const D=Hn(h.left,0),P=Hn(h.right,0),M=Hn(h.top,0),X=Hn(h.bottom,0);p?k=j-2*(D!==0||P!==0?D+P:Hn(h.left,h.right)):C=y-2*(M!==0||X!==0?M+X:Hn(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:C});const T=await o.getDimensions(l.floating);return j!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function Zg(){return typeof window<"u"}function Td(e){return c5(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mi(e){var t;return(t=(c5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c5(e){return Zg()?e instanceof Node||e instanceof Yn(e).Node:!1}function Kr(e){return Zg()?e instanceof Element||e instanceof Yn(e).Element:!1}function Ci(e){return Zg()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function nS(e){return!Zg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}function hm(e){const{overflow:t,overflowX:s,overflowY:r,display:i}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(i)}function $U(e){return["table","td","th"].includes(Td(e))}function Jg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qj(e){const t=Yj(),s=Kr(e)?Qr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function UU(e){let t=co(e);for(;Ci(t)&&!od(t);){if(Qj(t))return t;if(Jg(t))return null;t=co(t)}return null}function Yj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function od(e){return["html","body","#document"].includes(Td(e))}function Qr(e){return Yn(e).getComputedStyle(e)}function ex(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Td(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nS(e)&&e.host||Mi(e);return nS(t)?t.host:t}function d5(e){const t=co(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ci(t)&&hm(t)?t:d5(t)}function rh(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=d5(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Yn(i);if(a){const l=C0(o);return t.concat(o,o.visualViewport||[],hm(i)?i:[],l&&s?rh(l):[])}return t.concat(i,rh(i,[],s))}function C0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function u5(e){const t=Qr(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ci(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:r,l=Tf(s)!==a||Tf(r)!==o;return l&&(s=a,r=o),{width:s,height:r,$:l}}function Xj(e){return Kr(e)?e:e.contextElement}function lc(e){const t=Xj(e);if(!Ci(t))return wi(1);const s=t.getBoundingClientRect(),{width:r,height:i,$:a}=u5(t);let o=(a?Tf(s.width):s.width)/r,l=(a?Tf(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const BU=wi(0);function h5(e){const t=Yn(e);return!Yj()||!t.visualViewport?BU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zU(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Yn(e)?!1:t}function vl(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),a=Xj(e);let o=wi(1);t&&(r?Kr(r)&&(o=lc(r)):o=lc(e));const l=zU(a,s,r)?h5(a):wi(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,u=i.height/o.y;if(a){const m=Yn(a),p=r&&Kr(r)?Yn(r):r;let j=m,y=C0(j);for(;y&&r&&p!==j;){const g=lc(y),f=y.getBoundingClientRect(),b=Qr(y),x=f.left+(y.clientLeft+parseFloat(b.paddingLeft))*g.x,w=f.top+(y.clientTop+parseFloat(b.paddingTop))*g.y;c*=g.x,d*=g.y,h*=g.x,u*=g.y,c+=x,d+=w,j=Yn(y),y=C0(j)}}return Ef({width:h,height:u,x:c,y:d})}function Zj(e,t){const s=ex(e).scrollLeft;return t?t.left+s:vl(Mi(e)).left+s}function m5(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(s?0:Zj(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function VU(e){let{elements:t,rect:s,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Mi(r),l=t?Jg(t.floating):!1;if(r===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=wi(1);const h=wi(0),u=Ci(r);if((u||!u&&!a)&&((Td(r)!=="body"||hm(o))&&(c=ex(r)),Ci(r))){const p=vl(r);d=lc(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!u&&!a?m5(o,c,!0):wi(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:s.y*d.y-c.scrollTop*d.y+h.y+m.y}}function qU(e){return Array.from(e.getClientRects())}function HU(e){const t=Mi(e),s=ex(e),r=e.ownerDocument.body,i=Hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Zj(e);const l=-s.scrollTop;return Qr(r).direction==="rtl"&&(o+=Hn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function WU(e,t){const s=Yn(e),r=Mi(e),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=Yj();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function GU(e,t){const s=vl(e,!0,t==="fixed"),r=s.top+e.clientTop,i=s.left+e.clientLeft,a=Ci(e)?lc(e):wi(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function rS(e,t,s){let r;if(t==="viewport")r=WU(e,s);else if(t==="document")r=HU(Mi(e));else if(Kr(t))r=GU(t,s);else{const i=h5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ef(r)}function p5(e,t){const s=co(e);return s===t||!Kr(s)||od(s)?!1:Qr(s).position==="fixed"||p5(s,t)}function KU(e,t){const s=t.get(e);if(s)return s;let r=rh(e,[],!1).filter(l=>Kr(l)&&Td(l)!=="body"),i=null;const a=Qr(e).position==="fixed";let o=a?co(e):e;for(;Kr(o)&&!od(o);){const l=Qr(o),c=Qj(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hm(o)&&!c&&p5(e,o))?r=r.filter(h=>h!==o):i=l,o=co(o)}return t.set(e,r),r}function QU(e){let{element:t,boundary:s,rootBoundary:r,strategy:i}=e;const o=[...s==="clippingAncestors"?Jg(t)?[]:KU(t,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,h)=>{const u=rS(t,h,i);return d.top=Hn(u.top,d.top),d.right=oo(u.right,d.right),d.bottom=oo(u.bottom,d.bottom),d.left=Hn(u.left,d.left),d},rS(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YU(e){const{width:t,height:s}=u5(e);return{width:t,height:s}}function XU(e,t,s){const r=Ci(t),i=Mi(t),a=s==="fixed",o=vl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=wi(0);if(r||!r&&!a)if((Td(t)!=="body"||hm(i))&&(l=ex(t)),r){const m=vl(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=Zj(i));const d=i&&!r&&!a?m5(i,l):wi(0),h=o.left+l.scrollLeft-c.x-d.x,u=o.top+l.scrollTop-c.y-d.y;return{x:h,y:u,width:o.width,height:o.height}}function py(e){return Qr(e).position==="static"}function iS(e,t){if(!Ci(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Mi(e)===s&&(s=s.ownerDocument.body),s}function f5(e,t){const s=Yn(e);if(Jg(e))return s;if(!Ci(e)){let i=co(e);for(;i&&!od(i);){if(Kr(i)&&!py(i))return i;i=co(i)}return s}let r=iS(e,t);for(;r&&$U(r)&&py(r);)r=iS(r,t);return r&&od(r)&&py(r)&&!Qj(r)?s:r||UU(e)||s}const ZU=async function(e){const t=this.getOffsetParent||f5,s=this.getDimensions,r=await s(e.floating);return{reference:XU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JU(e){return Qr(e).direction==="rtl"}const eB={convertOffsetParentRelativeRectToViewportRelativeRect:VU,getDocumentElement:Mi,getClippingRect:QU,getOffsetParent:f5,getElementRects:ZU,getClientRects:qU,getDimensions:YU,getScale:lc,isElement:Kr,isRTL:JU};function g5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tB(e,t){let s=null,r;const i=Mi(e);function a(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:u,width:m,height:p}=d;if(l||t(),!m||!p)return;const j=Ym(u),y=Ym(i.clientWidth-(h+m)),g=Ym(i.clientHeight-(u+p)),f=Ym(h),x={rootMargin:-j+"px "+-y+"px "+-g+"px "+-f+"px",threshold:Hn(0,oo(1,c))||1};let w=!0;function S(N){const C=N[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!g5(d,e.getBoundingClientRect())&&o(),w=!1}try{s=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{s=new IntersectionObserver(S,x)}s.observe(e)}return o(!0),a}function sB(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Xj(e),h=i||a?[...d?rh(d):[],...rh(t)]:[];h.forEach(f=>{i&&f.addEventListener("scroll",s,{passive:!0}),a&&f.addEventListener("resize",s)});const u=d&&l?tB(d,s):null;let m=-1,p=null;o&&(p=new ResizeObserver(f=>{let[b]=f;b&&b.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let j,y=c?vl(e):null;c&&g();function g(){const f=vl(e);y&&!g5(y,f)&&s(),y=f,j=requestAnimationFrame(g)}return s(),()=>{var f;h.forEach(b=>{i&&b.removeEventListener("scroll",s),a&&b.removeEventListener("resize",s)}),u==null||u(),(f=p)==null||f.disconnect(),p=null,c&&cancelAnimationFrame(j)}}const nB=RU,rB=FU,iB=DU,aB=LU,oB=MU,aS=AU,lB=OU,cB=(e,t,s)=>{const r=new Map,i={platform:eB,...s},a={...i.platform,_c:r};return EU(e,t,{...i,platform:a})};var Op=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Af(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Af(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Af(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function x5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oS(e,t){const s=x5(e);return Math.round(t*s)/s}function fy(e){const t=v.useRef(e);return Op(()=>{t.current=e}),t}function dB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=v.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=v.useState(r);Af(m,r)||p(r);const[j,y]=v.useState(null),[g,f]=v.useState(null),b=v.useCallback(V=>{V!==N.current&&(N.current=V,y(V))},[]),x=v.useCallback(V=>{V!==C.current&&(C.current=V,f(V))},[]),w=a||j,S=o||g,N=v.useRef(null),C=v.useRef(null),k=v.useRef(h),T=c!=null,D=fy(c),P=fy(i),M=fy(d),X=v.useCallback(()=>{if(!N.current||!C.current)return;const V={placement:t,strategy:s,middleware:m};P.current&&(V.platform=P.current),cB(N.current,C.current,V).then(L=>{const oe={...L,isPositioned:M.current!==!1};ee.current&&!Af(k.current,oe)&&(k.current=oe,ma.flushSync(()=>{u(oe)}))})},[m,t,s,P,M]);Op(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(V=>({...V,isPositioned:!1})))},[d]);const ee=v.useRef(!1);Op(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Op(()=>{if(w&&(N.current=w),S&&(C.current=S),w&&S){if(D.current)return D.current(w,S,X);X()}},[w,S,X,D,T]);const F=v.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:x}),[b,x]),re=v.useMemo(()=>({reference:w,floating:S}),[w,S]),fe=v.useMemo(()=>{const V={position:s,left:0,top:0};if(!re.floating)return V;const L=oS(re.floating,h.x),oe=oS(re.floating,h.y);return l?{...V,transform:"translate("+L+"px, "+oe+"px)",...x5(re.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:L,top:oe}},[s,l,re.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:X,refs:F,elements:re,floatingStyles:fe}),[h,X,F,re,fe])}const uB=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:i}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?aS({element:r.current,padding:i}).fn(s):{}:r?aS({element:r,padding:i}).fn(s):{}}}},hB=(e,t)=>({...nB(e),options:[e,t]}),mB=(e,t)=>({...rB(e),options:[e,t]}),pB=(e,t)=>({...lB(e),options:[e,t]}),fB=(e,t)=>({...iB(e),options:[e,t]}),gB=(e,t)=>({...aB(e),options:[e,t]}),xB=(e,t)=>({...oB(e),options:[e,t]}),yB=(e,t)=>({...uB(e),options:[e,t]});var vB="Arrow",y5=v.forwardRef((e,t)=>{const{children:s,width:r=10,height:i=5,...a}=e;return n.jsx(Be.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});y5.displayName=vB;var bB=y5;function tx(e){const[t,s]=v.useState(void 0);return _s(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Jj="Popper",[v5,sx]=On(Jj),[jB,b5]=v5(Jj),j5=e=>{const{__scopePopper:t,children:s}=e,[r,i]=v.useState(null);return n.jsx(jB,{scope:t,anchor:r,onAnchorChange:i,children:s})};j5.displayName=Jj;var w5="PopperAnchor",N5=v.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...i}=e,a=b5(w5,s),o=v.useRef(null),l=xt(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(Be.div,{...i,ref:l})});N5.displayName=w5;var ew="PopperContent",[wB,NB]=v5(ew),S5=v.forwardRef((e,t)=>{var Le,yt,Et,vt,bt,rt;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:j,...y}=e,g=b5(ew,s),[f,b]=v.useState(null),x=xt(t,es=>b(es)),[w,S]=v.useState(null),N=tx(w),C=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],M=P.length>0,X={padding:D,boundary:P.filter(CB),altBoundary:M},{refs:ee,floatingStyles:F,placement:re,isPositioned:fe,middlewareData:V}=dB({strategy:"fixed",placement:T,whileElementsMounted:(...es)=>sB(...es,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[hB({mainAxis:i+k,alignmentAxis:o}),c&&mB({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?pB():void 0,...X}),c&&fB({...X}),gB({...X,apply:({elements:es,rects:un,availableWidth:Fi,availableHeight:ei})=>{const{width:ti,height:Ld}=un.reference,fa=es.floating.style;fa.setProperty("--radix-popper-available-width",`${Fi}px`),fa.setProperty("--radix-popper-available-height",`${ei}px`),fa.setProperty("--radix-popper-anchor-width",`${ti}px`),fa.setProperty("--radix-popper-anchor-height",`${Ld}px`)}}),w&&yB({element:w,padding:l}),kB({arrowWidth:C,arrowHeight:k}),m&&xB({strategy:"referenceHidden",...X})]}),[L,oe]=_5(re),be=hs(j);_s(()=>{fe&&(be==null||be())},[fe,be]);const st=(Le=V.arrow)==null?void 0:Le.x,_t=(yt=V.arrow)==null?void 0:yt.y,Ft=((Et=V.arrow)==null?void 0:Et.centerOffset)!==0,[ms,Qt]=v.useState();return _s(()=>{f&&Qt(window.getComputedStyle(f).zIndex)},[f]),n.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:fe?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ms,"--radix-popper-transform-origin":[(vt=V.transformOrigin)==null?void 0:vt.x,(bt=V.transformOrigin)==null?void 0:bt.y].join(" "),...((rt=V.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(wB,{scope:s,placedSide:L,onArrowChange:S,arrowX:st,arrowY:_t,shouldHideArrow:Ft,children:n.jsx(Be.div,{"data-side":L,"data-align":oe,...y,ref:x,style:{...y.style,animation:fe?void 0:"none"}})})})});S5.displayName=ew;var C5="PopperArrow",SB={top:"bottom",right:"left",bottom:"top",left:"right"},k5=v.forwardRef(function(t,s){const{__scopePopper:r,...i}=t,a=NB(C5,r),o=SB[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(bB,{...i,ref:s,style:{...i.style,display:"block"}})})});k5.displayName=C5;function CB(e){return e!==null}var kB=e=>({name:"transformOrigin",options:e,fn(t){var g,f,b;const{placement:s,rects:r,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=_5(s),u={start:"0%",center:"50%",end:"100%"}[h],m=(((f=i.arrow)==null?void 0:f.x)??0)+l/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let j="",y="";return d==="bottom"?(j=o?u:`${m}px`,y=`${-c}px`):d==="top"?(j=o?u:`${m}px`,y=`${r.floating.height+c}px`):d==="right"?(j=`${-c}px`,y=o?u:`${p}px`):d==="left"&&(j=`${r.floating.width+c}px`,y=o?u:`${p}px`),{data:{x:j,y}}}});function _5(e){const[t,s="center"]=e.split("-");return[t,s]}var T5=j5,P5=N5,E5=S5,A5=k5,_B="Portal",nx=v.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[i,a]=v.useState(!1);_s(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?UA.createPortal(n.jsx(Be.div,{...r,ref:t}),o):null});nx.displayName=_B;function TB(e,t){return v.useReducer((s,r)=>t[s][r]??s,e)}var yr=e=>{const{present:t,children:s}=e,r=PB(t),i=typeof s=="function"?s({present:r.isPresent}):v.Children.only(s),a=xt(r.ref,EB(i));return typeof s=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};yr.displayName="Presence";function PB(e){const[t,s]=v.useState(),r=v.useRef({}),i=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=TB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Xm(r.current);a.current=l==="mounted"?d:"none"},[l]),_s(()=>{const d=r.current,h=i.current;if(h!==e){const m=a.current,p=Xm(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),_s(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=p=>{const y=Xm(r.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=p=>{p.target===t&&(a.current=Xm(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function Xm(e){return(e==null?void 0:e.animationName)||"none"}function EB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function ki({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,i]=AB({defaultProp:t,onChange:s}),a=e!==void 0,o=a?e:r,l=hs(s),c=v.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else i(d)},[a,e,i,l]);return[o,c]}function AB({defaultProp:e,onChange:t}){const s=v.useState(e),[r]=s,i=v.useRef(r),a=hs(t);return v.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var DB="VisuallyHidden",mm=v.forwardRef((e,t)=>n.jsx(Be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));mm.displayName=DB;var MB=mm,[rx,fhe]=On("Tooltip",[sx]),ix=sx(),D5="TooltipProvider",IB=700,k0="tooltip.open",[RB,tw]=rx(D5),M5=e=>{const{__scopeTooltip:t,delayDuration:s=IB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(RB,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};M5.displayName=D5;var ax="Tooltip",[FB,ox]=rx(ax),I5=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=tw(ax,e.__scopeTooltip),d=ix(t),[h,u]=v.useState(null),m=Ji(),p=v.useRef(0),j=o??c.disableHoverableContent,y=l??c.delayDuration,g=v.useRef(!1),[f=!1,b]=ki({prop:r,defaultProp:i,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(k0))):c.onClose(),a==null||a(C)}}),x=v.useMemo(()=>f?g.current?"delayed-open":"instant-open":"closed",[f]),w=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),S=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},y)},[y,b]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(T5,{...d,children:n.jsx(FB,{scope:t,contentId:m,open:f,stateAttribute:x,trigger:h,onTriggerChange:u,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?N():w()},[c.isOpenDelayedRef,N,w]),onTriggerLeave:v.useCallback(()=>{j?S():(window.clearTimeout(p.current),p.current=0)},[S,j]),onOpen:w,onClose:S,disableHoverableContent:j,children:s})})};I5.displayName=ax;var _0="TooltipTrigger",R5=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=ox(_0,s),a=tw(_0,s),o=ix(s),l=v.useRef(null),c=xt(t,l,i.onTriggerChange),d=v.useRef(!1),h=v.useRef(!1),u=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),n.jsx(P5,{asChild:!0,...o,children:n.jsx(Be.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Fe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Fe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Fe(e.onBlur,i.onClose),onClick:Fe(e.onClick,i.onClose)})})});R5.displayName=_0;var OB="TooltipPortal",[ghe,LB]=rx(OB,{forceMount:void 0}),ld="TooltipContent",F5=v.forwardRef((e,t)=>{const s=LB(ld,e.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=e,o=ox(ld,e.__scopeTooltip);return n.jsx(yr,{present:r||o.open,children:o.disableHoverableContent?n.jsx(O5,{side:i,...a,ref:t}):n.jsx($B,{side:i,...a,ref:t})})}),$B=v.forwardRef((e,t)=>{const s=ox(ld,e.__scopeTooltip),r=tw(ld,e.__scopeTooltip),i=v.useRef(null),a=xt(t,i),[o,l]=v.useState(null),{trigger:c,onClose:d}=s,h=i.current,{onPointerInTransitChange:u}=r,m=v.useCallback(()=>{l(null),u(!1)},[u]),p=v.useCallback((j,y)=>{const g=j.currentTarget,f={x:j.clientX,y:j.clientY},b=qB(f,g.getBoundingClientRect()),x=HB(f,b),w=WB(y.getBoundingClientRect()),S=KB([...x,...w]);l(S),u(!0)},[u]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&h){const j=g=>p(g,h),y=g=>p(g,c);return c.addEventListener("pointerleave",j),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",y)}}},[c,h,p,m]),v.useEffect(()=>{if(o){const j=y=>{const g=y.target,f={x:y.clientX,y:y.clientY},b=(c==null?void 0:c.contains(g))||(h==null?void 0:h.contains(g)),x=!GB(f,o);b?m():x&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,h,o,d,m]),n.jsx(O5,{...e,ref:a})}),[UB,BB]=rx(ax,{isInside:!1}),zB=aU("TooltipContent"),O5=v.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=ox(ld,s),d=ix(s),{onClose:h}=c;return v.useEffect(()=>(document.addEventListener(k0,h),()=>document.removeEventListener(k0,h)),[h]),v.useEffect(()=>{if(c.trigger){const u=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,h]),n.jsx(um,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:n.jsxs(E5,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(zB,{children:r}),n.jsx(UB,{scope:s,isInside:!0,children:n.jsx(MB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});F5.displayName=ld;var L5="TooltipArrow",VB=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=ix(s);return BB(L5,s).isInside?null:n.jsx(A5,{...i,...r,ref:t})});VB.displayName=L5;function qB(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HB(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function WB(e){const{top:t,right:s,bottom:r,left:i}=e;return[{x:i,y:t},{x:s,y:t},{x:s,y:r},{x:i,y:r}]}function GB(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,h=t[o].y;c>r!=h>r&&s<(d-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function KB(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),QB(t)}function QB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var YB=M5,XB=I5,ZB=R5,$5=F5;function U5(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=U5(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function B5(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=U5(e))&&(r&&(r+=" "),r+=t);return r}const sw="-",JB=e=>{const t=tz(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(sw);return l[0]===""&&l.length!==1&&l.shift(),z5(l,t)||ez(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},z5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?z5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(sw);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},lS=/^\[(.+)\]$/,ez=e=>{if(lS.test(e)){const t=lS.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},tz=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return nz(Object.entries(e.classGroups),s).forEach(([a,o])=>{T0(o,r,a,t)}),r},T0=(e,t,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:cS(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(sz(i)){T0(i(r),t,s,r);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{T0(o,cS(t,a),s,r)})})},cS=(e,t)=>{let s=e;return t.split(sw).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},sz=e=>e.isThemeGetter,nz=(e,t)=>t?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,rz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},V5="!",iz=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,h=0,u;for(let g=0;g<l.length;g++){let f=l[g];if(d===0){if(f===i&&(r||l.slice(g,g+a)===t)){c.push(l.slice(h,g)),h=g+a;continue}if(f==="/"){u=g;continue}}f==="["?d++:f==="]"&&d--}const m=c.length===0?l:l.substring(h),p=m.startsWith(V5),j=p?m.substring(1):m,y=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:j,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},az=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},oz=e=>({cache:rz(e.cacheSize),parseClassName:iz(e),...JB(e)}),lz=/\s+/,cz=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(lz);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=s(d);let j=!!p,y=r(j?m.substring(0,p):m);if(!y){if(!j){l=d+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=d+(l.length>0?" "+l:l);continue}j=!1}const g=az(h).join(":"),f=u?g+V5:g,b=f+y;if(a.includes(b))continue;a.push(b);const x=i(y,j);for(let w=0;w<x.length;++w){const S=x[w];a.push(f+S)}l=d+(l.length>0?" "+l:l)}return l};function dz(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=q5(t))&&(r&&(r+=" "),r+=s);return r}const q5=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=q5(e[r]))&&(s&&(s+=" "),s+=t);return s};function uz(e,...t){let s,r,i,a=o;function o(c){const d=t.reduce((h,u)=>u(h),e());return s=oz(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=cz(c,s);return i(c,h),h}return function(){return a(dz.apply(null,arguments))}}const Wt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},H5=/^\[(?:([a-z-]+):)?(.+)\]$/i,hz=/^\d+\/\d+$/,mz=new Set(["px","full","screen"]),pz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oi=e=>cc(e)||mz.has(e)||hz.test(e),xa=e=>Pd(e,"length",kz),cc=e=>!!e&&!Number.isNaN(Number(e)),gy=e=>Pd(e,"number",cc),Kd=e=>!!e&&Number.isInteger(Number(e)),vz=e=>e.endsWith("%")&&cc(e.slice(0,-1)),mt=e=>H5.test(e),ya=e=>pz.test(e),bz=new Set(["length","size","percentage"]),jz=e=>Pd(e,bz,W5),wz=e=>Pd(e,"position",W5),Nz=new Set(["image","url"]),Sz=e=>Pd(e,Nz,Tz),Cz=e=>Pd(e,"",_z),Qd=()=>!0,Pd=(e,t,s)=>{const r=H5.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},kz=e=>fz.test(e)&&!gz.test(e),W5=()=>!1,_z=e=>xz.test(e),Tz=e=>yz.test(e),Pz=()=>{const e=Wt("colors"),t=Wt("spacing"),s=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),a=Wt("borderRadius"),o=Wt("borderSpacing"),l=Wt("borderWidth"),c=Wt("contrast"),d=Wt("grayscale"),h=Wt("hueRotate"),u=Wt("invert"),m=Wt("gap"),p=Wt("gradientColorStops"),j=Wt("gradientColorStopPositions"),y=Wt("inset"),g=Wt("margin"),f=Wt("opacity"),b=Wt("padding"),x=Wt("saturate"),w=Wt("scale"),S=Wt("sepia"),N=Wt("skew"),C=Wt("space"),k=Wt("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",mt,t],M=()=>[mt,t],X=()=>["",Oi,xa],ee=()=>["auto",cc,mt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",mt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[cc,mt];return{cacheSize:500,separator:":",theme:{colors:[Qd],spacing:[Oi,xa],blur:["none","",ya,mt],brightness:be(),borderColor:[e],borderRadius:["none","","full",ya,mt],borderSpacing:M(),borderWidth:X(),contrast:be(),grayscale:L(),hueRotate:be(),invert:L(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[vz,xa],inset:P(),margin:P(),opacity:be(),padding:M(),saturate:be(),scale:be(),sepia:L(),skew:be(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[ya]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),mt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,mt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Kd,mt]}],"grid-cols":[{"grid-cols":[Qd]}],"col-start-end":[{col:["auto",{span:["full",Kd,mt]},mt]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Qd]}],"row-start-end":[{row:["auto",{span:[Kd,mt]},mt]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[ya]},ya]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ya,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gy]}],"font-family":[{font:[Qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",cc,gy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oi,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oi,xa]}],"underline-offset":[{"underline-offset":["auto",Oi,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),wz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Oi,mt]}],"outline-w":[{outline:[Oi,xa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[Oi,xa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ya,Cz]}],"shadow-color":[{shadow:[Qd]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ya,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Kd,mt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oi,xa,gy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ez=uz(Pz);function Oe(...e){return Ez(B5(e))}function _i(e){const s=new Date().getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60)),i=Math.floor(s/(1e3*60*60*24));return r<1?"Just now":r<24?`${r} hour${r>1?"s":""} ago`:`${i} day${i>1?"s":""} ago`}function Fs(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Lp(e){const t=new Date,s=t.getDate(),r=t.getMonth(),i=t.getFullYear();let a=new Date(i,r,e);e<s&&(a=new Date(i,r+1,e));const o=a.getTime()-t.getTime();return Math.ceil(o/(1e3*60*60*24))}function Az(){const e=[{quote:"Every small step forward is a victory worth celebrating.",author:"Unknown"},{quote:"You are braver than you believe, stronger than you seem, and smarter than you think.",author:"A.A. Milne"},{quote:"Progress, not perfection, is the goal.",author:"Unknown"},{quote:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{quote:"Your pace doesn't matter. Forward is forward.",author:"Unknown"},{quote:"Every expert was once a beginner.",author:"Helen Hayes"},{quote:"You don't have to be great to get started, but you have to get started to be great.",author:"Les Brown"},{quote:"The journey of a thousand miles begins with one step.",author:"Lao Tzu"},{quote:"You are capable of amazing things.",author:"Unknown"},{quote:"Independence comes from understanding your own strength.",author:"Unknown"},{quote:"Each day is a fresh start and a new opportunity to grow.",author:"Unknown"},{quote:"Your potential is endless.",author:"Unknown"},{quote:"Small daily improvements lead to stunning yearly results.",author:"Robin Sharma"},{quote:"Believe in yourself and all that you are.",author:"Christian D. Larson"},{quote:"You have the power to create the life you want.",author:"Unknown"},{quote:"Every challenge you face today makes you stronger for tomorrow.",author:"Unknown"},{quote:"Your independence is your superpower.",author:"Unknown"},{quote:"Growth happens outside of your comfort zone.",author:"Unknown"},{quote:"You are writing your own success story, one day at a time.",author:"Unknown"},{quote:"The skills you build today will serve you for a lifetime.",author:"Unknown"}],t=new Date,r=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24))%e.length;return e[r]}const G5=YB,Dz=XB,Mz=ZB,K5=v.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx($5,{ref:r,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));K5.displayName=$5.displayName;const Iz=1,Rz=1e6;let xy=0;function Fz(){return xy=(xy+1)%Number.MAX_SAFE_INTEGER,xy.toString()}const yy=new Map,dS=e=>{if(yy.has(e))return;const t=setTimeout(()=>{yy.delete(e),Eu({type:"REMOVE_TOAST",toastId:e})},Rz);yy.set(e,t)},Oz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Iz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?dS(s):e.toasts.forEach(r=>{dS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},$p=[];let Up={toasts:[]};function Eu(e){Up=Oz(Up,e),$p.forEach(t=>{t(Up)})}function ja({...e}){const t=Fz(),s=i=>Eu({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Eu({type:"DISMISS_TOAST",toastId:t});return Eu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:s}}function ut(){const[e,t]=v.useState(Up);return v.useEffect(()=>($p.push(t),()=>{const s=$p.indexOf(t);s>-1&&$p.splice(s,1)}),[e]),{...e,toast:ja,dismiss:s=>Eu({type:"DISMISS_TOAST",toastId:s})}}function lx(e){const t=e+"CollectionProvider",[s,r]=On(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:g,children:f}=y,b=he.useRef(null),x=he.useRef(new Map).current;return n.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:f})};o.displayName=t;const l=e+"CollectionSlot",c=ad(l),d=he.forwardRef((y,g)=>{const{scope:f,children:b}=y,x=a(l,f),w=xt(g,x.collectionRef);return n.jsx(c,{ref:w,children:b})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",m=ad(h),p=he.forwardRef((y,g)=>{const{scope:f,children:b,...x}=y,w=he.useRef(null),S=xt(g,w),N=a(h,f);return he.useEffect(()=>(N.itemMap.set(w,{ref:w,...x}),()=>void N.itemMap.delete(w))),n.jsx(m,{[u]:"",ref:S,children:b})});p.displayName=h;function j(y){const g=a(e+"CollectionConsumer",y);return he.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,C)=>x.indexOf(N.ref.current)-x.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},j,r]}var nw="ToastProvider",[rw,Lz,$z]=lx("Toast"),[Q5,xhe]=On("Toast",[$z]),[Uz,cx]=Q5(nw),Y5=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=v.useState(null),[d,h]=v.useState(0),u=v.useRef(!1),m=v.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${nw}\`. Expected non-empty \`string\`.`),n.jsx(rw.Provider,{scope:t,children:n.jsx(Uz,{scope:t,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>h(p=>p+1),[]),onToastRemove:v.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:o})})};Y5.displayName=nw;var X5="ToastViewport",Bz=["F8"],P0="toast.viewportPause",E0="toast.viewportResume",Z5=v.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=Bz,label:i="Notifications ({hotkey})",...a}=e,o=cx(X5,s),l=Lz(s),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),u=v.useRef(null),m=xt(t,u,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;v.useEffect(()=>{const g=f=>{var x;r.length!==0&&r.every(w=>f[w]||f.code===w)&&((x=u.current)==null||x.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),v.useEffect(()=>{const g=c.current,f=u.current;if(j&&g&&f){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(P0);f.dispatchEvent(N),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(E0);f.dispatchEvent(N),o.isClosePausedRef.current=!1}},w=N=>{!g.contains(N.relatedTarget)&&x()},S=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",w),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[j,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:g})=>{const b=l().map(x=>{const w=x.ref.current,S=[w,...e9(w)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?b.reverse():b).flat()},[l]);return v.useEffect(()=>{const g=u.current;if(g){const f=b=>{var S,N,C;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const k=document.activeElement,T=b.shiftKey;if(b.target===g&&T){(S=d.current)==null||S.focus();return}const M=y({tabbingDirection:T?"backwards":"forwards"}),X=M.findIndex(ee=>ee===k);vy(M.slice(X+1))?b.preventDefault():T?(N=d.current)==null||N.focus():(C=h.current)==null||C.focus()}};return g.addEventListener("keydown",f),()=>g.removeEventListener("keydown",f)}},[l,y]),n.jsxs(vU,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(A0,{ref:d,onFocusFromOutsideViewport:()=>{const g=y({tabbingDirection:"forwards"});vy(g)}}),n.jsx(rw.Slot,{scope:s,children:n.jsx(Be.ol,{tabIndex:-1,...a,ref:m})}),j&&n.jsx(A0,{ref:h,onFocusFromOutsideViewport:()=>{const g=y({tabbingDirection:"backwards"});vy(g)}})]})});Z5.displayName=X5;var J5="ToastFocusProxy",A0=v.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=e,a=cx(J5,s);return n.jsx(mm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});A0.displayName=J5;var dx="Toast",zz="toast.swipeStart",Vz="toast.swipeMove",qz="toast.swipeCancel",Hz="toast.swipeEnd",eD=v.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=ki({prop:r,defaultProp:i,onChange:a});return n.jsx(yr,{present:s||l,children:n.jsx(Kz,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hs(e.onPause),onResume:hs(e.onResume),onSwipeStart:Fe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});eD.displayName=dx;var[Wz,Gz]=Q5(dx,{onClose(){}}),Kz=v.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:p,...j}=e,y=cx(dx,s),[g,f]=v.useState(null),b=xt(t,ee=>f(ee)),x=v.useRef(null),w=v.useRef(null),S=i||y.duration,N=v.useRef(0),C=v.useRef(S),k=v.useRef(0),{onToastAdd:T,onToastRemove:D}=y,P=hs(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=y.viewport)==null||F.focus()),o()}),M=v.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(P,ee))},[P]);v.useEffect(()=>{const ee=y.viewport;if(ee){const F=()=>{M(C.current),d==null||d()},re=()=>{const fe=new Date().getTime()-N.current;C.current=C.current-fe,window.clearTimeout(k.current),c==null||c()};return ee.addEventListener(P0,re),ee.addEventListener(E0,F),()=>{ee.removeEventListener(P0,re),ee.removeEventListener(E0,F)}}},[y.viewport,S,c,d,M]),v.useEffect(()=>{a&&!y.isClosePausedRef.current&&M(S)},[a,S,y.isClosePausedRef,M]),v.useEffect(()=>(T(),()=>D()),[T,D]);const X=v.useMemo(()=>g?oD(g):null,[g]);return y.viewport?n.jsxs(n.Fragment,{children:[X&&n.jsx(Qz,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),n.jsx(Wz,{scope:s,onClose:P,children:ma.createPortal(n.jsx(rw.ItemSlot,{scope:s,children:n.jsx(yU,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||P(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...j,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,ee=>{ee.key==="Escape"&&(l==null||l(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Fe(e.onPointerDown,ee=>{ee.button===0&&(x.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Fe(e.onPointerMove,ee=>{if(!x.current)return;const F=ee.clientX-x.current.x,re=ee.clientY-x.current.y,fe=!!w.current,V=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,oe=V?L(0,F):0,be=V?0:L(0,re),st=ee.pointerType==="touch"?10:2,_t={x:oe,y:be},Ft={originalEvent:ee,delta:_t};fe?(w.current=_t,Zm(Vz,u,Ft,{discrete:!1})):uS(_t,y.swipeDirection,st)?(w.current=_t,Zm(zz,h,Ft,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(F)>st||Math.abs(re)>st)&&(x.current=null)}),onPointerUp:Fe(e.onPointerUp,ee=>{const F=w.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),w.current=null,x.current=null,F){const fe=ee.currentTarget,V={originalEvent:ee,delta:F};uS(F,y.swipeDirection,y.swipeThreshold)?Zm(Hz,p,V,{discrete:!0}):Zm(qz,m,V,{discrete:!0}),fe.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Qz=e=>{const{__scopeToast:t,children:s,...r}=e,i=cx(dx,t),[a,o]=v.useState(!1),[l,c]=v.useState(!1);return Zz(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(nx,{asChild:!0,children:n.jsx(mm,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},Yz="ToastTitle",tD=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Be.div,{...r,ref:t})});tD.displayName=Yz;var Xz="ToastDescription",sD=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Be.div,{...r,ref:t})});sD.displayName=Xz;var nD="ToastAction",rD=v.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(aD,{altText:s,asChild:!0,children:n.jsx(iw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nD}\`. Expected non-empty \`string\`.`),null)});rD.displayName=nD;var iD="ToastClose",iw=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,i=Gz(iD,s);return n.jsx(aD,{asChild:!0,children:n.jsx(Be.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,i.onClose)})})});iw.displayName=iD;var aD=v.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...i}=e;return n.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function oD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Jz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oD(r))}}),t}function Zm(e,t,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?r5(i,a):i.dispatchEvent(a)}var uS=(e,t,s=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>s:!a&&i>s};function Zz(e=()=>{}){const t=hs(e);_s(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function Jz(e){return e.nodeType===e.ELEMENT_NODE}function e9(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function vy(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var t9=Y5,lD=Z5,cD=eD,dD=tD,uD=sD,hD=rD,mD=iw;const hS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mS=B5,pm=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return mS(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=s==null?void 0:s[d],u=a==null?void 0:a[d];if(h===null)return null;const m=hS(h)||hS(u);return i[d][m]}),l=s&&Object.entries(s).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:u,className:m,...p}=h;return Object.entries(p).every(j=>{let[y,g]=j;return Array.isArray(g)?g.includes({...a,...l}[y]):{...a,...l}[y]===g})?[...d,u,m]:d},[]);return mS(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pD=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...n9,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:pD("lucide",i),...l},[...o.map(([d,h])=>v.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const s=v.forwardRef(({className:r,...i},a)=>v.createElement(r9,{ref:a,iconNode:t,className:pD(`lucide-${s9(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=ae("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ae("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ae("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=ae("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ae("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ae("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ae("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ae("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ae("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ae("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),O9=t9,_D=v.forwardRef(({className:e,...t},s)=>n.jsx(lD,{ref:s,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_D.displayName=lD.displayName;const L9=pm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border-2 p-6 pr-8 shadow-2xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-green-500 bg-white text-gray-900 shadow-green-200",destructive:"destructive group border-red-500 bg-red-50 text-red-900 shadow-red-200"}},defaultVariants:{variant:"default"}}),TD=v.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(cD,{ref:r,className:Oe(L9({variant:t}),e),...s}));TD.displayName=cD.displayName;const $9=v.forwardRef(({className:e,...t},s)=>n.jsx(hD,{ref:s,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$9.displayName=hD.displayName;const PD=v.forwardRef(({className:e,...t},s)=>n.jsx(mD,{ref:s,className:Oe("absolute right-2 top-2 rounded-md p-1 text-gray-600 opacity-100 transition-opacity hover:text-gray-900 hover:bg-gray-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-800 group-[.destructive]:hover:bg-red-100 group-[.destructive]:focus:ring-red-400",e),"toast-close":"",...t,children:n.jsx(Ed,{className:"h-4 w-4"})}));PD.displayName=mD.displayName;const ED=v.forwardRef(({className:e,...t},s)=>n.jsx(dD,{ref:s,className:Oe("text-base font-bold text-gray-900",e),...t}));ED.displayName=dD.displayName;const AD=v.forwardRef(({className:e,...t},s)=>n.jsx(uD,{ref:s,className:Oe("text-sm text-gray-700 font-medium",e),...t}));AD.displayName=uD.displayName;function U9(){const{toasts:e}=ut();return n.jsxs(O9,{children:[e.map(function({id:t,title:s,description:r,action:i,...a}){return n.jsxs(TD,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(ED,{children:s}),r&&n.jsx(AD,{children:r})]}),i,n.jsx(PD,{})]},t)}),n.jsx(_D,{})]})}async function B9(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ve(e,t,s){const r=await fetch(t,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await B9(r),r}const z9=({on401:e})=>async({queryKey:t})=>{console.log("Making query to:",t[0]);try{const s=await fetch(t[0],{credentials:"include"});if(console.log("Query response status:",s.status),console.log("Query response headers:",Object.fromEntries(s.headers.entries())),e==="returnNull"&&s.status===401)return console.log("Returning null due to 401"),null;if(!s.ok){const i=await s.text();throw console.error("Query failed:",s.status,i),new Error(`${s.status}: ${i}`)}const r=await s.json();return console.log("Query response data:",r),r}catch(s){throw console.error("Query error:",s),s}},gs=new U7({defaultOptions:{queries:{queryFn:z9({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0,retry:1,refetchOnMount:"always",retryDelay:500},mutations:{retry:!1}}}),V9="modulepreload",q9=function(e){return"/"+e},NS={},SS=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=q9(c),c in NS)return;NS[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":V9,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function H9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var DD={exports:{}},MD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=v;function W9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G9=typeof Object.is=="function"?Object.is:W9,K9=dd.useState,Q9=dd.useEffect,Y9=dd.useLayoutEffect,X9=dd.useDebugValue;function Z9(e,t){var s=t(),r=K9({inst:{value:s,getSnapshot:t}}),i=r[0].inst,a=r[1];return Y9(function(){i.value=s,i.getSnapshot=t,wy(i)&&a({inst:i})},[e,s,t]),Q9(function(){return wy(i)&&a({inst:i}),e(function(){wy(i)&&a({inst:i})})},[e]),X9(s),s}function wy(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!G9(e,s)}catch{return!0}}function J9(e,t){return t()}var eV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J9:Z9;MD.useSyncExternalStore=dd.useSyncExternalStore!==void 0?dd.useSyncExternalStore:eV;DD.exports=MD;var tV=DD.exports;const sV=OE.useInsertionEffect,nV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rV=nV?v.useLayoutEffect:v.useEffect,iV=sV||rV,ID=e=>{const t=v.useRef([e,(...s)=>t[0](...s)]).current;return iV(()=>{t[0]=e}),t[1]},aV="popstate",hw="pushState",mw="replaceState",oV="hashchange",CS=[aV,hw,mw,oV],lV=e=>{for(const t of CS)addEventListener(t,e);return()=>{for(const t of CS)removeEventListener(t,e)}},RD=(e,t)=>tV.useSyncExternalStore(lV,e,t),cV=()=>location.search,dV=({ssrSearch:e=""}={})=>RD(cV,()=>e),kS=()=>location.pathname,uV=({ssrPath:e}={})=>RD(kS,e?()=>e:kS),hV=(e,{replace:t=!1,state:s=null}={})=>history[t?mw:hw](s,"",e),mV=(e={})=>[uV(e),hV],_S=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_S]>"u"){for(const e of[hw,mw]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,_S,{value:!0})}const pV=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",FD=(e="")=>e==="/"?"":e,fV=(e,t)=>e[0]==="~"?e.slice(1):FD(t)+e,gV=(e="",t)=>pV(TS(FD(e)),TS(t)),TS=e=>{try{return decodeURI(e)}catch{return e}},OD={hook:mV,searchHook:dV,parser:H9,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},LD=v.createContext(OD),gm=()=>v.useContext(LD),$D={},UD=v.createContext($D),xV=()=>v.useContext(UD),px=e=>{const[t,s]=e.hook(e);return[gV(e.base,t),ID((r,i)=>s(fV(r,e.base),i))]},Ln=()=>px(gm()),BD=(e,t,s,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((u,m)=>[u,c[m]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},yV=({children:e,...t})=>{var h,u;const s=gm(),r=t.hook?OD:s;let i=r;const[a,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=v.useRef({}),c=l.current,d=c;for(let m in r){const p=m==="base"?r[m]+(t[m]||""):t[m]||r[m];c===d&&p!==d[m]&&(l.current=d={...d}),d[m]=p,p!==r[m]&&(i=d)}return v.createElement(LD.Provider,{value:i,children:e})},PS=({children:e,component:t},s)=>t?v.createElement(t,{params:s}):typeof e=="function"?e(s):e,vV=e=>{let t=v.useRef($D),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},Nt=({path:e,nest:t,match:s,...r})=>{const i=gm(),[a]=px(i),[o,l,c]=s??BD(i.parser,e,a,t),d=vV({...xV(),...l});if(!o)return null;const h=c?v.createElement(yV,{base:c},PS(r,d)):PS(r,d);return v.createElement(UD.Provider,{value:d,children:h})},Ue=v.forwardRef((e,t)=>{const s=gm(),[r,i]=px(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:u,state:m,...p}=e,j=ID(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),i(o,e)))}),y=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&v.isValidElement(d)?v.cloneElement(d,{onClick:j,href:y}):v.createElement("a",{...p,onClick:j,href:y,className:h!=null&&h.call?h(r===o):h,children:d,ref:t})}),zD=e=>Array.isArray(e)?e.flatMap(t=>zD(t&&t.type===v.Fragment?t.props.children:t)):[e],bV=({children:e,location:t})=>{const s=gm(),[r]=px(s);for(const i of zD(e)){let a=0;if(v.isValidElement(i)&&(a=BD(s.parser,i.props.path,t||r,i.props.nest))[0])return v.cloneElement(i,{match:a})}return null},ES={isMobileDevice(){return/Mobile|Android|iPhone|iPad|iPod|BlackBerry|Opera Mini/i.test(navigator.userAgent)},async ensureSessionPersistence(){try{const e=await fetch("/api/user",{method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});return console.log("Session verification response:",e.status),e.ok}catch(e){return console.error("Session verification failed:",e),!1}},async navigateWithSessionCheck(e){const t=this.isMobileDevice();if(console.log("Navigating to:",e,"Mobile:",t),t){const s=await this.ensureSessionPersistence();if(console.log("Session valid before navigation:",s),!s){console.warn("Session invalid on mobile, redirecting to login"),window.location.href="/login";return}}window.history.pushState({},"",e),window.dispatchEvent(new PopStateEvent("popstate"))}};function jV(){const[e,t]=v.useState(!1),[,s]=Ln(),r=v.useRef(null),{data:i}=xe({queryKey:["/api/user"]});return v.useEffect(()=>{function a(o){r.current&&!r.current.contains(o.target)&&t(!1)}return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]),n.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:async a=>{a.preventDefault(),console.log("Logo clicked - checking session and navigating"),ES.isMobileDevice()?await ES.ensureSessionPersistence()?s("/dashboard"):(console.warn("Session lost, redirecting to login"),s("/login")):s("/dashboard")},children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"h-6 w-6 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"AdaptaLyfe"})]}),n.jsxs("div",{className:"hidden xl:flex items-center gap-2",children:[n.jsx(Ue,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Home"}),n.jsx(Ue,{href:"/daily-tasks",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Tasks"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-600",children:n.jsx("span",{className:"hidden lg:block",children:(i==null?void 0:i.name)||"User"})}),n.jsx("div",{children:n.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors shadow-sm",children:[e?n.jsx(Ed,{className:"h-5 w-5"}):n.jsx(vD,{className:"h-5 w-5"}),n.jsx("span",{className:"hidden sm:block text-xs font-medium",children:"Menu"})]})})]})]}),e&&n.jsx("div",{ref:r,className:"absolute right-0 top-16 w-80 max-w-[90vw] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mr-4",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Access to All Features"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Ue,{href:"/dashboard",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(aw,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Dashboard"})]})}),n.jsx(Ue,{href:"/daily-tasks",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(uw,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Daily Tasks"})]})}),n.jsx(Ue,{href:"/financial",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Ti,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Financial"})]})}),n.jsx(Ue,{href:"/mood-tracking",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(mr,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Mood Tracking"})]})}),n.jsx(Ue,{href:"/medical",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(CD,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Medical Info"})]})}),n.jsx(Ue,{href:"/pharmacy",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ow,{className:"w-4 h-4 text-pink-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Pharmacy"})]})}),n.jsx(Ue,{href:"/meal-shopping",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ll,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Meals & Shopping"})]})}),n.jsx(Ue,{href:"/calendar",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Vt,{className:"w-4 h-4 text-indigo-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Calendar"})]})}),n.jsx(Ue,{href:"/academic-planner",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(mx,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Student Planner"})]})}),n.jsx(Ue,{href:"/skills-milestones",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Zs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Life Skills"})]})}),n.jsx(Ue,{href:"/personal-documents",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ol,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Personal Documents"})]})}),n.jsx(Ue,{href:"/caregiver",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Ff,{className:"w-4 h-4 text-teal-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Support Network"})]})}),n.jsx(Ue,{href:"/caregiver-dashboard",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(is,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-xs font-medium",children:"🔐 Caregiver Dashboard"})]})}),n.jsx(Ue,{href:"/caregiver-setup",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ta,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:"🎯 Caregiver Setup"})]})}),n.jsx(Ue,{href:"/resources",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[n.jsx(ho,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Resources"})]})}),n.jsx(Ue,{href:"/rewards",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-yellow-50 bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[n.jsx(po,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-xs font-bold text-yellow-700",children:"🏆 Rewards"})]})})]}),n.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[n.jsx(Ue,{href:"/resources",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md bg-red-600 hover:bg-red-700 text-white mb-2 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(Xt,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Emergency Contacts"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Ue,{href:"/settings",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-gray-200 hover:bg-gray-50 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(mo,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Settings"})]})}),n.jsx(Ue,{href:"/features",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-blue-200 bg-blue-50 hover:bg-blue-100 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(ca,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Features"})]})})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg p-3 mt-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Ff,{className:"text-white",size:16})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.name)||"Loading..."}),n.jsx("div",{className:"text-xs text-gray-500",children:(i==null?void 0:i.email)||""})]}),n.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Demo"})]})]})})]})})}const wV=pm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=v.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},a)=>{const o=r?s5:"button";return n.jsx(o,{className:Oe(wV({variant:t,size:s,className:e})),ref:a,...i})});E.displayName="Button";function NV(){const[e]=Ln(),[t,s]=v.useState(!1),r=[{name:"Home",href:"/",icon:aw,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Tasks",href:"/daily-tasks",icon:uw,activeColor:"text-green-600",activeBg:"bg-green-100"},{name:"Money",href:"/financial",icon:Ti,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Mood",href:"/mood-tracking",icon:ot,activeColor:"text-purple-600",activeBg:"bg-purple-100"}],i=[{name:"Meals & Shopping",href:"/meal-shopping",icon:ll},{name:"Calendar",href:"/calendar",icon:Vt},{name:"Skills",href:"/skills-milestones",icon:Zs},{name:"Medical",href:"/medical",icon:ot},{name:"Resources",href:"/resources",icon:ot},{name:"Support",href:"/caregiver",icon:ot}],a=o=>o==="/"?e==="/":e.startsWith(o);return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>s(!1),children:n.jsx("div",{className:"absolute bottom-16 left-0 right-0 bg-white border-t border-gray-200 rounded-t-xl p-4",children:n.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(o=>{const l=o.icon;return n.jsx(Ue,{href:o.href,children:n.jsxs(E,{variant:"ghost",className:`w-full h-16 flex flex-col items-center justify-center gap-1 ${a(o.href)?"bg-blue-100 text-blue-600":"text-gray-600"}`,onClick:()=>s(!1),children:[n.jsx(l,{size:20}),n.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)})})})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30 md:hidden",children:n.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[r.map(o=>{const l=o.icon,c=a(o.href);return n.jsx(Ue,{href:o.href,children:n.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${c?`${o.activeBg} ${o.activeColor}`:"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(l,{size:18}),n.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)}),n.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${t?"bg-gray-100 text-gray-900":"text-gray-600 hover:text-gray-900"}`,onClick:()=>s(!t),children:[n.jsx(vD,{size:18}),n.jsx("span",{className:"text-xs font-medium",children:"More"})]})]})}),n.jsx("div",{className:"h-16 md:hidden"})]})}const $=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$.displayName="Card";const le=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const ce=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const at=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("text-sm text-muted-foreground",e),...t}));at.displayName="CardDescription";const H=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("p-6 pt-0",e),...t}));H.displayName="CardContent";const SV=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("flex items-center p-6 pt-0",e),...t}));SV.displayName="CardFooter";function CV(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx($,{className:"w-full max-w-md mx-4",children:n.jsxs(H,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(h9,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function pn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kV=typeof Symbol=="function"&&Symbol.observable||"@@observable",AS=kV,Ny=()=>Math.random().toString(36).substring(7).split("").join("."),_V={INIT:`@@redux/INIT${Ny()}`,REPLACE:`@@redux/REPLACE${Ny()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ny()}`},DS=_V;function TV(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VD(e,t,s){if(typeof e!="function")throw new Error(pn(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(pn(1));return s(VD)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,c=!1;function d(){o===a&&(o=new Map,a.forEach((g,f)=>{o.set(f,g)}))}function h(){if(c)throw new Error(pn(3));return i}function u(g){if(typeof g!="function")throw new Error(pn(4));if(c)throw new Error(pn(5));let f=!0;d();const b=l++;return o.set(b,g),function(){if(f){if(c)throw new Error(pn(6));f=!1,d(),o.delete(b),a=null}}}function m(g){if(!TV(g))throw new Error(pn(7));if(typeof g.type>"u")throw new Error(pn(8));if(typeof g.type!="string")throw new Error(pn(17));if(c)throw new Error(pn(9));try{c=!0,i=r(i,g)}finally{c=!1}return(a=o).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(pn(10));r=g,m({type:DS.REPLACE})}function j(){const g=u;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(pn(11));function b(){const w=f;w.next&&w.next(h())}return b(),{unsubscribe:g(b)}},[AS](){return this}}}return m({type:DS.INIT}),{dispatch:m,subscribe:u,getState:h,replaceReducer:p,[AS]:j}}function MS(e,t){return function(...s){return t(e.apply(this,s))}}function IS(e,t){if(typeof e=="function")return MS(e,t);if(typeof e!="object"||e===null)throw new Error(pn(16));const s={};for(const r in e){const i=e[r];typeof i=="function"&&(s[r]=MS(i,t))}return s}function qD(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...r)=>t(s(...r)))}function PV(...e){return t=>(s,r)=>{const i=t(s,r);let a=()=>{throw new Error(pn(15))};const o={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=e.map(c=>c(o));return a=qD(...l)(i.dispatch),{...i,dispatch:a}}}var EV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=v;function AV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DV=typeof Object.is=="function"?Object.is:AV,MV=xm.useSyncExternalStore,IV=xm.useRef,RV=xm.useEffect,FV=xm.useMemo,OV=xm.useDebugValue;EV.useSyncExternalStoreWithSelector=function(e,t,s,r,i){var a=IV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=FV(function(){function c(p){if(!d){if(d=!0,h=p,p=r(p),i!==void 0&&o.hasValue){var j=o.value;if(i(j,p))return u=j}return u=p}if(j=u,DV(h,p))return j;var y=r(p);return i!==void 0&&i(j,y)?(h=p,j):(h=p,u=y)}var d=!1,h,u,m=s===void 0?null:s;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,s,r,i]);var l=MV(e,a[0],a[1]);return RV(function(){o.hasValue=!0,o.value=l},[l]),OV(l),l};var LV=v.version.startsWith("19"),$V=Symbol.for(LV?"react.transitional.element":"react.element"),UV=Symbol.for("react.portal"),BV=Symbol.for("react.fragment"),zV=Symbol.for("react.strict_mode"),VV=Symbol.for("react.profiler"),qV=Symbol.for("react.consumer"),HV=Symbol.for("react.context"),HD=Symbol.for("react.forward_ref"),WV=Symbol.for("react.suspense"),GV=Symbol.for("react.suspense_list"),pw=Symbol.for("react.memo"),KV=Symbol.for("react.lazy"),QV=HD,YV=pw;function XV(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case $V:switch(e=e.type,e){case BV:case VV:case zV:case WV:case GV:return e;default:switch(e=e&&e.$$typeof,e){case HV:case HD:case KV:case pw:return e;case qV:return e;default:return t}}case UV:return t}}}function ZV(e){return XV(e)===pw}function JV(e,t,s,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,c,d,h,u,m;function p(b,x){return c=b,d=x,h=e(c,d),u=t(r,d),m=s(h,u,d),l=!0,m}function j(){return h=e(c,d),t.dependsOnOwnProps&&(u=t(r,d)),m=s(h,u,d),m}function y(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(u=t(r,d)),m=s(h,u,d),m}function g(){const b=e(c,d),x=!o(b,h);return h=b,x&&(m=s(h,u,d)),m}function f(b,x){const w=!a(x,d),S=!i(b,c,x,d);return c=b,d=x,w&&S?j():w?y():S?g():m}return function(x,w){return l?f(x,w):p(x,w)}}function eq(e,{initMapStateToProps:t,initMapDispatchToProps:s,initMergeProps:r,...i}){const a=t(e,i),o=s(e,i),l=r(e,i);return JV(a,o,l,e,i)}function tq(e,t){const s={};for(const r in e){const i=e[r];typeof i=="function"&&(s[r]=(...a)=>t(i(...a)))}return s}function F0(e){return function(s){const r=e(s);function i(){return r}return i.dependsOnOwnProps=!1,i}}function RS(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function WD(e,t){return function(r,{displayName:i}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=RS(e);let d=a(l,c);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=RS(d),d=a(l,c)),d},a}}function fw(e,t){return(s,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function sq(e){return e&&typeof e=="object"?F0(t=>tq(e,t)):e?typeof e=="function"?WD(e):fw(e,"mapDispatchToProps"):F0(t=>({dispatch:t}))}function nq(e){return e?typeof e=="function"?WD(e):fw(e,"mapStateToProps"):F0(()=>({}))}function rq(e,t,s){return{...s,...e,...t}}function iq(e){return function(s,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(c,d,h){const u=e(c,d,h);return a?i(u,o)||(o=u):(a=!0,o=u),o}}}function aq(e){return e?typeof e=="function"?iq(e):fw(e,"mergeProps"):()=>rq}function oq(e){e()}function lq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oq(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let r=e;for(;r;)s.push(r),r=r.next;return s},subscribe(s){let r=!0;const i=t={callback:s,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var FS={notify(){},get:()=>[]};function GD(e,t){let s,r=FS,i=0,a=!1;function o(y){h();const g=r.subscribe(y);let f=!1;return()=>{f||(f=!0,g(),u())}}function l(){r.notify()}function c(){j.onStateChange&&j.onStateChange()}function d(){return a}function h(){i++,s||(s=t?t.addNestedSub(c):e.subscribe(c),r=lq())}function u(){i--,s&&i===0&&(s(),s=void 0,r.clear(),r=FS)}function m(){a||(a=!0,h())}function p(){a&&(a=!1,u())}const j={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return j}var cq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dq=cq(),uq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hq=uq(),mq=()=>dq||hq?v.useLayoutEffect:v.useEffect,Of=mq();function OS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Sy(e,t){if(OS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(!Object.prototype.hasOwnProperty.call(t,s[i])||!OS(e[s[i]],t[s[i]]))return!1;return!0}var pq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xq={[QV]:gq,[YV]:KD};function LS(e){return ZV(e)?KD:xq[e.$$typeof]||pq}var yq=Object.defineProperty,vq=Object.getOwnPropertyNames,$S=Object.getOwnPropertySymbols,bq=Object.getOwnPropertyDescriptor,jq=Object.getPrototypeOf,US=Object.prototype;function O0(e,t){if(typeof t!="string"){if(US){const a=jq(t);a&&a!==US&&O0(e,a)}let s=vq(t);$S&&(s=s.concat($S(t)));const r=LS(e),i=LS(t);for(let a=0;a<s.length;++a){const o=s[a];if(!fq[o]&&!(i&&i[o])&&!(r&&r[o])){const l=bq(t,o);try{yq(e,o,l)}catch{}}}}return e}var Cy=Symbol.for("react-redux-context"),ky=typeof globalThis<"u"?globalThis:{};function wq(){if(!v.createContext)return{};const e=ky[Cy]??(ky[Cy]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var QD=wq(),Nq=[null,null];function Sq(e,t,s){Of(()=>e(...t),s)}function Cq(e,t,s,r,i,a){e.current=r,s.current=!1,i.current&&(i.current=null,a())}function kq(e,t,s,r,i,a,o,l,c,d,h){if(!e)return()=>{};let u=!1,m=null;const p=()=>{if(u||!l.current)return;const y=t.getState();let g,f;try{g=r(y,i.current)}catch(b){f=b,m=b}f||(m=null),g===a.current?o.current||d():(a.current=g,c.current=g,o.current=!0,h())};return s.onStateChange=p,s.trySubscribe(),p(),()=>{if(u=!0,s.tryUnsubscribe(),s.onStateChange=null,m)throw m}}function _q(e,t){return e===t}function Tq(e,t,s,{pure:r,areStatesEqual:i=_q,areOwnPropsEqual:a=Sy,areStatePropsEqual:o=Sy,areMergedPropsEqual:l=Sy,forwardRef:c=!1,context:d=QD}={}){const h=d,u=nq(e),m=sq(t),p=aq(s),j=!!e;return g=>{const f=g.displayName||g.name||"Component",b=`Connect(${f})`,x={shouldHandleStateChanges:j,displayName:b,wrappedComponentName:f,WrappedComponent:g,initMapStateToProps:u,initMapDispatchToProps:m,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function w(C){const[k,T,D]=v.useMemo(()=>{const{reactReduxForwardedRef:rt,...es}=C;return[C.context,rt,es]},[C]),P=v.useMemo(()=>{let rt=h;return k!=null&&k.Consumer,rt},[k,h]),M=v.useContext(P),X=!!C.store&&!!C.store.getState&&!!C.store.dispatch,ee=!!M&&!!M.store,F=X?C.store:M.store,re=ee?M.getServerState:F.getState,fe=v.useMemo(()=>eq(F.dispatch,x),[F]),[V,L]=v.useMemo(()=>{if(!j)return Nq;const rt=GD(F,X?void 0:M.subscription),es=rt.notifyNestedSubs.bind(rt);return[rt,es]},[F,X,M]),oe=v.useMemo(()=>X?M:{...M,subscription:V},[X,M,V]),be=v.useRef(void 0),st=v.useRef(D),_t=v.useRef(void 0),Ft=v.useRef(!1),ms=v.useRef(!1),Qt=v.useRef(void 0);Of(()=>(ms.current=!0,()=>{ms.current=!1}),[]);const Le=v.useMemo(()=>()=>_t.current&&D===st.current?_t.current:fe(F.getState(),D),[F,D]),yt=v.useMemo(()=>es=>V?kq(j,F,V,fe,st,be,Ft,ms,_t,L,es):()=>{},[V]);Sq(Cq,[st,be,Ft,D,_t,L]);let Et;try{Et=v.useSyncExternalStore(yt,Le,re?()=>fe(re(),D):Le)}catch(rt){throw Qt.current&&(rt.message+=`
The error may be correlated with this previous error:
${Qt.current.stack}

`),rt}Of(()=>{Qt.current=void 0,_t.current=void 0,be.current=Et});const vt=v.useMemo(()=>v.createElement(g,{...Et,ref:T}),[T,g,Et]);return v.useMemo(()=>j?v.createElement(P.Provider,{value:oe},vt):vt,[P,vt,oe])}const N=v.memo(w);if(N.WrappedComponent=g,N.displayName=w.displayName=b,c){const k=v.forwardRef(function(D,P){return v.createElement(N,{...D,reactReduxForwardedRef:P})});return k.displayName=b,k.WrappedComponent=g,O0(k,g)}return O0(N,g)}}var YD=Tq;function Pq(e){const{children:t,context:s,serverState:r,store:i}=e,a=v.useMemo(()=>{const c=GD(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=v.useMemo(()=>i.getState(),[i]);Of(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=s||QD;return v.createElement(l.Provider,{value:a},t)}var Eq=Pq,Aq="Invariant failed";function Dq(e,t){throw new Error(Aq)}var Ur=function(t){var s=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-s,c={top:s,right:r,bottom:i,left:a,width:o,height:l,x:a,y:s,center:{x:(r+a)/2,y:(i+s)/2}};return c},gw=function(t,s){return{top:t.top-s.top,left:t.left-s.left,bottom:t.bottom+s.bottom,right:t.right+s.right}},BS=function(t,s){return{top:t.top+s.top,left:t.left+s.left,bottom:t.bottom-s.bottom,right:t.right-s.right}},Mq=function(t,s){return{top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}},_y={top:0,right:0,bottom:0,left:0},xw=function(t){var s=t.borderBox,r=t.margin,i=r===void 0?_y:r,a=t.border,o=a===void 0?_y:a,l=t.padding,c=l===void 0?_y:l,d=Ur(gw(s,i)),h=Ur(BS(s,o)),u=Ur(BS(h,c));return{marginBox:d,borderBox:Ur(s),paddingBox:h,contentBox:u,margin:i,border:o,padding:c}},nr=function(t){var s=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(s);return isNaN(i)&&Dq(),i},Iq=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Lf=function(t,s){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=Mq(r,s);return xw({borderBox:l,border:i,margin:a,padding:o})},$f=function(t,s){return s===void 0&&(s=Iq()),Lf(t,s)},XD=function(t,s){var r={top:nr(s.marginTop),right:nr(s.marginRight),bottom:nr(s.marginBottom),left:nr(s.marginLeft)},i={top:nr(s.paddingTop),right:nr(s.paddingRight),bottom:nr(s.paddingBottom),left:nr(s.paddingLeft)},a={top:nr(s.borderTopWidth),right:nr(s.borderRightWidth),bottom:nr(s.borderBottomWidth),left:nr(s.borderLeftWidth)};return xw({borderBox:t,margin:r,padding:i,border:a})},ZD=function(t){var s=t.getBoundingClientRect(),r=window.getComputedStyle(t);return XD(s,r)},oh=function(t){var s=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];s=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,s)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Uf.apply(null,arguments)}function JD(e,t){}JD.bind(null,"warn");JD.bind(null,"error");function so(){}function Rq(e,t){return{...e,...t}}function ur(e,t,s){const r=t.map(i=>{const a=Rq(s,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const Fq="Invariant failed";class Bf extends Error{}Bf.prototype.toString=function(){return this.message};function we(e,t){throw new Bf(Fq)}class Oq extends he.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=so,this.onWindowError=s=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),s.error instanceof Bf&&s.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=s=>{this.callbacks=s}}componentDidMount(){this.unbind=ur(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Bf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Lq=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zf=e=>e+1,$q=e=>`
  You have lifted an item in position ${zf(e.source.index)}
`,eM=(e,t)=>{const s=e.droppableId===t.droppableId,r=zf(e.index),i=zf(t.index);return s?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},tM=(e,t,s)=>t.droppableId===s.droppableId?`
      The item ${e}
      has been combined with ${s.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${s.draggableId}
      in list ${s.droppableId}
    `,Uq=e=>{const t=e.destination;if(t)return eM(e.source,t);const s=e.combine;return s?tM(e.draggableId,e.source,s):"You are over an area that cannot be dropped on"},zS=e=>`
  The item has returned to its starting position
  of ${zf(e.index)}
`,Bq=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${zS(e.source)}
    `;const t=e.destination,s=e.combine;return t?`
      You have dropped the item.
      ${eM(e.source,t)}
    `:s?`
      You have dropped the item.
      ${tM(e.draggableId,e.source,s)}
    `:`
    The item has been dropped while not over a drop area.
    ${zS(e.source)}
  `},Vp={dragHandleUsageInstructions:Lq,onDragStart:$q,onDragUpdate:Uq,onDragEnd:Bq};function zq(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function sM(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!zq(e[s],t[s]))return!1;return!0}function St(e,t){const s=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),i=v.useRef(s),o=r.current||!!(t&&i.current.inputs&&sM(t,i.current.inputs))?i.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function ze(e,t){return St(()=>e,t)}const Vs={x:0,y:0},Qs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Kn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),no=(e,t)=>e.x===t.x&&e.y===t.y,Ad=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),bl=(e,t,s=0)=>e==="x"?{x:t,y:s}:{x:s,y:t},lh=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),VS=(e,t)=>Math.min(...t.map(s=>lh(e,s))),nM=e=>t=>({x:e(t.x),y:e(t.y)});var Vq=(e,t)=>{const s=Ur({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return s.width<=0||s.height<=0?null:s};const ym=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),qS=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],qq={top:0,right:0,bottom:0,left:0},Hq=(e,t)=>t?ym(e,t.scroll.diff.displacement):e,Wq=(e,t,s)=>s&&s.increasedBy?{...e,[t.end]:e[t.end]+s.increasedBy[t.line]}:e,Gq=(e,t)=>t&&t.shouldClipSubject?Vq(t.pageMarginBox,e):Ur(e);var ud=({page:e,withPlaceholder:t,axis:s,frame:r})=>{const i=Hq(e.marginBox,r),a=Wq(i,s,t),o=Gq(a,r);return{page:e,withPlaceholder:t,active:o}},yw=(e,t)=>{e.frame||we();const s=e.frame,r=Kn(t,s.scroll.initial),i=Ad(r),a={...s,scroll:{initial:s.scroll.initial,current:t,diff:{value:r,displacement:i},max:s.scroll.max}},o=ud({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function Us(e,t=sM){let s=null;function r(...i){if(s&&s.lastThis===this&&t(i,s.lastArgs))return s.lastResult;const a=e.apply(this,i);return s={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){s=null},r}const rM=Us(e=>e.reduce((t,s)=>(t[s.descriptor.id]=s,t),{})),iM=Us(e=>e.reduce((t,s)=>(t[s.descriptor.id]=s,t),{})),fx=Us(e=>Object.values(e)),Kq=Us(e=>Object.values(e));var Dd=Us((e,t)=>Kq(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function vw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var xx=Us((e,t)=>t.filter(s=>s.descriptor.id!==e.descriptor.id)),Qq=({isMovingForward:e,draggable:t,destination:s,insideDestination:r,previousImpact:i})=>{if(!s.isCombineEnabled||!vw(i))return null;function o(p){const j={type:"COMBINE",combine:{draggableId:p,droppableId:s.descriptor.id}};return{...i,at:j}}const l=i.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=xx(t,r);if(!c){if(!d.length)return null;const p=d[d.length-1];return o(p.descriptor.id)}const h=d.findIndex(p=>p.descriptor.id===c);h===-1&&we();const u=h-1;if(u<0)return null;const m=d[u];return o(m.descriptor.id)},Md=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const aM={point:Vs,value:0},ch={invisible:{},visible:{},all:[]},Yq={displaced:ch,displacedBy:aM,at:null};var pr=(e,t)=>s=>e<=s&&s<=t,oM=e=>{const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&s(r.left)&&s(r.right))return!0;const a=t(r.top)||t(r.bottom),o=s(r.left)||s(r.right);if(a&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&o||d&&a}},Xq=e=>{const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&s(r.left)&&s(r.right)};const bw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},lM={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Zq=e=>t=>{const s=pr(t.top,t.bottom),r=pr(t.left,t.right);return i=>e===bw?s(i.top)&&s(i.bottom):r(i.left)&&r(i.right)};const Jq=(e,t)=>{const s=t.frame?t.frame.scroll.diff.displacement:Vs;return ym(e,s)},eH=(e,t,s)=>t.subject.active?s(t.subject.active)(e):!1,tH=(e,t,s)=>s(t)(e),jw=({target:e,destination:t,viewport:s,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?Jq(e,t):e;return eH(a,t,i)&&tH(a,s,i)},sH=e=>jw({...e,isVisibleThroughFrameFn:oM}),cM=e=>jw({...e,isVisibleThroughFrameFn:Xq}),nH=e=>jw({...e,isVisibleThroughFrameFn:Zq(e.destination.axis)}),rH=(e,t,s)=>{if(typeof s=="boolean")return s;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function iH(e,t){const s=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ur(gw(s,r))}function dh({afterDragging:e,destination:t,displacedBy:s,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,c){const d=iH(c,s),h=c.descriptor.id;if(l.all.push(h),!sH({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=rH(h,a,i),p={draggableId:h,shouldAnimate:m};return l.visible[h]=p,l},{all:[],visible:{},invisible:{}})}function aH(e,t){if(!e.length)return 0;const s=e[e.length-1].descriptor.index;return t.inHomeList?s:s+1}function HS({insideDestination:e,inHomeList:t,displacedBy:s,destination:r}){const i=aH(e,{inHomeList:t});return{displaced:ch,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Vf({draggable:e,insideDestination:t,destination:s,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const c=Md(e,s);if(o==null)return HS({insideDestination:t,inHomeList:c,displacedBy:i,destination:s});const d=t.find(j=>j.descriptor.index===o);if(!d)return HS({insideDestination:t,inHomeList:c,displacedBy:i,destination:s});const h=xx(e,t),u=t.indexOf(d),m=h.slice(u);return{displaced:dh({afterDragging:m,destination:s,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function fo(e,t){return!!t.effected[e]}var oH=({isMovingForward:e,destination:t,draggables:s,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=s[a].descriptor.index;return fo(a,i)?e?l:l-1:e?l+1:l},lH=({isMovingForward:e,isInHomeList:t,insideDestination:s,location:r})=>{if(!s.length)return null;const i=r.index,a=e?i+1:i-1,o=s[0].descriptor.index,l=s[s.length-1].descriptor.index,c=t?l:l+1;return a<o||a>c?null:a},cH=({isMovingForward:e,isInHomeList:t,draggable:s,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||we(),d.type==="REORDER"){const u=lH({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return u==null?null:Vf({draggable:s,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}const h=oH({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:Vf({draggable:s,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},dH=({displaced:e,afterCritical:t,combineWith:s,displacedBy:r})=>{const i=!!(e.visible[s]||e.invisible[s]);return fo(s,t)?i?Vs:Ad(r.point):i?r.point:Vs},uH=({afterCritical:e,impact:t,draggables:s})=>{const r=gx(t);r||we();const i=r.draggableId,a=s[i].page.borderBox.center,o=dH({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Qs(a,o)};const dM=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,hH=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,ww=(e,t,s)=>t[e.crossAxisStart]+s.margin[e.crossAxisStart]+s.borderBox[e.crossAxisSize]/2,WS=({axis:e,moveRelativeTo:t,isMoving:s})=>bl(e.line,t.marginBox[e.end]+dM(e,s),ww(e,t.marginBox,s)),GS=({axis:e,moveRelativeTo:t,isMoving:s})=>bl(e.line,t.marginBox[e.start]-hH(e,s),ww(e,t.marginBox,s)),mH=({axis:e,moveInto:t,isMoving:s})=>bl(e.line,t.contentBox[e.start]+dM(e,s),ww(e,t.contentBox,s));var pH=({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i})=>{const a=Dd(r.descriptor.id,s),o=t.page,l=r.axis;if(!a.length)return mH({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:d}=e,h=c.all[0];if(h){const m=s[h];if(fo(h,i))return GS({axis:l,moveRelativeTo:m.page,isMoving:o});const p=Lf(m.page,d.point);return GS({axis:l,moveRelativeTo:p,isMoving:o})}const u=a[a.length-1];if(u.descriptor.id===t.descriptor.id)return o.borderBox.center;if(fo(u.descriptor.id,i)){const m=Lf(u.page,Ad(i.displacedBy.point));return WS({axis:l,moveRelativeTo:m,isMoving:o})}return WS({axis:l,moveRelativeTo:u.page,isMoving:o})},L0=(e,t)=>{const s=e.frame;return s?Qs(t,s.scroll.diff.displacement):t};const fH=({impact:e,draggable:t,droppable:s,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!s||!o?a:o.type==="REORDER"?pH({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:i}):uH({impact:e,draggables:r,afterCritical:i})};var yx=e=>{const t=fH(e),s=e.droppable;return s?L0(s,t):t},uM=(e,t)=>{const s=Kn(t,e.scroll.initial),r=Ad(s);return{frame:Ur({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:s,displacement:r}}}};function KS(e,t){return e.map(s=>t[s])}function gH(e,t){for(let s=0;s<t.length;s++){const r=t[s].visible[e];if(r)return r}return null}var xH=({impact:e,viewport:t,destination:s,draggables:r,maxScrollChange:i})=>{const a=uM(t,Qs(t.scroll.current,i)),o=s.frame?yw(s,Qs(s.frame.scroll.current,i)):s,l=e.displaced,c=dh({afterDragging:KS(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=dh({afterDragging:KS(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},u={},m=[l,c,d];return l.all.forEach(j=>{const y=gH(j,m);if(y){u[j]=y;return}h[j]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:u}}},yH=(e,t)=>Qs(e.scroll.diff.displacement,t),Nw=({pageBorderBoxCenter:e,draggable:t,viewport:s})=>{const r=yH(s,e),i=Kn(r,t.page.borderBox.center);return Qs(t.client.borderBox.center,i)},hM=({draggable:e,destination:t,newPageBorderBoxCenter:s,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Kn(s,e.page.borderBox.center),c={target:ym(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?nH(c):cM(c)},vH=({isMovingForward:e,draggable:t,destination:s,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!s.isEnabled)return null;const d=Dd(s.descriptor.id,r),h=Md(t,s),u=Qq({isMovingForward:e,draggable:t,destination:s,insideDestination:d,previousImpact:i})||cH({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:s,insideDestination:d,previousImpact:i,viewport:a,afterCritical:c});if(!u)return null;const m=yx({impact:u,draggable:t,droppable:s,draggables:r,afterCritical:c});if(hM({draggable:t,destination:s,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Nw({pageBorderBoxCenter:m,draggable:t,viewport:a}),impact:u,scrollJumpRequest:null};const j=Kn(m,o),y=xH({impact:u,viewport:a,destination:s,draggables:r,maxScrollChange:j});return{clientSelection:l,impact:y,scrollJumpRequest:j}};const hn=e=>{const t=e.subject.active;return t||we(),t};var bH=({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:r,viewport:i})=>{const a=s.subject.active;if(!a)return null;const o=s.axis,l=pr(a[o.start],a[o.end]),c=fx(r).filter(h=>h!==s).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>oM(i.frame)(hn(h))).filter(h=>{const u=hn(h);return e?a[o.crossAxisEnd]<u[o.crossAxisEnd]:u[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const u=hn(h),m=pr(u[o.start],u[o.end]);return l(u[o.start])||l(u[o.end])||m(a[o.start])||m(a[o.end])}).sort((h,u)=>{const m=hn(h)[o.crossAxisStart],p=hn(u)[o.crossAxisStart];return e?m-p:p-m}).filter((h,u,m)=>hn(h)[o.crossAxisStart]===hn(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>pr(hn(h)[o.start],hn(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,u)=>hn(h)[o.start]-hn(u)[o.start])[0]:c.sort((h,u)=>{const m=VS(t,qS(hn(h))),p=VS(t,qS(hn(u)));return m!==p?m-p:hn(h)[o.start]-hn(u)[o.start]})[0]};const QS=(e,t)=>{const s=e.page.borderBox.center;return fo(e.descriptor.id,t)?Kn(s,t.displacedBy.point):s},jH=(e,t)=>{const s=e.page.borderBox;return fo(e.descriptor.id,t)?ym(s,Ad(t.displacedBy.point)):s};var wH=({pageBorderBoxCenter:e,viewport:t,destination:s,insideDestination:r,afterCritical:i})=>r.filter(o=>cM({target:jH(o,i),destination:s,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=lh(e,L0(s,QS(o,i))),d=lh(e,L0(s,QS(l,i)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,vm=Us(function(t,s){const r=s[t.line];return{value:r,point:bl(t.line,r)}});const NH=(e,t,s)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return bl(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=Dd(e.descriptor.id,s).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:bl(r.line,c)},mM=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),pM=(e,t,s)=>{const r=e.frame;Md(t,e)&&we(),e.subject.withPlaceholder&&we();const i=vm(e.axis,t.displaceBy).point,a=NH(e,i,s),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=ud({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Qs(r.scroll.max,a):r.scroll.max,c=mM(r,l),d=ud({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},SH=e=>{const t=e.subject.withPlaceholder;t||we();const s=e.frame;if(!s){const o=ud({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||we();const i=mM(s,r),a=ud({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var CH=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:s,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(s.length)return null;const u={displaced:ch,displacedBy:aM,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=yx({impact:u,draggable:r,droppable:a,draggables:i,afterCritical:l}),p=Md(r,a)?a:pM(a,r,i);return hM({draggable:r,destination:p,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?u:u+1})(),h=vm(a.axis,r.displaceBy);return Vf({draggable:r,insideDestination:s,destination:a,viewport:o,displacedBy:h,last:ch,index:d})},kH=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:s,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const c=bH({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!c)return null;const d=Dd(c.descriptor.id,i),h=wH({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),u=CH({previousPageBorderBoxCenter:t,destination:c,draggable:s,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!u)return null;const m=yx({impact:u,draggable:s,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Nw({pageBorderBoxCenter:m,draggable:s,viewport:o}),impact:u,scrollJumpRequest:null}},Xn=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const _H=(e,t)=>{const s=Xn(e);return s?t[s]:null};var TH=({state:e,type:t})=>{const s=_H(e.impact,e.dimensions.droppables),r=!!s,i=e.dimensions.droppables[e.critical.droppable.id],a=s||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return l?vH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Ao(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function fM(e){const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return function(i){return t(i.y)&&s(i.x)}}function PH(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function EH({pageBorderBox:e,draggable:t,candidates:s}){const r=t.page.borderBox.center,i=s.map(a=>{const o=a.axis,l=bl(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:lh(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function AH({pageBorderBox:e,draggable:t,droppables:s}){const r=fx(s).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!PH(e,a))return!1;if(fM(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=pr(a[o.crossAxisStart],a[o.crossAxisEnd]),u=h(c),m=h(d);return!u&&!m?!0:u?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:EH({pageBorderBox:e,draggable:t,candidates:r}):null}const gM=(e,t)=>Ur(ym(e,t));var DH=(e,t)=>{const s=e.frame;return s?gM(t,s.scroll.diff.value):t};function xM({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function MH({draggable:e,closest:t,inHomeList:s}){return t?s&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var IH=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:s,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=s.axis,c=vm(s.axis,t.displaceBy),d=c.value,h=e[l.start],u=e[l.end],p=xx(t,r).find(y=>{const g=y.descriptor.id,f=y.page.borderBox.center[l.line],b=fo(g,o),x=xM({displaced:i,id:g});return b?x?u<=f:h<f-d:x?u<=f+d:h<f})||null,j=MH({draggable:t,closest:p,inHomeList:Md(t,s)});return Vf({draggable:t,insideDestination:r,destination:s,viewport:a,last:i,displacedBy:c,index:j})};const RH=4;var FH=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:s,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=vm(r.axis,e.displaceBy),c=l.value,d=t[o.start],h=t[o.end],m=xx(e,i).find(j=>{const y=j.descriptor.id,g=j.page.borderBox,b=g[o.size]/RH,x=fo(y,a),w=xM({displaced:s.displaced,id:y});return x?w?h>g[o.start]+b&&h<g[o.end]-b:d>g[o.start]-c+b&&d<g[o.end]-c-b:w?h>g[o.start]+c+b&&h<g[o.end]+c-b:d>g[o.start]+b&&d<g[o.end]-b});return m?{displacedBy:l,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},yM=({pageOffset:e,draggable:t,draggables:s,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=gM(t.page.borderBox,e),c=AH({pageBorderBox:l,draggable:t,droppables:r});if(!c)return Yq;const d=r[c],h=Dd(d.descriptor.id,s),u=DH(d,l);return FH({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||IH({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},Sw=(e,t)=>({...e,[t.descriptor.id]:t});const OH=({previousImpact:e,impact:t,droppables:s})=>{const r=Xn(e),i=Xn(t);if(!r||r===i)return s;const a=s[r];if(!a.subject.withPlaceholder)return s;const o=SH(a);return Sw(s,o)};var LH=({draggable:e,draggables:t,droppables:s,previousImpact:r,impact:i})=>{const a=OH({previousImpact:r,impact:i,droppables:s}),o=Xn(i);if(!o)return a;const l=s[o];if(Md(e,l)||l.subject.withPlaceholder)return a;const c=pM(l,e,t);return Sw(a,c)},Mu=({state:e,clientSelection:t,dimensions:s,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=s||e.dimensions,c=t||e.current.client.selection,d=Kn(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:Qs(e.initial.client.borderBoxCenter,d)},u={selection:Qs(h.selection,o.scroll.current),borderBoxCenter:Qs(h.borderBoxCenter,o.scroll.current),offset:Qs(h.offset,o.scroll.diff.value)},m={client:h,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const p=l.draggables[e.critical.draggable.id],j=i||yM({pageOffset:u.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),y=LH({draggable:p,impact:j,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:y},impact:j,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function $H(e,t){return e.map(s=>t[s])}var vM=({impact:e,viewport:t,draggables:s,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=$H(a.all,s),l=dh({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},bM=({impact:e,draggable:t,droppable:s,draggables:r,viewport:i,afterCritical:a})=>{const o=yx({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a});return Nw({pageBorderBoxCenter:o,draggable:t,viewport:i})},jM=({state:e,dimensions:t,viewport:s})=>{e.movementMode!=="SNAP"&&we();const r=e.impact,i=s||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,c=o[e.critical.draggable.id],d=Xn(r);d||we();const h=l[d],u=vM({impact:r,viewport:i,destination:h,draggables:o}),m=bM({impact:u,draggable:c,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Mu({impact:u,clientSelection:m,state:e,dimensions:a,viewport:i})},UH=e=>({index:e.index,droppableId:e.droppableId}),wM=({draggable:e,home:t,draggables:s,viewport:r})=>{const i=vm(t.axis,e.displaceBy),a=Dd(t.descriptor.id,s),o=a.indexOf(e);o===-1&&we();const l=a.slice(o+1),c=l.reduce((m,p)=>(m[p.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:dh({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:UH(e.descriptor)}},afterCritical:d}},BH=(e,t)=>({draggables:e.draggables,droppables:Sw(e.droppables,t)}),zH=({draggable:e,offset:t,initialWindowScroll:s})=>{const r=Lf(e.client,t),i=$f(r,s);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},VH=e=>{const t=e.frame;return t||we(),t},qH=({additions:e,updatedDroppables:t,viewport:s})=>{const r=s.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],c=VH(o).scroll.diff.value,d=Qs(r,c);return zH({draggable:i,offset:d,initialWindowScroll:s.scroll.initial})})},HH=({state:e,published:t})=>{const s=t.modified.map(f=>{const b=e.dimensions.droppables[f.droppableId];return yw(b,f.scroll)}),r={...e.dimensions.droppables,...rM(s)},i=iM(qH({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(f=>{delete a[f]});const o={droppables:r,draggables:a},l=Xn(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=wM({draggable:d,home:h,draggables:a,viewport:e.viewport}),p=c&&c.isCombineEnabled?e.impact:u,j=yM({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:e.viewport,afterCritical:m}),y={...e,phase:"DRAGGING",impact:j,onLiftImpact:u,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const $0=e=>e.movementMode==="SNAP",Ty=(e,t,s)=>{const r=BH(e.dimensions,t);return!$0(e)||s?Mu({state:e,dimensions:r}):jM({state:e,dimensions:r})};function Py(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const YS={phase:"IDLE",completed:null,shouldFlush:!1};var WH=(e=YS,t)=>{if(t.type==="FLUSH")return{...YS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&we();const{critical:s,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[s.draggable.id],c=a.droppables[s.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Vs},h={client:d,page:{selection:Qs(d.selection,i.scroll.initial),borderBoxCenter:Qs(d.selection,i.scroll.initial),offset:Qs(d.selection,i.scroll.diff.value)}},u=fx(a.droppables).every(y=>!y.isFixedOnPage),{impact:m,afterCritical:p}=wM({draggable:l,home:c,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:s,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:u,impact:m,afterCritical:p,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&we(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||we(),HH({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{client:s}=t.payload;return no(s,e.current.client.selection)?e:Mu({state:e,clientSelection:s,impact:$0(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Py(e);Ao(e)||we();const{id:s,newScroll:r}=t.payload,i=e.dimensions.droppables[s];if(!i)return e;const a=yw(i,r);return Ty(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:s,isEnabled:r}=t.payload,i=e.dimensions.droppables[s];i||we(),i.isEnabled===r&&we();const a={...i,isEnabled:r};return Ty(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:s,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[s];i||we(),i.isCombineEnabled===r&&we();const a={...i,isCombineEnabled:r};return Ty(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ao(e)||we(),e.isWindowScrollAllowed||we();const s=t.payload.newScroll;if(no(e.viewport.scroll.current,s))return Py(e);const r=uM(e.viewport,s);return $0(e)?jM({state:e,viewport:r}):Mu({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ao(e))return e;const s=t.payload.maxScroll;if(no(s,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:s}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&we();const s=TH({state:e,type:t.type});return s?Mu({state:e,impact:s.impact,clientSelection:s.clientSelection,scrollJumpRequest:s.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const s=t.payload.reason;return e.phase!=="COLLECTING"&&we(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:s}}if(t.type==="DROP_ANIMATE"){const{completed:s,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||we(),{phase:"DROP_ANIMATING",completed:s,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:s}=t.payload;return{phase:"IDLE",completed:s,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const GH=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),KH=e=>({type:"LIFT",payload:e}),QH=e=>({type:"INITIAL_PUBLISH",payload:e}),YH=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),XH=()=>({type:"COLLECTION_STARTING",payload:null}),ZH=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),JH=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),eW=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),NM=e=>({type:"MOVE",payload:e}),tW=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),sW=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),nW=()=>({type:"MOVE_UP",payload:null}),rW=()=>({type:"MOVE_DOWN",payload:null}),iW=()=>({type:"MOVE_RIGHT",payload:null}),aW=()=>({type:"MOVE_LEFT",payload:null}),Cw=()=>({type:"FLUSH",payload:null}),oW=e=>({type:"DROP_ANIMATE",payload:e}),kw=e=>({type:"DROP_COMPLETE",payload:e}),SM=e=>({type:"DROP",payload:e}),lW=e=>({type:"DROP_PENDING",payload:e}),CM=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var cW=e=>({getState:t,dispatch:s})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&s(kw({completed:c.completed})),t().phase!=="IDLE"&&we(),s(Cw()),s(GH({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:m,viewport:p}=e.startPublishing(h);s(QH({critical:u,dimensions:m,clientSelection:o,movementMode:l,viewport:p}))},dW=e=>()=>t=>s=>{Mt(s,"INITIAL_PUBLISH")&&e.dragging(),Mt(s,"DROP_ANIMATE")&&e.dropping(s.payload.completed.result.reason),(Mt(s,"FLUSH")||Mt(s,"DROP_COMPLETE"))&&e.resting(),t(s)};const _w={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},uh={opacity:{drop:0,combining:.7},scale:{drop:.75}},kM={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_o=`${kM.outOfTheWay}s ${_w.outOfTheWay}`,Iu={fluid:`opacity ${_o}`,snap:`transform ${_o}, opacity ${_o}`,drop:e=>{const t=`${e}s ${_w.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${_o}`,placeholder:`height ${_o}, width ${_o}, margin ${_o}`},XS=e=>no(e,Vs)?void 0:`translate(${e.x}px, ${e.y}px)`,U0={moveTo:XS,drop:(e,t)=>{const s=XS(e);if(s)return t?`${s} scale(${uh.scale.drop})`:s}},{minDropTime:B0,maxDropTime:_M}=kM,uW=_M-B0,ZS=1500,hW=.6;var mW=({current:e,destination:t,reason:s})=>{const r=lh(e,t);if(r<=0)return B0;if(r>=ZS)return _M;const i=r/ZS,a=B0+uW*i,o=s==="CANCEL"?a*hW:a;return Number(o.toFixed(2))},pW=({impact:e,draggable:t,dimensions:s,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=s,l=Xn(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],h=bM({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:c||d,viewport:r});return Kn(h,t.client.borderBox.center)},fW=({draggables:e,reason:t,lastImpact:s,home:r,viewport:i,onLiftImpact:a})=>!s.at||t!=="DROP"?{impact:vM({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:s.at.type==="REORDER"?{impact:s,didDropInsideDroppable:!0}:{impact:{...s,displaced:ch},didDropInsideDroppable:!0};const gW=({getState:e,dispatch:t})=>s=>r=>{if(!Mt(r,"DROP")){s(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(lW({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&we(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||we();const l=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:u}=fW({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=u?vw(h):null,p=u?gx(h):null,j={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:j,reason:a,mode:i.movementMode,destination:m,combine:p},g=pW({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),f={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:h};if(!(!no(i.current.client.offset,g)||!!y.combine)){t(kw({completed:f}));return}const x=mW({current:i.current.client.offset,destination:g,reason:a});t(oW({newHomeClientOffset:g,dropDuration:x,completed:f}))};var TM=()=>({x:window.pageXOffset,y:window.pageYOffset});function xW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function yW({onWindowScroll:e}){function t(){e(TM())}const s=oh(t),r=xW(s);let i=so;function a(){return i!==so}function o(){a()&&we(),i=ur(window,[r])}function l(){a()||we(),s.cancel(),i(),i=so}return{start:o,stop:l,isActive:a}}const vW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),bW=e=>{const t=yW({onWindowScroll:s=>{e.dispatch(tW({newScroll:s}))}});return s=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&vW(r)&&t.stop(),s(r)}};var jW=e=>{let t=!1,s=!1;const r=setTimeout(()=>{s=!0}),i=a=>{t||s||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},wW=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&we();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const NW=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,SW=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,CW=(e,t)=>{if(e===t)return!0;const s=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return s&&r},Yd=(e,t)=>{t()},Jm=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Ey(e,t,s,r){if(!e){s(r(t));return}const i=jW(s);e(t,{announce:i}),i.wasCalled()||s(r(t))}var kW=(e,t)=>{const s=wW();let r=null;const i=(u,m)=>{r&&we(),Yd("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:u,mode:m})})},a=(u,m)=>{r&&we(),Yd("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(Jm(u,m))})},o=(u,m)=>{r&&we();const p=Jm(u,m);r={mode:m,lastCritical:u,lastLocation:p.source,lastCombine:null},s.add(()=>{Yd("onDragStart",()=>Ey(e().onDragStart,p,t,Vp.onDragStart))})},l=(u,m)=>{const p=vw(m),j=gx(m);r||we();const y=!CW(u,r.lastCritical);y&&(r.lastCritical=u);const g=!NW(r.lastLocation,p);g&&(r.lastLocation=p);const f=!SW(r.lastCombine,j);if(f&&(r.lastCombine=j),!y&&!g&&!f)return;const b={...Jm(u,r.mode),combine:j,destination:p};s.add(()=>{Yd("onDragUpdate",()=>Ey(e().onDragUpdate,b,t,Vp.onDragUpdate))})},c=()=>{r||we(),s.flush()},d=u=>{r||we(),r=null,Yd("onDragEnd",()=>Ey(e().onDragEnd,u,t,Vp.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:c,drop:d,abort:()=>{if(!r)return;const u={...Jm(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},_W=(e,t)=>{const s=kW(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){s.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;s.beforeStart(l,a.payload.movementMode),i(a),s.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;s.flush(),i(a),s.drop(l);return}if(i(a),Mt(a,"FLUSH")){s.abort();return}const o=r.getState();o.phase==="DRAGGING"&&s.update(o.critical,o.impact)}};const TW=e=>t=>s=>{if(!Mt(s,"DROP_ANIMATION_FINISHED")){t(s);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&we(),e.dispatch(kw({completed:r.completed}))},PW=e=>{let t=null,s=null;function r(){s&&(cancelAnimationFrame(s),s=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(CM())}};s=requestAnimationFrame(()=>{s=null,t=ur(window,[o])})}};var EW=e=>()=>t=>s=>{(Mt(s,"DROP_COMPLETE")||Mt(s,"FLUSH")||Mt(s,"DROP_ANIMATE"))&&e.stopPublishing(),t(s)},AW=e=>{let t=!1;return()=>s=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),s(r),e.tryRestoreFocusRecorded();return}if(s(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const DW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var MW=e=>t=>s=>r=>{if(DW(r)){e.stop(),s(r);return}if(Mt(r,"INITIAL_PUBLISH")){s(r);const i=t.getState();i.phase!=="DRAGGING"&&we(),e.start(i);return}s(r),e.scroll(t.getState())};const IW=e=>t=>s=>{if(t(s),!Mt(s,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(SM({reason:r.reason})))},RW=qD;var FW=({dimensionMarshal:e,focusMarshal:t,styleMarshal:s,getResponders:r,announce:i,autoScroller:a})=>VD(WH,RW(PV(dW(s),EW(e),cW(e),gW,TW,PW,IW,MW(a),bW,AW(t),_W(r,i))));const Ay=()=>({additions:{},removals:{},modified:{}});function OW({registry:e,callbacks:t}){let s=Ay(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=s,u=Object.keys(c).map(j=>e.draggable.getById(j).getDimension(Vs)).sort((j,y)=>j.descriptor.index-y.descriptor.index),m=Object.keys(h).map(j=>{const g=e.droppable.getById(j).callbacks.getScrollWhileDragging();return{droppableId:j,scroll:g}}),p={additions:u,removals:Object.keys(d),modified:m};s=Ay(),t.publish(p)}))};return{add:c=>{const d=c.descriptor.id;s.additions[d]=c,s.modified[c.descriptor.droppableId]=!0,s.removals[d]&&delete s.removals[d],i()},remove:c=>{const d=c.descriptor;s.removals[d.id]=!0,s.modified[d.droppableId]=!0,s.additions[d.id]&&delete s.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,s=Ay())}}}var PM=({scrollHeight:e,scrollWidth:t,height:s,width:r})=>{const i=Kn({x:t,y:e},{x:r,y:s});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},EM=()=>{const e=document.documentElement;return e||we(),e},AM=()=>{const e=EM();return PM({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},LW=()=>{const e=TM(),t=AM(),s=e.y,r=e.x,i=EM(),a=i.clientWidth,o=i.clientHeight,l=r+a,c=s+o;return{frame:Ur({top:s,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Vs,displacement:Vs}}}},$W=({critical:e,scrollOptions:t,registry:s})=>{const r=LW(),i=r.scroll.current,a=e.droppable,o=s.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=s.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:iM(l),droppables:rM(o)},critical:e,viewport:r}};function JS(e,t,s){return!(s.descriptor.id===t.id||s.descriptor.type!==t.type||e.droppable.getById(s.descriptor.droppableId).descriptor.mode!=="virtual")}var UW=(e,t)=>{let s=null;const r=OW({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,p)=>{e.droppable.exists(m)||we(),s&&t.updateDroppableIsEnabled({id:m,isEnabled:p})},a=(m,p)=>{s&&(e.droppable.exists(m)||we(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:p}))},o=(m,p)=>{s&&(e.droppable.exists(m)||we(),t.updateDroppableScroll({id:m,newScroll:p}))},l=(m,p)=>{s&&e.droppable.getById(m).callbacks.scroll(p)},c=()=>{if(!s)return;r.stop();const m=s.critical.droppable;e.droppable.getAllByType(m.type).forEach(p=>p.callbacks.dragStopped()),s.unsubscribe(),s=null},d=m=>{s||we();const p=s.critical.draggable;m.type==="ADDITION"&&JS(e,p,m.value)&&r.add(m.value),m.type==="REMOVAL"&&JS(e,p,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{s&&we();const p=e.draggable.getById(m.draggableId),j=e.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:j.descriptor},g=e.subscribe(d);return s={critical:y,unsubscribe:g},$W({critical:y,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},DM=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",BW=e=>{window.scrollBy(e.x,e.y)};const zW=Us(e=>fx(e).filter(t=>!(!t.isEnabled||!t.frame))),VW=(e,t)=>zW(t).find(r=>(r.frame||we(),fM(r.frame.pageMarginBox)(e)))||null;var qW=({center:e,destination:t,droppables:s})=>{if(t){const i=s[t];return i.frame?i:null}return VW(e,s)};const hh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var HW=(e,t,s=()=>hh)=>{const r=s(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},MM=({startOfRange:e,endOfRange:t,current:s})=>{const r=t-e;return r===0?0:(s-e)/r},Tw=1,WW=(e,t,s=()=>hh)=>{const r=s();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Tw;const a=1-MM({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},GW=(e,t,s)=>{const r=s(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return Tw;const h=MM({startOfRange:i,endOfRange:l,current:d}),u=e*r.ease(h);return Math.ceil(u)},e2=({distanceToEdge:e,thresholds:t,dragStartTime:s,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=WW(e,t,i);return a===0?0:r?Math.max(GW(a,s,i),Tw):a},t2=({container:e,distanceToEdges:t,dragStartTime:s,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=HW(e,r,a);return t[r.end]<t[r.start]?e2({distanceToEdge:t[r.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*e2({distanceToEdge:t[r.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},KW=({container:e,subject:t,proposedScroll:s})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?s:i&&r?null:{x:i?0:s.x,y:r?0:s.y}};const QW=nM(e=>e===0?0:e);var IM=({dragStartTime:e,container:t,subject:s,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=t2({container:t,distanceToEdges:o,dragStartTime:e,axis:bw,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=t2({container:t,distanceToEdges:o,dragStartTime:e,axis:lM,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=QW({x:c,y:l});if(no(d,Vs))return null;const h=KW({container:t,subject:s,proposedScroll:d});return h?no(h,Vs)?null:h:null};const YW=nM(e=>e===0?0:e>0?1:-1),Pw=(()=>{const e=(t,s)=>t<0?t:t>s?t-s:0;return({current:t,max:s,change:r})=>{const i=Qs(t,r),a={x:e(i.x,s.x),y:e(i.y,s.y)};return no(a,Vs)?null:a}})(),RM=({max:e,current:t,change:s})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=YW(s),a=Pw({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Ew=(e,t)=>RM({current:e.scroll.current,max:e.scroll.max,change:t}),XW=(e,t)=>{if(!Ew(e,t))return null;const s=e.scroll.max,r=e.scroll.current;return Pw({current:r,max:s,change:t})},Aw=(e,t)=>{const s=e.frame;return s?RM({current:s.scroll.current,max:s.scroll.max,change:t}):!1},ZW=(e,t)=>{const s=e.frame;return!s||!Aw(e,t)?null:Pw({current:s.scroll.current,max:s.scroll.max,change:t})};var JW=({viewport:e,subject:t,center:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=IM({dragStartTime:r,container:e.frame,subject:t,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&Ew(e,o)?o:null},eG=({droppable:e,subject:t,center:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=IM({dragStartTime:r,container:o.pageMarginBox,subject:t,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Aw(e,l)?l:null},s2=({state:e,dragStartTime:t,shouldUseTimeDampening:s,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=JW({dragStartTime:t,viewport:u,subject:c,center:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a});if(m){r(m);return}}const d=qW({center:o,destination:Xn(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=eG({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},tG=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:s=()=>hh})=>{const r=oh(e),i=oh(t);let a=null;const o=d=>{a||we();const{shouldUseTimeDampening:h,dragStartTime:u}=a;s2({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:u,shouldUseTimeDampening:h,getAutoScrollerOptions:s})};return{start:d=>{a&&we();const h=Date.now();let u=!1;const m=()=>{u=!0};s2({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:s}),a={dragStartTime:h,shouldUseTimeDampening:u},u&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},sG=({move:e,scrollDroppable:t,scrollWindow:s})=>{const r=(l,c)=>{const d=Qs(l.current.client.selection,c);e({client:d})},i=(l,c)=>{if(!Aw(l,c))return c;const d=ZW(l,c);if(!d)return t(l.descriptor.id,c),null;const h=Kn(c,d);return t(l.descriptor.id,h),Kn(c,h)},a=(l,c,d)=>{if(!l||!Ew(c,d))return d;const h=XW(c,d);if(!h)return s(d),null;const u=Kn(d,h);return s(u),Kn(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Xn(l.impact);d||we();const h=i(l.dimensions.droppables[d],c);if(!h)return;const u=l.viewport,m=a(l.isWindowScrollAllowed,u,h);m&&r(l,m)}},nG=({scrollDroppable:e,scrollWindow:t,move:s,getAutoScrollerOptions:r})=>{const i=tG({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=sG({move:s,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:i.start,stop:i.stop}};const hd="data-rfd",md=(()=>{const e=`${hd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),z0=(()=>{const e=`${hd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),rG=(()=>{const e=`${hd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),n2={contextId:`${hd}-scroll-container-context-id`},iG=e=>t=>`[${t}="${e}"]`,Xd=(e,t)=>e.map(s=>{const r=s.styles[t];return r?`${s.selector} { ${r} }`:""}).join(" "),aG="pointer-events: none;";var oG=e=>{const t=iG(e),s=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(md.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:aG,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Iu.outOfTheWay};
    `;return{selector:t(z0.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(rG.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,s,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Xd(o,"always"),resting:Xd(o,"resting"),dragging:Xd(o,"dragging"),dropAnimating:Xd(o,"dropAnimating"),userCancel:Xd(o,"userCancel")}};const Zn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Dy=()=>{const e=document.querySelector("head");return e||we(),e},r2=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function lG(e,t){const s=St(()=>oG(e),[e]),r=v.useRef(null),i=v.useRef(null),a=ze(Us(u=>{const m=i.current;m||we(),m.textContent=u}),[]),o=ze(u=>{const m=r.current;m||we(),m.textContent=u},[]);Zn(()=>{!r.current&&!i.current||we();const u=r2(t),m=r2(t);return r.current=u,i.current=m,u.setAttribute(`${hd}-always`,e),m.setAttribute(`${hd}-dynamic`,e),Dy().appendChild(u),Dy().appendChild(m),o(s.always),a(s.resting),()=>{const p=j=>{const y=j.current;y||we(),Dy().removeChild(y),j.current=null};p(r),p(i)}},[t,o,a,s.always,s.resting,e]);const l=ze(()=>a(s.dragging),[a,s.dragging]),c=ze(u=>{if(u==="DROP"){a(s.dropAnimating);return}a(s.userCancel)},[a,s.dropAnimating,s.userCancel]),d=ze(()=>{i.current&&a(s.resting)},[a,s.resting]);return St(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function FM(e,t){return Array.from(e.querySelectorAll(t))}var OM=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function vx(e){return e instanceof OM(e).HTMLElement}function cG(e,t){const s=`[${md.contextId}="${e}"]`,r=FM(document,s);if(!r.length)return null;const i=r.find(a=>a.getAttribute(md.draggableId)===t);return!i||!vx(i)?null:i}function dG(e){const t=v.useRef({}),s=v.useRef(null),r=v.useRef(null),i=v.useRef(!1),a=ze(function(m,p){const j={id:m,focus:p};return t.current[m]=j,function(){const g=t.current;g[m]!==j&&delete g[m]}},[]),o=ze(function(m){const p=cG(e,m);p&&p!==document.activeElement&&p.focus()},[e]),l=ze(function(m,p){s.current===m&&(s.current=p)},[]),c=ze(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=s.current;m&&o(m)}))},[o]),d=ze(function(m){s.current=null;const p=document.activeElement;p&&p.getAttribute(md.draggableId)===m&&(s.current=m)},[]);return Zn(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),St(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,d,c,l])}function uG(){const e={draggables:{},droppables:{}},t=[];function s(u){return t.push(u),function(){const p=t.indexOf(u);p!==-1&&t.splice(p,1)}}function r(u){t.length&&t.forEach(m=>m(u))}function i(u){return e.draggables[u]||null}function a(u){const m=i(u);return m||we(),m}const o={register:u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,m)=>{const p=e.draggables[m.descriptor.id];p&&p.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,p=i(m);p&&u.uniqueId===p.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:a,findById:i,exists:u=>!!i(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const m=l(u);return m||we(),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:s,clean:h}}function hG(){const e=St(uG,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var Dw=he.createContext(null),qf=()=>{const e=document.body;return e||we(),e};const mG={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pG=e=>`rfd-announcement-${e}`;function fG(e){const t=St(()=>pG(e),[e]),s=v.useRef(null);return v.useEffect(function(){const a=document.createElement("div");return s.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Uf(a.style,mG),qf().appendChild(a),function(){setTimeout(function(){const c=qf();c.contains(a)&&c.removeChild(a),a===s.current&&(s.current=null)})}},[t]),ze(i=>{const a=s.current;if(a){a.textContent=i;return}},[])}const gG={separator:"::"};function Mw(e,t=gG){const s=he.useId();return St(()=>`${e}${t.separator}${s}`,[t.separator,e,s])}function xG({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function yG({contextId:e,text:t}){const s=Mw("hidden-text",{separator:"-"}),r=St(()=>xG({contextId:e,uniqueId:s}),[s,e]);return v.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",qf().appendChild(a),function(){const l=qf();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var bx=he.createContext(null);function LM(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function vG(){let e=null;function t(){return!!e}function s(o){return o===e}function r(o){e&&we();const l={abandon:o};return e=l,l}function i(){e||we(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:s,claim:r,release:i,tryAbandon:a}}function mh(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const bG=9,jG=13,Iw=27,$M=32,wG=33,NG=34,SG=35,CG=36,kG=37,_G=38,TG=39,PG=40,EG={[jG]:!0,[bG]:!0};var UM=e=>{EG[e.keyCode]&&e.preventDefault()};const jx=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),BM=0,i2=5;function AG(e,t){return Math.abs(t.x-e.x)>=i2||Math.abs(t.y-e.y)>=i2}const a2={type:"IDLE"};function DG({cancel:e,completed:t,getPhase:s,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==BM)return;const c={x:o,y:l},d=s();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&we();const h=d.point;if(!AG(h,c))return;i.preventDefault();const u=d.actions.fluidLift(c);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:i=>{const a=s();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{s().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(s().type==="PENDING"){e();return}if(i.keyCode===Iw){i.preventDefault(),e();return}UM(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{s().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=s();if(a.type==="IDLE"&&we(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:jx,fn:e}]}function MG(e){const t=v.useRef(a2),s=v.useRef(so),r=St(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==BM||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const p=e.tryGetLock(m,o,{sourceEvent:u});if(!p)return;u.preventDefault();const j={x:u.clientX,y:u.clientY};s.current(),d(p,j)}}),[e]),i=St(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const u=e.findClosestDraggableId(h);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&h.preventDefault())}}),[e]),a=ze(function(){const u={passive:!1,capture:!0};s.current=ur(window,[i,r],u)},[i,r]),o=ze(()=>{t.current.type!=="IDLE"&&(t.current=a2,s.current(),a())},[a]),l=ze(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=ze(function(){const u={capture:!0,passive:!1},m=DG({cancel:l,completed:o,getPhase:()=>t.current,setPhase:p=>{t.current=p}});s.current=ur(window,m,u)},[l,o]),d=ze(function(u,m){t.current.type!=="IDLE"&&we(),t.current={type:"PENDING",point:m,actions:u},c()},[c]);Zn(function(){return a(),function(){s.current()}},[a])}function IG(){}const RG={[NG]:!0,[wG]:!0,[CG]:!0,[SG]:!0};function FG(e,t){function s(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Iw){i.preventDefault(),s();return}if(i.keyCode===$M){i.preventDefault(),r();return}if(i.keyCode===PG){i.preventDefault(),e.moveDown();return}if(i.keyCode===_G){i.preventDefault(),e.moveUp();return}if(i.keyCode===TG){i.preventDefault(),e.moveRight();return}if(i.keyCode===kG){i.preventDefault(),e.moveLeft();return}if(RG[i.keyCode]){i.preventDefault();return}UM(i)}},{eventName:"mousedown",fn:s},{eventName:"mouseup",fn:s},{eventName:"click",fn:s},{eventName:"touchstart",fn:s},{eventName:"resize",fn:s},{eventName:"wheel",fn:s,options:{passive:!0}},{eventName:jx,fn:s}]}function OG(e){const t=v.useRef(IG),s=St(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==$M)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const d=l.snapLift();t.current();function h(){c||we(),c=!1,t.current(),r()}t.current=ur(window,FG(d,h),{capture:!0,passive:!1})}}),[e]),r=ze(function(){const a={passive:!1,capture:!0};t.current=ur(window,[s],a)},[s]);Zn(function(){return r(),function(){t.current()}},[r])}const My={type:"IDLE"},LG=120,$G=.15;function UG({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:s=>{s.preventDefault()}},{eventName:"keydown",fn:s=>{if(t().type!=="DRAGGING"){e();return}s.keyCode===Iw&&s.preventDefault(),e()}},{eventName:jx,fn:e}]}function BG({cancel:e,completed:t,getPhase:s}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=s();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=s();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(s().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=s();i.type==="IDLE"&&we();const a=r.touches[0];if(!a||!(a.force>=$G))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:jx,fn:e}]}function zG(e){const t=v.useRef(My),s=v.useRef(so),r=ze(function(){return t.current},[]),i=ze(function(p){t.current=p},[]),a=St(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const j=e.findClosestDraggableId(p);if(!j)return;const y=e.tryGetLock(j,l,{sourceEvent:p});if(!y)return;const g=p.touches[0],{clientX:f,clientY:b}=g,x={x:f,y:b};s.current(),u(y,x)}}),[e]),o=ze(function(){const p={capture:!0,passive:!1};s.current=ur(window,[a],p)},[a]),l=ze(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(My),s.current(),o())},[o,i]),c=ze(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=ze(function(){const p={capture:!0,passive:!1},j={cancel:c,completed:l,getPhase:r},y=ur(window,BG(j),p),g=ur(window,UG(j),p);s.current=function(){y(),g()}},[c,r,l]),h=ze(function(){const p=r();p.type!=="PENDING"&&we();const j=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:j,hasMoved:!1})},[r,i]),u=ze(function(p,j){r().type!=="IDLE"&&we();const y=setTimeout(h,LG);i({type:"PENDING",point:j,actions:p,longPressTimerId:y}),d()},[d,r,i,h]);Zn(function(){return o(),function(){s.current();const j=r();j.type==="PENDING"&&(clearTimeout(j.longPressTimerId),i(My))}},[r,o,i]),Zn(function(){return ur(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const VG=["input","button","textarea","select","option","optgroup","video","audio"];function zM(e,t){if(t==null)return!1;if(VG.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:zM(e,t.parentElement)}function qG(e,t){const s=t.target;return vx(s)?zM(e,s):!1}var HG=e=>Ur(e.getBoundingClientRect()).center;function WG(e){return e instanceof OM(e).Element}const GG=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function VM(e,t){return e==null?null:e[GG](t)?e:VM(e.parentElement,t)}function KG(e,t){return e.closest?e.closest(t):VM(e,t)}function QG(e){return`[${md.contextId}="${e}"]`}function YG(e,t){const s=t.target;if(!WG(s))return null;const r=QG(e),i=KG(s,r);return!i||!vx(i)?null:i}function XG(e,t){const s=YG(e,t);return s?s.getAttribute(md.draggableId):null}function ZG(e,t){const s=`[${z0.contextId}="${e}"]`,i=FM(document,s).find(a=>a.getAttribute(z0.id)===t);return!i||!vx(i)?null:i}function JG(e){e.preventDefault()}function ep({expected:e,phase:t,isLockActive:s,shouldWarn:r}){return!(!s()||e!==t)}function qM({lockAPI:e,store:t,registry:s,draggableId:r}){if(e.isClaimed())return!1;const i=s.draggable.findById(r);return!(!i||!i.options.isEnabled||!DM(t.getState(),r))}function eK({lockAPI:e,contextId:t,store:s,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!qM({lockAPI:e,store:s,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=ZG(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&qG(d,o))return null;const h=e.claim(a||so);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function p(){return e.isActive(h)}function j(S,N){ep({expected:S,phase:u,isLockActive:p,shouldWarn:!0})&&s.dispatch(N())}const y=j.bind(null,"DRAGGING");function g(S){function N(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(N(),we()),s.dispatch(KH(S.liftActionArgs)),u="DRAGGING";function C(k,T={shouldBlockNextClick:!1}){if(S.cleanup(),T.shouldBlockNextClick){const D=ur(window,[{eventName:"click",fn:JG,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}N(),s.dispatch(SM({reason:k}))}return{isActive:()=>ep({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:m,drop:k=>C("DROP",k),cancel:k=>C("CANCEL",k),...S.actions}}function f(S){const N=oh(k=>{y(()=>NM({client:k}))});return{...g({liftActionArgs:{id:i,clientSelection:S,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function b(){const S={moveUp:()=>y(nW),moveRight:()=>y(iW),moveDown:()=>y(rW),moveLeft:()=>y(aW)};return g({liftActionArgs:{id:i,clientSelection:HG(d),movementMode:"SNAP"},cleanup:so,actions:S})}function x(){ep({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>ep({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:f,snapLift:b,abort:x}}const tK=[MG,OG,zG];function sK({contextId:e,store:t,registry:s,customSensors:r,enableDefaultSensors:i}){const a=[...i?tK:[],...r||[]],o=v.useState(()=>vG())[0],l=ze(function(g,f){mh(g)&&!mh(f)&&o.tryAbandon()},[o]);Zn(function(){let g=t.getState();return t.subscribe(()=>{const b=t.getState();l(g,b),g=b})},[o,t,l]),Zn(()=>o.tryAbandon,[o.tryAbandon]);const c=ze(y=>qM({lockAPI:o,registry:s,store:t,draggableId:y}),[o,s,t]),d=ze((y,g,f)=>eK({lockAPI:o,registry:s,contextId:e,store:t,draggableId:y,forceSensorStop:g||null,sourceEvent:f&&f.sourceEvent?f.sourceEvent:null}),[e,o,s,t]),h=ze(y=>XG(e,y),[e]),u=ze(y=>{const g=s.draggable.findById(y);return g?g.options:null},[s.draggable]),m=ze(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Cw()))},[o,t]),p=ze(()=>o.isClaimed(),[o]),j=St(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:p}),[c,d,h,u,m,p]);for(let y=0;y<a.length;y++)a[y](j)}const nK=e=>({onBeforeCapture:t=>{const s=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ma.flushSync(s)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),rK=e=>({...hh,...e.autoScrollerOptions,durationDampening:{...hh.durationDampening,...e.autoScrollerOptions}});function Zd(e){return e.current||we(),e.current}function iK(e){const{contextId:t,setCallbacks:s,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=v.useRef(null),l=LM(e),c=ze(()=>nK(l.current),[l]),d=ze(()=>rK(l.current),[l]),h=fG(t),u=yG({contextId:t,text:a}),m=lG(t,i),p=ze(D=>{Zd(o).dispatch(D)},[]),j=St(()=>IS({publishWhileDragging:YH,updateDroppableScroll:ZH,updateDroppableIsEnabled:JH,updateDroppableIsCombineEnabled:eW,collectionStarting:XH},p),[p]),y=hG(),g=St(()=>UW(y,j),[y,j]),f=St(()=>nG({scrollWindow:BW,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...IS({move:NM},p)}),[g.scrollDroppable,p,d]),b=dG(t),x=St(()=>FW({announce:h,autoScroller:f,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:m}),[h,f,g,b,c,m]);o.current=x;const w=ze(()=>{const D=Zd(o);D.getState().phase!=="IDLE"&&D.dispatch(Cw())},[]),S=ze(()=>{const D=Zd(o).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),N=St(()=>({isDragging:S,tryAbort:w}),[S,w]);s(N);const C=ze(D=>DM(Zd(o).getState(),D),[]),k=ze(()=>Ao(Zd(o).getState()),[]),T=St(()=>({marshal:g,focus:b,contextId:t,canLift:C,isMovementAllowed:k,dragHandleUsageInstructionsId:u,registry:y}),[t,g,u,b,C,k,y]);return sK({contextId:t,store:x,registry:y,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>w,[w]),he.createElement(bx.Provider,{value:T},he.createElement(Eq,{context:Dw,store:x},e.children))}function aK(){return he.useId()}function V0(e){const t=aK(),s=e.dragHandleUsageInstructions||Vp.dragHandleUsageInstructions;return he.createElement(Oq,null,r=>he.createElement(iK,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:s,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const o2={dragging:5e3,dropAnimating:4500},oK=(e,t)=>t?Iu.drop(t.duration):e?Iu.snap:Iu.fluid,lK=(e,t)=>{if(e)return t?uh.opacity.drop:uh.opacity.combining},cK=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function dK(e){const s=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=cK(e),c=!!a,d=c?U0.drop(r,o):U0.moveTo(r);return{position:"fixed",top:s.marginBox.top,left:s.marginBox.left,boxSizing:"border-box",width:s.borderBox.width,height:s.borderBox.height,transition:oK(l,a),transform:d,opacity:lK(o,c),zIndex:c?o2.dropAnimating:o2.dragging,pointerEvents:"none"}}function uK(e){return{transform:U0.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function hK(e){return e.type==="DRAGGING"?dK(e):uK(e)}function mK(e,t,s=Vs){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=XD(i,r),o=$f(a,s),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:o}}function pK(e){const t=Mw("draggable"),{descriptor:s,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=St(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=ze(p=>{const j=i();return j||we(),mK(s,j,p)},[s,i]),h=St(()=>({uniqueId:t,descriptor:s,options:c,getDimension:d}),[s,d,c,t]),u=v.useRef(h),m=v.useRef(!0);Zn(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),Zn(()=>{if(m.current){m.current=!1;return}const p=u.current;u.current=h,r.draggable.update(h,p)},[h,r.draggable])}var Rw=he.createContext(null);function Hf(e){const t=v.useContext(e);return t||we(),t}function fK(e){e.preventDefault()}const gK=e=>{const t=v.useRef(null),s=ze((N=null)=>{t.current=N},[]),r=ze(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Hf(bx),{type:l,droppableId:c}=Hf(Rw),d=St(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:h,draggableId:u,isEnabled:m,shouldRespectForcePress:p,canDragInteractiveElements:j,isClone:y,mapped:g,dropAnimationFinished:f}=e;if(!y){const N=St(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:j,shouldRespectForcePress:p,isEnabled:m}),[d,o,r,j,p,m]);pK(N)}const b=St(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:fK}:null,[i,a,u,m]),x=ze(N=>{g.type==="DRAGGING"&&g.dropping&&N.propertyName==="transform"&&ma.flushSync(f)},[f,g]),w=St(()=>{const N=hK(g),C=g.type==="DRAGGING"&&g.dropping?x:void 0;return{innerRef:s,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":u,style:N,onTransitionEnd:C},dragHandleProps:b}},[i,b,u,g,x,s]),S=St(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return he.createElement(he.Fragment,null,h(w,g.snapshot,S))};var HM=(e,t)=>e===t,WM=e=>{const{combine:t,destination:s}=e;return s?s.droppableId:t?t.droppableId:null};const xK=e=>e.combine?e.combine.draggableId:null,yK=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function vK(){const e=Us((i,a)=>({x:i,y:a})),t=Us((i,a,o=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),s=Us((i,a,o,l,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,c,d,null)}}));return(i,a)=>{if(mh(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],c=Xn(i.impact),d=yK(i.impact),h=i.forceShouldAnimate;return s(e(o.x,o.y),i.movementMode,l,a.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,u=WM(d),m=xK(d),j={duration:i.dropDuration,curve:_w.drop,moveTo:i.newHomeClientOffset,opacity:m?uh.opacity.drop:null,scale:m?uh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:j,draggingOver:u,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:t(h,l,u,m,j)}}}return null}}function GM(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const bK={mapped:{type:"SECONDARY",offset:Vs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:GM(null)}};function jK(){const e=Us((o,l)=>({x:o,y:l})),t=Us(GM),s=Us((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o=>o?s(Vs,o,!0):null,i=(o,l,c,d)=>{const h=c.displaced.visible[o],u=!!(d.inVirtualList&&d.effected[o]),m=gx(c),p=m&&m.draggableId===o?l:null;if(!h){if(!u)return r(p);if(c.displaced.invisible[o])return null;const g=Ad(d.displacedBy.point),f=e(g.x,g.y);return s(f,p,!0)}if(u)return r(p);const j=c.displacedBy.point,y=e(j.x,j.y);return s(y,p,h.shouldAnimate)};return(o,l)=>{if(mh(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const wK=()=>{const e=vK(),t=jK();return(r,i)=>e(r,i)||t(r,i)||bK},NK={dropAnimationFinished:CM},SK=YD(wK,NK,null,{context:Dw,areStatePropsEqual:HM})(gK);function KM(e){return Hf(Rw).isUsingCloneFor===e.draggableId&&!e.isClone?null:he.createElement(SK,e)}function q0(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,s=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return he.createElement(KM,Uf({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:s,shouldRespectForcePress:r}))}const QM=e=>t=>e===t,CK=QM("scroll"),kK=QM("auto"),l2=(e,t)=>t(e.overflowX)||t(e.overflowY),_K=e=>{const t=window.getComputedStyle(e),s={overflowX:t.overflowX,overflowY:t.overflowY};return l2(s,CK)||l2(s,kK)},TK=()=>!1,YM=e=>e==null?null:e===document.body?TK()?e:null:e===document.documentElement?null:_K(e)?e:YM(e.parentElement);var H0=e=>({x:e.scrollLeft,y:e.scrollTop});const XM=e=>e?window.getComputedStyle(e).position==="fixed"?!0:XM(e.parentElement):!1;var PK=e=>{const t=YM(e),s=XM(e);return{closestScrollable:t,isFixedOnPage:s}},EK=({descriptor:e,isEnabled:t,isCombineEnabled:s,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:p}=l,j=PM({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:j,diff:{value:Vs,displacement:Vs}}}})(),d=i==="vertical"?bw:lM,h=ud({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:s,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:c,subject:h}};const AK=(e,t)=>{const s=ZD(e);if(!t||e!==t)return s;const r=s.paddingBox.top-t.scrollTop,i=s.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,c=gw({top:r,right:o,bottom:a,left:i},s.border);return xw({borderBox:c,margin:s.margin,border:s.border,padding:s.padding})};var DK=({ref:e,descriptor:t,env:s,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const c=s.closestScrollable,d=AK(e,c),h=$f(d,r),u=(()=>{if(!c)return null;const p=ZD(c),j={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:$f(p,r),scroll:H0(c),scrollSize:j,shouldClipSubject:l}})();return EK({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:s.isFixedOnPage,direction:i,client:d,page:h,closest:u})};const MK={passive:!1},IK={passive:!0};var c2=e=>e.shouldPublishImmediately?MK:IK;const tp=e=>e&&e.env.closestScrollable||null;function RK(e){const t=v.useRef(null),s=Hf(bx),r=Mw("droppable"),{registry:i,marshal:a}=s,o=LM(e),l=St(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=St(()=>Us((w,S)=>{t.current||we();const N={x:w,y:S};a.updateDroppableScroll(l.id,N)}),[l.id,a]),h=ze(()=>{const w=t.current;return!w||!w.env.closestScrollable?Vs:H0(w.env.closestScrollable)},[]),u=ze(()=>{const w=h();d(w.x,w.y)},[h,d]),m=St(()=>oh(u),[u]),p=ze(()=>{const w=t.current,S=tp(w);if(w&&S||we(),w.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),j=ze((w,S)=>{t.current&&we();const N=o.current,C=N.getDroppableRef();C||we();const k=PK(C),T={ref:C,descriptor:l,env:k,scrollOptions:S};t.current=T;const D=DK({ref:C,descriptor:l,env:k,windowScroll:w,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),P=k.closestScrollable;return P&&(P.setAttribute(n2.contextId,s.contextId),P.addEventListener("scroll",p,c2(T.scrollOptions))),D},[s.contextId,l,p,o]),y=ze(()=>{const w=t.current,S=tp(w);return w&&S||we(),H0(S)},[]),g=ze(()=>{const w=t.current;w||we();const S=tp(w);t.current=null,S&&(m.cancel(),S.removeAttribute(n2.contextId),S.removeEventListener("scroll",p,c2(w.scrollOptions)))},[p,m]),f=ze(w=>{const S=t.current;S||we();const N=tp(S);N||we(),N.scrollTop+=w.y,N.scrollLeft+=w.x},[]),b=St(()=>({getDimensionAndWatchScroll:j,getScrollWhileDragging:y,dragStopped:g,scroll:f}),[g,j,y,f]),x=St(()=>({uniqueId:r,descriptor:l,callbacks:b}),[b,l,r]);Zn(()=>(c.current=x.descriptor,i.droppable.register(x),()=>{t.current&&g(),i.droppable.unregister(x)}),[b,l,g,x,a,i.droppable]),Zn(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Zn(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Iy(){}const d2={width:0,height:0,margin:qq},FK=({isAnimatingOpenOnMount:e,placeholder:t,animate:s})=>e||s==="close"?d2:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},OK=({isAnimatingOpenOnMount:e,placeholder:t,animate:s})=>{const r=FK({isAnimatingOpenOnMount:e,placeholder:t,animate:s});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Iu.placeholder:null}},LK=e=>{const t=v.useRef(null),s=ze(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(s(),c(!1),Iy):t.current?Iy:(t.current=setTimeout(()=>{t.current=null,c(!1)}),s):Iy,[r,l,s]);const d=ze(u=>{u.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=OK({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return he.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var $K=he.memo(LK);class UK extends he.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,s){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const BK=e=>{const t=v.useContext(bx);t||we();const{contextId:s,isMovementAllowed:r}=t,i=v.useRef(null),a=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:h,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:p,snapshot:j,useClone:y,updateViewportMaxScroll:g,getContainerForClone:f}=e,b=ze(()=>i.current,[]),x=ze((P=null)=>{i.current=P},[]);ze(()=>a.current,[]);const w=ze((P=null)=>{a.current=P},[]),S=ze(()=>{r()&&g({maxScroll:AM()})},[r,g]);RK({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:m,isCombineEnabled:p,ignoreContainerClipping:u,getDroppableRef:b});const N=St(()=>he.createElement(UK,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:P,data:M,animate:X})=>he.createElement($K,{placeholder:M,onClose:P,innerRef:w,animate:X,contextId:s,onTransitionEnd:S})),[s,S,e.placeholder,e.shouldAnimatePlaceholder,w]),C=St(()=>({innerRef:x,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":s}}),[s,l,N,x]),k=y?y.dragging.draggableId:null,T=St(()=>({droppableId:l,type:c,isUsingCloneFor:k}),[l,k,c]);function D(){if(!y)return null;const{dragging:P,render:M}=y,X=he.createElement(KM,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,F)=>M(ee,F,P));return UA.createPortal(X,f())}return he.createElement(Rw.Provider,{value:T},o(C,j),D())};function zK(){return document.body||we(),document.body}const u2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:zK},ZM=e=>{let t={...e},s;for(s in u2)e[s]===void 0&&(t={...t,[s]:u2[s]});return t},Ry=(e,t)=>e===t.droppable.type,h2=(e,t)=>t.draggables[e.draggable.id],VK=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},s=Us(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Us((a,o,l,c,d,h)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===a){const j=h?{render:h,dragging:s(d.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:j}}if(!o)return t;if(!c)return e;const p={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(a,o)=>{const l=ZM(o),c=l.droppableId,d=l.type,h=!l.isDropDisabled,u=l.renderClone;if(mh(a)){const m=a.critical;if(!Ry(d,m))return t;const p=h2(m,a.dimensions),j=Xn(a.impact)===c;return r(c,h,j,j,p,u)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!Ry(d,m.critical))return t;const p=h2(m.critical,a.dimensions);return r(c,h,WM(m.result)===c,Xn(m.impact)===c,p,u)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!Ry(d,m.critical))return t;const p=Xn(m.impact)===c,j=!!(m.impact.at&&m.impact.at.type==="COMBINE"),y=m.critical.droppable.id===c;return p?j?e:t:y?e:t}return t}},qK={updateViewportMaxScroll:sW},W0=YD(VK,qK,(e,t,s)=>({...ZM(s),...e,...t}),{context:Dw,areStatePropsEqual:HM})(BK),sp=[{id:"daily-summary",name:"Daily Summary",component:"DailySummary",enabled:!0,order:0},{id:"daily-tasks",name:"Task Management",component:"DailyTasksModule",enabled:!0,order:1},{id:"mood",name:"Mood & Wellbeing",component:"MoodModule",enabled:!0,order:2},{id:"financial",name:"Financial Tracker",component:"FinancialModule",enabled:!1,order:3},{id:"appointments",name:"Appointments",component:"AppointmentsModule",enabled:!1,order:4},{id:"pharmacy",name:"Pharmacy & Medications",component:"PharmacyModule",enabled:!1,order:5},{id:"safety-transportation",name:"Safety & Transportation (Premium)",component:"SafetyTransportationModule",enabled:!1,order:6},{id:"location-safety",name:"Location & Safety (Premium)",component:"LocationSafetyModule",enabled:!1,order:7},{id:"achievements",name:"Achievements",component:"AchievementsModule",enabled:!1,order:8},{id:"caregiver",name:"Support Network",component:"CaregiverModule",enabled:!1,order:9},{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:10},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:11},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:12},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:13}];function HK(){const[e,t]=v.useState([]),[s,r]=v.useState(!1);v.useEffect(()=>{const p=localStorage.getItem("dashboard-layout");if(p)try{const j=JSON.parse(p),y=j.map(x=>x.id),g=sp.filter(x=>!y.includes(x.id)),f=[...j,...g],b=f.filter((x,w)=>f.findIndex(S=>S.id===x.id)===w);t(b)}catch(j){console.error("Failed to parse saved layout:",j),t(sp)}else t(sp)},[]),v.useEffect(()=>{e.length>0&&localStorage.setItem("dashboard-layout",JSON.stringify(e))},[e]);const i=(p,j)=>{const y=Array.from(e),[g]=y.splice(p,1);y.splice(j,0,g);const f=y.map((b,x)=>({...b,order:x}));t(f)},a=p=>{t(j=>j.map(y=>y.id===p?{...y,enabled:!y.enabled}:y))},o=()=>{t(sp),localStorage.removeItem("dashboard-layout")},l=()=>{const p=[{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:7},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:8},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:9},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:10}];t(j=>{const y=j.map(f=>f.id),g=p.filter(f=>!y.includes(f.id));return[...j,...g]})},c=p=>{const j=e.findIndex(y=>y.id===p);j>0&&i(j,j-1)},d=p=>{const j=e.findIndex(y=>y.id===p);j<e.length-1&&i(j,j+1)},h=e.filter(p=>p.enabled).sort((p,j)=>p.order-j.order),u=e.filter(p=>p.enabled),m=e.filter(p=>!p.enabled);return{modules:h,allModules:e,enabledModules:u,disabledModules:m,isCustomizing:s,setIsCustomizing:r,reorderModules:i,toggleModule:a,resetToDefault:o,moveModuleUp:c,moveModuleDown:d,addEnhancedFeatures:l}}function WK(){const[e,t]=v.useState(!1),[s,r]=v.useState(!1),{data:i,isLoading:a}=xe({queryKey:["/api/mood-entries/today"]});return v.useEffect(()=>{if(a)return;const d=new Date().toDateString(),h=localStorage.getItem("mood-check-date");if(console.log("Mood check - todayMood:",i,"lastCheck:",h,"today:",d),i){console.log("Mood exists, hiding modal"),r(!0),t(!1);return}!i&&h!==d&&!e&&(console.log("Mood check available via navigation"),r(!1))},[i,a]),{showMoodModal:e,closeMoodModal:()=>{console.log("closeMoodModal called"),t(!1),r(!0);const d=new Date().toDateString();localStorage.setItem("mood-check-date",d),console.log("Modal closed successfully")},isMoodRequired:!i&&!a,shouldBlockNavigation:!1,moodData:i}}const GK=pm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:e,variant:t,...s}){return n.jsx("div",{className:Oe(GK({variant:t}),e),...s})}function KK(){var c;const[e,t]=v.useState(!1),{data:s}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]}),i=(s==null?void 0:s.accountType)==="admin"||(s==null?void 0:s.username)==="admin"||((c=s==null?void 0:s.name)==null?void 0:c.toLowerCase().includes("admin"));if(e||!s||!r||r.status==="active"||i)return null;const a=r.trialDaysLeft||0,o=a===0,l=a<=2&&a>0;return!o&&!l?null:n.jsx($,{className:`mx-4 mb-4 border-2 ${o?"border-red-300 bg-red-50":"border-yellow-300 bg-yellow-50"}`,children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-full ${o?"bg-red-100":"bg-yellow-100"}`,children:o?n.jsx(Xt,{className:"w-5 h-5 text-red-600"}):n.jsx(js,{className:"w-5 h-5 text-yellow-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:`font-semibold ${o?"text-red-800":"text-yellow-800"}`,children:o?"Free Trial Expired":"Trial Ending Soon"}),n.jsx(me,{variant:o?"destructive":"secondary",children:o?"Action Required":`${a} days left`})]}),n.jsx("p",{className:`text-sm mb-3 ${o?"text-red-700":"text-yellow-700"}`,children:o?"Your free trial has ended. Subscribe now to continue using Adaptalyfe features.":`Your free trial ends in ${a} ${a===1?"day":"days"}. Subscribe now to avoid interruption.`}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Ue,{href:"/subscription",children:n.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold shadow-md border border-white/20",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1"}),"View Plans"]})}),!o&&n.jsx(E,{variant:"outline",size:"sm",onClick:()=>t(!0),className:"text-gray-600 hover:text-gray-800",children:"Remind Me Later"})]})]})]}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"h-6 w-6 p-0 hover:bg-transparent",children:n.jsx(Ed,{className:"w-4 h-4"})})]})})})}const QK="/adaptalyfe-icon.png";function YK(){const{data:e}=xe({queryKey:["/api/user"]}),{data:t}=xe({queryKey:["/api/daily-tasks"]}),s=(t==null?void 0:t.filter(o=>o.isCompleted).length)||0,r=(t==null?void 0:t.length)||0,i=r>0?Math.round(s/r*100):0,a=()=>{const o=new Date().getHours();return o<12?"Good morning":o<17?"Good afternoon":"Good evening"};return Az(),e?n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("img",{src:QK,alt:"Adaptalyfe",className:"w-6 h-6 rounded shadow-sm"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-teal-400",children:"Adaptalyfe"}),n.jsx("p",{className:"text-sm text-white/90",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsxs("h2",{className:"text-2xl font-bold mb-2 text-white flex items-center gap-2",children:[a(),", ",e==null?void 0:e.name,"!",n.jsx("span",{className:"text-teal-400 text-2xl",children:"★"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Today's Progress"}),n.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[i,"%"]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Current Streak"}),n.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[(e==null?void 0:e.streakDays)||0," days"]})]})]})]}),n.jsx("div",{className:"hidden lg:block",children:n.jsx("div",{className:"w-16 h-16 bg-gray-800/50 border border-teal-400/40 rounded-full flex items-center justify-center",children:n.jsx(T9,{size:32,className:"text-teal-400"})})})]})})}):n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-48 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-700 rounded w-64 mb-4"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"}),n.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"})]})]})})})}var Fy="focusScope.autoFocusOnMount",Oy="focusScope.autoFocusOnUnmount",m2={bubbles:!1,cancelable:!0},XK="FocusScope",Fw=v.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),d=hs(i),h=hs(a),u=v.useRef(null),m=xt(t,y=>c(y)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(x){if(p.paused||!l)return;const w=x.target;l.contains(w)?u.current=w:wa(u.current,{select:!0})},g=function(x){if(p.paused||!l)return;const w=x.relatedTarget;w!==null&&(l.contains(w)||wa(u.current,{select:!0}))},f=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&wa(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",g);const b=new MutationObserver(f);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",g),b.disconnect()}}},[r,l,p.paused]),v.useEffect(()=>{if(l){f2.add(p);const y=document.activeElement;if(!l.contains(y)){const f=new CustomEvent(Fy,m2);l.addEventListener(Fy,d),l.dispatchEvent(f),f.defaultPrevented||(ZK(nQ(JM(l)),{select:!0}),document.activeElement===y&&wa(l))}return()=>{l.removeEventListener(Fy,d),setTimeout(()=>{const f=new CustomEvent(Oy,m2);l.addEventListener(Oy,h),l.dispatchEvent(f),f.defaultPrevented||wa(y??document.body,{select:!0}),l.removeEventListener(Oy,h),f2.remove(p)},0)}}},[l,d,h,p]);const j=v.useCallback(y=>{if(!s&&!r||p.paused)return;const g=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,f=document.activeElement;if(g&&f){const b=y.currentTarget,[x,w]=JK(b);x&&w?!y.shiftKey&&f===w?(y.preventDefault(),s&&wa(x,{select:!0})):y.shiftKey&&f===x&&(y.preventDefault(),s&&wa(w,{select:!0})):f===b&&y.preventDefault()}},[s,r,p.paused]);return n.jsx(Be.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});Fw.displayName=XK;function ZK(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(wa(r,{select:t}),document.activeElement!==s)return}function JK(e){const t=JM(e),s=p2(t,e),r=p2(t.reverse(),e);return[s,r]}function JM(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function p2(e,t){for(const s of e)if(!eQ(s,{upTo:t}))return s}function eQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tQ(e){return e instanceof HTMLInputElement&&"select"in e}function wa(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&tQ(e)&&t&&e.select()}}var f2=sQ();function sQ(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=g2(e,t),e.unshift(t)},remove(t){var s;e=g2(e,t),(s=e[0])==null||s.resume()}}}function g2(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function nQ(e){return e.filter(t=>t.tagName!=="A")}var Ly=0;function e6(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x2()),document.body.insertAdjacentElement("beforeend",e[1]??x2()),Ly++,()=>{Ly===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ly--}},[])}function x2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gi=function(){return gi=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},gi.apply(this,arguments)};function t6(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}function rQ(e,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var qp="right-scroll-bar-position",Hp="width-before-scroll-bar",iQ="with-scroll-bars-hidden",aQ="--removed-body-scroll-bar-size";function $y(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oQ(e,t){var s=v.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var lQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,y2=new WeakMap;function cQ(e,t){var s=oQ(null,function(r){return e.forEach(function(i){return $y(i,r)})});return lQ(function(){var r=y2.get(s);if(r){var i=new Set(r),a=new Set(e),o=s.current;i.forEach(function(l){a.has(l)||$y(l,null)}),a.forEach(function(l){i.has(l)||$y(l,o)})}y2.set(s,e)},[e]),s}function dQ(e){return e}function uQ(e,t){t===void 0&&(t=dQ);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var o=t(a,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),s}}}};return i}function hQ(e){e===void 0&&(e={});var t=uQ(null);return t.options=gi({async:!0,ssr:!1},e),t}var s6=function(e){var t=e.sideCar,s=t6(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,gi({},s))};s6.isSideCarExport=!0;function mQ(e,t){return e.useMedium(t),s6}var n6=hQ(),Uy=function(){},wx=v.forwardRef(function(e,t){var s=v.useRef(null),r=v.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,m=e.sideCar,p=e.noIsolation,j=e.inert,y=e.allowPinchZoom,g=e.as,f=g===void 0?"div":g,b=e.gapMode,x=t6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,S=cQ([s,t]),N=gi(gi({},x),i);return v.createElement(v.Fragment,null,h&&v.createElement(w,{sideCar:n6,removeScrollBar:d,shards:u,noIsolation:p,inert:j,setCallbacks:a,allowPinchZoom:!!y,lockRef:s,gapMode:b}),o?v.cloneElement(v.Children.only(l),gi(gi({},N),{ref:S})):v.createElement(f,gi({},N,{className:c,ref:S}),l))});wx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wx.classNames={fullWidth:Hp,zeroRight:qp};var pQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pQ();return t&&e.setAttribute("nonce",t),e}function gQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yQ=function(){var e=0,t=null;return{add:function(s){e==0&&(t=fQ())&&(gQ(t,s),xQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vQ=function(){var e=yQ();return function(t,s){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},r6=function(){var e=vQ(),t=function(s){var r=s.styles,i=s.dynamic;return e(r,i),null};return t},bQ={left:0,top:0,right:0,gap:0},By=function(e){return parseInt(e||"",10)||0},jQ=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[By(s),By(r),By(i)]},wQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bQ;var t=jQ(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},NQ=r6(),pc="data-scroll-locked",SQ=function(e,t,s,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(iQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Hp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hp," .").concat(Hp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(aQ,": ").concat(l,`px;
  }
`)},v2=function(){var e=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(e)?e:0},CQ=function(){v.useEffect(function(){return document.body.setAttribute(pc,(v2()+1).toString()),function(){var e=v2()-1;e<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,e.toString())}},[])},kQ=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;CQ();var a=v.useMemo(function(){return wQ(i)},[i]);return v.createElement(NQ,{styles:SQ(a,!t,i,s?"":"!important")})},G0=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return G0=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{G0=!1}var Dl=G0?{passive:!1}:!1,_Q=function(e){return e.tagName==="TEXTAREA"},i6=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!_Q(e)&&s[t]==="visible")},TQ=function(e){return i6(e,"overflowY")},PQ=function(e){return i6(e,"overflowX")},b2=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=a6(e,r);if(i){var a=o6(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},EQ=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},AQ=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},a6=function(e,t){return e==="v"?TQ(t):PQ(t)},o6=function(e,t){return e==="v"?EQ(t):AQ(t)},DQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},MQ=function(e,t,s,r,i){var a=DQ(e,window.getComputedStyle(t).direction),o=a*r,l=s.target,c=t.contains(l),d=!1,h=o>0,u=0,m=0;do{var p=o6(e,l),j=p[0],y=p[1],g=p[2],f=y-g-a*j;(j||f)&&a6(e,l)&&(u+=f,m+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(u)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(d=!0),d},rp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j2=function(e){return[e.deltaX,e.deltaY]},w2=function(e){return e&&"current"in e?e.current:e},IQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FQ=0,Ml=[];function OQ(e){var t=v.useRef([]),s=v.useRef([0,0]),r=v.useRef(),i=v.useState(FQ++)[0],a=v.useState(r6)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=rQ([e.lockRef.current],(e.shards||[]).map(w2),!0).filter(Boolean);return y.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(y,g){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var f=rp(y),b=s.current,x="deltaX"in y?y.deltaX:b[0]-f[0],w="deltaY"in y?y.deltaY:b[1]-f[1],S,N=y.target,C=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in y&&C==="h"&&N.type==="range")return!1;var k=b2(C,N);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=b2(C,N)),!k)return!1;if(!r.current&&"changedTouches"in y&&(x||w)&&(r.current=S),!S)return!0;var T=r.current||S;return MQ(T,g,y,T==="h"?x:w,!0)},[]),c=v.useCallback(function(y){var g=y;if(!(!Ml.length||Ml[Ml.length-1]!==a)){var f="deltaY"in g?j2(g):rp(g),b=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&IQ(S.delta,f)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(w2).filter(Boolean).filter(function(S){return S.contains(g.target)}),w=x.length>0?l(g,x[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(y,g,f,b){var x={name:y,delta:g,target:f,should:b,shadowParent:LQ(f)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(w){return w!==x})},1)},[]),h=v.useCallback(function(y){s.current=rp(y),r.current=void 0},[]),u=v.useCallback(function(y){d(y.type,j2(y),y.target,l(y,e.lockRef.current))},[]),m=v.useCallback(function(y){d(y.type,rp(y),y.target,l(y,e.lockRef.current))},[]);v.useEffect(function(){return Ml.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Dl),document.addEventListener("touchmove",c,Dl),document.addEventListener("touchstart",h,Dl),function(){Ml=Ml.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Dl),document.removeEventListener("touchmove",c,Dl),document.removeEventListener("touchstart",h,Dl)}},[]);var p=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:RQ(i)}):null,p?v.createElement(kQ,{gapMode:e.gapMode}):null)}function LQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $Q=mQ(n6,OQ);var Ow=v.forwardRef(function(e,t){return v.createElement(wx,gi({},e,{ref:t,sideCar:$Q}))});Ow.classNames=wx.classNames;var UQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Il=new WeakMap,ip=new WeakMap,ap={},zy=0,l6=function(e){return e&&(e.host||l6(e.parentNode))},BQ=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=l6(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},zQ=function(e,t,s,r){var i=BQ(t,Array.isArray(e)?e:[e]);ap[s]||(ap[s]=new WeakMap);var a=ap[s],o=[],l=new Set,c=new Set(i),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};i.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(r),j=p!==null&&p!=="false",y=(Il.get(m)||0)+1,g=(a.get(m)||0)+1;Il.set(m,y),a.set(m,g),o.push(m),y===1&&j&&ip.set(m,!0),g===1&&m.setAttribute(s,"true"),j||m.setAttribute(r,"true")}catch(f){console.error("aria-hidden: cannot operate on ",m,f)}})};return h(t),l.clear(),zy++,function(){o.forEach(function(u){var m=Il.get(u)-1,p=a.get(u)-1;Il.set(u,m),a.set(u,p),m||(ip.has(u)||u.removeAttribute(r),ip.delete(u)),p||u.removeAttribute(s)}),zy--,zy||(Il=new WeakMap,Il=new WeakMap,ip=new WeakMap,ap={})}},c6=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=UQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zQ(r,i,s,"aria-hidden")):function(){return null}},Lw="Dialog",[d6,yhe]=On(Lw),[VQ,Jr]=d6(Lw),u6=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,h]=ki({prop:r,defaultProp:i,onChange:a});return n.jsx(VQ,{scope:t,triggerRef:l,contentRef:c,contentId:Ji(),titleId:Ji(),descriptionId:Ji(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(u=>!u),[h]),modal:o,children:s})};u6.displayName=Lw;var h6="DialogTrigger",m6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(h6,s),a=xt(t,i.triggerRef);return n.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Bw(i.open),...r,ref:a,onClick:Fe(e.onClick,i.onOpenToggle)})});m6.displayName=h6;var $w="DialogPortal",[qQ,p6]=d6($w,{forceMount:void 0}),f6=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=e,a=Jr($w,t);return n.jsx(qQ,{scope:t,forceMount:s,children:v.Children.map(r,o=>n.jsx(yr,{present:s||a.open,children:n.jsx(nx,{asChild:!0,container:i,children:o})}))})};f6.displayName=$w;var Wf="DialogOverlay",g6=v.forwardRef((e,t)=>{const s=p6(Wf,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Jr(Wf,e.__scopeDialog);return a.modal?n.jsx(yr,{present:r||a.open,children:n.jsx(WQ,{...i,ref:t})}):null});g6.displayName=Wf;var HQ=ad("DialogOverlay.RemoveScroll"),WQ=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(Wf,s);return n.jsx(Ow,{as:HQ,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Be.div,{"data-state":Bw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jl="DialogContent",x6=v.forwardRef((e,t)=>{const s=p6(jl,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Jr(jl,e.__scopeDialog);return n.jsx(yr,{present:r||a.open,children:a.modal?n.jsx(GQ,{...i,ref:t}):n.jsx(KQ,{...i,ref:t})})});x6.displayName=jl;var GQ=v.forwardRef((e,t)=>{const s=Jr(jl,e.__scopeDialog),r=v.useRef(null),i=xt(t,s.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return c6(a)},[]),n.jsx(y6,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,a=>a.preventDefault())})}),KQ=v.forwardRef((e,t)=>{const s=Jr(jl,e.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return n.jsx(y6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),y6=v.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Jr(jl,s),c=v.useRef(null),d=xt(t,c);return e6(),n.jsxs(n.Fragment,{children:[n.jsx(Fw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(um,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(QQ,{titleId:l.titleId}),n.jsx(XQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uw="DialogTitle",v6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(Uw,s);return n.jsx(Be.h2,{id:i.titleId,...r,ref:t})});v6.displayName=Uw;var b6="DialogDescription",j6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(b6,s);return n.jsx(Be.p,{id:i.descriptionId,...r,ref:t})});j6.displayName=b6;var w6="DialogClose",N6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(w6,s);return n.jsx(Be.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,()=>i.onOpenChange(!1))})});N6.displayName=w6;function Bw(e){return e?"open":"closed"}var S6="DialogTitleWarning",[vhe,C6]=nU(S6,{contentName:jl,titleName:Uw,docsSlug:"dialog"}),QQ=({titleId:e})=>{const t=C6(S6),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},YQ="DialogDescriptionWarning",XQ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C6(YQ).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ZQ=u6,JQ=m6,eY=f6,k6=g6,_6=x6,T6=v6,P6=j6,tY=N6;const et=ZQ,pt=JQ,sY=eY,E6=v.forwardRef(({className:e,...t},s)=>n.jsx(k6,{ref:s,className:Oe("fixed inset-0 z-40 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));E6.displayName=k6.displayName;const Ye=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(sY,{children:[n.jsx(E6,{}),n.jsxs(_6,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(tY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Ed,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=_6.displayName;const Xe=({className:e,...t})=>n.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xe.displayName="DialogHeader";const K0=({className:e,...t})=>n.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K0.displayName="DialogFooter";const Ze=v.forwardRef(({className:e,...t},s)=>n.jsx(T6,{ref:s,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Ze.displayName=T6.displayName;const Zt=v.forwardRef(({className:e,...t},s)=>n.jsx(P6,{ref:s,className:Oe("text-sm text-muted-foreground",e),...t}));Zt.displayName=P6.displayName;const op=[{key:"mood-tracking",label:"Mood Check-in",description:"How are you feeling?",icon:dw,color:"purple",route:"/mood-tracking"},{key:"daily-tasks",label:"Daily Tasks",description:"Complete activities",icon:uw,color:"green",route:"/daily-tasks"},{key:"financial",label:"Bill Reminders",description:"Manage payments",icon:Vt,color:"blue",route:"/financial"},{key:"caregiver",label:"Contact Support",description:"Reach out for help",icon:as,color:"orange",route:"/caregiver"},{key:"pharmacy",label:"Medications",description:"Manage prescriptions",icon:ow,color:"red",route:"/pharmacy"},{key:"medical",label:"Medical Info",description:"Health records",icon:CD,color:"pink",route:"/medical"},{key:"personal-documents",label:"Personal Documents",description:"Access important documents",icon:ol,color:"blue",route:"/personal-documents"},{key:"meal-shopping",label:"Meals & Shopping",description:"Plan and shop",icon:ll,color:"yellow",route:"/meal-shopping"},{key:"calendar",label:"Calendar",description:"View schedule",icon:Vt,color:"indigo",route:"/calendar"},{key:"resources",label:"Resources",description:"Helpful tools",icon:Hr,color:"teal",route:"/resources"},{key:"achievements",label:"Achievements",description:"View progress",icon:Ht,color:"amber",route:"/rewards"},{key:"academic-planner",label:"Academic Planner",description:"Manage classes & assignments",icon:mx,color:"purple",route:"/academic-planner"},{key:"task-builder",label:"Life Skills Guide",description:"Step-by-step task tutorials",icon:Hr,color:"emerald",route:"/task-builder"}],lp={purple:{bg:"from-purple-500 to-pink-500",border:"border-purple-200",hover:"hover:border-purple-400"},green:{bg:"from-green-500 to-emerald-500",border:"border-green-200",hover:"hover:border-green-400"},emerald:{bg:"from-emerald-500 to-green-500",border:"border-emerald-200",hover:"hover:border-emerald-400"},blue:{bg:"from-blue-500 to-cyan-500",border:"border-blue-200",hover:"hover:border-blue-400"},orange:{bg:"from-orange-500 to-red-500",border:"border-orange-200",hover:"hover:border-orange-400"},red:{bg:"from-red-500 to-rose-500",border:"border-red-200",hover:"hover:border-red-400"},pink:{bg:"from-pink-500 to-rose-500",border:"border-pink-200",hover:"hover:border-pink-400"},yellow:{bg:"from-yellow-500 to-orange-500",border:"border-yellow-200",hover:"hover:border-yellow-400"},indigo:{bg:"from-indigo-500 to-blue-500",border:"border-indigo-200",hover:"hover:border-indigo-400"},teal:{bg:"from-teal-500 to-cyan-500",border:"border-teal-200",hover:"hover:border-teal-400"},amber:{bg:"from-amber-500 to-orange-500",border:"border-amber-200",hover:"hover:border-amber-400"}};function nY(){var b;const{toast:e}=ut(),t=Jt(),[s,r]=v.useState(!1),[i,a]=v.useState([]),[o,l]=v.useState(!1),{data:c,isLoading:d}=xe({queryKey:["/api/user-preferences"],queryFn:()=>ve("GET","/api/user-preferences").then(x=>x.json())}),h=((b=c==null?void 0:c.themeSettings)==null?void 0:b.quickActions)||["mood-tracking","daily-tasks","financial","caregiver"],u=Ce({mutationFn:x=>ve("PUT","/api/user-preferences",{themeSettings:{...(c==null?void 0:c.themeSettings)||{},quickActions:x}}).then(w=>w.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user-preferences"]}),e({title:"Quick Actions Updated",description:"Your personalized quick actions have been saved."}),r(!1)},onError:x=>{console.error("Failed to update quick actions:",x),e({title:"Error",description:"Failed to update quick actions. Please try again.",variant:"destructive"})}}),m=x=>{if(!x.destination)return;const w=Array.from(i),[S]=w.splice(x.source.index,1);w.splice(x.destination.index,0,S),a(w)},p=x=>{if(console.log("Drag ended:",x),!x.destination){console.log("No destination - drag cancelled");return}const w=Array.from(h),[S]=w.splice(x.source.index,1);w.splice(x.destination.index,0,S),console.log("New quick actions order:",w),e({title:"Quick Actions Reordered",description:"Your new order has been saved."}),u.mutate(w)},j=x=>{!i.includes(x)&&i.length<6&&a([...i,x])},y=x=>{a(i.filter(w=>w!==x))},g=()=>{u.mutate(i)},f=()=>{a([...h]),r(!0)};return d?n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse mb-6"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[1,2,3,4].map(x=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-2xl animate-pulse"},x))})]}):n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-3xl font-bold text-gray-800 drop-shadow-sm",children:"Quick Actions"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(E,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),className:`${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg"} transition-all`,children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),o?"Exit Reorder":"Reorder"]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",size:"sm",onClick:f,className:"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg transition-all",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),"Customize"]})}),n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Customize Your Quick Actions"}),n.jsx(Zt,{children:"Choose up to 6 features you use most often. Drag to reorder them."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3",children:["Your Quick Actions (",i.length,"/6)"]}),n.jsx(V0,{onDragEnd:m,children:n.jsx(W0,{droppableId:"selected-actions",direction:"horizontal",children:x=>n.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"grid grid-cols-2 md:grid-cols-3 gap-3 min-h-[100px] p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[i.map((w,S)=>{const N=op.find(T=>T.key===w);if(!N)return null;const C=N.icon,k=lp[N.color];return n.jsx(q0,{draggableId:w,index:S,children:(T,D)=>n.jsxs("div",{ref:T.innerRef,...T.draggableProps,...T.dragHandleProps,className:`relative bg-white rounded-xl p-4 shadow-md border-2 ${k.border} ${D.isDragging?"shadow-xl scale-105":""} transition-all cursor-move`,children:[n.jsx(E,{variant:"ghost",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0 bg-red-500 text-white hover:bg-red-600 rounded-full",onClick:()=>y(w),children:n.jsx(Ed,{className:"w-3 h-3"})}),n.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${k.bg} rounded-lg flex items-center justify-center mb-2`,children:n.jsx(C,{className:"text-white",size:16})}),n.jsx("h5",{className:"font-medium text-sm",children:N.label}),n.jsx("p",{className:"text-xs text-gray-600",children:N.description})]})},w)}),x.placeholder,i.length===0&&n.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"Choose your favorite features from below"})]})})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Available Features"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:op.map(x=>{const w=x.icon,S=lp[x.color],N=i.includes(x.key),C=i.length<6;return n.jsx($,{className:`cursor-pointer transition-all ${N?"opacity-50 cursor-not-allowed":C?"hover:shadow-md hover:scale-105":"opacity-30 cursor-not-allowed"}`,onClick:()=>!N&&C&&j(x.key),children:n.jsxs(H,{className:"p-4 text-center",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${S.bg} rounded-lg flex items-center justify-center mb-2 mx-auto`,children:n.jsx(w,{className:"text-white",size:20})}),n.jsx("h5",{className:"font-medium text-sm mb-1",children:x.label}),n.jsx("p",{className:"text-xs text-gray-600",children:x.description}),N&&n.jsx(me,{variant:"secondary",className:"mt-2 text-xs",children:"Added"})]})},x.key)})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{onClick:g,disabled:i.length===0||u.isPending,className:"border-2 border-blue-500 shadow-md",children:u.isPending?"Saving...":"Save Changes"})]})]})]})]})]})]}),o&&n.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Au,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-800 font-medium",children:"Quick Action Reorder Mode Active"}),n.jsx("p",{className:"text-blue-600 text-sm",children:"Drag any quick action button to reorder them"})]})]}),o?n.jsx(V0,{onDragEnd:p,children:n.jsx(W0,{droppableId:"main-quick-actions",children:(x,w)=>n.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:`flex flex-wrap gap-6 justify-center md:justify-start ${w.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4":"p-2"}`,children:[h.slice(0,6).map((S,N)=>{const C=op.find(D=>D.key===S);if(!C)return null;const k=C.icon,T=lp[C.color];return n.jsx(q0,{draggableId:S,index:N,children:(D,P)=>{var M;return n.jsx("div",{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,className:`w-32 ${P.isDragging?"opacity-75 transform scale-110 shadow-2xl z-50":""} transition-all duration-200`,style:{...D.draggableProps.style,...P.isDragging&&{transform:`${(M=D.draggableProps.style)==null?void 0:M.transform} rotate(5deg)`}},children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"bg-blue-500 text-white rounded-full p-1 shadow-lg flex items-center gap-1 text-xs px-2",children:[n.jsx(Au,{className:"w-3 h-3"}),"Drag"]})}),n.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-2xl p-2 hover:border-blue-400 transition-colors",children:n.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border-2 ${T.border} ${T.hover} hover:shadow-2xl transition-all duration-300 h-auto flex flex-col items-center space-y-3 w-full cursor-move`,children:[n.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${T.bg} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(k,{className:"text-white",size:28})}),n.jsxs("div",{className:"text-center px-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 text-xs leading-tight",children:C.label}),n.jsx("p",{className:"text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:C.description})]})]})})]})})}},S)}),x.placeholder]})})}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6",children:h.slice(0,6).map(x=>{const w=op.find(C=>C.key===x);if(!w)return null;const S=w.icon,N=lp[w.color];return n.jsx(Ue,{href:w.route,children:n.jsxs(E,{variant:"outline",className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border-2 ${N.border} ${N.hover} hover:shadow-2xl transition-all duration-300 h-auto flex-col space-y-3 w-full`,children:[n.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${N.bg} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(S,{className:"text-white",size:28})}),n.jsxs("div",{className:"text-center px-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 text-xs leading-tight",children:w.label}),n.jsx("p",{className:"text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:w.description})]})]})},x)})})]})}var rY=v.createContext(void 0);function bm(e){const t=v.useContext(rY);return e||t||"ltr"}var Vy="rovingFocusGroup.onEntryFocus",iY={bubbles:!1,cancelable:!0},Nx="RovingFocusGroup",[Q0,A6,aY]=lx(Nx),[oY,D6]=On(Nx,[aY]),[lY,cY]=oY(Nx),M6=v.forwardRef((e,t)=>n.jsx(Q0.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Q0.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(dY,{...e,ref:t})})}));M6.displayName=Nx;var dY=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,m=v.useRef(null),p=xt(t,m),j=bm(a),[y=null,g]=ki({prop:o,defaultProp:l,onChange:c}),[f,b]=v.useState(!1),x=hs(d),w=A6(s),S=v.useRef(!1),[N,C]=v.useState(0);return v.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Vy,x),()=>k.removeEventListener(Vy,x)},[x]),n.jsx(lY,{scope:s,orientation:r,dir:j,loop:i,currentTabStopId:y,onItemFocus:v.useCallback(k=>g(k),[g]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>C(k=>k-1),[]),children:n.jsx(Be.div,{tabIndex:f||N===0?-1:0,"data-orientation":r,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{S.current=!0}),onFocus:Fe(e.onFocus,k=>{const T=!S.current;if(k.target===k.currentTarget&&T&&!f){const D=new CustomEvent(Vy,iY);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const P=w().filter(re=>re.focusable),M=P.find(re=>re.active),X=P.find(re=>re.id===y),F=[M,X,...P].filter(Boolean).map(re=>re.ref.current);F6(F,h)}}S.current=!1}),onBlur:Fe(e.onBlur,()=>b(!1))})})}),I6="RovingFocusGroupItem",R6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,l=Ji(),c=a||l,d=cY(I6,s),h=d.currentTabStopId===c,u=A6(s),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return v.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),n.jsx(Q0.ItemSlot,{scope:s,id:c,focusable:r,active:i,children:n.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Fe(e.onMouseDown,j=>{r?d.onItemFocus(c):j.preventDefault()}),onFocus:Fe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Fe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const y=mY(j,d.orientation,d.dir);if(y!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let f=u().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")f.reverse();else if(y==="prev"||y==="next"){y==="prev"&&f.reverse();const b=f.indexOf(j.currentTarget);f=d.loop?pY(f,b+1):f.slice(b+1)}setTimeout(()=>F6(f))}})})})});R6.displayName=I6;var uY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mY(e,t,s){const r=hY(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uY[r]}function F6(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function pY(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var fY=M6,gY=R6,zw="Tabs",[xY,bhe]=On(zw,[D6]),O6=D6(),[yY,Vw]=xY(zw),L6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=bm(l),[u,m]=ki({prop:r,onChange:i,defaultProp:a});return n.jsx(yY,{scope:s,baseId:Ji(),value:u,onValueChange:m,orientation:o,dir:h,activationMode:c,children:n.jsx(Be.div,{dir:h,"data-orientation":o,...d,ref:t})})});L6.displayName=zw;var $6="TabsList",U6=v.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...i}=e,a=Vw($6,s),o=O6(s);return n.jsx(fY,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Be.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});U6.displayName=$6;var B6="TabsTrigger",z6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=e,o=Vw(B6,s),l=O6(s),c=H6(o.baseId,r),d=W6(o.baseId,r),h=r===o.value;return n.jsx(gY,{asChild:!0,...l,focusable:!i,active:h,children:n.jsx(Be.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Fe(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:Fe(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:Fe(e.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!i&&u&&o.onValueChange(r)})})})});z6.displayName=B6;var V6="TabsContent",q6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=e,l=Vw(V6,s),c=H6(l.baseId,r),d=W6(l.baseId,r),h=r===l.value,u=v.useRef(h);return v.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(yr,{present:i||h,children:({present:m})=>n.jsx(Be.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&a})})});q6.displayName=V6;function H6(e,t){return`${e}-trigger-${t}`}function W6(e,t){return`${e}-content-${t}`}var vY=L6,G6=U6,K6=z6,Q6=q6;const Cn=vY,dn=v.forwardRef(({className:e,...t},s)=>n.jsx(G6,{ref:s,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));dn.displayName=G6.displayName;const Ve=v.forwardRef(({className:e,...t},s)=>n.jsx(K6,{ref:s,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ve.displayName=K6.displayName;const qe=v.forwardRef(({className:e,...t},s)=>n.jsx(Q6,{ref:s,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qe.displayName=Q6.displayName;function bY(){const{toast:e}=ut(),{data:t=[],isLoading:s}=xe({queryKey:["/api/daily-tasks"]}),r=Ce({mutationFn:async({taskId:u,isCompleted:m})=>ve("PATCH",`/api/daily-tasks/${u}/complete`,{isCompleted:m}),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/daily-tasks"]}),e({title:"Task updated",description:"Task completion status has been updated."})}}),i=u=>{r.mutate({taskId:u.id,isCompleted:!u.isCompleted})},a=t.filter(u=>u.frequency==="daily"||!u.frequency),o=t.filter(u=>u.frequency==="weekly"),l=t.filter(u=>u.frequency==="monthly"),c=u=>{switch(u){case"daily":return"bg-blue-100 text-blue-700";case"weekly":return"bg-purple-100 text-purple-700";case"monthly":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},d=u=>{if(!u)return null;const m=typeof u=="string"?new Date(u):u,p=new Date,j=Math.ceil((m.getTime()-p.getTime())/(1e3*60*60*24));return j<0?"Overdue":j===0?"Due today":j===1?"Due tomorrow":`Due in ${j} days`},h=(u,m=!1)=>{const p=u.filter(y=>y.isCompleted),j=u.filter(y=>!y.isCompleted);return n.jsxs("div",{className:"space-y-4",children:[j.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[n.jsx(hc,{className:"w-4 h-4 text-orange-500"}),"To Do (",j.length,")"]}),n.jsx("div",{className:"space-y-2",children:j.slice(0,3).map(y=>n.jsx("div",{className:"bg-white/70 p-3 rounded-lg border border-white/50 hover:bg-white/90 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("button",{onClick:()=>i(y),className:"text-green-500 hover:text-green-600 transition-colors mt-0.5",disabled:r.isPending,children:n.jsx(hc,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-800 text-sm",children:y.title}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:y.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(me,{variant:"secondary",className:`text-xs px-2 py-0 ${c(y.frequency||"daily")}`,children:y.frequency||"daily"}),n.jsx("span",{className:"text-xs px-2 py-0 bg-gray-100 text-gray-600 rounded",children:y.category}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(js,{className:"w-3 h-3"}),y.estimatedMinutes,"min"]}),m&&y.dueDate&&n.jsxs("span",{className:"text-xs text-amber-600 flex items-center gap-1",children:[n.jsx(Vt,{className:"w-3 h-3"}),d(y.dueDate)]})]})]})]})})},y.id))})]}),p.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[n.jsx(Lt,{className:"w-4 h-4 text-green-500"}),"Completed (",p.length,")"]}),n.jsx("div",{className:"space-y-2",children:p.slice(0,2).map(y=>n.jsx("div",{className:"bg-green-50/50 p-3 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("button",{onClick:()=>i(y),className:"text-green-600 hover:text-gray-400 transition-colors mt-0.5",disabled:r.isPending,children:n.jsx(Lt,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-800 line-through text-sm",children:y.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(me,{variant:"secondary",className:`text-xs px-2 py-0 ${c(y.frequency||"daily")}`,children:y.frequency||"daily"}),y.completedAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Completed ",_i(new Date(y.completedAt))]})]})]})]})},y.id))})]}),u.length===0&&n.jsx("div",{className:"text-center py-6 text-gray-500",children:n.jsx("p",{className:"text-sm",children:"No tasks in this category yet."})})]})};return s?n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(bS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>n.jsx("div",{className:"h-16 bg-white/50 rounded-lg animate-pulse"},u))})]}):n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(bS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),n.jsx(Ue,{href:"/daily-tasks",children:n.jsx(E,{variant:"outline",size:"sm",children:"View All"})})]}),n.jsxs(Cn,{defaultValue:"daily",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-3 mb-4",children:[n.jsxs(Ve,{value:"daily",className:"flex items-center gap-2",children:[n.jsx(hc,{className:"w-4 h-4"}),"Daily (",a.length,")"]}),n.jsxs(Ve,{value:"weekly",className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4"}),"Weekly (",o.length,")"]}),n.jsxs(Ve,{value:"monthly",className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4"}),"Monthly (",l.length,")"]})]}),n.jsx(qe,{value:"daily",className:"space-y-4",children:h(a)}),n.jsx(qe,{value:"weekly",className:"space-y-4",children:h(o,!0)}),n.jsx(qe,{value:"monthly",className:"space-y-4",children:h(l,!0)})]})]})}function jY(){const{data:e=[],isLoading:t}=xe({queryKey:["/api/bills"]}),{data:s=[],isLoading:r}=xe({queryKey:["/api/budget-entries"]}),i=e.filter(c=>!c.isPaid).sort((c,d)=>Lp(c.dueDate)-Lp(d.dueDate)).slice(0,1),a=s.filter(c=>c.type==="expense").reduce((c,d)=>c+d.amount,0),o=s.filter(c=>c.type==="income").reduce((c,d)=>c+d.amount,0),l=o>0?a/o*100:0;return t||r?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-16 bg-gray-200 rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-bright-blue rounded-lg flex items-center justify-center",children:n.jsx(F9,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Management"})]}),n.jsx("span",{className:"bg-bright-blue text-white px-3 py-1 rounded-full text-sm font-medium",children:"Level 2"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Monthly Budget"}),n.jsx("span",{className:"text-sm text-blue-600 font-medium",children:l<80?"On track":l<100?"Watch spending":"Over budget"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:`h-3 rounded-full ${l<80?"bg-bright-blue":l<100?"bg-sunny-orange":"bg-red-500"}`,style:{width:`${Math.min(l,100)}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[Fs(a)," of ",Fs(o)," used this month"]})]}),i.length>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-sunny-orange rounded-full flex items-center justify-center",children:n.jsx(js,{className:"text-white",size:16})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Upcoming Bills"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[i[0].name," due in ",Lp(i[0].dueDate)," days - ",Fs(i[0].amount)]})]}),n.jsx(Ue,{href:"/financial",children:n.jsx(E,{variant:"ghost",size:"sm",className:"text-sunny-orange hover:text-orange-600",children:n.jsx(cd,{size:16})})})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ue,{href:"/financial",children:n.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[n.jsx(mx,{className:"text-bright-blue",size:20}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Budgeting Lesson"})]})}),n.jsx(Ue,{href:"/financial?action=add-expense",children:n.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[n.jsx(ct,{className:"text-bright-blue",size:20}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add Expense"})]})})]})]})]})}function wY(){const{toast:e}=ut(),{data:t}=xe({queryKey:["/api/mood-entries/today"]}),s=[{value:1,emoji:"😢",label:"Sad"},{value:2,emoji:"😐",label:"Okay"},{value:3,emoji:"😊",label:"Good"},{value:4,emoji:"😃",label:"Great"},{value:5,emoji:"🤩",label:"Amazing"}],r=Ce({mutationFn:async l=>ve("POST","/api/mood-entries",{mood:l}),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/mood-entries"]}),e({title:"Mood recorded!",description:"Thanks for checking in today!"})}}),i=!t,a=i?"border-red-400":"border-happy-purple",o=i?"bg-red-50":"bg-white";return n.jsxs("div",{className:`mt-8 ${o} rounded-2xl shadow-lg p-6 border-t-4 ${a} ${i?"ring-2 ring-red-200":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 ${i?"bg-red-500":"bg-happy-purple"} rounded-lg flex items-center justify-center ${i?"animate-pulse":""}`,children:n.jsx(ot,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["Mood & Wellbeing",i&&n.jsx("span",{className:"text-red-500 text-sm font-medium bg-red-100 px-2 py-1 rounded-full",children:"Required"})]}),i&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Daily mood check-in is required to continue"})]})]}),n.jsx(Ue,{href:"/mood-tracking",children:n.jsx(E,{className:`${i?"bg-red-500 hover:bg-red-600":"bg-happy-purple hover:bg-happy-purple"} text-white ${i?"animate-bounce":""}`,children:i?"Required Check-in":"Check In Now"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"How are you feeling today?"}),n.jsx("div",{className:"flex justify-between items-center space-x-2",children:s.map(l=>n.jsx(E,{variant:"outline",className:`flex-1 p-3 border-2 ${(t==null?void 0:t.mood)===l.value?"border-happy-purple bg-purple-50":"border-gray-200 hover:border-happy-purple"} transition-colors`,onClick:()=>r.mutate(l.value),disabled:r.isPending,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl mb-1",children:l.emoji}),n.jsx("p",{className:"text-xs text-gray-600",children:l.label})]})},l.value))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Resources"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ue,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[n.jsx(kD,{className:"text-happy-purple",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Breathing Exercise"})]})}),n.jsx(Ue,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[n.jsx(Du,{className:"text-happy-purple",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Coping Strategies"})]})}),n.jsx(Ue,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-red-50 border-red-200 hover:bg-red-100 justify-start space-x-3",children:[n.jsx(vs,{className:"text-red-500",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Emergency Support"})]})})]})]})]})]})}function NY(){xe({queryKey:["/api/achievements"]});const{data:e}=xe({queryKey:["/api/user"]}),{data:t=[]}=xe({queryKey:["/api/daily-tasks"]}),s=t.filter(l=>l.isCompleted).length,r=5,i=Math.min(s,r),a=i/r*100,o=[{title:`${(e==null?void 0:e.streakDays)||0}-Day Streak!`,description:"Daily check-ins completed",icon:f9,gradient:"from-sunny-orange to-yellow-400"},{title:"Task Master",description:"50 tasks completed",icon:Ht,gradient:"from-vibrant-green to-emerald-400"},{title:"Budget Pro",description:"Financial lesson completed",icon:mx,gradient:"from-bright-blue to-blue-400"}];return n.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-sunny-orange",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(po,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements & Progress"})]}),n.jsx(E,{variant:"ghost",className:"text-sunny-orange hover:text-orange-600 font-medium",children:"View All"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.map((l,c)=>{const d=l.icon;return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${l.gradient} rounded-full flex items-center justify-center mx-auto mb-3`,children:n.jsx(d,{className:"text-white",size:24})}),n.jsx("h4",{className:"font-bold text-gray-900",children:l.title}),n.jsx("p",{className:"text-sm text-gray-600",children:l.description})]},c)})}),n.jsxs("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Weekly Goal Progress"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Complete ",r," daily routines"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-2xl font-bold text-sunny-orange",children:[i,"/",r]}),n.jsx("p",{className:"text-xs text-gray-600",children:i===r?"Complete!":"Almost there!"})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:n.jsx("div",{className:"bg-sunny-orange h-2 rounded-full transition-all duration-300",style:{width:`${a}%`}})})]})]})}function SY(){const{data:e=[]}=xe({queryKey:["/api/caregivers"]}),{data:t=[]}=xe({queryKey:["/api/messages"]}),s=t.sort((r,i)=>new Date(i.sentAt).getTime()-new Date(r.sentAt).getTime()).slice(0,2);return n.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-calm-teal",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-lg flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Support Network"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",children:[n.jsx(SD,{size:16,className:"mr-2"}),"Share Progress"]}),n.jsx(Ue,{href:"/caregiver",children:n.jsx(E,{variant:"outline",className:"border-calm-teal text-calm-teal hover:bg-teal-50",children:"Request Help"})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Connected Caregivers"}),n.jsx("div",{className:"space-y-3",children:e.map(r=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium text-sm",children:r.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:r.name}),n.jsx("p",{className:"text-sm text-gray-600",children:r.relationship==="therapist"?"Next session: Tomorrow 2 PM":"Last active: 2 hours ago"})]}),n.jsx(Ue,{href:"/caregiver",children:n.jsx(E,{variant:"ghost",size:"sm",className:"text-calm-teal hover:text-teal-600",children:n.jsx(Mf,{size:16})})})]},r.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Messages"}),n.jsx("div",{className:"space-y-3",children:s.map(r=>{const i=e.find(a=>a.id===r.caregiverId);return n.jsxs("div",{className:`border rounded-lg p-3 ${r.fromUser?"bg-blue-50 border-blue-200":"bg-teal-50 border-teal-200"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:r.fromUser?"You":i==null?void 0:i.name}),n.jsx("span",{className:"text-xs text-gray-500",children:_i(new Date(r.sentAt))})]}),n.jsx("p",{className:"text-sm text-gray-700",children:r.content})]},r.id)})}),n.jsx(Ue,{href:"/caregiver",children:n.jsx(E,{variant:"outline",className:"w-full mt-4 border-calm-teal text-calm-teal hover:bg-teal-50",children:"View All Messages"})})]})]})]})}var jm=e=>e.type==="checkbox",$o=e=>e instanceof Date,bn=e=>e==null;const Y6=e=>typeof e=="object";var bs=e=>!bn(e)&&!Array.isArray(e)&&Y6(e)&&!$o(e),X6=e=>bs(e)&&e.target?jm(e.target)?e.target.checked:e.target.value:e,CY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Z6=(e,t)=>e.has(CY(t)),kY=e=>{const t=e.constructor&&e.constructor.prototype;return bs(t)&&t.hasOwnProperty("isPrototypeOf")},qw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ws(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(qw&&(e instanceof Blob||r))&&(s||bs(e)))if(t=s?[]:{},!s&&!kY(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ws(e[i]));else return e;return t}var Sx=e=>Array.isArray(e)?e.filter(Boolean):[],fs=e=>e===void 0,Pe=(e,t,s)=>{if(!t||!bs(e))return s;const r=Sx(t.split(/[,[\].]+?/)).reduce((i,a)=>bn(i)?i:i[a],e);return fs(r)||r===e?fs(e[t])?s:e[t]:r},qn=e=>typeof e=="boolean",Hw=e=>/^\w*$/.test(e),J6=e=>Sx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(e,t,s)=>{let r=-1;const i=Hw(t)?[t]:J6(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const d=e[l];c=bs(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Gf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eI=he.createContext(null),Cx=()=>he.useContext(eI),_Y=e=>{const{children:t,...s}=e;return he.createElement(eI.Provider,{value:s},t)};var tI=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Or.all&&(t._proxyFormState[o]=!r||Or.all),s&&(s[o]=!0),e[o]}});return i};function TY(e){const t=Cx(),{control:s=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=he.useState(s._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=he.useRef(i);return d.current=i,he.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:h=>{!r&&l({...s._formState,...h})}}),[s,r,a]),he.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),he.useMemo(()=>tI(o,s,c.current,!1),[o,s])}var yi=e=>typeof e=="string",sI=(e,t,s,r,i)=>yi(e)?(r&&t.watch.add(e),Pe(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Pe(s,a))):(r&&(t.watchAll=!0),s);function PY(e){const t=Cx(),{control:s=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},l=he.useRef(r),c=he.useRef(i);l.current=r,he.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:u=>!a&&h(sI(l.current,s._names,u.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,h]=he.useState(s._getWatch(r,i));return he.useEffect(()=>s._removeUnmounted()),d}function EY(e){const t=Cx(),{name:s,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=Z6(i._names.array,s),l=PY({control:i,name:s,defaultValue:Pe(i._formValues,s,Pe(i._defaultValues,s,e.defaultValue)),exact:!0}),c=TY({control:i,name:s,exact:!0}),d=he.useRef(e),h=he.useRef(i.register(s,{...e.rules,value:l,...qn(e.disabled)?{disabled:e.disabled}:{}})),u=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!Pe(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Pe(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Pe(c.validatingFields,s)},error:{enumerable:!0,get:()=>Pe(c.errors,s)}}),[c,s]),m=he.useCallback(g=>h.current.onChange({target:{value:X6(g),name:s},type:Gf.CHANGE}),[s]),p=he.useCallback(()=>h.current.onBlur({target:{value:Pe(i._formValues,s),name:s},type:Gf.BLUR}),[s,i._formValues]),j=he.useCallback(g=>{const f=Pe(i._fields,s);f&&g&&(f._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:b=>g.setCustomValidity(b),reportValidity:()=>g.reportValidity()})},[i._fields,s]),y=he.useMemo(()=>({name:s,value:l,...qn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:p,ref:j}),[s,r,c.disabled,m,p,j,l]);return he.useEffect(()=>{const g=i._options.shouldUnregister||a;i.register(s,{...d.current.rules,...qn(d.current.disabled)?{disabled:d.current.disabled}:{}});const f=(b,x)=>{const w=Pe(i._fields,b);w&&w._f&&(w._f.mount=x)};if(f(s,!0),g){const b=Ws(Pe(i._options.defaultValues,s));At(i._defaultValues,s,b),fs(Pe(i._formValues,s))&&At(i._formValues,s,b)}return!o&&i.register(s),()=>{(o?g&&!i._state.action:g)?i.unregister(s):f(s,!1)}},[s,i,o,a]),he.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),he.useMemo(()=>({field:y,formState:c,fieldState:u}),[y,c,u])}const AY=e=>e.render(EY(e));var nI=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Ru=e=>Array.isArray(e)?e:[e],N2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Y0=e=>bn(e)||!Y6(e);function Ea(e,t){if(Y0(e)||Y0(t))return e===t;if($o(e)&&$o(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const i of s){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if($o(a)&&$o(o)||bs(a)&&bs(o)||Array.isArray(a)&&Array.isArray(o)?!Ea(a,o):a!==o)return!1}}return!0}var yn=e=>bs(e)&&!Object.keys(e).length,Ww=e=>e.type==="file",Lr=e=>typeof e=="function",Kf=e=>{if(!qw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},rI=e=>e.type==="select-multiple",Gw=e=>e.type==="radio",DY=e=>Gw(e)||jm(e),qy=e=>Kf(e)&&e.isConnected;function MY(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=fs(e)?r++:e[t[r++]];return e}function IY(e){for(const t in e)if(e.hasOwnProperty(t)&&!fs(e[t]))return!1;return!0}function Ts(e,t){const s=Array.isArray(t)?t:Hw(t)?[t]:J6(t),r=s.length===1?e:MY(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(bs(r)&&yn(r)||Array.isArray(r)&&IY(r))&&Ts(e,s.slice(0,-1)),e}var iI=e=>{for(const t in e)if(Lr(e[t]))return!0;return!1};function Qf(e,t={}){const s=Array.isArray(e);if(bs(e)||s)for(const r in e)Array.isArray(e[r])||bs(e[r])&&!iI(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Qf(e[r],t[r])):bn(e[r])||(t[r]=!0);return t}function aI(e,t,s){const r=Array.isArray(e);if(bs(e)||r)for(const i in e)Array.isArray(e[i])||bs(e[i])&&!iI(e[i])?fs(t)||Y0(s[i])?s[i]=Array.isArray(e[i])?Qf(e[i],[]):{...Qf(e[i])}:aI(e[i],bn(t)?{}:t[i],s[i]):s[i]=!Ea(e[i],t[i]);return s}var Jd=(e,t)=>aI(e,t,Qf(t));const S2={value:!1,isValid:!1},C2={value:!0,isValid:!0};var oI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fs(e[0].attributes.value)?fs(e[0].value)||e[0].value===""?C2:{value:e[0].value,isValid:!0}:C2:S2}return S2},lI=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>fs(e)?e:t?e===""?NaN:e&&+e:s&&yi(e)?new Date(e):r?r(e):e;const k2={isValid:!1,value:null};var cI=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,k2):k2;function _2(e){const t=e.ref;return Ww(t)?t.files:Gw(t)?cI(e.refs).value:rI(t)?[...t.selectedOptions].map(({value:s})=>s):jm(t)?oI(e.refs).value:lI(fs(t.value)?e.ref.value:t.value,e)}var RY=(e,t,s,r)=>{const i={};for(const a of e){const o=Pe(t,a);o&&At(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},Yf=e=>e instanceof RegExp,eu=e=>fs(e)?e:Yf(e)?e.source:bs(e)?Yf(e.value)?e.value.source:e.value:e,T2=e=>({isOnSubmit:!e||e===Or.onSubmit,isOnBlur:e===Or.onBlur,isOnChange:e===Or.onChange,isOnAll:e===Or.all,isOnTouch:e===Or.onTouched});const P2="AsyncFunction";var FY=e=>!!e&&!!e.validate&&!!(Lr(e.validate)&&e.validate.constructor.name===P2||bs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===P2)),OY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),E2=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Fu=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=Pe(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Fu(l,t))break}else if(bs(l)&&Fu(l,t))break}}};function A2(e,t,s){const r=Pe(e,s);if(r||Hw(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Pe(t,a),l=Pe(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var LY=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return yn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Or.all))},$Y=(e,t,s)=>!e||!t||e===t||Ru(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),UY=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,BY=(e,t)=>!Sx(Pe(e,t)).length&&Ts(e,t),zY=(e,t,s)=>{const r=Ru(Pe(e,s));return At(r,"root",t[s]),At(e,s,r),e},Wp=e=>yi(e);function D2(e,t,s="validate"){if(Wp(e)||Array.isArray(e)&&e.every(Wp)||qn(e)&&!e)return{type:s,message:Wp(e)?e:"",ref:t}}var Rl=e=>bs(e)&&!Yf(e)?e:{value:e,message:""},M2=async(e,t,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:u,max:m,pattern:p,validate:j,name:y,valueAsNumber:g,mount:f}=e._f,b=Pe(s,y);if(!f||t.has(y))return{};const x=l?l[0]:o,w=M=>{i&&x.reportValidity&&(x.setCustomValidity(qn(M)?"":M||""),x.reportValidity())},S={},N=Gw(o),C=jm(o),k=N||C,T=(g||Ww(o))&&fs(o.value)&&fs(b)||Kf(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,D=nI.bind(null,y,r,S),P=(M,X,ee,F=Li.maxLength,re=Li.minLength)=>{const fe=M?X:ee;S[y]={type:M?F:re,message:fe,ref:o,...D(M?F:re,fe)}};if(a?!Array.isArray(b)||!b.length:c&&(!k&&(T||bn(b))||qn(b)&&!b||C&&!oI(l).isValid||N&&!cI(l).isValid)){const{value:M,message:X}=Wp(c)?{value:!!c,message:c}:Rl(c);if(M&&(S[y]={type:Li.required,message:X,ref:x,...D(Li.required,X)},!r))return w(X),S}if(!T&&(!bn(u)||!bn(m))){let M,X;const ee=Rl(m),F=Rl(u);if(!bn(b)&&!isNaN(b)){const re=o.valueAsNumber||b&&+b;bn(ee.value)||(M=re>ee.value),bn(F.value)||(X=re<F.value)}else{const re=o.valueAsDate||new Date(b),fe=oe=>new Date(new Date().toDateString()+" "+oe),V=o.type=="time",L=o.type=="week";yi(ee.value)&&b&&(M=V?fe(b)>fe(ee.value):L?b>ee.value:re>new Date(ee.value)),yi(F.value)&&b&&(X=V?fe(b)<fe(F.value):L?b<F.value:re<new Date(F.value))}if((M||X)&&(P(!!M,ee.message,F.message,Li.max,Li.min),!r))return w(S[y].message),S}if((d||h)&&!T&&(yi(b)||a&&Array.isArray(b))){const M=Rl(d),X=Rl(h),ee=!bn(M.value)&&b.length>+M.value,F=!bn(X.value)&&b.length<+X.value;if((ee||F)&&(P(ee,M.message,X.message),!r))return w(S[y].message),S}if(p&&!T&&yi(b)){const{value:M,message:X}=Rl(p);if(Yf(M)&&!b.match(M)&&(S[y]={type:Li.pattern,message:X,ref:o,...D(Li.pattern,X)},!r))return w(X),S}if(j){if(Lr(j)){const M=await j(b,s),X=D2(M,x);if(X&&(S[y]={...X,...D(Li.validate,X.message)},!r))return w(X.message),S}else if(bs(j)){let M={};for(const X in j){if(!yn(M)&&!r)break;const ee=D2(await j[X](b,s),x,X);ee&&(M={...ee,...D(X,ee.message)},w(ee.message),r&&(S[y]=M))}if(!yn(M)&&(S[y]={ref:x,...M},!r))return S}}return w(!0),S};const VY={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function qY(e={}){let t={...VY,...e},s={submitCount:0,isDirty:!1,isLoading:Lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=bs(t.defaultValues)||bs(t.values)?Ws(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Ws(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...h};const m={array:N2(),state:N2()},p=T2(t.mode),j=T2(t.reValidateMode),y=t.criteriaMode===Or.all,g=U=>G=>{clearTimeout(d),d=setTimeout(U,G)},f=async U=>{if(!t.disabled&&(h.isValid||u.isValid||U)){const G=t.resolver?yn((await T()).errors):await P(r,!0);G!==s.isValid&&m.state.next({isValid:G})}},b=(U,G)=>{!t.disabled&&(h.isValidating||h.validatingFields||u.isValidating||u.validatingFields)&&((U||Array.from(l.mount)).forEach(ie=>{ie&&(G?At(s.validatingFields,ie,G):Ts(s.validatingFields,ie))}),m.state.next({validatingFields:s.validatingFields,isValidating:!yn(s.validatingFields)}))},x=(U,G=[],ie,De,Te=!0,ye=!0)=>{if(De&&ie&&!t.disabled){if(o.action=!0,ye&&Array.isArray(Pe(r,U))){const Ie=ie(Pe(r,U),De.argA,De.argB);Te&&At(r,U,Ie)}if(ye&&Array.isArray(Pe(s.errors,U))){const Ie=ie(Pe(s.errors,U),De.argA,De.argB);Te&&At(s.errors,U,Ie),BY(s.errors,U)}if((h.touchedFields||u.touchedFields)&&ye&&Array.isArray(Pe(s.touchedFields,U))){const Ie=ie(Pe(s.touchedFields,U),De.argA,De.argB);Te&&At(s.touchedFields,U,Ie)}(h.dirtyFields||u.dirtyFields)&&(s.dirtyFields=Jd(i,a)),m.state.next({name:U,isDirty:X(U,G),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else At(a,U,G)},w=(U,G)=>{At(s.errors,U,G),m.state.next({errors:s.errors})},S=U=>{s.errors=U,m.state.next({errors:s.errors,isValid:!1})},N=(U,G,ie,De)=>{const Te=Pe(r,U);if(Te){const ye=Pe(a,U,fs(ie)?Pe(i,U):ie);fs(ye)||De&&De.defaultChecked||G?At(a,U,G?ye:_2(Te._f)):re(U,ye),o.mount&&f()}},C=(U,G,ie,De,Te)=>{let ye=!1,Ie=!1;const O={name:U};if(!t.disabled){if(!ie||De){(h.isDirty||u.isDirty)&&(Ie=s.isDirty,s.isDirty=O.isDirty=X(),ye=Ie!==O.isDirty);const it=Ea(Pe(i,U),G);Ie=!!Pe(s.dirtyFields,U),it?Ts(s.dirtyFields,U):At(s.dirtyFields,U,!0),O.dirtyFields=s.dirtyFields,ye=ye||(h.dirtyFields||u.dirtyFields)&&Ie!==!it}if(ie){const it=Pe(s.touchedFields,U);it||(At(s.touchedFields,U,ie),O.touchedFields=s.touchedFields,ye=ye||(h.touchedFields||u.touchedFields)&&it!==ie)}ye&&Te&&m.state.next(O)}return ye?O:{}},k=(U,G,ie,De)=>{const Te=Pe(s.errors,U),ye=(h.isValid||u.isValid)&&qn(G)&&s.isValid!==G;if(t.delayError&&ie?(c=g(()=>w(U,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?At(s.errors,U,ie):Ts(s.errors,U)),(ie?!Ea(Te,ie):Te)||!yn(De)||ye){const Ie={...De,...ye&&qn(G)?{isValid:G}:{},errors:s.errors,name:U};s={...s,...Ie},m.state.next(Ie)}},T=async U=>{b(U,!0);const G=await t.resolver(a,t.context,RY(U||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(U),G},D=async U=>{const{errors:G}=await T(U);if(U)for(const ie of U){const De=Pe(G,ie);De?At(s.errors,ie,De):Ts(s.errors,ie)}else s.errors=G;return G},P=async(U,G,ie={valid:!0})=>{for(const De in U){const Te=U[De];if(Te){const{_f:ye,...Ie}=Te;if(ye){const O=l.array.has(ye.name),it=Te._f&&FY(Te._f);it&&h.validatingFields&&b([De],!0);const Tt=await M2(Te,l.disabled,a,y,t.shouldUseNativeValidation&&!G,O);if(it&&h.validatingFields&&b([De]),Tt[ye.name]&&(ie.valid=!1,G))break;!G&&(Pe(Tt,ye.name)?O?zY(s.errors,Tt,ye.name):At(s.errors,ye.name,Tt[ye.name]):Ts(s.errors,ye.name))}!yn(Ie)&&await P(Ie,G,ie)}}return ie.valid},M=()=>{for(const U of l.unMount){const G=Pe(r,U);G&&(G._f.refs?G._f.refs.every(ie=>!qy(ie)):!qy(G._f.ref))&&Et(U)}l.unMount=new Set},X=(U,G)=>!t.disabled&&(U&&G&&At(a,U,G),!Ea(st(),i)),ee=(U,G,ie)=>sI(U,l,{...o.mount?a:fs(G)?i:yi(U)?{[U]:G}:G},ie,G),F=U=>Sx(Pe(o.mount?a:i,U,t.shouldUnregister?Pe(i,U,[]):[])),re=(U,G,ie={})=>{const De=Pe(r,U);let Te=G;if(De){const ye=De._f;ye&&(!ye.disabled&&At(a,U,lI(G,ye)),Te=Kf(ye.ref)&&bn(G)?"":G,rI(ye.ref)?[...ye.ref.options].forEach(Ie=>Ie.selected=Te.includes(Ie.value)):ye.refs?jm(ye.ref)?ye.refs.length>1?ye.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Te)?!!Te.find(O=>O===Ie.value):Te===Ie.value)):ye.refs[0]&&(ye.refs[0].checked=!!Te):ye.refs.forEach(Ie=>Ie.checked=Ie.value===Te):Ww(ye.ref)?ye.ref.value="":(ye.ref.value=Te,ye.ref.type||m.state.next({name:U,values:Ws(a)})))}(ie.shouldDirty||ie.shouldTouch)&&C(U,Te,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&be(U)},fe=(U,G,ie)=>{for(const De in G){const Te=G[De],ye=`${U}.${De}`,Ie=Pe(r,ye);(l.array.has(U)||bs(Te)||Ie&&!Ie._f)&&!$o(Te)?fe(ye,Te,ie):re(ye,Te,ie)}},V=(U,G,ie={})=>{const De=Pe(r,U),Te=l.array.has(U),ye=Ws(G);At(a,U,ye),Te?(m.array.next({name:U,values:Ws(a)}),(h.isDirty||h.dirtyFields||u.isDirty||u.dirtyFields)&&ie.shouldDirty&&m.state.next({name:U,dirtyFields:Jd(i,a),isDirty:X(U,ye)})):De&&!De._f&&!bn(ye)?fe(U,ye,ie):re(U,ye,ie),E2(U,l)&&m.state.next({...s}),m.state.next({name:o.mount?U:void 0,values:Ws(a)})},L=async U=>{o.mount=!0;const G=U.target;let ie=G.name,De=!0;const Te=Pe(r,ie),ye=Ie=>{De=Number.isNaN(Ie)||$o(Ie)&&isNaN(Ie.getTime())||Ea(Ie,Pe(a,ie,Ie))};if(Te){let Ie,O;const it=G.type?_2(Te._f):X6(U),Tt=U.type===Gf.BLUR||U.type===Gf.FOCUS_OUT,$d=!OY(Te._f)&&!t.resolver&&!Pe(s.errors,ie)&&!Te._f.deps||UY(Tt,Pe(s.touchedFields,ie),s.isSubmitted,j,p),kn=E2(ie,l,Tt);At(a,ie,it),Tt?(Te._f.onBlur&&Te._f.onBlur(U),c&&c(0)):Te._f.onChange&&Te._f.onChange(U);const $x=C(ie,it,Tt),YL=!yn($x)||kn;if(!Tt&&m.state.next({name:ie,type:U.type,values:Ws(a)}),$d)return(h.isValid||u.isValid)&&(t.mode==="onBlur"?Tt&&f():Tt||f()),YL&&m.state.next({name:ie,...kn?{}:$x});if(!Tt&&kn&&m.state.next({...s}),t.resolver){const{errors:EN}=await T([ie]);if(ye(it),De){const XL=A2(s.errors,r,ie),AN=A2(EN,r,XL.name||ie);Ie=AN.error,ie=AN.name,O=yn(EN)}}else b([ie],!0),Ie=(await M2(Te,l.disabled,a,y,t.shouldUseNativeValidation))[ie],b([ie]),ye(it),De&&(Ie?O=!1:(h.isValid||u.isValid)&&(O=await P(r,!0)));De&&(Te._f.deps&&be(Te._f.deps),k(ie,O,Ie,$x))}},oe=(U,G)=>{if(Pe(s.errors,G)&&U.focus)return U.focus(),1},be=async(U,G={})=>{let ie,De;const Te=Ru(U);if(t.resolver){const ye=await D(fs(U)?U:Te);ie=yn(ye),De=U?!Te.some(Ie=>Pe(ye,Ie)):ie}else U?(De=(await Promise.all(Te.map(async ye=>{const Ie=Pe(r,ye);return await P(Ie&&Ie._f?{[ye]:Ie}:Ie)}))).every(Boolean),!(!De&&!s.isValid)&&f()):De=ie=await P(r);return m.state.next({...!yi(U)||(h.isValid||u.isValid)&&ie!==s.isValid?{}:{name:U},...t.resolver||!U?{isValid:ie}:{},errors:s.errors}),G.shouldFocus&&!De&&Fu(r,oe,U?Te:l.mount),De},st=U=>{const G={...o.mount?a:i};return fs(U)?G:yi(U)?Pe(G,U):U.map(ie=>Pe(G,ie))},_t=(U,G)=>({invalid:!!Pe((G||s).errors,U),isDirty:!!Pe((G||s).dirtyFields,U),error:Pe((G||s).errors,U),isValidating:!!Pe(s.validatingFields,U),isTouched:!!Pe((G||s).touchedFields,U)}),Ft=U=>{U&&Ru(U).forEach(G=>Ts(s.errors,G)),m.state.next({errors:U?s.errors:{}})},ms=(U,G,ie)=>{const De=(Pe(r,U,{_f:{}})._f||{}).ref,Te=Pe(s.errors,U)||{},{ref:ye,message:Ie,type:O,...it}=Te;At(s.errors,U,{...it,...G,ref:De}),m.state.next({name:U,errors:s.errors,isValid:!1}),ie&&ie.shouldFocus&&De&&De.focus&&De.focus()},Qt=(U,G)=>Lr(U)?m.state.subscribe({next:ie=>U(ee(void 0,G),ie)}):ee(U,G,!0),Le=U=>m.state.subscribe({next:G=>{$Y(U.name,G.name,U.exact)&&LY(G,U.formState||h,fa,U.reRenderRoot)&&U.callback({values:{...a},...s,...G})}}).unsubscribe,yt=U=>(o.mount=!0,u={...u,...U.formState},Le({...U,formState:u})),Et=(U,G={})=>{for(const ie of U?Ru(U):l.mount)l.mount.delete(ie),l.array.delete(ie),G.keepValue||(Ts(r,ie),Ts(a,ie)),!G.keepError&&Ts(s.errors,ie),!G.keepDirty&&Ts(s.dirtyFields,ie),!G.keepTouched&&Ts(s.touchedFields,ie),!G.keepIsValidating&&Ts(s.validatingFields,ie),!t.shouldUnregister&&!G.keepDefaultValue&&Ts(i,ie);m.state.next({values:Ws(a)}),m.state.next({...s,...G.keepDirty?{isDirty:X()}:{}}),!G.keepIsValid&&f()},vt=({disabled:U,name:G})=>{(qn(U)&&o.mount||U||l.disabled.has(G))&&(U?l.disabled.add(G):l.disabled.delete(G))},bt=(U,G={})=>{let ie=Pe(r,U);const De=qn(G.disabled)||qn(t.disabled);return At(r,U,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:U}},name:U,mount:!0,...G}}),l.mount.add(U),ie?vt({disabled:qn(G.disabled)?G.disabled:t.disabled,name:U}):N(U,!0,G.value),{...De?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:eu(G.min),max:eu(G.max),minLength:eu(G.minLength),maxLength:eu(G.maxLength),pattern:eu(G.pattern)}:{},name:U,onChange:L,onBlur:L,ref:Te=>{if(Te){bt(U,G),ie=Pe(r,U);const ye=fs(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ie=DY(ye),O=ie._f.refs||[];if(Ie?O.find(it=>it===ye):ye===ie._f.ref)return;At(r,U,{_f:{...ie._f,...Ie?{refs:[...O.filter(qy),ye,...Array.isArray(Pe(i,U))?[{}]:[]],ref:{type:ye.type,name:U}}:{ref:ye}}}),N(U,!1,void 0,ye)}else ie=Pe(r,U,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(Z6(l.array,U)&&o.action)&&l.unMount.add(U)}}},rt=()=>t.shouldFocusError&&Fu(r,oe,l.mount),es=U=>{qn(U)&&(m.state.next({disabled:U}),Fu(r,(G,ie)=>{const De=Pe(r,ie);De&&(G.disabled=De._f.disabled||U,Array.isArray(De._f.refs)&&De._f.refs.forEach(Te=>{Te.disabled=De._f.disabled||U}))},0,!1))},un=(U,G)=>async ie=>{let De;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let Te=Ws(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:Ie}=await T();s.errors=ye,Te=Ie}else await P(r);if(l.disabled.size)for(const ye of l.disabled)At(Te,ye,void 0);if(Ts(s.errors,"root"),yn(s.errors)){m.state.next({errors:{}});try{await U(Te,ie)}catch(ye){De=ye}}else G&&await G({...s.errors},ie),rt(),setTimeout(rt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(s.errors)&&!De,submitCount:s.submitCount+1,errors:s.errors}),De)throw De},Fi=(U,G={})=>{Pe(r,U)&&(fs(G.defaultValue)?V(U,Ws(Pe(i,U))):(V(U,G.defaultValue),At(i,U,Ws(G.defaultValue))),G.keepTouched||Ts(s.touchedFields,U),G.keepDirty||(Ts(s.dirtyFields,U),s.isDirty=G.defaultValue?X(U,Ws(Pe(i,U))):X()),G.keepError||(Ts(s.errors,U),h.isValid&&f()),m.state.next({...s}))},ei=(U,G={})=>{const ie=U?Ws(U):i,De=Ws(ie),Te=yn(U),ye=Te?i:De;if(G.keepDefaultValues||(i=ie),!G.keepValues){if(G.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(Jd(i,a))]);for(const O of Array.from(Ie))Pe(s.dirtyFields,O)?At(ye,O,Pe(a,O)):V(O,Pe(ye,O))}else{if(qw&&fs(U))for(const Ie of l.mount){const O=Pe(r,Ie);if(O&&O._f){const it=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Kf(it)){const Tt=it.closest("form");if(Tt){Tt.reset();break}}}}for(const Ie of l.mount)V(Ie,Pe(ye,Ie))}a=Ws(ye),m.array.next({values:{...ye}}),m.state.next({values:{...ye}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?s.submitCount:0,isDirty:Te?!1:G.keepDirty?s.isDirty:!!(G.keepDefaultValues&&!Ea(U,i)),isSubmitted:G.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Te?{}:G.keepDirtyValues?G.keepDefaultValues&&a?Jd(i,a):s.dirtyFields:G.keepDefaultValues&&U?Jd(i,U):G.keepDirty?s.dirtyFields:{},touchedFields:G.keepTouched?s.touchedFields:{},errors:G.keepErrors?s.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},ti=(U,G)=>ei(Lr(U)?U(a):U,G),Ld=(U,G={})=>{const ie=Pe(r,U),De=ie&&ie._f;if(De){const Te=De.refs?De.refs[0]:De.ref;Te.focus&&(Te.focus(),G.shouldSelect&&Lr(Te.select)&&Te.select())}},fa=U=>{s={...s,...U}},Pm={control:{register:bt,unregister:Et,getFieldState:_t,handleSubmit:un,setError:ms,_subscribe:Le,_runSchema:T,_getWatch:ee,_getDirty:X,_setValid:f,_setFieldArray:x,_setDisabledField:vt,_setErrors:S,_getFieldArray:F,_reset:ei,_resetDefaultValues:()=>Lr(t.defaultValues)&&t.defaultValues().then(U=>{ti(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:es,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return l},set _names(U){l=U},get _formState(){return s},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:yt,trigger:be,register:bt,handleSubmit:un,watch:Qt,setValue:V,getValues:st,reset:ti,resetField:Fi,clearErrors:Ft,unregister:Et,setError:ms,setFocus:Ld,getFieldState:_t};return{...Pm,formControl:Pm}}function Ut(e={}){const t=he.useRef(void 0),s=he.useRef(void 0),[r,i]=he.useState({isDirty:!1,isValidating:!1,isLoading:Lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Lr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:qY(e),formState:r},e.formControl&&e.defaultValues&&!Lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,he.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),he.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),he.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),he.useEffect(()=>{e.values&&!Ea(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),he.useEffect(()=>{e.errors&&!yn(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),he.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),he.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=tI(r,a),t.current}var HY="Label",dI=v.forwardRef((e,t)=>n.jsx(Be.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));dI.displayName=HY;var uI=dI;const WY=pm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=v.forwardRef(({className:e,...t},s)=>n.jsx(uI,{ref:s,className:Oe(WY(),e),...t}));de.displayName=uI.displayName;const Bt=_Y,hI=v.createContext({}),Z=({...e})=>n.jsx(hI.Provider,{value:{name:e.name},children:n.jsx(AY,{...e})}),kx=()=>{const e=v.useContext(hI),t=v.useContext(mI),{getFieldState:s,formState:r}=Cx(),i=s(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},mI=v.createContext({}),Y=v.forwardRef(({className:e,...t},s)=>{const r=v.useId();return n.jsx(mI.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:Oe("space-y-2",e),...t})})});Y.displayName="FormItem";const Q=v.forwardRef(({className:e,...t},s)=>{const{error:r,formItemId:i}=kx();return n.jsx(de,{ref:s,className:Oe(r&&"text-destructive",e),htmlFor:i,...t})});Q.displayName="FormLabel";const J=v.forwardRef(({...e},t)=>{const{error:s,formItemId:r,formDescriptionId:i,formMessageId:a}=kx();return n.jsx(s5,{ref:t,id:r,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...e})});J.displayName="FormControl";const GY=v.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:r}=kx();return n.jsx("p",{ref:s,id:r,className:Oe("text-sm text-muted-foreground",e),...t})});GY.displayName="FormDescription";const se=v.forwardRef(({className:e,children:t,...s},r)=>{const{error:i,formMessageId:a}=kx(),o=i?String((i==null?void 0:i.message)??""):t;return o?n.jsx("p",{ref:r,id:a,className:Oe("text-sm font-medium text-destructive",e),...s,children:o}):null});se.displayName="FormMessage";const q=v.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));q.displayName="Input";const lt=v.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));lt.displayName="Textarea";function ph(e,[t,s]){return Math.min(s,Math.max(t,e))}function _x(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var KY=[" ","Enter","ArrowUp","ArrowDown"],QY=[" ","Enter"],wm="Select",[Tx,Px,YY]=lx(wm),[Id,jhe]=On(wm,[YY,sx]),Ex=sx(),[XY,So]=Id(wm),[ZY,JY]=Id(wm),pI=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:m,required:p,form:j}=e,y=Ex(t),[g,f]=v.useState(null),[b,x]=v.useState(null),[w,S]=v.useState(!1),N=bm(d),[C=!1,k]=ki({prop:r,defaultProp:i,onChange:a}),[T,D]=ki({prop:o,defaultProp:l,onChange:c}),P=v.useRef(null),M=g?j||!!g.closest("form"):!0,[X,ee]=v.useState(new Set),F=Array.from(X).map(re=>re.props.value).join(";");return n.jsx(T5,{...y,children:n.jsxs(XY,{required:p,scope:t,trigger:g,onTriggerChange:f,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:Ji(),value:T,onValueChange:D,open:C,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[n.jsx(Tx.Provider,{scope:t,children:n.jsx(ZY,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(re=>{ee(fe=>new Set(fe).add(re))},[]),onNativeOptionRemove:v.useCallback(re=>{ee(fe=>{const V=new Set(fe);return V.delete(re),V})},[]),children:s})}),M?n.jsxs($I,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:u,value:T,onChange:re=>D(re.target.value),disabled:m,form:j,children:[T===void 0?n.jsx("option",{value:""}):null,Array.from(X)]},F):null]})})};pI.displayName=wm;var fI="SelectTrigger",gI=v.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...i}=e,a=Ex(s),o=So(fI,s),l=o.disabled||r,c=xt(t,o.onTriggerChange),d=Px(s),h=v.useRef("touch"),[u,m,p]=UI(y=>{const g=d().filter(x=>!x.disabled),f=g.find(x=>x.value===o.value),b=BI(g,y,f);b!==void 0&&o.onValueChange(b.value)}),j=y=>{l||(o.onOpenChange(!0),p()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(P5,{asChild:!0,...a,children:n.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":LI(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&j(y)}),onPointerDown:Fe(i.onPointerDown,y=>{h.current=y.pointerType;const g=y.target;g.hasPointerCapture(y.pointerId)&&g.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(j(y),y.preventDefault())}),onKeyDown:Fe(i.onKeyDown,y=>{const g=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(g&&y.key===" ")&&KY.includes(y.key)&&(j(),y.preventDefault())})})})});gI.displayName=fI;var xI="SelectValue",yI=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...l}=e,c=So(xI,s),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,u=xt(t,c.onValueNodeChange);return _s(()=>{d(h)},[d,h]),n.jsx(Be.span,{...l,ref:u,style:{pointerEvents:"none"},children:LI(c.value)?n.jsx(n.Fragment,{children:o}):a})});yI.displayName=xI;var eX="SelectIcon",vI=v.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...i}=e;return n.jsx(Be.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});vI.displayName=eX;var tX="SelectPortal",bI=e=>n.jsx(nx,{asChild:!0,...e});bI.displayName=tX;var wl="SelectContent",jI=v.forwardRef((e,t)=>{const s=So(wl,e.__scopeSelect),[r,i]=v.useState();if(_s(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?ma.createPortal(n.jsx(wI,{scope:e.__scopeSelect,children:n.jsx(Tx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),a):null}return n.jsx(NI,{...e,ref:t})});jI.displayName=wl;var jr=10,[wI,Co]=Id(wl),sX="SelectContentImpl",nX=ad("SelectContent.RemoveScroll"),NI=v.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:j,hideWhenDetached:y,avoidCollisions:g,...f}=e,b=So(wl,s),[x,w]=v.useState(null),[S,N]=v.useState(null),C=xt(t,Le=>w(Le)),[k,T]=v.useState(null),[D,P]=v.useState(null),M=Px(s),[X,ee]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(x)return c6(x)},[x]),e6();const re=v.useCallback(Le=>{const[yt,...Et]=M().map(rt=>rt.ref.current),[vt]=Et.slice(-1),bt=document.activeElement;for(const rt of Le)if(rt===bt||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===yt&&S&&(S.scrollTop=0),rt===vt&&S&&(S.scrollTop=S.scrollHeight),rt==null||rt.focus(),document.activeElement!==bt))return},[M,S]),fe=v.useCallback(()=>re([k,x]),[re,k,x]);v.useEffect(()=>{X&&fe()},[X,fe]);const{onOpenChange:V,triggerPointerDownPosRef:L}=b;v.useEffect(()=>{if(x){let Le={x:0,y:0};const yt=vt=>{var bt,rt;Le={x:Math.abs(Math.round(vt.pageX)-(((bt=L.current)==null?void 0:bt.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((rt=L.current)==null?void 0:rt.y)??0))}},Et=vt=>{Le.x<=10&&Le.y<=10?vt.preventDefault():x.contains(vt.target)||V(!1),document.removeEventListener("pointermove",yt),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",yt),document.addEventListener("pointerup",Et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",Et,{capture:!0})}}},[x,V,L]),v.useEffect(()=>{const Le=()=>V(!1);return window.addEventListener("blur",Le),window.addEventListener("resize",Le),()=>{window.removeEventListener("blur",Le),window.removeEventListener("resize",Le)}},[V]);const[oe,be]=UI(Le=>{const yt=M().filter(bt=>!bt.disabled),Et=yt.find(bt=>bt.ref.current===document.activeElement),vt=BI(yt,Le,Et);vt&&setTimeout(()=>vt.ref.current.focus())}),st=v.useCallback((Le,yt,Et)=>{const vt=!F.current&&!Et;(b.value!==void 0&&b.value===yt||vt)&&(T(Le),vt&&(F.current=!0))},[b.value]),_t=v.useCallback(()=>x==null?void 0:x.focus(),[x]),Ft=v.useCallback((Le,yt,Et)=>{const vt=!F.current&&!Et;(b.value!==void 0&&b.value===yt||vt)&&P(Le)},[b.value]),ms=r==="popper"?X0:SI,Qt=ms===X0?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:j,hideWhenDetached:y,avoidCollisions:g}:{};return n.jsx(wI,{scope:s,content:x,viewport:S,onViewportChange:N,itemRefCallback:st,selectedItem:k,onItemLeave:_t,itemTextRefCallback:Ft,focusSelectedItem:fe,selectedItemText:D,position:r,isPositioned:X,searchRef:oe,children:n.jsx(Ow,{as:nX,allowPinchZoom:!0,children:n.jsx(Fw,{asChild:!0,trapped:b.open,onMountAutoFocus:Le=>{Le.preventDefault()},onUnmountAutoFocus:Fe(i,Le=>{var yt;(yt=b.trigger)==null||yt.focus({preventScroll:!0}),Le.preventDefault()}),children:n.jsx(um,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Le=>Le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:n.jsx(ms,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Le=>Le.preventDefault(),...f,...Qt,onPlaced:()=>ee(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:Fe(f.onKeyDown,Le=>{const yt=Le.ctrlKey||Le.altKey||Le.metaKey;if(Le.key==="Tab"&&Le.preventDefault(),!yt&&Le.key.length===1&&be(Le.key),["ArrowUp","ArrowDown","Home","End"].includes(Le.key)){let vt=M().filter(bt=>!bt.disabled).map(bt=>bt.ref.current);if(["ArrowUp","End"].includes(Le.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Le.key)){const bt=Le.target,rt=vt.indexOf(bt);vt=vt.slice(rt+1)}setTimeout(()=>re(vt)),Le.preventDefault()}})})})})})})});NI.displayName=sX;var rX="SelectItemAlignedPosition",SI=v.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...i}=e,a=So(wl,s),o=Co(wl,s),[l,c]=v.useState(null),[d,h]=v.useState(null),u=xt(t,C=>h(C)),m=Px(s),p=v.useRef(!1),j=v.useRef(!0),{viewport:y,selectedItem:g,selectedItemText:f,focusSelectedItem:b}=o,x=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&y&&g&&f){const C=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),D=f.getBoundingClientRect();if(a.dir!=="rtl"){const bt=D.left-k.left,rt=T.left-bt,es=C.left-rt,un=C.width+es,Fi=Math.max(un,k.width),ei=window.innerWidth-jr,ti=ph(rt,[jr,Math.max(jr,ei-Fi)]);l.style.minWidth=un+"px",l.style.left=ti+"px"}else{const bt=k.right-D.right,rt=window.innerWidth-T.right-bt,es=window.innerWidth-C.right-rt,un=C.width+es,Fi=Math.max(un,k.width),ei=window.innerWidth-jr,ti=ph(rt,[jr,Math.max(jr,ei-Fi)]);l.style.minWidth=un+"px",l.style.right=ti+"px"}const P=m(),M=window.innerHeight-jr*2,X=y.scrollHeight,ee=window.getComputedStyle(d),F=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),fe=parseInt(ee.borderBottomWidth,10),V=parseInt(ee.paddingBottom,10),L=F+re+X+V+fe,oe=Math.min(g.offsetHeight*5,L),be=window.getComputedStyle(y),st=parseInt(be.paddingTop,10),_t=parseInt(be.paddingBottom,10),Ft=C.top+C.height/2-jr,ms=M-Ft,Qt=g.offsetHeight/2,Le=g.offsetTop+Qt,yt=F+re+Le,Et=L-yt;if(yt<=Ft){const bt=P.length>0&&g===P[P.length-1].ref.current;l.style.bottom="0px";const rt=d.clientHeight-y.offsetTop-y.offsetHeight,es=Math.max(ms,Qt+(bt?_t:0)+rt+fe),un=yt+es;l.style.height=un+"px"}else{const bt=P.length>0&&g===P[0].ref.current;l.style.top="0px";const es=Math.max(Ft,F+y.offsetTop+(bt?st:0)+Qt)+Et;l.style.height=es+"px",y.scrollTop=yt-Ft+y.offsetTop}l.style.margin=`${jr}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,d,y,g,f,a.dir,r]);_s(()=>x(),[x]);const[w,S]=v.useState();_s(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=v.useCallback(C=>{C&&j.current===!0&&(x(),b==null||b(),j.current=!1)},[x,b]);return n.jsx(aX,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(Be.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});SI.displayName=rX;var iX="SelectPopperPosition",X0=v.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=jr,...a}=e,o=Ex(s);return n.jsx(E5,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});X0.displayName=iX;var[aX,Kw]=Id(wl,{}),Z0="SelectViewport",CI=v.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...i}=e,a=Co(Z0,s),o=Kw(Z0,s),l=xt(t,a.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(Tx.Slot,{scope:s,children:n.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&u){const p=Math.abs(c.current-h.scrollTop);if(p>0){const j=window.innerHeight-jr*2,y=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),f=Math.max(y,g);if(f<j){const b=f+p,x=Math.min(j,b),w=b-x;u.style.height=x+"px",u.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});CI.displayName=Z0;var kI="SelectGroup",[oX,lX]=Id(kI),cX=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Ji();return n.jsx(oX,{scope:s,id:i,children:n.jsx(Be.div,{role:"group","aria-labelledby":i,...r,ref:t})})});cX.displayName=kI;var _I="SelectLabel",TI=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=lX(_I,s);return n.jsx(Be.div,{id:i.id,...r,ref:t})});TI.displayName=_I;var Xf="SelectItem",[dX,PI]=Id(Xf),EI=v.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=e,l=So(Xf,s),c=Co(Xf,s),d=l.value===r,[h,u]=v.useState(a??""),[m,p]=v.useState(!1),j=xt(t,b=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,b,r,i)}),y=Ji(),g=v.useRef("touch"),f=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(dX,{scope:s,value:r,disabled:i,textId:y,isSelected:d,onItemTextChange:v.useCallback(b=>{u(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:n.jsx(Tx.ItemSlot,{scope:s,value:r,disabled:i,textValue:h,children:n.jsx(Be.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Fe(o.onFocus,()=>p(!0)),onBlur:Fe(o.onBlur,()=>p(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&f()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&f()}),onPointerDown:Fe(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Fe(o.onPointerMove,b=>{var x;g.current=b.pointerType,i?(x=c.onItemLeave)==null||x.call(c):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Fe(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(QY.includes(b.key)&&f(),b.key===" "&&b.preventDefault())})})})})});EI.displayName=Xf;var pu="SelectItemText",AI=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,...a}=e,o=So(pu,s),l=Co(pu,s),c=PI(pu,s),d=JY(pu,s),[h,u]=v.useState(null),m=xt(t,f=>u(f),c.onItemTextChange,f=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,f,c.value,c.disabled)}),p=h==null?void 0:h.textContent,j=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:g}=d;return _s(()=>(y(j),()=>g(j)),[y,g,j]),n.jsxs(n.Fragment,{children:[n.jsx(Be.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ma.createPortal(a.children,o.valueNode):null]})});AI.displayName=pu;var DI="SelectItemIndicator",MI=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return PI(DI,s).isSelected?n.jsx(Be.span,{"aria-hidden":!0,...r,ref:t}):null});MI.displayName=DI;var J0="SelectScrollUpButton",II=v.forwardRef((e,t)=>{const s=Co(J0,e.__scopeSelect),r=Kw(J0,e.__scopeSelect),[i,a]=v.useState(!1),o=xt(t,r.onScrollButtonChange);return _s(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(FI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});II.displayName=J0;var eb="SelectScrollDownButton",RI=v.forwardRef((e,t)=>{const s=Co(eb,e.__scopeSelect),r=Kw(eb,e.__scopeSelect),[i,a]=v.useState(!1),o=xt(t,r.onScrollButtonChange);return _s(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(FI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});RI.displayName=eb;var FI=v.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=e,a=Co("SelectScrollButton",s),o=v.useRef(null),l=Px(s),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),_s(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(Be.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),uX="SelectSeparator",OI=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Be.div,{"aria-hidden":!0,...r,ref:t})});OI.displayName=uX;var tb="SelectArrow",hX=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Ex(s),a=So(tb,s),o=Co(tb,s);return a.open&&o.position==="popper"?n.jsx(A5,{...i,...r,ref:t}):null});hX.displayName=tb;function LI(e){return e===""||e===void 0}var $I=v.forwardRef((e,t)=>{const{value:s,...r}=e,i=v.useRef(null),a=xt(t,i),o=_x(s);return v.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&h){const u=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(u)}},[o,s]),n.jsx(mm,{asChild:!0,children:n.jsx("select",{...r,ref:a,defaultValue:s})})});$I.displayName="BubbleSelect";function UI(e){const t=hs(e),s=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function BI(e,t,s){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=mX(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function mX(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var pX=pI,zI=gI,fX=yI,gX=vI,xX=bI,VI=jI,yX=CI,qI=TI,HI=EI,vX=AI,bX=MI,WI=II,GI=RI,KI=OI;const Ge=pX,Ke=fX,He=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(zI,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(gX,{asChild:!0,children:n.jsx(xD,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=zI.displayName;const QI=v.forwardRef(({className:e,...t},s)=>n.jsx(WI,{ref:s,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(u9,{className:"h-4 w-4"})}));QI.displayName=WI.displayName;const YI=v.forwardRef(({className:e,...t},s)=>n.jsx(GI,{ref:s,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(xD,{className:"h-4 w-4"})}));YI.displayName=GI.displayName;const We=v.forwardRef(({className:e,children:t,position:s="popper",...r},i)=>n.jsx(xX,{children:n.jsxs(VI,{ref:i,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(QI,{}),n.jsx(yX,{className:Oe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(YI,{})]})}));We.displayName=VI.displayName;const jX=v.forwardRef(({className:e,...t},s)=>n.jsx(qI,{ref:s,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));jX.displayName=qI.displayName;const B=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(HI,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(bX,{children:n.jsx(dc,{className:"h-4 w-4"})})}),n.jsx(vX,{children:t})]}));B.displayName=HI.displayName;const wX=v.forwardRef(({className:e,...t},s)=>n.jsx(KI,{ref:s,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));wX.displayName=KI.displayName;const I2=(e,t,s)=>{if(e&&"reportValidity"in e){const r=Pe(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},XI=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?I2(r.ref,s,e):r.refs&&r.refs.forEach(i=>I2(i,s,e))}},NX=(e,t)=>{t.shouldUseNativeValidation&&XI(e,t);const s={};for(const r in e){const i=Pe(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(SX(t.names||Object.keys(e),r)){const o=Object.assign({},Pe(s,r));At(o,"root",a),At(s,r,o)}else At(s,r,a)}return s},SX=(e,t)=>e.some(s=>s.startsWith(t+"."));var CX=function(e,t){for(var s={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return e.push(u)})}),t){var c=s[o].types,d=c&&c[r.code];s[o]=nI(o,t,s,i,d?[].concat(d,r.message):r.message)}e.shift()}return s},zt=function(e,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&XI({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:NX(CX(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ue=Symbol.for("drizzle:entityKind");function Ks(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ue))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ue in s&&s[ue]===t[ue])return!0;s=Object.getPrototypeOf(s)}return!1}var Hk;Hk=ue;class pd{constructor(t,s){A(this,"name");A(this,"keyAsName");A(this,"primary");A(this,"notNull");A(this,"default");A(this,"defaultFn");A(this,"onUpdateFn");A(this,"hasDefault");A(this,"isUnique");A(this,"uniqueName");A(this,"uniqueType");A(this,"dataType");A(this,"columnType");A(this,"enumValues");A(this,"generated");A(this,"generatedIdentity");A(this,"config");this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}A(pd,Hk,"Column");var Wk;Wk=ue;class ZI{constructor(t,s,r){A(this,"config");A(this,"$default",this.$defaultFn);A(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}A(ZI,Wk,"ColumnBuilder");const fc=Symbol.for("drizzle:Name");var Gk;Gk=ue;class JI{constructor(t,s){A(this,"reference");A(this,"_onUpdate","no action");A(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=t();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new e3(t,this)}}A(JI,Gk,"PgForeignKeyBuilder");var Kk;Kk=ue;class e3{constructor(t,s){A(this,"reference");A(this,"onUpdate");A(this,"onDelete");this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:t,columns:s,foreignColumns:r}=this.reference(),i=s.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[fc],...i,r[0].table[fc],...a];return t??`${o.join("_")}_fk`}}A(e3,Kk,"PgForeignKey");function kX(e,...t){return e(...t)}function _X(e,t){return`${e[fc]}_${t.join("_")}_unique`}function R2(e,t,s){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!s&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function t3(e,t=0){const s=[];let r=t,i=!1;for(;r<e.length;){const a=e[r];if(a===","){(i||r===t)&&s.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=R2(e,r+1,!0);s.push(c),r=d;continue}if(a==="}")return[s,r+1];if(a==="{"){const[c,d]=t3(e,r+1);s.push(c),r=d;continue}const[o,l]=R2(e,r,!1);s.push(o),r=l}return[s,r]}function TX(e){const[t]=t3(e,1);return t}function s3(e){return`{${e.map(t=>Array.isArray(t)?s3(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Qk,Yk;class kt extends(Yk=ZI,Qk=ue,Yk){constructor(){super(...arguments);A(this,"foreignKeyConfigs",[])}array(s){return new r3(this.config.name,this,s)}references(s,r={}){return this.foreignKeyConfigs.push({ref:s,actions:r}),this}unique(s,r){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>kX((o,l)=>{const c=new JI(()=>{const d=o();return{columns:[s],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(s){return new n3(s,this.config)}}A(kt,Qk,"PgColumnBuilder");var Xk,Zk;class ht extends(Zk=pd,Xk=ue,Zk){constructor(t,s){s.uniqueName||(s.uniqueName=_X(t,[s.name])),super(t,s),this.table=t}}A(ht,Xk,"PgColumn");var Jk,e_;class n3 extends(e_=ht,Jk=ue,e_){constructor(){super(...arguments);A(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});A(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}A(n3,Jk,"ExtraConfigColumn");var t_,s_;class r3 extends(s_=kt,t_=ue,s_){constructor(t,s,r){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=r}build(t){const s=this.config.baseBuilder.build(t);return new sb(t,this.config,s)}}A(r3,t_,"PgArrayBuilder");var n_,r_;const jg=class jg extends(r_=ht,n_=ue,r_){constructor(s,r,i,a){super(s,r);A(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=TX(s)),s.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(s,r=!1){const i=s.map(a=>a===null?null:Ks(this.baseColumn,jg)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:s3(i)}};A(jg,n_,"PgArray");let sb=jg;const F2=Symbol.for("drizzle:isPgEnum");function PX(e){return!!e&&typeof e=="function"&&F2 in e&&e[F2]===!0}var i_;i_=ue;class Qw{constructor(t,s,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:s,alias:r,isWith:i}}}A(Qw,i_,"Subquery");const EX={startActiveSpan(e,t){return t()}},gc=Symbol.for("drizzle:ViewBaseConfig"),Hy=Symbol.for("drizzle:Schema"),O2=Symbol.for("drizzle:Columns"),L2=Symbol.for("drizzle:ExtraConfigColumns"),Wy=Symbol.for("drizzle:OriginalName"),Gy=Symbol.for("drizzle:BaseName"),Zf=Symbol.for("drizzle:IsAlias"),$2=Symbol.for("drizzle:ExtraConfigBuilder"),i3=Symbol.for("drizzle:IsDrizzleTable");var a_,o_,l_,c_,d_,u_,h_,m_,p_,f_,Np;let Wn=(f_=ue,p_=fc,m_=Wy,h_=Hy,u_=O2,d_=L2,c_=Gy,l_=Zf,o_=i3,a_=$2,Np=class{constructor(t,s,r){A(this,p_);A(this,m_);A(this,h_);A(this,u_);A(this,d_);A(this,c_);A(this,l_,!1);A(this,o_,!0);A(this,a_);this[fc]=this[Wy]=t,this[Hy]=s,this[Gy]=r}},A(Np,f_,"Table"),A(Np,"Symbol",{Name:fc,Schema:Hy,OriginalName:Wy,Columns:O2,ExtraConfigColumns:L2,BaseName:Gy,IsAlias:Zf,ExtraConfigBuilder:$2}),Np);function a3(e){return typeof e=="object"&&e!==null&&i3 in e}function AX(e){return e!=null&&typeof e.getSQL=="function"}function DX(e){var s;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(s=r.typings)!=null&&s.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var g_;g_=ue;class or{constructor(t){A(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Is([this])}}A(or,g_,"StringChunk");var x_;x_=ue;const Ro=class Ro{constructor(t){A(this,"decoder",o3);A(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return EX.startActiveSpan("drizzle.buildSQL",s=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return s==null||s.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,s){const r=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return DX(t.map(h=>{var u;if(Ks(h,or))return{sql:h.value.join(""),params:[]};if(Ks(h,Jf))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const m=[new or("(")];for(const[p,j]of h.entries())m.push(j),p<h.length-1&&m.push(new or(", "));return m.push(new or(")")),this.buildQueryFromSourceParams(m,r)}if(Ks(h,Ro))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:c||h.shouldInlineParams});if(Ks(h,Wn)){const m=h[Wn.Symbol.Schema],p=h[Wn.Symbol.Name];return{sql:m===void 0||h[Zf]?a(p):a(m)+"."+a(p),params:[]}}if(Ks(h,pd)){const m=i.getColumnCasing(h);if(s.invokeSource==="indexes")return{sql:a(m),params:[]};const p=h.table[Wn.Symbol.Schema];return{sql:h.table[Zf]||p===void 0?a(h.table[Wn.Symbol.Name])+"."+a(m):a(p)+"."+a(h.table[Wn.Symbol.Name])+"."+a(m),params:[]}}if(Ks(h,d3)){const m=h[gc].schema,p=h[gc].name;return{sql:m===void 0||h[gc].isAlias?a(p):a(m)+"."+a(p),params:[]}}if(Ks(h,Yw)){if(Ks(h.value,tg))return{sql:o(d.value++,h),params:[h],typings:["none"]};const m=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Ks(m,Ro))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let p=["none"];return l&&(p=[l(h.encoder)]),{sql:o(d.value++,m),params:[m],typings:p}}return Ks(h,tg)?{sql:o(d.value++,h),params:[h],typings:["none"]}:Ks(h,Ro.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:Ks(h,Qw)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new or("("),h._.sql,new or(") "),new Jf(h._.alias)],r):PX(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:AX(h)?(u=h.shouldOmitSQLParens)!=null&&u.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new or("("),h.getSQL(),new or(")")],r):c?{sql:this.mapInlineParam(h,r),params:[]}:{sql:o(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const r=t.toString();return s(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ro.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};A(Ro,x_,"SQL");let Is=Ro;var y_;y_=ue;class Jf{constructor(t){A(this,"brand");this.value=t}getSQL(){return new Is([this])}}A(Jf,y_,"Name");const o3={mapFromDriverValue:e=>e},l3={mapToDriverValue:e=>e};({...o3,...l3});var v_;v_=ue;class Yw{constructor(t,s=l3){A(this,"brand");this.value=t,this.encoder=s}getSQL(){return new Is([this])}}A(Yw,v_,"Param");function eg(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new or(e[0]));for(const[r,i]of t.entries())s.push(i,new or(e[r+1]));return new Is(s)}(e=>{function t(){return new Is([])}e.empty=t;function s(c){return new Is(c)}e.fromList=s;function r(c){return new Is([new or(c)])}e.raw=r;function i(c,d){const h=[];for(const[u,m]of c.entries())u>0&&d!==void 0&&h.push(d),h.push(m);return new Is(h)}e.join=i;function a(c){return new Jf(c)}e.identifier=a;function o(c){return new tg(c)}e.placeholder=o;function l(c,d){return new Yw(c,d)}e.param=l})(eg||(eg={}));(e=>{var s;s=ue;const r=class r{constructor(a,o){A(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};A(r,s,"SQL.Aliased");let t=r;e.Aliased=t})(Is||(Is={}));var b_;b_=ue;class tg{constructor(t){this.name=t}getSQL(){return new Is([this])}}A(tg,b_,"Placeholder");const c3=Symbol.for("drizzle:IsDrizzleView");var j_,w_,N_;N_=ue,w_=gc,j_=c3;class d3{constructor({name:t,schema:s,selectedFields:r,query:i}){A(this,w_);A(this,j_,!0);this[gc]={name:t,originalName:t,schema:s,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Is([this])}}A(d3,N_,"View");function MX(e){return typeof e=="object"&&e!==null&&c3 in e}pd.prototype.getSQL=function(){return new Is([this])};Wn.prototype.getSQL=function(){return new Is([this])};Qw.prototype.getSQL=function(){return new Is([this])};function IX(e){return e[Wn.Symbol.Columns]}function RX(e){return e[gc].selectedFields}function Hs(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var S_,C_;class Nm extends(C_=kt,S_=ue,C_){generatedAlwaysAsIdentity(t){if(t){const{name:s,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}A(Nm,S_,"PgIntColumnBaseBuilder");var k_,__;class u3 extends(__=Nm,k_=ue,__){constructor(t){super(t,"number","PgBigInt53")}build(t){return new h3(t,this.config)}}A(u3,k_,"PgBigInt53Builder");var T_,P_;class h3 extends(P_=ht,T_=ue,P_){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(h3,T_,"PgBigInt53");var E_,A_;class m3 extends(A_=Nm,E_=ue,A_){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new p3(t,this.config)}}A(m3,E_,"PgBigInt64Builder");var D_,M_;class p3 extends(M_=ht,D_=ue,M_){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}A(p3,D_,"PgBigInt64");function FX(e,t){const{name:s,config:r}=Hs(e,t);return r.mode==="number"?new u3(s):new m3(s)}var I_,R_;class f3 extends(R_=kt,I_=ue,R_){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new g3(t,this.config)}}A(f3,I_,"PgBigSerial53Builder");var F_,O_;class g3 extends(O_=ht,F_=ue,O_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(g3,F_,"PgBigSerial53");var L_,$_;class x3 extends($_=kt,L_=ue,$_){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new y3(t,this.config)}}A(x3,L_,"PgBigSerial64Builder");var U_,B_;class y3 extends(B_=ht,U_=ue,B_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}A(y3,U_,"PgBigSerial64");function OX(e,t){const{name:s,config:r}=Hs(e,t);return r.mode==="number"?new f3(s):new x3(s)}var z_,V_;class v3 extends(V_=kt,z_=ue,V_){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new b3(t,this.config)}}A(v3,z_,"PgBooleanBuilder");var q_,H_;class b3 extends(H_=ht,q_=ue,H_){getSQLType(){return"boolean"}}A(b3,q_,"PgBoolean");function Ne(e){return new v3(e??"")}var W_,G_;class j3 extends(G_=kt,W_=ue,G_){constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new w3(t,this.config)}}A(j3,W_,"PgCharBuilder");var K_,Q_;class w3 extends(Q_=ht,K_=ue,Q_){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}A(w3,K_,"PgChar");function LX(e,t={}){const{name:s,config:r}=Hs(e,t);return new j3(s,r)}var Y_,X_;class N3 extends(X_=kt,Y_=ue,X_){constructor(t){super(t,"string","PgCidr")}build(t){return new S3(t,this.config)}}A(N3,Y_,"PgCidrBuilder");var Z_,J_;class S3 extends(J_=ht,Z_=ue,J_){getSQLType(){return"cidr"}}A(S3,Z_,"PgCidr");function $X(e){return new N3(e??"")}var eT,tT;class C3 extends(tT=kt,eT=ue,tT){constructor(t,s,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=r}build(t){return new k3(t,this.config)}}A(C3,eT,"PgCustomColumnBuilder");var sT,nT;class k3 extends(nT=ht,sT=ue,nT){constructor(s,r){super(s,r);A(this,"sqlName");A(this,"mapTo");A(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}A(k3,sT,"PgCustomColumn");function UX(e){return(t,s)=>{const{name:r,config:i}=Hs(t,s);return new C3(r,i,e)}}var rT,iT;class Rd extends(iT=kt,rT=ue,iT){defaultNow(){return this.default(eg`now()`)}}A(Rd,rT,"PgDateColumnBaseBuilder");var aT,oT;class _3 extends(oT=Rd,aT=ue,oT){constructor(t){super(t,"date","PgDate")}build(t){return new T3(t,this.config)}}A(_3,aT,"PgDateBuilder");var lT,cT;class T3 extends(cT=ht,lT=ue,cT){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}A(T3,lT,"PgDate");var dT,uT;class P3 extends(uT=Rd,dT=ue,uT){constructor(t){super(t,"string","PgDateString")}build(t){return new E3(t,this.config)}}A(P3,dT,"PgDateStringBuilder");var hT,mT;class E3 extends(mT=ht,hT=ue,mT){getSQLType(){return"date"}}A(E3,hT,"PgDateString");function Ax(e,t){const{name:s,config:r}=Hs(e,t);return(r==null?void 0:r.mode)==="date"?new _3(s):new P3(s)}var pT,fT;class A3 extends(fT=kt,pT=ue,fT){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new D3(t,this.config)}}A(A3,pT,"PgDoublePrecisionBuilder");var gT,xT;class D3 extends(xT=ht,gT=ue,xT){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}A(D3,gT,"PgDoublePrecision");function BX(e){return new A3(e??"")}var yT,vT;class M3 extends(vT=kt,yT=ue,vT){constructor(t){super(t,"string","PgInet")}build(t){return new I3(t,this.config)}}A(M3,yT,"PgInetBuilder");var bT,jT;class I3 extends(jT=ht,bT=ue,jT){getSQLType(){return"inet"}}A(I3,bT,"PgInet");function zX(e){return new M3(e??"")}var wT,NT;class R3 extends(NT=Nm,wT=ue,NT){constructor(t){super(t,"number","PgInteger")}build(t){return new F3(t,this.config)}}A(R3,wT,"PgIntegerBuilder");var ST,CT;class F3 extends(CT=ht,ST=ue,CT){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}A(F3,ST,"PgInteger");function z(e){return new R3(e??"")}var kT,_T;class O3 extends(_T=kt,kT=ue,_T){constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new L3(t,this.config)}}A(O3,kT,"PgIntervalBuilder");var TT,PT;class L3 extends(PT=ht,TT=ue,PT){constructor(){super(...arguments);A(this,"fields",this.config.intervalConfig.fields);A(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${s}${r}`}}A(L3,TT,"PgInterval");function VX(e,t={}){const{name:s,config:r}=Hs(e,t);return new O3(s,r)}var ET,AT;class $3 extends(AT=kt,ET=ue,AT){constructor(t){super(t,"json","PgJson")}build(t){return new U3(t,this.config)}}A($3,ET,"PgJsonBuilder");var DT,MT;class U3 extends(MT=ht,DT=ue,MT){constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(U3,DT,"PgJson");function Dx(e){return new $3(e??"")}var IT,RT;class B3 extends(RT=kt,IT=ue,RT){constructor(t){super(t,"json","PgJsonb")}build(t){return new z3(t,this.config)}}A(B3,IT,"PgJsonbBuilder");var FT,OT;class z3 extends(OT=ht,FT=ue,OT){constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(z3,FT,"PgJsonb");function xi(e){return new B3(e??"")}var LT,$T;class V3 extends($T=kt,LT=ue,$T){constructor(t){super(t,"array","PgLine")}build(t){return new q3(t,this.config)}}A(V3,LT,"PgLineBuilder");var UT,BT;class q3 extends(BT=ht,UT=ue,BT){getSQLType(){return"line"}mapFromDriverValue(t){const[s,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}A(q3,UT,"PgLine");var zT,VT;class H3 extends(VT=kt,zT=ue,VT){constructor(t){super(t,"json","PgLineABC")}build(t){return new W3(t,this.config)}}A(H3,zT,"PgLineABCBuilder");var qT,HT;class W3 extends(HT=ht,qT=ue,HT){getSQLType(){return"line"}mapFromDriverValue(t){const[s,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}A(W3,qT,"PgLineABC");function qX(e,t){const{name:s,config:r}=Hs(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new V3(s):new H3(s)}var WT,GT;class G3 extends(GT=kt,WT=ue,GT){constructor(t){super(t,"string","PgMacaddr")}build(t){return new K3(t,this.config)}}A(G3,WT,"PgMacaddrBuilder");var KT,QT;class K3 extends(QT=ht,KT=ue,QT){getSQLType(){return"macaddr"}}A(K3,KT,"PgMacaddr");function HX(e){return new G3(e??"")}var YT,XT;class Q3 extends(XT=kt,YT=ue,XT){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Y3(t,this.config)}}A(Q3,YT,"PgMacaddr8Builder");var ZT,JT;class Y3 extends(JT=ht,ZT=ue,JT){getSQLType(){return"macaddr8"}}A(Y3,ZT,"PgMacaddr8");function WX(e){return new Q3(e??"")}var eP,tP;class X3 extends(tP=kt,eP=ue,tP){constructor(t,s,r){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=r}build(t){return new Z3(t,this.config)}}A(X3,eP,"PgNumericBuilder");var sP,nP;class Z3 extends(nP=ht,sP=ue,nP){constructor(s,r){super(s,r);A(this,"precision");A(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}A(Z3,sP,"PgNumeric");function J3(e,t){const{name:s,config:r}=Hs(e,t);return new X3(s,r==null?void 0:r.precision,r==null?void 0:r.scale)}const on=J3;var rP,iP;class eR extends(iP=kt,rP=ue,iP){constructor(t){super(t,"array","PgPointTuple")}build(t){return new tR(t,this.config)}}A(eR,rP,"PgPointTupleBuilder");var aP,oP;class tR extends(oP=ht,aP=ue,oP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,r]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}A(tR,aP,"PgPointTuple");var lP,cP;class sR extends(cP=kt,lP=ue,cP){constructor(t){super(t,"json","PgPointObject")}build(t){return new nR(t,this.config)}}A(sR,lP,"PgPointObjectBuilder");var dP,uP;class nR extends(uP=ht,dP=ue,uP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}A(nR,dP,"PgPointObject");function GX(e,t){const{name:s,config:r}=Hs(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new eR(s):new sR(s)}function KX(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function U2(e,t){const s=new ArrayBuffer(8),r=new DataView(s);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function rR(e){const t=KX(e);let s=0;const r=t[s];s+=1;const i=new DataView(t.buffer),a=i.getUint32(s,r===1);if(s+=4,a&536870912&&(i.getUint32(s,r===1),s+=4),(a&65535)===1){const o=U2(t,s);s+=8;const l=U2(t,s);return s+=8,[o,l]}throw new Error("Unsupported geometry type")}var hP,mP;class iR extends(mP=kt,hP=ue,mP){constructor(t){super(t,"array","PgGeometry")}build(t){return new aR(t,this.config)}}A(iR,hP,"PgGeometryBuilder");var pP,fP;class aR extends(fP=ht,pP=ue,fP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return rR(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}A(aR,pP,"PgGeometry");var gP,xP;class oR extends(xP=kt,gP=ue,xP){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new lR(t,this.config)}}A(oR,gP,"PgGeometryObjectBuilder");var yP,vP;class lR extends(vP=ht,yP=ue,vP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=rR(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}A(lR,yP,"PgGeometryObject");function QX(e,t){const{name:s,config:r}=Hs(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new iR(s):new oR(s)}var bP,jP;class cR extends(jP=kt,bP=ue,jP){constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new dR(t,this.config)}}A(cR,bP,"PgRealBuilder");var wP,NP;class dR extends(NP=ht,wP=ue,NP){constructor(s,r){super(s,r);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}A(dR,wP,"PgReal");function Pi(e){return new cR(e??"")}var SP,CP;class uR extends(CP=kt,SP=ue,CP){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new hR(t,this.config)}}A(uR,SP,"PgSerialBuilder");var kP,_P;class hR extends(_P=ht,kP=ue,_P){getSQLType(){return"serial"}}A(hR,kP,"PgSerial");function _e(e){return new uR(e??"")}var TP,PP;class mR extends(PP=Nm,TP=ue,PP){constructor(t){super(t,"number","PgSmallInt")}build(t){return new pR(t,this.config)}}A(mR,TP,"PgSmallIntBuilder");var EP,AP;class pR extends(AP=ht,EP=ue,AP){constructor(){super(...arguments);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}A(pR,EP,"PgSmallInt");function YX(e){return new mR(e??"")}var DP,MP;class fR extends(MP=kt,DP=ue,MP){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new gR(t,this.config)}}A(fR,DP,"PgSmallSerialBuilder");var IP,RP;class gR extends(RP=ht,IP=ue,RP){getSQLType(){return"smallserial"}}A(gR,IP,"PgSmallSerial");function XX(e){return new fR(e??"")}var FP,OP;class xR extends(OP=kt,FP=ue,OP){constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new yR(t,this.config)}}A(xR,FP,"PgTextBuilder");var LP,$P;class yR extends($P=ht,LP=ue,$P){constructor(){super(...arguments);A(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}A(yR,LP,"PgText");function R(e,t={}){const{name:s,config:r}=Hs(e,t);return new xR(s,r)}var UP,BP;class vR extends(BP=Rd,UP=ue,BP){constructor(t,s,r){super(t,"string","PgTime"),this.withTimezone=s,this.precision=r,this.config.withTimezone=s,this.config.precision=r}build(t){return new bR(t,this.config)}}A(vR,UP,"PgTimeBuilder");var zP,VP;class bR extends(VP=ht,zP=ue,VP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(bR,zP,"PgTime");function fd(e,t={}){const{name:s,config:r}=Hs(e,t);return new vR(s,r.withTimezone??!1,r.precision)}var qP,HP;class jR extends(HP=Rd,qP=ue,HP){constructor(t,s,r){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=r}build(t){return new wR(t,this.config)}}A(jR,qP,"PgTimestampBuilder");var WP,GP;class wR extends(GP=ht,WP=ue,GP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");A(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));A(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(wR,WP,"PgTimestamp");var KP,QP;class NR extends(QP=Rd,KP=ue,QP){constructor(t,s,r){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=r}build(t){return new SR(t,this.config)}}A(NR,KP,"PgTimestampStringBuilder");var YP,XP;class SR extends(XP=ht,YP=ue,XP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(SR,YP,"PgTimestampString");function W(e,t={}){const{name:s,config:r}=Hs(e,t);return(r==null?void 0:r.mode)==="string"?new NR(s,r.withTimezone??!1,r.precision):new jR(s,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var ZP,JP;class CR extends(JP=kt,ZP=ue,JP){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(eg`gen_random_uuid()`)}build(t){return new kR(t,this.config)}}A(CR,ZP,"PgUUIDBuilder");var eE,tE;class kR extends(tE=ht,eE=ue,tE){getSQLType(){return"uuid"}}A(kR,eE,"PgUUID");function ZX(e){return new CR(e??"")}var sE,nE;class _R extends(nE=kt,sE=ue,nE){constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new TR(t,this.config)}}A(_R,sE,"PgVarcharBuilder");var rE,iE;class TR extends(iE=ht,rE=ue,iE){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}A(TR,rE,"PgVarchar");function ke(e,t={}){const{name:s,config:r}=Hs(e,t);return new _R(s,r)}var aE,oE;class PR extends(oE=kt,aE=ue,oE){constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new ER(t,this.config)}}A(PR,aE,"PgBinaryVectorBuilder");var lE,cE;class ER extends(cE=ht,lE=ue,cE){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}A(ER,lE,"PgBinaryVector");function JX(e,t){const{name:s,config:r}=Hs(e,t);return new PR(s,r)}var dE,uE;class AR extends(uE=kt,dE=ue,uE){constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new DR(t,this.config)}}A(AR,dE,"PgHalfVectorBuilder");var hE,mE;class DR extends(mE=ht,hE=ue,mE){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(DR,hE,"PgHalfVector");function eZ(e,t){const{name:s,config:r}=Hs(e,t);return new AR(s,r)}var pE,fE;class MR extends(fE=kt,pE=ue,fE){constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new IR(t,this.config)}}A(MR,pE,"PgSparseVectorBuilder");var gE,xE;class IR extends(xE=ht,gE=ue,xE){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}A(IR,gE,"PgSparseVector");function tZ(e,t){const{name:s,config:r}=Hs(e,t);return new MR(s,r)}var yE,vE;class RR extends(vE=kt,yE=ue,vE){constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new FR(t,this.config)}}A(RR,yE,"PgVectorBuilder");var bE,jE;class FR extends(jE=ht,bE=ue,jE){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(FR,bE,"PgVector");function sZ(e,t){const{name:s,config:r}=Hs(e,t);return new RR(s,r)}function nZ(){return{bigint:FX,bigserial:OX,boolean:Ne,char:LX,cidr:$X,customType:UX,date:Ax,doublePrecision:BX,inet:zX,integer:z,interval:VX,json:Dx,jsonb:xi,line:qX,macaddr:HX,macaddr8:WX,numeric:J3,point:GX,geometry:QX,real:Pi,serial:_e,smallint:YX,smallserial:XX,text:R,time:fd,timestamp:W,uuid:ZX,varchar:ke,bit:JX,halfvec:eZ,sparsevec:tZ,vector:sZ}}const nb=Symbol.for("drizzle:PgInlineForeignKeys"),B2=Symbol.for("drizzle:EnableRLS");var wE,NE,SE,CE,kE;class sg extends(kE=Wn,CE=ue,SE=nb,NE=B2,wE=Wn.Symbol.ExtraConfigBuilder,kE){constructor(){super(...arguments);A(this,SE,[]);A(this,NE,!1);A(this,wE)}}A(sg,CE,"PgTable"),A(sg,"Symbol",Object.assign({},Wn.Symbol,{InlineForeignKeys:nb,EnableRLS:B2}));function rZ(e,t,s,r,i=e){const a=new sg(e,r,i),o=typeof t=="function"?t(nZ()):t,l=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const p=m.build(a);return a[nb].push(...m.buildForeignKeys(p,a)),[h,p]})),c=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const p=m.buildExtraConfigColumn(a);return[h,p]})),d=Object.assign(a,l);return d[Wn.Symbol.Columns]=l,d[Wn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[sg.Symbol.EnableRLS]=!0,d)})}const je=(e,t,s)=>rZ(e,t,s,void 0);var Ct;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function s(i){throw new Error}e.assertNever=s,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ct||(Ct={}));var rb;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(rb||(rb={}));const Me=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vi=e=>{switch(typeof e){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(e)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(e)?Me.array:e===null?Me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Me.promise:typeof Map<"u"&&e instanceof Map?Me.map:typeof Set<"u"&&e instanceof Set?Me.set:typeof Date<"u"&&e instanceof Date?Me.date:Me.object;default:return Me.unknown}},pe=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),iZ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Jn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof Jn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Jn.create=e=>new Jn(e);const gd=(e,t)=>{let s;switch(e.code){case pe.invalid_type:e.received===Me.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Ct.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ct.joinValues(e.keys,", ")}`;break;case pe.invalid_union:s="Invalid input";break;case pe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ct.joinValues(e.options)}`;break;case pe.invalid_enum_value:s=`Invalid enum value. Expected ${Ct.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:s="Invalid function arguments";break;case pe.invalid_return_type:s="Invalid function return type";break;case pe.invalid_date:s="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Ct.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case pe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case pe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case pe.custom:s="Invalid input";break;case pe.invalid_intersection_types:s="Intersection results could not be merged";break;case pe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:s="Number must be finite";break;default:s=t.defaultError,Ct.assertNever(e)}return{message:s}};let OR=gd;function aZ(e){OR=e}function ng(){return OR}const rg=e=>{const{data:t,path:s,errorMaps:r,issueData:i}=e,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},oZ=[];function Ee(e,t){const s=ng(),r=rg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===gd?void 0:gd].filter(i=>!!i)});e.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const i of s){if(i.status==="aborted")return tt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return cn.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return tt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const tt=Object.freeze({status:"aborted"}),Zl=e=>({status:"dirty",value:e}),wn=e=>({status:"valid",value:e}),ib=e=>e.status==="aborted",ab=e=>e.status==="dirty",Nl=e=>e.status==="valid",fh=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Ei{constructor(t,s,r,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z2=(e,t)=>{if(Nl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Jn(e.common.issues);return this._error=s,this._error}}};function dt(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:i}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:i}}class gt{get description(){return this._def.description}_getType(t){return Vi(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Vi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new cn,ctx:{common:t.parent.common,data:t.data,parsedType:Vi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(fh(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vi(t)},i=this._parseSync({data:t,path:r.path,parent:r});return z2(r,i)}"~validate"(t){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vi(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return Nl(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>Nl(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vi(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(fh(i)?i:Promise.resolve(i));return z2(r,a)}refine(t,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:pe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(t){return new Yr({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Ni.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wr.create(this)}promise(){return yd.create(this,this._def)}or(t){return vh.create([this,t],this._def)}and(t){return bh.create(this,t,this._def)}transform(t){return new Yr({...dt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Ch({...dt(this._def),innerType:this,defaultValue:s,typeName:nt.ZodDefault})}brand(){return new Xw({typeName:nt.ZodBranded,type:this,...dt(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new kh({...dt(this._def),innerType:this,catchValue:s,typeName:nt.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Sm.create(this,t)}readonly(){return _h.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lZ=/^c[^\s-]{8,}$/i,cZ=/^[0-9a-z]+$/,dZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hZ=/^[a-z0-9_-]{21}$/i,mZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ky;const xZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NZ=new RegExp(`^${LR}$`);function $R(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function SZ(e){return new RegExp(`^${$R(e)}$`)}function UR(e){let t=`${LR}T${$R(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function CZ(e,t){return!!((t==="v4"||!t)&&xZ.test(e)||(t==="v6"||!t)&&vZ.test(e))}function kZ(e,t){if(!mZ.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function _Z(e,t){return!!((t==="v4"||!t)&&yZ.test(e)||(t==="v6"||!t)&&bZ.test(e))}class Br extends gt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.string,received:a.parsedType}),tt}const r=new cn;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")fZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"email",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ky||(Ky=new RegExp(gZ,"u")),Ky.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"emoji",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")uZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"uuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")hZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"nanoid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")lZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")cZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid2",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")dZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ulid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ee(i,{validation:"url",code:pe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"regex",code:pe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?UR(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?NZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?SZ(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?pZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"duration",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?CZ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ip",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?kZ(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"jwt",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?_Z(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cidr",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?jZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?wZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64url",code:pe.invalid_string,message:a.message}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(i=>t.test(i),{validation:s,code:pe.invalid_string,...$e.errToObj(r)})}_addCheck(t){return new Br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...$e.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...$e.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...$e.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...$e.errToObj(s)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Br.create=e=>new Br({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...dt(e)});function TZ(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class go extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.number,received:a.parsedType}),tt}let r;const i=new cn;for(const a of this._def.checks)a.kind==="int"?Ct.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?TZ(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_finite,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,$e.toString(s))}gt(t,s){return this.setLimit("min",t,!1,$e.toString(s))}lte(t,s){return this.setLimit("max",t,!0,$e.toString(s))}lt(t,s){return this.setLimit("max",t,!1,$e.toString(s))}setLimit(t,s,r,i){return new go({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:$e.toString(i)}]})}_addCheck(t){return new go({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ct.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}go.create=e=>new go({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...dt(e)});class xo extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Me.bigint)return this._getInvalidInput(t);let r;const i=new cn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Ee(s,{code:pe.invalid_type,expected:Me.bigint,received:s.parsedType}),tt}gte(t,s){return this.setLimit("min",t,!0,$e.toString(s))}gt(t,s){return this.setLimit("min",t,!1,$e.toString(s))}lte(t,s){return this.setLimit("max",t,!0,$e.toString(s))}lt(t,s){return this.setLimit("max",t,!1,$e.toString(s))}setLimit(t,s,r,i){return new xo({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:$e.toString(i)}]})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}xo.create=e=>new xo({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...dt(e)});class gh extends gt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.boolean,received:r.parsedType}),tt}return wn(t.data)}}gh.create=e=>new gh({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...dt(e)});class Sl extends gt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.date,received:a.parsedType}),tt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_date}),tt}const r=new cn;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sl({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Sl.create=e=>new Sl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...dt(e)});class ig extends gt{_parse(t){if(this._getType(t)!==Me.symbol){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.symbol,received:r.parsedType}),tt}return wn(t.data)}}ig.create=e=>new ig({typeName:nt.ZodSymbol,...dt(e)});class xh extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.undefined,received:r.parsedType}),tt}return wn(t.data)}}xh.create=e=>new xh({typeName:nt.ZodUndefined,...dt(e)});class yh extends gt{_parse(t){if(this._getType(t)!==Me.null){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.null,received:r.parsedType}),tt}return wn(t.data)}}yh.create=e=>new yh({typeName:nt.ZodNull,...dt(e)});class xd extends gt{constructor(){super(...arguments),this._any=!0}_parse(t){return wn(t.data)}}xd.create=e=>new xd({typeName:nt.ZodAny,...dt(e)});class ul extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wn(t.data)}}ul.create=e=>new ul({typeName:nt.ZodUnknown,...dt(e)});class da extends gt{_parse(t){const s=this._getOrReturnCtx(t);return Ee(s,{code:pe.invalid_type,expected:Me.never,received:s.parsedType}),tt}}da.create=e=>new da({typeName:nt.ZodNever,...dt(e)});class ag extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.void,received:r.parsedType}),tt}return wn(t.data)}}ag.create=e=>new ag({typeName:nt.ZodVoid,...dt(e)});class Wr extends gt{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),i=this._def;if(s.parsedType!==Me.array)return Ee(s,{code:pe.invalid_type,expected:Me.array,received:s.parsedType}),tt;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(Ee(s,{code:o?pe.too_big:pe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Ee(s,{code:pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Ee(s,{code:pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new Ei(s,o,s.path,l)))).then(o=>cn.mergeArray(r,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new Ei(s,o,s.path,l)));return cn.mergeArray(r,a)}get element(){return this._def.type}min(t,s){return new Wr({...this._def,minLength:{value:t,message:$e.toString(s)}})}max(t,s){return new Wr({...this._def,maxLength:{value:t,message:$e.toString(s)}})}length(t,s){return new Wr({...this._def,exactLength:{value:t,message:$e.toString(s)}})}nonempty(t){return this.min(1,t)}}Wr.create=(e,t)=>new Wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...dt(t)});function $l(e){if(e instanceof ns){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=Ni.create($l(r))}return new ns({...e._def,shape:()=>t})}else return e instanceof Wr?new Wr({...e._def,type:$l(e.element)}):e instanceof Ni?Ni.create($l(e.unwrap())):e instanceof vo?vo.create($l(e.unwrap())):e instanceof Ai?Ai.create(e.items.map(t=>$l(t))):e}class ns extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Ct.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Me.object){const d=this._getOrReturnCtx(t);return Ee(d,{code:pe.invalid_type,expected:Me.object,received:d.parsedType}),tt}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],u=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ei(i,u,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof da){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Ee(i,{code:pe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ei(i,u,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,m=await h.value;d.push({key:u,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>cn.mergeObjectSync(r,d)):cn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new ns({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:$e.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ns({...this._def,unknownKeys:"strip"})}passthrough(){return new ns({...this._def,unknownKeys:"passthrough"})}extend(t){return new ns({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ns({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new ns({...this._def,catchall:t})}pick(t){const s={};for(const r of Ct.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new ns({...this._def,shape:()=>s})}omit(t){const s={};for(const r of Ct.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new ns({...this._def,shape:()=>s})}deepPartial(){return $l(this)}partial(t){const s={};for(const r of Ct.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?s[r]=i:s[r]=i.optional()}return new ns({...this._def,shape:()=>s})}required(t){const s={};for(const r of Ct.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ni;)a=a._def.innerType;s[r]=a}return new ns({...this._def,shape:()=>s})}keyof(){return BR(Ct.objectKeys(this.shape))}}ns.create=(e,t)=>new ns({shape:()=>e,unknownKeys:"strip",catchall:da.create(),typeName:nt.ZodObject,...dt(t)});ns.strictCreate=(e,t)=>new ns({shape:()=>e,unknownKeys:"strict",catchall:da.create(),typeName:nt.ZodObject,...dt(t)});ns.lazycreate=(e,t)=>new ns({shape:e,unknownKeys:"strip",catchall:da.create(),typeName:nt.ZodObject,...dt(t)});class vh extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Jn(l.ctx.common.issues));return Ee(s,{code:pe.invalid_union,unionErrors:o}),tt}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},h=c._parseSync({data:s.data,path:s.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Jn(c));return Ee(s,{code:pe.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}vh.create=(e,t)=>new vh({options:e,typeName:nt.ZodUnion,...dt(t)});const Ui=e=>e instanceof wh?Ui(e.schema):e instanceof Yr?Ui(e.innerType()):e instanceof Nh?[e.value]:e instanceof yo?e.options:e instanceof Sh?Ct.objectValues(e.enum):e instanceof Ch?Ui(e._def.innerType):e instanceof xh?[void 0]:e instanceof yh?[null]:e instanceof Ni?[void 0,...Ui(e.unwrap())]:e instanceof vo?[null,...Ui(e.unwrap())]:e instanceof Xw||e instanceof _h?Ui(e.unwrap()):e instanceof kh?Ui(e._def.innerType):[];class Mx extends gt{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.object)return Ee(s,{code:pe.invalid_type,expected:Me.object,received:s.parsedType}),tt;const r=this.discriminator,i=s.data[r],a=this.optionsMap.get(i);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(Ee(s,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,r){const i=new Map;for(const a of s){const o=Ui(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Mx({typeName:nt.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:i,...dt(r)})}}function ob(e,t){const s=Vi(e),r=Vi(t);if(e===t)return{valid:!0,data:e};if(s===Me.object&&r===Me.object){const i=Ct.objectKeys(t),a=Ct.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=ob(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Me.array&&r===Me.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=ob(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===Me.date&&r===Me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bh extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(ib(a)||ib(o))return tt;const l=ob(a.value,o.value);return l.valid?((ab(a)||ab(o))&&s.dirty(),{status:s.value,value:l.data}):(Ee(r,{code:pe.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bh.create=(e,t,s)=>new bh({left:e,right:t,typeName:nt.ZodIntersection,...dt(s)});class Ai extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.array)return Ee(r,{code:pe.invalid_type,expected:Me.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Ee(r,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ei(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>cn.mergeArray(s,o)):cn.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Ai({...this._def,rest:t})}}Ai.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ai({items:e,typeName:nt.ZodTuple,rest:null,...dt(t)})};class jh extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.object)return Ee(r,{code:pe.invalid_type,expected:Me.object,received:r.parsedType}),tt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Ei(r,l,r.path,l)),value:o._parse(new Ei(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?cn.mergeObjectAsync(s,i):cn.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(t,s,r){return s instanceof gt?new jh({keyType:t,valueType:s,typeName:nt.ZodRecord,...dt(r)}):new jh({keyType:Br.create(),valueType:t,typeName:nt.ZodRecord,...dt(s)})}}class og extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.map)return Ee(r,{code:pe.invalid_type,expected:Me.map,received:r.parsedType}),tt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Ei(r,l,r.path,[d,"key"])),value:a._parse(new Ei(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}}}}og.create=(e,t,s)=>new og({valueType:t,keyType:e,typeName:nt.ZodMap,...dt(s)});class Cl extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.set)return Ee(r,{code:pe.invalid_type,expected:Me.set,received:r.parsedType}),tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ee(r,{code:pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ee(r,{code:pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return tt;h.status==="dirty"&&s.dirty(),d.add(h.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ei(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new Cl({...this._def,minSize:{value:t,message:$e.toString(s)}})}max(t,s){return new Cl({...this._def,maxSize:{value:t,message:$e.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Cl.create=(e,t)=>new Cl({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...dt(t)});class xc extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.function)return Ee(s,{code:pe.invalid_type,expected:Me.function,received:s.parsedType}),tt;function r(l,c){return rg({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ng(),gd].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function i(l,c){return rg({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ng(),gd].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof yd){const l=this;return wn(async function(...c){const d=new Jn([]),h=await l._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(r(c,p)),d}),u=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(u,a).catch(p=>{throw d.addIssue(i(u,p)),d})})}else{const l=this;return wn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Jn([r(c,d.error)]);const h=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(h,a);if(!u.success)throw new Jn([i(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new xc({...this._def,args:Ai.create(t).rest(ul.create())})}returns(t){return new xc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,r){return new xc({args:t||Ai.create([]).rest(ul.create()),returns:s||ul.create(),typeName:nt.ZodFunction,...dt(r)})}}class wh extends gt{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}wh.create=(e,t)=>new wh({getter:e,typeName:nt.ZodLazy,...dt(t)});class Nh extends gt{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Ee(s,{received:s.data,code:pe.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Nh.create=(e,t)=>new Nh({value:e,typeName:nt.ZodLiteral,...dt(t)});function BR(e,t){return new yo({values:e,typeName:nt.ZodEnum,...dt(t)})}class yo extends gt{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return Ee(s,{expected:Ct.joinValues(r),received:s.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return Ee(s,{received:s.data,code:pe.invalid_enum_value,options:r}),tt}return wn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return yo.create(t,{...this._def,...s})}exclude(t,s=this._def){return yo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}yo.create=BR;class Sh extends gt{_parse(t){const s=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const i=Ct.objectValues(s);return Ee(r,{expected:Ct.joinValues(i),received:r.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(Ct.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Ct.objectValues(s);return Ee(r,{received:r.data,code:pe.invalid_enum_value,options:i}),tt}return wn(t.data)}get enum(){return this._def.values}}Sh.create=(e,t)=>new Sh({values:e,typeName:nt.ZodNativeEnum,...dt(t)});class yd extends gt{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.promise&&s.common.async===!1)return Ee(s,{code:pe.invalid_type,expected:Me.promise,received:s.parsedType}),tt;const r=s.parsedType===Me.promise?s.data:Promise.resolve(s.data);return wn(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}yd.create=(e,t)=>new yd({type:e,typeName:nt.ZodPromise,...dt(t)});class Yr extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Ee(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||s.value==="dirty"?Zl(c.value):c});{if(s.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||s.value==="dirty"?Zl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nl(o))return tt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Nl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):tt);Ct.assertNever(i)}}Yr.create=(e,t,s)=>new Yr({schema:e,typeName:nt.ZodEffects,effect:t,...dt(s)});Yr.createWithPreprocess=(e,t,s)=>new Yr({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...dt(s)});class Ni extends gt{_parse(t){return this._getType(t)===Me.undefined?wn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ni.create=(e,t)=>new Ni({innerType:e,typeName:nt.ZodOptional,...dt(t)});class vo extends gt{_parse(t){return this._getType(t)===Me.null?wn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vo.create=(e,t)=>new vo({innerType:e,typeName:nt.ZodNullable,...dt(t)});class Ch extends gt{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ch.create=(e,t)=>new Ch({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...dt(t)});class kh extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}kh.create=(e,t)=>new kh({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...dt(t)});class lg extends gt{_parse(t){if(this._getType(t)!==Me.nan){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.nan,received:r.parsedType}),tt}return{status:"valid",value:t.data}}}lg.create=e=>new lg({typeName:nt.ZodNaN,...dt(e)});const PZ=Symbol("zod_brand");class Xw extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Sm extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(s.dirty(),Zl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,s){return new Sm({in:t,out:s,typeName:nt.ZodPipeline})}}class _h extends gt{_parse(t){const s=this._def.innerType._parse(t),r=i=>(Nl(i)&&(i.value=Object.freeze(i.value)),i);return fh(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}_h.create=(e,t)=>new _h({innerType:e,typeName:nt.ZodReadonly,...dt(t)});function V2(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Zw(e,t={},s){return e?xd.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=V2(t,r),c=l.fatal??s??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=V2(t,r),l=o.fatal??s??!0;i.addIssue({code:"custom",...o,fatal:l})}}):xd.create()}const EZ={object:ns.lazycreate};var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const AZ=(e,t={message:`Input not instance of ${e.name}`})=>Zw(s=>s instanceof e,t),Ae=Br.create,Bs=go.create,DZ=lg.create,MZ=xo.create,ko=gh.create,IZ=Sl.create,RZ=ig.create,FZ=xh.create,zR=yh.create,cg=xd.create,OZ=ul.create,LZ=da.create,$Z=ag.create,Jw=Wr.create,ws=ns.create,UZ=ns.strictCreate,eN=vh.create,BZ=Mx.create,zZ=bh.create,VZ=Ai.create,VR=jh.create,qZ=og.create,HZ=Cl.create,WZ=xc.create,GZ=wh.create,qR=Nh.create,kl=yo.create,KZ=Sh.create,QZ=yd.create,q2=Yr.create,YZ=Ni.create,XZ=vo.create,ZZ=Yr.createWithPreprocess,JZ=Sm.create,eJ=()=>Ae().optional(),tJ=()=>Bs().optional(),sJ=()=>ko().optional(),nJ={string:e=>Br.create({...e,coerce:!0}),number:e=>go.create({...e,coerce:!0}),boolean:e=>gh.create({...e,coerce:!0}),bigint:e=>xo.create({...e,coerce:!0}),date:e=>Sl.create({...e,coerce:!0})},rJ=tt,iJ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:PZ,DIRTY:Zl,EMPTY_PATH:oZ,INVALID:tt,NEVER:rJ,OK:wn,ParseStatus:cn,Schema:gt,ZodAny:xd,ZodArray:Wr,ZodBigInt:xo,ZodBoolean:gh,ZodBranded:Xw,ZodCatch:kh,ZodDate:Sl,ZodDefault:Ch,ZodDiscriminatedUnion:Mx,ZodEffects:Yr,ZodEnum:yo,ZodError:Jn,get ZodFirstPartyTypeKind(){return nt},ZodFunction:xc,ZodIntersection:bh,ZodIssueCode:pe,ZodLazy:wh,ZodLiteral:Nh,ZodMap:og,ZodNaN:lg,ZodNativeEnum:Sh,ZodNever:da,ZodNull:yh,ZodNullable:vo,ZodNumber:go,ZodObject:ns,ZodOptional:Ni,ZodParsedType:Me,ZodPipeline:Sm,ZodPromise:yd,ZodReadonly:_h,ZodRecord:jh,ZodSchema:gt,ZodSet:Cl,ZodString:Br,ZodSymbol:ig,ZodTransformer:Yr,ZodTuple:Ai,ZodType:gt,ZodUndefined:xh,ZodUnion:vh,ZodUnknown:ul,ZodVoid:ag,addIssueToContext:Ee,any:cg,array:Jw,bigint:MZ,boolean:ko,coerce:nJ,custom:Zw,date:IZ,datetimeRegex:UR,defaultErrorMap:gd,discriminatedUnion:BZ,effect:q2,enum:kl,function:WZ,getErrorMap:ng,getParsedType:Vi,instanceof:AZ,intersection:zZ,isAborted:ib,isAsync:fh,isDirty:ab,isValid:Nl,late:EZ,lazy:GZ,literal:qR,makeIssue:rg,map:qZ,nan:DZ,nativeEnum:KZ,never:LZ,null:zR,nullable:XZ,number:Bs,object:ws,get objectUtil(){return rb},oboolean:sJ,onumber:tJ,optional:YZ,ostring:eJ,pipeline:JZ,preprocess:ZZ,promise:QZ,quotelessJson:iZ,record:VR,set:HZ,setErrorMap:aZ,strictObject:UZ,string:Ae,symbol:RZ,transformer:q2,tuple:VZ,undefined:FZ,union:eN,unknown:OZ,get util(){return Ct},void:$Z},Symbol.toStringTag,{value:"Module"})),ss={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ps(e,t){return t.includes(e.columnType)}function aJ(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const oJ=eN([Ae(),Bs(),ko(),zR()]),lJ=eN([oJ,VR(cg()),Jw(cg())]),cJ=Zw(e=>e instanceof Buffer);function HR(e,t){const s=(t==null?void 0:t.zodInstance)??iJ,r=(t==null?void 0:t.coerce)??{};let i;return aJ(e)&&(i=e.enumValues.length?s.enum(e.enumValues):s.string()),i||(ps(e,["PgGeometry","PgPointTuple"])?i=s.tuple([s.number(),s.number()]):ps(e,["PgGeometryObject","PgPointObject"])?i=s.object({x:s.number(),y:s.number()}):ps(e,["PgHalfVector","PgVector"])?(i=s.array(s.number()),i=e.dimensions?i.length(e.dimensions):i):ps(e,["PgLine"])?i=s.tuple([s.number(),s.number(),s.number()]):ps(e,["PgLineABC"])?i=s.object({a:s.number(),b:s.number(),c:s.number()}):ps(e,["PgArray"])?(i=s.array(HR(e.baseColumn,s)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=s.array(s.any()):e.dataType==="number"?i=dJ(e,s,r):e.dataType==="bigint"?i=uJ(e,s,r):e.dataType==="boolean"?i=r===!0||r.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?i=r===!0||r.date?s.coerce.date():s.date():e.dataType==="string"?i=hJ(e,s,r):e.dataType==="json"?i=lJ:e.dataType==="custom"?i=s.any():e.dataType==="buffer"&&(i=cJ)),i||(i=s.any()),i}function dJ(e,t,s){let r=e.getSQLType().includes("unsigned"),i,a,o=!1;ps(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:ss.INT8_MIN,a=r?ss.INT8_UNSIGNED_MAX:ss.INT8_MAX,o=!0):ps(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:ss.INT16_MIN,a=r?ss.INT16_UNSIGNED_MAX:ss.INT16_MAX,o=!0):ps(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:ss.INT24_MIN,a=r?ss.INT24_UNSIGNED_MAX:ss.INT24_MAX,o=ps(e,["MySqlMediumInt","SingleStoreMediumInt"])):ps(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:ss.INT32_MIN,a=r?ss.INT32_UNSIGNED_MAX:ss.INT32_MAX,o=!0):ps(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:ss.INT48_MIN,a=r?ss.INT48_UNSIGNED_MAX:ss.INT48_MAX):ps(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||ps(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):ps(e,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=s===!0||s!=null&&s.number?t.coerce.number():t.number();return l=l.min(i).max(a),o?l.int():l}function uJ(e,t,s){const r=e.getSQLType().includes("unsigned"),i=r?0n:ss.INT64_MIN,a=r?ss.INT64_UNSIGNED_MAX:ss.INT64_MAX;return(s===!0||s!=null&&s.bigint?t.coerce.bigint():t.bigint()).min(i).max(a)}function hJ(e,t,s){if(ps(e,["PgUUID"]))return t.string().uuid();let r,i,a=!1;ps(e,["PgVarchar","SQLiteText"])?r=e.length:ps(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??ss.INT16_UNSIGNED_MAX:ps(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=ss.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=ss.INT24_UNSIGNED_MAX:e.textType==="text"?r=ss.INT16_UNSIGNED_MAX:r=ss.INT8_UNSIGNED_MAX),ps(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),ps(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let o=s===!0||s!=null&&s.string?t.coerce.string():t.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function WR(e){return a3(e)?IX(e):RX(e)}function GR(e,t,s,r){const i={};for(const[a,o]of Object.entries(e)){if(!Ks(o,pd)&&!Ks(o,Is)&&!Ks(o,Is.Aliased)&&typeof o=="object"){const u=a3(o)||MX(o)?WR(o):o;i[a]=GR(u,t[a]??{},s,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Ks(o,pd)?o:void 0,d=c?HR(c,r):cg(),h=typeof l=="function"?l(d):d;s.never(c)||(i[a]=h,c&&(s.nullable(c)&&(i[a]=i[a].nullable()),s.optional(c)&&(i[a]=i[a].optional())))}return ws(i)}const mJ={never:e=>{var t,s;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((s=e==null?void 0:e.generatedIdentity)==null?void 0:s.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Se=(e,t)=>{const s=WR(e);return GR(s,{},mJ)},pJ=je("bank_accounts",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),accountName:ke("account_name",{length:255}).notNull(),accountType:ke("account_type",{length:50}).notNull(),bankName:ke("bank_name",{length:255}).notNull(),accountNumber:ke("account_number",{length:255}).notNull(),routingNumber:ke("routing_number",{length:255}),balance:on("balance",{precision:12,scale:2}).default("0"),isActive:Ne("is_active").default(!0),plaidAccountId:ke("plaid_account_id",{length:255}),plaidAccessToken:R("plaid_access_token"),lastSynced:W("last_synced").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),fJ=je("bill_payments",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billId:z("bill_id").notNull(),bankAccountId:z("bank_account_id").notNull(),payeeWebsite:ke("payee_website",{length:255}).notNull(),payeeAccountNumber:ke("payee_account_number",{length:255}).notNull(),payeeLoginCredentials:R("payee_login_credentials"),isAutoPay:Ne("is_auto_pay").default(!1),paymentAmount:on("payment_amount",{precision:10,scale:2}).notNull(),paymentDate:z("payment_date").notNull(),isActive:Ne("is_active").default(!0),lastPaymentDate:W("last_payment_date"),nextPaymentDate:W("next_payment_date").notNull(),status:ke("status",{length:50}).default("active"),failureReason:R("failure_reason"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),gJ=je("payment_transactions",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billPaymentId:z("bill_payment_id").notNull(),bankAccountId:z("bank_account_id").notNull(),amount:on("amount",{precision:10,scale:2}).notNull(),status:ke("status",{length:50}).notNull(),transactionId:ke("transaction_id",{length:255}),confirmationNumber:ke("confirmation_number",{length:255}),errorMessage:R("error_message"),initiatedAt:W("initiated_at").defaultNow(),completedAt:W("completed_at"),metadata:Dx("metadata")}),xJ=je("payment_limits",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),limitType:ke("limit_type",{length:50}).notNull(),amount:on("amount",{precision:10,scale:2}).notNull(),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("balance_history",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),bankAccountId:z("bank_account_id").notNull(),balance:on("balance",{precision:12,scale:2}).notNull(),recordedAt:W("recorded_at").defaultNow()});const yJ=je("payee_credentials",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),payeeName:ke("payee_name",{length:255}).notNull(),website:ke("website",{length:255}).notNull(),loginUsername:R("login_username"),loginPassword:R("login_password"),accountNumber:R("account_number"),additionalFields:Dx("additional_fields"),isActive:Ne("is_active").default(!0),lastVerified:W("last_verified"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se(pJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastSynced:!0});Se(fJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastPaymentDate:!0});Se(gJ).omit({id:!0,initiatedAt:!0,completedAt:!0});Se(xJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(yJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerified:!0});const Je=je("users",{id:_e("id").primaryKey(),username:R("username").notNull().unique(),password:R("password").notNull(),name:R("name").notNull(),email:R("email").unique(),accountType:R("account_type").notNull().default("user"),subscriptionTier:R("subscription_tier").notNull().default("free"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),subscriptionStatus:R("subscription_status").default("inactive"),subscriptionExpiresAt:W("subscription_expires_at"),streakDays:z("streak_days").default(0),createdBy:z("created_by"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),vJ=je("caregiver_invitations",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userEmail:R("user_email"),userName:R("user_name").notNull(),userAge:z("user_age"),invitationCode:R("invitation_code").notNull().unique(),status:R("status").notNull().default("pending"),relationship:R("relationship").notNull(),permissionsGranted:xi("permissions_granted"),expiresAt:W("expires_at").notNull(),acceptedAt:W("accepted_at"),acceptedBy:z("accepted_by"),createdAt:W("created_at").defaultNow()}),bJ=je("daily_tasks",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),frequency:R("frequency").notNull().default("daily"),estimatedMinutes:z("estimated_minutes").notNull(),pointValue:z("point_value").default(0),scheduledTime:fd("scheduled_time"),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),dueDate:W("due_date"),lastCompleted:W("last_completed"),lastReminderSent:W("last_reminder_sent"),lastOverdueReminder:W("last_overdue_reminder")}),KR=je("bills",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),amount:Pi("amount").notNull(),dueDate:z("due_date").notNull(),isRecurring:Ne("is_recurring").default(!0),isPaid:Ne("is_paid").default(!1),category:R("category").notNull(),payeeWebsite:R("payee_website"),payeeAccountNumber:R("payee_account_number")}),jJ=je("feedback",{id:_e("id").primaryKey(),userId:z("user_id"),rating:z("rating").notNull(),category:R("category").notNull(),message:R("message").notNull(),page:R("page"),userAgent:R("user_agent"),isResolved:Ne("is_resolved").default(!1),adminNotes:R("admin_notes"),createdAt:W("created_at").defaultNow()}),wJ=je("bank_accounts",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),accountName:R("account_name").notNull(),bankName:R("bank_name").notNull(),accountType:R("account_type").notNull(),accountNickname:R("account_nickname"),bankWebsite:R("bank_website"),lastFour:R("last_four"),balance:Pi("balance").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),NJ=je("savings_goals",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),targetAmount:Pi("target_amount").notNull(),currentAmount:Pi("current_amount").default(0),targetDate:W("target_date"),category:R("category").notNull(),priority:R("priority").notNull().default("medium"),isActive:Ne("is_active").default(!0),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),SJ=je("savings_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),savingsGoalId:z("savings_goal_id").notNull(),amount:Pi("amount").notNull(),transactionType:R("transaction_type").notNull(),description:R("description"),transactionDate:W("transaction_date").defaultNow(),createdAt:W("created_at").defaultNow()}),CJ=je("mood_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mood:z("mood").notNull(),notes:R("notes"),entryDate:W("entry_date").defaultNow()}),kJ=je("achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),type:R("type").notNull(),title:R("title").notNull(),description:R("description").notNull(),icon:R("icon").notNull(),earnedAt:W("earned_at").defaultNow()}),_J=je("user_caregiver_connections",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isEmergencyContact:Ne("is_emergency_contact").default(!1),connectionStatus:R("connection_status").notNull().default("active"),isPrimaryCaregiver:Ne("is_primary_caregiver").default(!1),canModifySettings:Ne("can_modify_settings").default(!0),canAccessLocation:Ne("can_access_location").default(!0),canReceiveAlerts:Ne("can_receive_alerts").default(!0),connectedAt:W("connected_at").defaultNow(),notes:R("notes")}),TJ=je("care_relationships",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userId:z("user_id").notNull(),relationship:R("relationship").notNull(),isPrimary:Ne("is_primary").default(!1),isActive:Ne("is_active").default(!0),establishedAt:W("established_at").defaultNow(),establishedVia:R("established_via").default("invitation")}),PJ=je("caregiver_permissions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),permissionType:R("permission_type").notNull(),isGranted:Ne("is_granted").default(!0),isLocked:Ne("is_locked").default(!1),grantedBy:z("granted_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),EJ=je("locked_user_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),settingKey:R("setting_key").notNull(),settingValue:R("setting_value").notNull(),isLocked:Ne("is_locked").default(!0),lockedBy:z("locked_by").notNull(),lockReason:R("lock_reason"),canUserView:Ne("can_user_view").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),AJ=je("invitation_codes",{id:_e("id").primaryKey(),code:R("code").notNull().unique(),createdByUserId:z("created_by_user_id").notNull(),targetUserType:R("target_user_type").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isUsed:Ne("is_used").default(!1),usedByUserId:z("used_by_user_id"),expiresAt:W("expires_at").notNull(),createdAt:W("created_at").defaultNow(),usedAt:W("used_at")}),DJ=je("caregivers",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),relationship:R("relationship").notNull(),email:R("email"),isActive:Ne("is_active").default(!0)}),QR=je("messages",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),content:R("content").notNull(),fromUser:Ne("from_user").notNull(),sentAt:W("sent_at").defaultNow()}),MJ=je("budget_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),category:R("category").notNull(),amount:Pi("amount").notNull(),type:R("type").notNull(),description:R("description"),savingsGoalId:z("savings_goal_id"),isRecurring:Ne("is_recurring").default(!1),recurringFrequency:R("recurring_frequency"),entryDate:W("entry_date").defaultNow(),createdAt:W("created_at").defaultNow()}),IJ=je("budget_categories",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),type:R("type").notNull(),budgetedAmount:Pi("budgeted_amount").default(0),color:R("color").default("#6B7280"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),RJ=je("appointments",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),appointmentDate:R("appointment_date").notNull(),location:R("location"),provider:R("provider"),isCompleted:Ne("is_completed").default(!1),reminderSet:Ne("reminder_set").default(!1),createdAt:W("created_at").defaultNow()}),FJ=je("meal_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mealType:R("meal_type").notNull(),mealName:R("meal_name").notNull(),plannedDate:R("planned_date").notNull(),isCompleted:Ne("is_completed").default(!1),recipe:R("recipe"),cookingTime:z("cooking_time"),createdAt:W("created_at").defaultNow()}),YR=je("grocery_stores",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:ke("name").notNull(),website:ke("website"),onlineOrderingUrl:ke("online_ordering_url"),address:R("address"),phoneNumber:ke("phone_number"),isPreferred:Ne("is_preferred").default(!1),deliveryAvailable:Ne("delivery_available").default(!1),pickupAvailable:Ne("pickup_available").default(!1),createdAt:W("created_at").defaultNow()}),OJ=je("shopping_lists",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),storeId:z("store_id").references(()=>YR.id),itemName:R("item_name").notNull(),category:R("category").notNull(),quantity:R("quantity"),isPurchased:Ne("is_purchased").default(!1),estimatedCost:Pi("estimated_cost"),actualCost:Pi("actual_cost"),addedDate:W("added_date").defaultNow(),purchasedDate:W("purchased_date")}),LJ=je("emergency_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name").notNull(),resourceType:ke("resource_type").notNull(),phoneNumber:ke("phone_number"),address:R("address"),description:R("description"),isAvailable24_7:Ne("is_available_24_7").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("audit_logs",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id),action:ke("action",{length:100}).notNull(),resource:ke("resource",{length:100}).notNull(),resourceId:ke("resource_id",{length:100}),ipAddress:ke("ip_address",{length:45}),userAgent:R("user_agent"),success:Ne("success").notNull(),errorMessage:R("error_message"),metadata:R("metadata"),timestamp:W("timestamp").defaultNow().notNull()});const $J=je("user_privacy_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),dataProcessingConsent:Ne("data_processing_consent").default(!1),analyticsConsent:Ne("analytics_consent").default(!1),marketingConsent:Ne("marketing_consent").default(!1),caregiverDataSharing:Ne("caregiver_data_sharing").default(!0),healthDataSharing:Ne("health_data_sharing").default(!1),dataRetentionPeriod:z("data_retention_period").default(365),consentDate:W("consent_date").defaultNow(),lastUpdated:W("last_updated").defaultNow()}),UJ=je("data_access_requests",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),requestType:ke("request_type",{length:50}).notNull(),status:ke("status",{length:20}).default("pending"),requestData:R("request_data"),responseData:R("response_data"),requestedAt:W("requested_at").defaultNow(),processedAt:W("processed_at"),expiresAt:W("expires_at")}),Ix=je("pharmacies",{id:_e("id").primaryKey(),name:ke("name").notNull(),type:ke("type").notNull(),address:R("address"),phoneNumber:ke("phone_number"),hours:R("hours"),website:ke("website"),refillUrl:ke("refill_url"),apiEndpoint:ke("api_endpoint"),isActive:Ne("is_active").default(!0),isCustom:Ne("is_custom").default(!1),createdBy:z("created_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),BJ=je("user_pharmacies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Ix.id),isPrimary:Ne("is_primary").default(!1),accountNumber:ke("account_number"),membershipId:ke("membership_id"),preferredPickupTime:ke("preferred_pickup_time"),hasInsurance:Ne("has_insurance").default(!0),insuranceProvider:ke("insurance_provider"),insuranceGroupNumber:ke("insurance_group_number"),insuranceMemberId:ke("insurance_member_id"),autoRefillEnabled:Ne("auto_refill_enabled").default(!1),textNotifications:Ne("text_notifications").default(!0),emailNotifications:Ne("email_notifications").default(!0),createdAt:W("created_at").defaultNow()}),XR=je("medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),prescriptionNumber:ke("prescription_number"),medicationName:ke("medication_name").notNull(),dosage:ke("dosage"),quantity:z("quantity"),refillsRemaining:z("refills_remaining").default(0),prescribedBy:ke("prescribed_by"),pharmacyId:z("pharmacy_id").references(()=>Ix.id),lastFilled:W("last_filled"),nextRefillDate:W("next_refill_date"),instructions:R("instructions"),pillColor:ke("pill_color"),pillShape:ke("pill_shape"),pillSize:ke("pill_size"),pillMarkings:R("pill_markings"),pillDescription:R("pill_description"),isActive:Ne("is_active").default(!0),reminderEnabled:Ne("reminder_enabled").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),zJ=je("refill_orders",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationId:z("medication_id").notNull().references(()=>XR.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Ix.id),orderNumber:ke("order_number"),status:ke("status").notNull().default("pending"),orderDate:W("order_date").defaultNow(),readyDate:W("ready_date"),pickupMethod:ke("pickup_method").default("in_store"),trackingNumber:ke("tracking_number"),totalCost:on("total_cost"),insuranceCovered:on("insurance_covered"),copay:on("copay"),notes:R("notes"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),VJ=je("allergies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),allergen:ke("allergen",{length:255}).notNull(),severity:ke("severity",{length:50}).notNull(),reaction:R("reaction"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),qJ=je("medical_conditions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),condition:ke("condition",{length:255}).notNull(),diagnosedDate:W("diagnosed_date"),status:ke("status",{length:50}).notNull().default("active"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),HJ=je("adverse_medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationName:ke("medication_name",{length:255}).notNull(),reaction:R("reaction").notNull(),severity:ke("severity",{length:50}).notNull(),reactionDate:W("reaction_date"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),WJ=je("emergency_contacts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),relationship:ke("relationship",{length:100}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),isEmergencyContact:Ne("is_emergency_contact").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),GJ=je("primary_care_providers",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),specialty:ke("specialty",{length:100}).notNull(),practiceName:ke("practice_name",{length:255}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),KJ=je("symptom_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),symptomName:ke("symptom_name",{length:255}).notNull(),severity:z("severity").notNull(),startTime:W("start_time").notNull(),endTime:W("end_time"),triggers:R("triggers"),location:ke("location",{length:255}),description:R("description"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),QJ=je("personal_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:ke("title",{length:200}).notNull(),url:R("url").notNull(),description:R("description"),category:ke("category",{length:50}).notNull(),tags:R("tags"),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),createdAt:W("created_at").defaultNow(),lastAccessedAt:W("last_accessed_at")}),YJ=je("bus_schedules",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:ke("route_name",{length:100}).notNull(),routeNumber:ke("route_number",{length:20}),stopName:ke("stop_name",{length:200}).notNull(),stopAddress:R("stop_address"),direction:ke("direction",{length:50}),departureTime:ke("departure_time",{length:10}).notNull(),daysOfWeek:R("days_of_week").notNull(),isFrequent:Ne("is_frequent").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),XJ=je("emergency_treatment_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planName:ke("plan_name",{length:200}).notNull(),conditionType:ke("condition_type",{length:100}).notNull(),symptoms:R("symptoms").notNull(),immediateActions:R("immediate_actions").notNull(),medications:R("medications"),emergencyContacts:R("emergency_contacts"),hospitalPreference:ke("hospital_preference",{length:200}),importantNotes:R("important_notes"),isActive:Ne("is_active").default(!0),lastReviewed:W("last_reviewed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),ZR=je("geofences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),latitude:on("latitude",{precision:10,scale:8}).notNull(),longitude:on("longitude",{precision:11,scale:8}).notNull(),radius:z("radius").notNull(),isActive:Ne("is_active").default(!0),notifyOnExit:Ne("notify_on_exit").default(!0),notifyOnEnter:Ne("notify_on_enter").default(!1),caregiverIds:z("caregiver_ids").array(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),ZJ=je("geofence_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),geofenceId:z("geofence_id").notNull().references(()=>ZR.id),eventType:ke("event_type",{length:50}).notNull(),latitude:on("latitude",{precision:10,scale:8}).notNull(),longitude:on("longitude",{precision:11,scale:8}).notNull(),timestamp:W("timestamp").defaultNow(),notificationSent:Ne("notification_sent").default(!1)}),JJ=Se(Je).omit({id:!0,streakDays:!0,createdAt:!0});ws({username:Ae().min(1,"Username is required"),password:Ae().min(1,"Password is required")});JJ.extend({confirmPassword:Ae().min(1,"Please confirm your password"),accountType:kl(["user","caregiver"]).default("user")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});Se(_J).omit({id:!0,connectedAt:!0});Se(AJ).omit({id:!0,createdAt:!0,usedAt:!0,isUsed:!0,usedByUserId:!0});Se(bJ).omit({id:!0,completedAt:!0,lastCompleted:!0,lastReminderSent:!0,lastOverdueReminder:!0});Se(KR).omit({id:!0});Se(CJ).omit({id:!0,entryDate:!0});Se(kJ).omit({id:!0,earnedAt:!0});Se(DJ).omit({id:!0});Se(QR).omit({id:!0,sentAt:!0});Se(MJ).omit({id:!0,entryDate:!0,createdAt:!0});const eee=Se(RJ).omit({id:!0,createdAt:!0}),tee=Se(FJ).omit({id:!0,createdAt:!0});Se(YR).omit({id:!0,createdAt:!0});const see=Se(OJ).omit({id:!0,addedDate:!0,purchasedDate:!0}),nee=Se(LJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se($J).omit({id:!0,consentDate:!0,lastUpdated:!0});Se(UJ).omit({id:!0,requestedAt:!0,processedAt:!0,expiresAt:!0});Se(Ix).omit({id:!0,createdAt:!0,updatedAt:!0});Se(BJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(XR).omit({id:!0,createdAt:!0,updatedAt:!0});Se(zJ).omit({id:!0,orderDate:!0,createdAt:!0,updatedAt:!0});Se(VJ).omit({id:!0,createdAt:!0});Se(qJ).omit({id:!0,createdAt:!0});Se(HJ).omit({id:!0,createdAt:!0});Se(WJ).omit({id:!0,createdAt:!0});Se(GJ).omit({id:!0,createdAt:!0});const H2=Se(KJ).omit({id:!0,userId:!0,createdAt:!0}),ree=Se(QJ).omit({id:!0,accessCount:!0,createdAt:!0,lastAccessedAt:!0});Se(YJ).omit({id:!0,createdAt:!0});Se(XJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastReviewed:!0});Se(ZR).omit({id:!0,createdAt:!0,updatedAt:!0});Se(ZJ).omit({id:!0,timestamp:!0});Se(jJ);Se(wJ).omit({id:!0,accountName:!0,balance:!0,createdAt:!0,updatedAt:!0});Se(NJ).omit({id:!0,currentAmount:!0,isCompleted:!0,completedAt:!0,createdAt:!0,updatedAt:!0});Se(SJ).omit({id:!0,createdAt:!0});Se(IJ).omit({id:!0,createdAt:!0,updatedAt:!0});const iee=je("notifications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),type:R("type").notNull(),title:R("title").notNull(),message:R("message").notNull(),isRead:Ne("is_read").default(!1),scheduledFor:W("scheduled_for"),sentAt:W("sent_at"),relatedId:z("related_id"),priority:R("priority").default("normal"),createdAt:W("created_at").defaultNow()}),aee=je("user_preferences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),notificationSettings:xi("notification_settings").default({}),reminderTiming:xi("reminder_timing").default({}),themeSettings:xi("theme_settings").default({}),accessibilitySettings:xi("accessibility_settings").default({}),behaviorPatterns:xi("behavior_patterns").default({}),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),oee=je("payment_analytics",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id,{onDelete:"cascade"}).notNull(),eventType:R("event_type").notNull(),paymentMethod:R("payment_method"),billId:z("bill_id").references(()=>KR.id,{onDelete:"cascade"}),plaidApiCall:R("plaid_api_call"),estimatedCost:on("estimated_cost",{precision:10,scale:4}),metadata:Dx("metadata"),createdAt:W("created_at").defaultNow().notNull()});Se(oee).omit({id:!0,createdAt:!0});const lee=je("user_achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),achievementType:R("achievement_type").notNull(),title:R("title").notNull(),description:R("description").notNull(),iconName:R("icon_name").notNull(),earnedAt:W("earned_at").defaultNow(),category:R("category").notNull(),points:z("points").default(0),level:z("level").default(1)}),cee=je("streak_tracking",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),streakType:R("streak_type").notNull(),currentStreak:z("current_streak").default(0),longestStreak:z("longest_streak").default(0),lastActivityDate:Ax("last_activity_date"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),dee=je("voice_interactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),command:R("command").notNull(),transcript:R("transcript").notNull(),action:R("action").notNull(),success:Ne("success").default(!0),createdAt:W("created_at").defaultNow()}),uee=je("quick_responses",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),messageTemplate:R("message_template").notNull(),category:R("category").notNull(),useCount:z("use_count").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),hee=je("message_reactions",{id:_e("id").primaryKey(),messageId:z("message_id").notNull().references(()=>QR.id),userId:z("user_id").notNull().references(()=>Je.id),emoji:R("emoji").notNull(),createdAt:W("created_at").defaultNow()}),mee=je("calendar_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description"),startDate:W("start_date").notNull(),endDate:W("end_date"),allDay:Ne("all_day").default(!1),category:R("category").default("personal"),color:R("color").default("#3b82f6"),location:R("location"),isRecurring:Ne("is_recurring").default(!1),recurrenceRule:R("recurrence_rule"),reminderMinutes:z("reminder_minutes"),isCompleted:Ne("is_completed").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),pee=je("activity_patterns",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),activityType:R("activity_type").notNull(),timeOfDay:fd("time_of_day"),dayOfWeek:z("day_of_week"),frequency:z("frequency").default(1),lastUpdated:W("last_updated").defaultNow()}),Cm=je("academic_classes",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),className:R("class_name").notNull(),instructor:R("instructor"),room:R("room"),building:R("building"),dayOfWeek:z("day_of_week").notNull(),startTime:fd("start_time").notNull(),endTime:fd("end_time").notNull(),semester:R("semester").notNull(),credits:z("credits"),isActive:Ne("is_active").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),fee=je("study_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),subject:R("subject").notNull(),duration:z("duration").notNull(),technique:R("technique"),location:R("location"),effectiveness:z("effectiveness"),notes:R("notes"),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at")}),gee=je("assignments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),title:R("title").notNull(),description:R("description"),type:R("type").notNull(),dueDate:W("due_date").notNull(),estimatedHours:z("estimated_hours"),priority:R("priority").default("medium"),status:R("status").default("not_started"),grade:R("grade"),submittedAt:W("submitted_at"),createdAt:W("created_at").defaultNow()}),xee=je("campus_locations",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),building:R("building"),floor:R("floor"),description:R("description"),category:R("category").notNull().default("academic"),createdAt:W("created_at").defaultNow()}),yee=je("campus_transport",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:R("route_name").notNull(),fromStop:R("from_stop").notNull(),toStop:R("to_stop"),departureTime:R("departure_time"),estimatedDuration:z("estimated_duration").default(15),createdAt:W("created_at").defaultNow()}),vee=je("study_groups",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),groupName:R("group_name").notNull(),meetingTime:W("meeting_time"),location:R("location"),members:R("members").array(),topics:R("topics").array(),isRecurring:Ne("is_recurring").default(!1),recurringPattern:R("recurring_pattern"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),bee=je("academic_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),title:R("title").notNull(),type:R("type").notNull(),url:R("url"),description:R("description"),rating:z("rating"),tags:R("tags").array(),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),lastAccessed:W("last_accessed"),createdAt:W("created_at").defaultNow()}),jee=je("transition_skills",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),description:R("description"),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),practiceActivities:R("practice_activities").array(),milestones:xi("milestones").default("[]"),lastPracticed:W("last_practiced"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),tN=je("task_templates",{id:_e("id").primaryKey(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),difficulty:R("difficulty").notNull().default("beginner"),estimatedMinutes:z("estimated_minutes").notNull(),icon:R("icon").default("CheckSquare"),color:R("color").default("blue"),isPublic:Ne("is_public").default(!0),createdBy:z("created_by"),createdAt:W("created_at").defaultNow()}),wee=je("task_steps",{id:_e("id").primaryKey(),templateId:z("template_id").notNull().references(()=>tN.id),stepNumber:z("step_number").notNull(),title:R("title").notNull(),description:R("description").notNull(),visualAid:R("visual_aid"),estimatedMinutes:z("estimated_minutes").default(1),tips:R("tips"),safetyNotes:R("safety_notes")}),Nee=je("user_task_instances",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),templateId:z("template_id").notNull().references(()=>tN.id),currentStep:z("current_step").default(1),isCompleted:Ne("is_completed").default(!1),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at"),notes:R("notes"),difficulty:R("difficulty").notNull(),stepProgress:xi("step_progress").default("{}")}),See=je("skill_assessments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),assessmentDate:W("assessment_date").defaultNow(),assessedBy:R("assessed_by"),notes:R("notes"),recommendedActivities:R("recommended_activities").array(),nextAssessment:W("next_assessment")}),Cee=je("visual_routines",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routineName:R("routine_name").notNull(),routineType:R("routine_type").notNull(),isActive:Ne("is_active").default(!0),estimatedMinutes:z("estimated_minutes"),reminderTime:fd("reminder_time"),steps:xi("steps").notNull().default("[]"),completionCount:z("completion_count").default(0),lastCompleted:W("last_completed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Fd=je("wearable_devices",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),type:R("type").notNull(),brand:R("brand").notNull(),model:R("model").notNull(),deviceId:R("device_id").unique(),isConnected:Ne("is_connected").default(!1),lastSync:W("last_sync"),batteryLevel:z("battery_level"),firmwareVersion:R("firmware_version"),features:R("features").array(),syncFrequency:R("sync_frequency").default("automatic"),isActive:Ne("is_active").default(!0),notes:R("notes"),pairedAt:W("paired_at").defaultNow()}),kee=je("health_metrics",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),metricType:R("metric_type").notNull(),value:on("value",{precision:10,scale:2}).notNull(),unit:R("unit").notNull(),recordedAt:W("recorded_at").notNull(),context:R("context"),accuracy:R("accuracy").default("good"),source:R("source").default("automatic"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),_ee=je("activity_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),activityType:R("activity_type").notNull(),duration:z("duration_minutes").notNull(),distance:on("distance",{precision:8,scale:2}),caloriesBurned:z("calories_burned"),averageHeartRate:z("average_heart_rate"),maxHeartRate:z("max_heart_rate"),steps:z("steps"),startedAt:W("started_at").notNull(),completedAt:W("completed_at"),location:R("location"),intensity:R("intensity"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Tee=je("sleep_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),sleepDate:Ax("sleep_date").notNull(),bedtime:W("bedtime"),sleepTime:W("sleep_time"),wakeTime:W("wake_time"),totalSleepDuration:z("total_sleep_duration"),deepSleepDuration:z("deep_sleep_duration"),lightSleepDuration:z("light_sleep_duration"),remSleepDuration:z("rem_sleep_duration"),awakeDuration:z("awake_duration"),sleepEfficiency:on("sleep_efficiency",{precision:5,scale:2}),sleepScore:z("sleep_score"),heartRateVariability:z("heart_rate_variability"),restingHeartRate:z("resting_heart_rate"),quality:R("quality"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Pee=je("wearable_alerts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),alertType:R("alert_type").notNull(),title:R("title").notNull(),message:R("message").notNull(),priority:R("priority").default("medium"),isRead:Ne("is_read").default(!1),isAcknowledged:Ne("is_acknowledged").default(!1),triggerValue:R("trigger_value"),actionTaken:R("action_taken"),triggeredAt:W("triggered_at").notNull(),acknowledgedAt:W("acknowledged_at"),resolvedAt:W("resolved_at")}),Eee=je("wearable_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),settingName:R("setting_name").notNull(),settingValue:R("setting_value").notNull(),isEnabled:Ne("is_enabled").default(!0),lastModified:W("last_modified").defaultNow(),modifiedBy:R("modified_by")});Se(iee).omit({id:!0,sentAt:!0,createdAt:!0});Se(aee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(lee).omit({id:!0,earnedAt:!0});Se(cee).omit({id:!0,createdAt:!0});Se(dee).omit({id:!0,createdAt:!0});Se(uee).omit({id:!0,useCount:!0,createdAt:!0});Se(hee).omit({id:!0,createdAt:!0});Se(pee).omit({id:!0,lastUpdated:!0});Se(mee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(Cm).omit({id:!0,createdAt:!0});Se(fee).omit({id:!0,startedAt:!0});Se(gee).omit({id:!0,createdAt:!0});Se(xee).omit({id:!0,createdAt:!0});Se(yee).omit({id:!0});Se(vee).omit({id:!0,createdAt:!0});Se(bee).omit({id:!0,accessCount:!0,createdAt:!0});Se(jee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(PJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(EJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(vJ).omit({id:!0,createdAt:!0});Se(TJ).omit({id:!0,establishedAt:!0});const Aee=je("personal_documents",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),category:R("category").notNull(),description:R("description"),documentType:R("document_type").notNull(),content:R("content"),imageUrl:R("image_url"),fileName:R("file_name"),linkUrl:R("link_url"),tags:R("tags").array(),isImportant:Ne("is_important").default(!1),expirationDate:Ax("expiration_date"),reminderDays:z("reminder_days"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Dee=Se(Aee).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}),JR=je("rewards",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),caregiverId:z("caregiver_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description").notNull(),pointsRequired:z("points_required").notNull(),category:R("category").notNull(),rewardType:R("reward_type").notNull(),value:R("value"),isActive:Ne("is_active").default(!0),maxRedemptions:z("max_redemptions"),currentRedemptions:z("current_redemptions").default(0),expiresAt:W("expires_at"),iconName:R("icon_name").default("gift"),color:R("color").default("#3b82f6"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Mee=je("reward_redemptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),rewardId:z("reward_id").notNull().references(()=>JR.id),pointsSpent:z("points_spent").notNull(),status:R("status").default("pending"),redeemedAt:W("redeemed_at").defaultNow(),fulfilledAt:W("fulfilled_at"),notes:R("notes")}),Iee=je("points_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),points:z("points").notNull(),transactionType:R("transaction_type").notNull(),source:R("source").notNull(),description:R("description").notNull(),awardedBy:z("awarded_by").references(()=>Je.id),createdAt:W("created_at").defaultNow()}),Ree=je("user_points_balance",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),totalPoints:z("total_points").default(0),availablePoints:z("available_points").default(0),lifetimeEarned:z("lifetime_earned").default(0),lifetimeSpent:z("lifetime_spent").default(0),updatedAt:W("updated_at").defaultNow()});Se(tN).omit({id:!0,createdAt:!0});Se(wee).omit({id:!0});Se(Nee).omit({id:!0,startedAt:!0});Se(See).omit({id:!0,assessmentDate:!0});Se(Cee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(Fd).omit({id:!0,pairedAt:!0});Se(kee).omit({id:!0,syncedAt:!0});Se(_ee).omit({id:!0,syncedAt:!0});Se(Tee).omit({id:!0,syncedAt:!0});Se(Pee).omit({id:!0});Se(Eee).omit({id:!0,lastModified:!0});const sN=je("subscriptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planType:R("plan_type").notNull(),billingCycle:R("billing_cycle").default("monthly"),status:R("status").notNull().default("active"),currentPeriodStart:W("current_period_start").notNull(),currentPeriodEnd:W("current_period_end").notNull(),cancelAtPeriodEnd:Ne("cancel_at_period_end").default(!1),trialStart:W("trial_start"),trialEnd:W("trial_end"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),priceId:R("price_id"),amount:z("amount"),currency:R("currency").default("usd"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Fee=je("subscription_usage",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>sN.id),featureName:R("feature_name").notNull(),usageCount:z("usage_count").default(0),usageLimit:z("usage_limit"),resetPeriod:R("reset_period").default("monthly"),lastReset:W("last_reset").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Oee=je("payment_history",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>sN.id),stripePaymentIntentId:R("stripe_payment_intent_id"),amount:z("amount").notNull(),currency:R("currency").default("usd"),status:R("status").notNull(),paymentMethod:R("payment_method"),description:R("description"),failureReason:R("failure_reason"),paidAt:W("paid_at"),createdAt:W("created_at").defaultNow()});Se(sN);Se(Fee);Se(Oee);Se(JR).omit({id:!0,currentRedemptions:!0,createdAt:!0,updatedAt:!0});Se(Mee).omit({id:!0,redeemedAt:!0});Se(Iee).omit({id:!0,createdAt:!0});Se(Ree).omit({id:!0,updatedAt:!0});function Lee(){const[e,t]=v.useState(!1),s=Jt(),{toast:r}=ut(),{data:i,isLoading:a}=xe({queryKey:["/api/appointments"]}),{data:o}=xe({queryKey:["/api/appointments/upcoming"]}),l=Ut({resolver:zt(eee.omit({userId:!0})),defaultValues:{title:"",description:"",appointmentDate:"",location:"",provider:"",isCompleted:!1,reminderSet:!1}}),c=Ce({mutationFn:async y=>ve("POST","/api/appointments",y),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/appointments"]}),s.invalidateQueries({queryKey:["/api/appointments/upcoming"]}),t(!1),l.reset(),r({title:"Success!",description:"Appointment scheduled successfully"})},onError:y=>{console.error("Failed to create appointment:",y),r({title:"Error",description:"Failed to create appointment. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:y,isCompleted:g})=>ve("PATCH",`/api/appointments/${y}/complete`,{isCompleted:g}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/appointments"]}),s.invalidateQueries({queryKey:["/api/appointments/upcoming"]})}}),h=y=>{if(!y.title||!y.appointmentDate){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}c.mutate(y)},u=y=>{const g=new Date(y),f=new Date,b=new Date(f.getFullYear(),f.getMonth(),f.getDate()),x=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=Math.floor((x.getTime()-b.getTime())/(1e3*60*60*24));let S="";w===0?S="Today":w===1?S="Tomorrow":w===-1?S="Yesterday":w>1?S=`In ${w} days`:S=`${Math.abs(w)} days ago`;const N=g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),C=g.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});return{dayLabel:S,timeStr:N,dateStr:C}},m=y=>{if(y.isCompleted)return"completed";const g=new Date(y.appointmentDate),f=new Date;return g<f?"missed":Math.floor((g.getTime()-f.getTime())/(1e3*60*60))<=24?"upcoming":"scheduled"},p=y=>{switch(y){case"completed":return"bg-green-100 text-green-800";case"missed":return"bg-red-100 text-red-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},j=y=>{switch(y){case"completed":return"Completed";case"missed":return"Missed";case"upcoming":return"Soon";default:return"Scheduled"}};return a?n.jsxs($,{className:"h-full",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Vt,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Appointments"})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((y,g)=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},g))})})]}):n.jsxs($,{className:"h-full",children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Vt,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Appointments"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-1"}),"Add"]})}),n.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Schedule New Appointment"})}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] px-1",children:n.jsx(Bt,{...l,children:n.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-4 pb-4",children:[n.jsx(Z,{control:l.control,name:"title",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Appointment Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Doctor visit, dentist checkup...",...y})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"provider",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Provider Type"}),n.jsxs(Ge,{onValueChange:y.onChange,defaultValue:y.value||"",children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select provider type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"dentist",children:"Dentist"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"specialist",children:"Specialist"}),n.jsx(B,{value:"counselor",children:"Counselor"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"appointmentDate",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Date & Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",...y})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"location",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Clinic name, address...",...y,value:y.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"description",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Any additional notes...",...y,value:y.value||""})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{type:"submit",disabled:c.isPending,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:c.isPending?"Scheduling...":"Schedule Appointment"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})})]})]})]})}),n.jsxs(H,{className:"space-y-4",children:[o&&o.length>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(js,{className:"w-4 h-4 text-yellow-600"}),n.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[o.length," upcoming appointment",o.length>1?"s":""]})]})}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i&&i.length>0?i.sort((y,g)=>new Date(y.appointmentDate).getTime()-new Date(g.appointmentDate).getTime()).map(y=>{const{dayLabel:g,timeStr:f,dateStr:b}=u(y.appointmentDate),x=m(y);return n.jsx("div",{className:"border rounded-lg p-3 space-y-2 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:y.title}),n.jsx(me,{className:p(x),children:j(x)})]}),n.jsxs("div",{className:"mt-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Vt,{className:"w-3 h-3"}),n.jsxs("span",{children:[g," • ",b]})]}),n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(js,{className:"w-3 h-3"}),n.jsx("span",{children:f})]})]}),y.provider&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(Ff,{className:"w-3 h-3"}),n.jsx("span",{className:"capitalize",children:y.provider})]}),y.location&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(Xs,{className:"w-3 h-3"}),n.jsx("span",{children:y.location})]}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description})]})]}),!y.isCompleted&&x!=="missed"&&n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>d.mutate({id:y.id,isCompleted:!0}),disabled:d.isPending,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:n.jsx(dc,{className:"w-4 h-4"})})]})},y.id)}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Vt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No appointments scheduled yet"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add" to schedule your first appointment'})]})})]})]})}function $ee(){const{data:e=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:t=[]}=xe({queryKey:["/api/bills"]}),{data:s}=xe({queryKey:["/api/mood-entries/today"]}),r=new Date;r.toISOString().split("T")[0];const i=e.filter(u=>(u.frequency==="daily"||!u.frequency)&&!u.isCompleted),a=e.filter(u=>{if(u.frequency!=="weekly"||u.isCompleted||!u.dueDate)return!1;const m=new Date(u.dueDate),p=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return p<=2&&p>=0}),o=t.filter(u=>{if(u.isPaid)return!1;const m=new Date(u.dueDate),p=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return p<=3&&p>=0}),l=e.filter(u=>u.completedAt?new Date(u.completedAt).toDateString()===r.toDateString():!1),c=e.filter(u=>u.frequency==="daily"||!u.frequency).length,d=c>0?Math.round(l.length/c*100):0,h=u=>{const m=new Date(u),p=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return p===0?"Today":p===1?"Tomorrow":`${p} days`};return n.jsxs($,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:[n.jsxs(le,{className:"pb-3",children:[n.jsxs(ce,{className:"text-xl flex items-center gap-2",children:[n.jsx(Vt,{className:"w-5 h-5 text-blue-600"}),"Today's Summary"]}),n.jsx("p",{className:"text-sm text-gray-600",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(ea,{className:"w-4 h-4 text-green-600"}),"Daily Progress"]}),n.jsxs(me,{variant:"secondary",className:`${d>=80?"bg-green-100 text-green-700":d>=50?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:[d,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600",children:[l.length," of ",c," daily tasks completed"]})]}),i.length>0&&n.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(Lt,{className:"w-4 h-4 text-blue-600"}),"Pending Daily Tasks (",i.length,")"]}),n.jsxs("div",{className:"space-y-2",children:[i.slice(0,3).map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:u.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{variant:"outline",className:"text-xs",children:u.category}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(js,{className:"w-3 h-3"}),u.estimatedMinutes,"min"]})]})]},u.id)),i.length>3&&n.jsx(Ue,{href:"/daily-tasks",children:n.jsxs(E,{variant:"ghost",size:"sm",className:"text-xs w-full",children:["View ",i.length-3," more tasks"]})})]})]}),(a.length>0||o.length>0)&&n.jsxs("div",{className:"bg-amber-50/70 p-4 rounded-lg border border-amber-200",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(Xt,{className:"w-4 h-4 text-amber-600"}),"Upcoming Deadlines"]}),n.jsxs("div",{className:"space-y-2",children:[a.map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:u.title}),n.jsx(me,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:h(u.dueDate)})]},`task-${u.id}`)),o.map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ti,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{className:"text-gray-700",children:u.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-gray-600",children:["$",u.amount]}),n.jsx(me,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:h(u.dueDate.toString())})]})]},`bill-${u.id}`))]})]}),!s&&n.jsx("div",{className:"bg-red-50/70 p-4 rounded-lg border-2 border-red-300 ring-2 ring-red-200 animate-pulse",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-red-800 flex items-center gap-2",children:[n.jsx(Xt,{className:"w-4 h-4 text-red-600"}),"Required Daily Check-in"]}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Complete your mood check-in to continue using Adaptalyfe"})]}),n.jsx(Ue,{href:"/mood-tracking",children:n.jsx(E,{size:"sm",className:"bg-red-600 hover:bg-red-700 animate-bounce",children:"Complete Now"})})]})}),i.length===0&&a.length===0&&o.length===0&&s&&n.jsxs("div",{className:"bg-green-50/70 p-4 rounded-lg border border-green-200 text-center",children:[n.jsx(Lt,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),n.jsx("h3",{className:"font-semibold text-gray-800",children:"All caught up!"}),n.jsx("p",{className:"text-sm text-gray-600",children:"No urgent tasks or deadlines today."})]})]})]})}function Th(e){try{return v.useRef(e)}catch{return{current:e}}}function Uee(e,t){return v.useReducer((s,r)=>t[s][r]??s,e)}var nN="ScrollArea",[eF,Nhe]=On(nN),[Bee,vr]=eF(nN),tF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[d,h]=v.useState(null),[u,m]=v.useState(null),[p,j]=v.useState(null),[y,g]=v.useState(null),[f,b]=v.useState(0),[x,w]=v.useState(0),[S,N]=v.useState(!1),[C,k]=v.useState(!1),T=xt(t,P=>c(P)),D=bm(i);return n.jsx(Bee,{scope:s,type:r,dir:D,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:u,onContentChange:m,scrollbarX:p,onScrollbarXChange:j,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:w,children:n.jsx(Be.div,{dir:D,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":f+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});tF.displayName=nN;var sF="ScrollAreaViewport",nF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=e,o=vr(sF,s),l=v.useRef(null),c=xt(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});nF.displayName=sF;var Ii="ScrollAreaScrollbar",rN=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ii,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?n.jsx(zee,{...r,ref:t,forceMount:s}):i.type==="scroll"?n.jsx(Vee,{...r,ref:t,forceMount:s}):i.type==="auto"?n.jsx(rF,{...r,ref:t,forceMount:s}):i.type==="always"?n.jsx(iN,{...r,ref:t}):null});rN.displayName=Ii;var zee=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ii,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(yr,{present:s||a,children:n.jsx(rF,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Vee=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ii,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Fx(()=>c("SCROLL_END"),100),[l,c]=Uee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),v.useEffect(()=>{const d=i.viewport,h=a?"scrollLeft":"scrollTop";if(d){let u=d[h];const m=()=>{const p=d[h];u!==p&&(c("SCROLL"),o()),u=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),n.jsx(yr,{present:s||l!=="hidden",children:n.jsx(iN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rF=v.forwardRef((e,t)=>{const s=vr(Ii,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=Fx(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:h)}},10);return vd(s.viewport,c),vd(s.content,c),n.jsx(yr,{present:r||a,children:n.jsx(iN,{"data-state":a?"visible":"hidden",...i,ref:t})})}),iN=v.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,i=vr(Ii,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=cF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function u(m,p){return Qee(m,o.current,l,p)}return s==="horizontal"?n.jsx(qee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,p=W2(m,l,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=u(m,i.dir))}}):s==="vertical"?n.jsx(Hee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,p=W2(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=u(m))}}):null}),qee=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=vr(Ii,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=xt(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(aF,{"data-orientation":"horizontal",...i,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),uF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ug(o.paddingLeft),paddingEnd:ug(o.paddingRight)}})}})}),Hee=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=vr(Ii,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=xt(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(aF,{"data-orientation":"vertical",...i,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),uF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ug(o.paddingTop),paddingEnd:ug(o.paddingBottom)}})}})}),[Wee,iF]=eF(Ii),aF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:u,...m}=e,p=vr(Ii,s),[j,y]=v.useState(null),g=xt(t,T=>y(T)),f=v.useRef(null),b=v.useRef(""),x=p.viewport,w=r.content-r.viewport,S=hs(h),N=hs(c),C=Fx(u,10);function k(T){if(f.current){const D=T.clientX-f.current.left,P=T.clientY-f.current.top;d({x:D,y:P})}}return v.useEffect(()=>{const T=D=>{const P=D.target;(j==null?void 0:j.contains(P))&&S(D,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,j,w,S]),v.useEffect(N,[r,N]),vd(j,C),vd(p.content,C),n.jsx(Wee,{scope:s,scrollbar:j,hasThumb:i,onThumbChange:hs(a),onThumbPointerUp:hs(o),onThumbPositionChange:N,onThumbPointerDown:hs(l),children:n.jsx(Be.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Fe(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),f.current=j.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:Fe(e.onPointerMove,k),onPointerUp:Fe(e.onPointerUp,T=>{const D=T.target;D.hasPointerCapture(T.pointerId)&&D.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),f.current=null})})})}),dg="ScrollAreaThumb",oF=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=iF(dg,e.__scopeScrollArea);return n.jsx(yr,{present:s||i.hasThumb,children:n.jsx(Gee,{ref:t,...r})})}),Gee=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...i}=e,a=vr(dg,s),o=iF(dg,s),{onThumbPositionChange:l}=o,c=xt(t,u=>o.onThumbChange(u)),d=v.useRef(void 0),h=Fx(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(h(),!d.current){const p=Yee(u,l);d.current=p,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,h,l]),n.jsx(Be.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Fe(e.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),j=u.clientX-p.left,y=u.clientY-p.top;o.onThumbPointerDown({x:j,y})}),onPointerUp:Fe(e.onPointerUp,o.onThumbPointerUp)})});oF.displayName=dg;var aN="ScrollAreaCorner",lF=v.forwardRef((e,t)=>{const s=vr(aN,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(Kee,{...e,ref:t}):null});lF.displayName=aN;var Kee=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,i=vr(aN,s),[a,o]=v.useState(0),[l,c]=v.useState(0),d=!!(a&&l);return vd(i.scrollbarX,()=>{var u;const h=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),vd(i.scrollbarY,()=>{var u;const h=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?n.jsx(Be.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ug(e){return e?parseInt(e,10):0}function cF(e,t){const s=e/t;return isNaN(s)?0:s}function Rx(e){const t=cF(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function Qee(e,t,s,r="ltr"){const i=Rx(s),a=i/2,o=t||a,l=i-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return dF([c,d],u)(e)}function W2(e,t,s="ltr"){const r=Rx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=s==="ltr"?[0,o]:[o*-1,0],d=ph(e,c);return dF([0,o],[0,l])(d)}function dF(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function uF(e,t){return e>0&&e<t}var Yee=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&t(),s=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Fx(e,t){const s=hs(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function vd(e,t){const s=hs(t);_s(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,s])}var hF=tF,Xee=nF,Zee=lF;const hg=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(hF,{ref:r,className:Oe("relative overflow-hidden",e),...s,children:[n.jsx(Xee,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(mF,{}),n.jsx(Zee,{})]}));hg.displayName=hF.displayName;const mF=v.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(rN,{ref:r,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(oF,{className:"relative flex-1 rounded-full bg-border"})}));mF.displayName=rN.displayName;var oN="Avatar",[Jee,She]=On(oN),[ete,pF]=Jee(oN),fF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[i,a]=v.useState("idle");return n.jsx(ete,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(Be.span,{...r,ref:t})})});fF.displayName=oN;var gF="AvatarImage",xF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=pF(gF,s),l=tte(r,a),c=hs(d=>{i(d),o.onImageLoadingStatusChange(d)});return _s(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Be.img,{...a,ref:t,src:r}):null});xF.displayName=gF;var yF="AvatarFallback",vF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...i}=e,a=pF(yF,s),[o,l]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(Be.span,{...i,ref:t}):null});vF.displayName=yF;function G2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tte(e,{referrerPolicy:t,crossOrigin:s}){const r=nte(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=v.useState(()=>G2(a,e));return _s(()=>{l(G2(a,e))},[a,e]),_s(()=>{const c=u=>()=>{l(u)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,s,t]),o}function ste(){return()=>{}}function nte(){return v.useSyncExternalStore(ste,()=>!0,()=>!1)}var bF=fF,jF=xF,wF=vF;const ka=v.forwardRef(({className:e,...t},s)=>n.jsx(bF,{ref:s,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ka.displayName=bF.displayName;const rte=v.forwardRef(({className:e,...t},s)=>n.jsx(jF,{ref:s,className:Oe("aspect-square h-full w-full",e),...t}));rte.displayName=jF.displayName;const _a=v.forwardRef(({className:e,...t},s)=>n.jsx(wF,{ref:s,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_a.displayName=wF.displayName;function ite(){const{data:e}=xe({queryKey:["/api/user"]}),t=(e==null?void 0:e.subscriptionTier)==="premium"||(e==null?void 0:e.subscriptionStatus)==="active";return{user:e,isPremium:t,isBasic:!t,subscriptionTier:(e==null?void 0:e.subscriptionTier)||"basic",subscriptionStatus:(e==null?void 0:e.subscriptionStatus)||"inactive",hasFeatureAccess:r=>r==="basic"||t}}function K2({onSendMessage:e,disabled:t=!1,placeholder:s="Type your message...",className:r=""}){const[i,a]=v.useState(""),o=Th(null),l=v.useCallback(()=>{i.trim()&&!t&&(e(i.trim()),a(""),setTimeout(()=>{var h;(h=o.current)==null||h.focus()},0))},[i,t,e]),c=v.useCallback(h=>{a(h.target.value)},[]),d=v.useCallback(h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),l())},[l]);return n.jsxs("div",{className:`flex gap-2 ${r}`,children:[n.jsx(q,{ref:o,type:"text",placeholder:s,value:i,onChange:c,onKeyDown:d,disabled:t,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"flex-1"}),n.jsx(E,{onClick:l,disabled:t||!i.trim(),size:"sm",children:n.jsx(ND,{className:"w-4 h-4"})})]})}function ate(){const[e,t]=v.useState([{id:"1",role:"assistant",content:`Hi! I'm AdaptAI, your personal AI assistant. I'm here to help you succeed and build confidence every day!

I can help you with:
• Planning daily tasks and routines
• Managing money and budgets
• Understanding medications and health
• Learning new life skills
• Connecting with your support team
• Handling difficult emotions
• Using AdaptaLyfe features

What would you like to work on today? You can type a question or choose from the suggestions below!`,timestamp:new Date,type:"text"}]),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(""),h=Th(null),{toast:u}=ut(),{isPremium:m}=ite(),{data:p}=xe({queryKey:["/api/user"]}),j=[{id:"help-tasks",text:"Help me plan my daily tasks",category:"planning",icon:n.jsx(Ha,{className:"w-4 h-4"})},{id:"encouragement",text:"I'm feeling overwhelmed",category:"encouragement",icon:n.jsx(ot,{className:"w-4 h-4"})},{id:"cooking-help",text:"Show me simple cooking tips",category:"skills",icon:n.jsx(Du,{className:"w-4 h-4"})},{id:"money-help",text:"Help me understand my budget",category:"help",icon:n.jsx(Ha,{className:"w-4 h-4"})},{id:"medication-help",text:"How do I organize my medications?",category:"help",icon:n.jsx(Ha,{className:"w-4 h-4"})},{id:"routine-building",text:"Help me build a daily routine",category:"planning",icon:n.jsx(Du,{className:"w-4 h-4"})},{id:"social-support",text:"I want to connect with my caregivers",category:"help",icon:n.jsx(Mf,{className:"w-4 h-4"})},{id:"learning-skills",text:"What new skills can I learn?",category:"skills",icon:n.jsx(A9,{className:"w-4 h-4"})},{id:"app-navigation",text:"How do I use this app?",category:"help",icon:n.jsx(Ha,{className:"w-4 h-4"})},{id:"feeling-proud",text:"I accomplished something today!",category:"encouragement",icon:n.jsx(ot,{className:"w-4 h-4"})}],y=Ce({mutationFn:async({message:N,userId:C})=>await(await ve("POST","/api/chat",{message:N,userId:C})).json(),onSuccess:N=>{console.log("Chat response:",N);const C={id:Date.now().toString(),role:"assistant",content:N.message||"I'm here to help you with any questions.",timestamp:new Date,type:N.type||"text"};N.notice&&u({title:N.notice,description:"Using smart fallback responses while AI service recovers.",duration:3e3}),t(k=>[...k,C]),r(!1)},onError:N=>{var T,D;console.error("Chat error:",N),r(!1);let C="I'm having trouble right now. Please try again in a moment.";((T=N.message)!=null&&T.includes("429")||(D=N.message)!=null&&D.includes("Too many requests"))&&(C="I'm getting a lot of questions right now! Please wait a moment and try again.");const k={id:Date.now().toString(),role:"assistant",content:C,timestamp:new Date,type:"text"};t(P=>[...P,k])}}),g=v.useCallback(N=>{if(!N.trim()||!(p!=null&&p.id))return;const C={id:Date.now().toString(),role:"user",content:N,timestamp:new Date};t(k=>[...k,C]),r(!0),y.mutate({message:N,userId:p.id})},[p==null?void 0:p.id,y]),f=N=>{d(N.text)},b=N=>N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});v.useEffect(()=>{var N;(N=h.current)==null||N.scrollIntoView({behavior:"smooth"})},[e,s]);const x=N=>{switch(N){case"encouragement":return n.jsx(ot,{className:"w-3 h-3 text-pink-500"});case"suggestion":return n.jsx(Du,{className:"w-3 h-3 text-yellow-500"});default:return n.jsx(Al,{className:"w-3 h-3 text-blue-500"})}},w=()=>n.jsxs($,{className:"w-80 h-96 flex flex-col bg-white border-2 border-gray-200 shadow-xl",children:[n.jsx(le,{className:"pb-3 bg-blue-50 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ka,{className:"w-6 h-6",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:n.jsx(Al,{className:"w-3 h-3"})})}),n.jsx(ce,{className:"text-sm text-gray-800 font-semibold",children:"AdaptAI"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>l(!1),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Close",children:n.jsx(Ed,{className:"w-3 h-3"})}),n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>a(!0),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Expand",children:n.jsx(j9,{className:"w-3 h-3"})})]})]})}),n.jsxs(H,{className:"flex-1 flex flex-col p-3 pt-0 bg-white",children:[n.jsxs(hg,{className:"flex-1 pr-3 max-h-64 overflow-y-auto bg-gray-50 rounded-lg p-2 mt-2",children:[n.jsxs("div",{className:"space-y-3",children:[e.slice(-3).map(N=>n.jsxs("div",{className:`flex gap-2 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&n.jsx(ka,{className:"w-6 h-6 flex-shrink-0",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:x(N.type)})}),n.jsx("div",{className:`max-w-[70%] rounded-lg p-2 text-xs shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:N.content})]},N.id)),s&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ka,{className:"w-6 h-6",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:n.jsx(Al,{className:"w-3 h-3"})})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-xs shadow-sm",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),n.jsx("div",{ref:h})]}),n.jsx("div",{className:"mt-3 space-y-2 bg-white",children:n.jsx(K2,{onSendMessage:g,disabled:y.isPending,placeholder:"Type your message...",className:"text-xs border-gray-300"})})]})]}),S=()=>n.jsxs("div",{className:"flex flex-col h-full bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-blue-50 border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ka,{className:"w-8 h-8",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600",children:n.jsx(Al,{className:"w-4 h-4"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"AdaptAI"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Always here to help and support you"})]})]}),!m&&n.jsxs(me,{variant:"secondary",className:"flex items-center gap-1",children:[n.jsx(Bp,{className:"w-3 h-3"}),"Basic Plan"]})]}),n.jsxs("div",{className:"flex-1 flex bg-white",children:[n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsxs(hg,{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[n.jsxs("div",{className:"space-y-4 min-h-0",children:[e.map(N=>n.jsxs("div",{className:`flex gap-3 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&n.jsx(ka,{className:"w-8 h-8 flex-shrink-0",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600",children:x(N.type)})}),n.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),n.jsx("p",{className:"text-xs opacity-70 mt-1",children:b(N.timestamp)})]})]},N.id)),s&&n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ka,{className:"w-8 h-8",children:n.jsx(_a,{className:"bg-blue-100 text-blue-600",children:n.jsx(Al,{className:"w-4 h-4"})})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),n.jsx("div",{ref:h})]}),n.jsxs("div",{className:"p-4 border-t space-y-3 bg-white",children:[n.jsx("div",{className:"flex gap-2 flex-wrap",children:j.map(N=>n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(N),className:"text-xs border-gray-300 hover:bg-gray-50",children:[N.icon,N.text]},N.id))}),n.jsx(K2,{onSendMessage:g,disabled:y.isPending,placeholder:"Type your message...",className:"border-gray-300"})]})]}),!m&&n.jsx("div",{className:"w-64 border-l bg-gray-50 p-4",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx(Bp,{className:"w-8 h-8 text-yellow-500 mx-auto"}),n.jsx("h4",{className:"font-medium text-gray-800",children:"Upgrade to Premium"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get unlimited AI conversations, advanced features, and priority support."}),n.jsxs(E,{className:"w-full",children:[n.jsx(Bp,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]})})]})]});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!o&&!i&&n.jsx(E,{onClick:()=>l(!0),className:"h-12 w-12 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg",title:"Open AdaptAI Assistant",children:n.jsx(Al,{className:"w-6 h-6 text-white"})}),o&&!i&&n.jsx(w,{})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-w-4xl h-[80vh] p-0",children:[n.jsxs(Xe,{className:"sr-only",children:[n.jsx(Ze,{children:"AdaptAI Chat"}),n.jsx(Zt,{children:"Full screen chat interface with the AdaptAI assistant"})]}),n.jsx(S,{})]})})]})}var lN="Progress",cN=100,[ote,Che]=On(lN),[lte,cte]=ote(lN),NF=v.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:i,getValueLabel:a=dte,...o}=e;(i||i===0)&&!Q2(i)&&console.error(ute(`${i}`,"Progress"));const l=Q2(i)?i:cN;r!==null&&!Y2(r,l)&&console.error(hte(`${r}`,"Progress"));const c=Y2(r,l)?r:null,d=mg(c)?a(c,l):void 0;return n.jsx(lte,{scope:s,value:c,max:l,children:n.jsx(Be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mg(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":kF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});NF.displayName=lN;var SF="ProgressIndicator",CF=v.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,i=cte(SF,s);return n.jsx(Be.div,{"data-state":kF(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});CF.displayName=SF;function dte(e,t){return`${Math.round(e/t*100)}%`}function kF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mg(e){return typeof e=="number"}function Q2(e){return mg(e)&&!isNaN(e)&&e>0}function Y2(e,t){return mg(e)&&!isNaN(e)&&e<=t&&e>=0}function ute(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${cN}\`.`}function hte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${cN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _F=NF,mte=CF;const Dn=v.forwardRef(({className:e,value:t,...s},r)=>n.jsx(_F,{ref:r,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(mte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Dn.displayName=_F.displayName;const pte=ws({name:Ae().min(1,"Medication name is required"),dosage:Ae().min(1,"Dosage is required"),frequency:Ae().min(1,"Frequency is required"),instructions:Ae().optional(),reminderTime:Ae().min(1,"Reminder time is required"),prescribedBy:Ae().optional()}),fte=ws({bedtime:Ae().min(1,"Bedtime is required"),wakeTime:Ae().min(1,"Wake time is required"),quality:Bs().min(1).max(5),notes:Ae().optional()}),gte=ws({activityType:Ae().min(1,"Activity type is required"),duration:Bs().min(1,"Duration must be at least 1 minute"),intensity:Ae().min(1,"Intensity is required"),notes:Ae().optional()});function xte(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(0),h=8,{toast:u}=ut();Jt();const m=[{id:1,name:"Vitamin D",dosage:"1000 IU",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!1},{id:2,name:"Omega-3",dosage:"500mg",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!0}],p=[{date:"2025-06-28",hours:7.5,quality:4,bedtime:"22:30",wakeTime:"06:00"},{date:"2025-06-27",hours:8,quality:5,bedtime:"22:00",wakeTime:"06:00"},{date:"2025-06-26",hours:6.5,quality:3,bedtime:"23:30",wakeTime:"06:00"}],j=[{date:"2025-06-28",activity:"Walking",duration:30,intensity:"Moderate"},{date:"2025-06-27",activity:"Yoga",duration:20,intensity:"Low"},{date:"2025-06-25",activity:"Swimming",duration:45,intensity:"High"}],y=Ut({resolver:zt(pte),defaultValues:{name:"",dosage:"",frequency:"daily",instructions:"",reminderTime:"08:00",prescribedBy:""}}),g=Ut({resolver:zt(fte),defaultValues:{bedtime:"",wakeTime:"",quality:3,notes:""}}),f=Ut({resolver:zt(gte),defaultValues:{activityType:"",duration:30,intensity:"moderate",notes:""}}),b=N=>{u({title:"Medication taken!",description:"Great job staying on top of your health routine."})},x=()=>{c<h+3&&(d(N=>N+1),c+1>=h&&u({title:"Daily water goal reached!",description:"Excellent hydration today! Keep it up."}))},w=()=>p.reduce((N,C)=>N+C.hours,0)/p.length,S=()=>j.reduce((N,C)=>N+C.duration,0);return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"w-5 h-5 text-red-500"}),"Health & Wellness"]}),n.jsx(at,{children:"Track your health habits and build wellness routines"})]}),n.jsx(H,{children:n.jsxs(Cn,{value:e,onValueChange:t,children:[n.jsxs(dn,{className:"grid w-full grid-cols-4",children:[n.jsx(Ve,{value:"overview",children:"Overview"}),n.jsx(Ve,{value:"medications",children:"Meds"}),n.jsx(Ve,{value:"sleep",children:"Sleep"}),n.jsx(Ve,{value:"activity",children:"Activity"})]}),n.jsxs(qe,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(m9,{className:"w-4 h-4 text-blue-500"}),n.jsx("span",{className:"font-medium text-sm",children:"Water Intake"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-2xl font-bold",children:[c,"/",h]}),n.jsx(E,{size:"sm",onClick:x,children:n.jsx(ct,{className:"w-4 h-4"})})]}),n.jsx(Dn,{value:c/h*100,className:"mt-2"})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(N9,{className:"w-4 h-4 text-purple-500"}),n.jsx("span",{className:"font-medium text-sm",children:"Sleep Average"})]}),n.jsxs("div",{className:"text-2xl font-bold",children:[w().toFixed(1),"h"]}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Last 7 days"})]})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(ow,{className:"w-4 h-4 text-green-500"}),"Today's Medications"]}),n.jsx("div",{className:"space-y-2",children:m.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:N.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[N.dosage," • ",N.reminderTime]})]}),n.jsx("div",{className:"flex items-center gap-2",children:N.taken?n.jsxs(me,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(Lt,{className:"w-3 h-3 mr-1"}),"Taken"]}):n.jsx(E,{size:"sm",onClick:()=>b(N.id),className:"bg-green-600 hover:bg-green-700",children:"Mark Taken"})})]},N.id))})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(ea,{className:"w-4 h-4 text-orange-500"}),"This Week's Progress"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Exercise Minutes"}),n.jsx("div",{className:"text-xl font-bold",children:S()}),n.jsx("div",{className:"text-sm text-green-600",children:"+15 from last week"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Sleep Quality"}),n.jsxs("div",{className:"text-xl font-bold flex items-center gap-1",children:["4.0",n.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsx("div",{className:"text-sm text-green-600",children:"Improving"})]})]})]})]}),n.jsxs(qe,{value:"medications",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"My Medications"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Medication"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add New Medication"}),n.jsx(Zt,{children:"Set up reminders for your medication schedule"})]}),n.jsx(Bt,{...y,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:y.control,name:"name",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Medication Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Vitamin D",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:y.control,name:"dosage",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Dosage"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 1000 IU",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:y.control,name:"frequency",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Frequency"}),n.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"twice_daily",children:"Twice Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"as_needed",children:"As Needed"})]})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:y.control,name:"reminderTime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Reminder Time"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:y.control,name:"instructions",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Instructions (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Take with food, etc.",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Medication"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:m.map(N=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.dosage," • ",N.frequency]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Next reminder: ",N.reminderTime]})]}),n.jsx("div",{className:"flex items-center gap-2",children:N.taken?n.jsxs(me,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(Lt,{className:"w-3 h-3 mr-1"}),"Taken Today"]}):n.jsx(E,{size:"sm",onClick:()=>b(N.id),children:"Mark Taken"})})]})},N.id))})]}),n.jsxs(qe,{value:"sleep",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Sleep Tracking"}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Sleep"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log Sleep"}),n.jsx(Zt,{children:"Track your sleep patterns to improve rest quality"})]}),n.jsx(Bt,{...g,children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:g.control,name:"bedtime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Bedtime"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:g.control,name:"wakeTime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Wake Time"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:g.control,name:"quality",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Sleep Quality (1-5)"}),n.jsx(J,{children:n.jsxs(Ge,{onValueChange:C=>N.onChange(parseInt(C)),defaultValue:N.value.toString(),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Rate your sleep"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"1 - Very Poor"}),n.jsx(B,{value:"2",children:"2 - Poor"}),n.jsx(B,{value:"3",children:"3 - Fair"}),n.jsx(B,{value:"4",children:"4 - Good"}),n.jsx(B,{value:"5",children:"5 - Excellent"})]})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:g.control,name:"notes",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"How did you feel? Any factors affecting sleep?",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Sleep Log"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:p.map((N,C)=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.date}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.bedtime," - ",N.wakeTime," (",N.hours,"h)"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,T)=>n.jsx(Ht,{className:`w-4 h-4 ${T<N.quality?"text-yellow-500 fill-current":"text-gray-300"}`},T))})})]})},C))})]}),n.jsxs(qe,{value:"activity",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Exercise & Activity"}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Activity"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log Exercise"}),n.jsx(Zt,{children:"Track your physical activities and movement"})]}),n.jsx(Bt,{...f,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:f.control,name:"activityType",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Activity Type"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Walking, Swimming, Yoga",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:f.control,name:"duration",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Duration (minutes)"}),n.jsx(J,{children:n.jsx(q,{type:"number",placeholder:"30",...N,onChange:C=>N.onChange(parseInt(C.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:f.control,name:"intensity",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Intensity"}),n.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select intensity"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"high",children:"High"})]})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:f.control,name:"notes",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"How did you feel? Any achievements?",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Activity"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:j.map((N,C)=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.activity}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.duration," minutes • ",N.intensity," intensity"]}),n.jsx("p",{className:"text-xs text-gray-500",children:N.date})]}),n.jsx("div",{className:"flex items-center",children:n.jsx(p9,{className:"w-5 h-5 text-orange-500"})})]})},C))})]})]})})]})}var dN="Switch",[yte,khe]=On(dN),[vte,bte]=yte(dN),TF=v.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,p]=v.useState(null),j=xt(t,x=>p(x)),y=v.useRef(!1),g=m?h||!!m.closest("form"):!0,[f=!1,b]=ki({prop:i,defaultProp:a,onChange:d});return n.jsxs(vte,{scope:s,checked:f,disabled:l,children:[n.jsx(Be.button,{type:"button",role:"switch","aria-checked":f,"aria-required":o,"data-state":AF(f),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onClick:Fe(e.onClick,x=>{b(w=>!w),g&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),g&&n.jsx(jte,{control:m,bubbles:!y.current,name:r,value:c,checked:f,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});TF.displayName=dN;var PF="SwitchThumb",EF=v.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,i=bte(PF,s);return n.jsx(Be.span,{"data-state":AF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});EF.displayName=PF;var jte=e=>{const{control:t,checked:s,bubbles:r=!0,...i}=e,a=v.useRef(null),o=_x(s),l=tx(t);return v.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&u){const m=new Event("click",{bubbles:r});u.call(c,s),c.dispatchEvent(m)}},[o,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function AF(e){return e?"checked":"unchecked"}var DF=TF,wte=EF;const Ls=v.forwardRef(({className:e,...t},s)=>n.jsx(DF,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(wte,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ls.displayName=DF.displayName;var Nte="Separator",X2="horizontal",Ste=["horizontal","vertical"],MF=v.forwardRef((e,t)=>{const{decorative:s,orientation:r=X2,...i}=e,a=Cte(r)?r:X2,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Be.div,{"data-orientation":a,...l,...i,ref:t})});MF.displayName=Nte;function Cte(e){return Ste.includes(e)}var IF=MF;const Jl=v.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},i)=>n.jsx(IF,{ref:i,decorative:s,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Jl.displayName=IF.displayName;function kte(){const[e,t]=v.useState({textToSpeechEnabled:!1,voiceCommandsEnabled:!1,fontSize:"medium",highContrastMode:!1,simpleLanguageMode:!1,speechRate:1,speechVolume:.8,voiceGender:"neutral"}),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState(null),{toast:h}=ut();v.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const S=window.SpeechRecognition||window.webkitSpeechRecognition,N=new S;N.continuous=!0,N.interimResults=!0,N.lang="en-US",N.onresult=C=>{const k=Array.from(C.results).map(T=>T[0].transcript).join("");C.results[C.results.length-1].isFinal&&j(k.toLowerCase().trim())},N.onerror=C=>{console.error("Speech recognition error:",C.error),r(!1)},N.onend=()=>{r(!1)},l(N)}"speechSynthesis"in window&&d(window.speechSynthesis),u()},[]);const u=()=>{const S=localStorage.getItem("accessibility-settings");if(S){const N=JSON.parse(S);t(N),p(N)}},m=S=>{localStorage.setItem("accessibility-settings",JSON.stringify(S)),t(S),p(S),h({title:"Settings saved",description:"Your accessibility preferences have been updated."})},p=S=>{const N=document.documentElement;switch(S.fontSize){case"small":N.style.fontSize="14px";break;case"medium":N.style.fontSize="16px";break;case"large":N.style.fontSize="18px";break;case"extra_large":N.style.fontSize="22px";break}S.highContrastMode?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast"),S.simpleLanguageMode?document.body.classList.add("simple-language"):document.body.classList.remove("simple-language")},j=S=>{console.log("Voice command received:",S),S.includes("go to dashboard")||S.includes("dashboard")?(window.location.href="/",y("Navigating to dashboard")):S.includes("go to tasks")||S.includes("tasks")?(window.location.href="/daily-tasks",y("Navigating to daily tasks")):S.includes("go to calendar")||S.includes("calendar")?(window.location.href="/calendar",y("Navigating to calendar")):S.includes("help")||S.includes("what can i say")?y("You can say: go to dashboard, go to tasks, go to calendar, read this page, or stop listening"):S.includes("read this page")||S.includes("read page")?g():S.includes("stop listening")||S.includes("stop voice")?(b(),y("Voice commands disabled")):y("I didn't understand that command. Say 'help' to hear available commands.")},y=S=>{if(!c||!e.textToSpeechEnabled)return;c.cancel();const N=new SpeechSynthesisUtterance(S);N.rate=e.speechRate,N.volume=e.speechVolume;const k=c.getVoices().find(T=>e.voiceGender==="female"?T.name.toLowerCase().includes("female")||T.name.toLowerCase().includes("woman"):e.voiceGender==="male"?T.name.toLowerCase().includes("male")||T.name.toLowerCase().includes("man"):!0);k&&(N.voice=k),N.onstart=()=>a(!0),N.onend=()=>a(!1),N.onerror=()=>a(!1),c.speak(N)},g=()=>{const C=((document.querySelector("main")||document.body).textContent||"").replace(/\s+/g," ").replace(/[^\w\s.,!?]/g,"").trim();y(`Reading page content: ${C.slice(0,500)}${C.length>500?"... and more":""}`)},f=()=>{if(!o){h({title:"Voice commands not supported",description:"Your browser doesn't support voice recognition.",variant:"destructive"});return}try{o.start(),r(!0),y("Voice commands activated. I'm listening.")}catch(S){console.error("Error starting recognition:",S),h({title:"Voice recognition error",description:"Could not start voice recognition. Please try again.",variant:"destructive"})}},b=()=>{o&&o.stop(),r(!1)},x=()=>{c&&(c.cancel(),a(!1))},w=()=>{if(!c){h({title:"Speech not available",description:"Text-to-speech is not supported in this browser.",variant:"destructive"});return}try{c.cancel();const S=new SpeechSynthesisUtterance("This is a test of the text to speech feature. You can adjust the speed and volume in the settings below.");S.rate=e.speechRate,S.volume=e.speechVolume;const C=c.getVoices().find(k=>e.voiceGender==="female"?k.name.toLowerCase().includes("female")||k.name.toLowerCase().includes("woman"):e.voiceGender==="male"?k.name.toLowerCase().includes("male")||k.name.toLowerCase().includes("man"):!0);C&&(S.voice=C),S.onstart=()=>a(!0),S.onend=()=>a(!1),S.onerror=k=>{a(!1),h({title:"Speech error",description:"There was an error with text-to-speech. Please try again.",variant:"destructive"})},c.speak(S),console.log("Test text-to-speech initiated")}catch(S){console.error("Text-to-speech error:",S),h({title:"Speech error",description:"Could not start text-to-speech. Please check your browser permissions.",variant:"destructive"})}};return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(i9,{className:"w-5 h-5 text-blue-500"}),"Accessibility Settings"]}),n.jsx(at,{children:"Customize the app to work best for your needs"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"w-4 h-4 text-blue-500"}),n.jsx(de,{className:"text-base font-medium",children:"Text-to-Speech"})]}),n.jsx(Ls,{checked:e.textToSpeechEnabled,onCheckedChange:S=>m({...e,textToSpeechEnabled:S})})]}),e.textToSpeechEnabled&&n.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-blue-100 pl-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:w,disabled:i,children:[n.jsx(lw,{className:"w-4 h-4 mr-2"}),"Test Voice"]}),i&&n.jsxs(E,{variant:"outline",size:"sm",onClick:x,children:[n.jsx(jD,{className:"w-4 h-4 mr-2"}),"Stop"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-sm",children:"Speech Rate"}),n.jsxs(Ge,{value:e.speechRate.toString(),onValueChange:S=>m({...e,speechRate:parseFloat(S)}),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"0.5",children:"Very Slow"}),n.jsx(B,{value:"0.75",children:"Slow"}),n.jsx(B,{value:"1",children:"Normal"}),n.jsx(B,{value:"1.25",children:"Fast"}),n.jsx(B,{value:"1.5",children:"Very Fast"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-sm",children:"Voice Type"}),n.jsxs(Ge,{value:e.voiceGender,onValueChange:S=>m({...e,voiceGender:S}),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"neutral",children:"Default"}),n.jsx(B,{value:"female",children:"Female Voice"}),n.jsx(B,{value:"male",children:"Male Voice"})]})]})]})]})]})]}),n.jsx(Jl,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jS,{className:"w-4 h-4 text-green-500"}),n.jsx(de,{className:"text-base font-medium",children:"Voice Commands"})]}),n.jsx(Ls,{checked:e.voiceCommandsEnabled,onCheckedChange:S=>m({...e,voiceCommandsEnabled:S})})]}),e.voiceCommandsEnabled&&n.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-green-100 pl-4",children:[n.jsxs("div",{className:"flex gap-2",children:[s?n.jsxs(E,{variant:"outline",size:"sm",onClick:b,className:"border-red-200 text-red-600",children:[n.jsx(R9,{className:"w-4 h-4 mr-2"}),"Stop Listening"]}):n.jsxs(E,{variant:"outline",size:"sm",onClick:f,children:[n.jsx(jS,{className:"w-4 h-4 mr-2"}),"Start Listening"]}),s&&n.jsx(me,{variant:"outline",className:"text-green-600 border-green-600",children:"Listening..."})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("p",{className:"font-medium mb-2",children:"Available commands:"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[n.jsx("li",{children:'• "Go to dashboard" - Navigate to main page'}),n.jsx("li",{children:'• "Go to tasks" - Open daily tasks'}),n.jsx("li",{children:'• "Go to calendar" - Open calendar view'}),n.jsx("li",{children:'• "Read this page" - Read current page content'}),n.jsx("li",{children:'• "Help" - Hear available commands'}),n.jsx("li",{children:'• "Stop listening" - Disable voice commands'})]})]})]})]}),n.jsx(Jl,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(fm,{className:"w-4 h-4 text-purple-500"}),n.jsx(de,{className:"text-base font-medium",children:"Visual Settings"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(M9,{className:"w-4 h-4 text-gray-500"}),n.jsx(de,{children:"Font Size"})]}),n.jsxs(Ge,{value:e.fontSize,onValueChange:S=>m({...e,fontSize:S}),children:[n.jsx(He,{className:"w-32",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"small",children:"Small"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"large",children:"Large"}),n.jsx(B,{value:"extra_large",children:"Extra Large"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bD,{className:"w-4 h-4 text-gray-500"}),n.jsx(de,{children:"High Contrast Mode"})]}),n.jsx(Ls,{checked:e.highContrastMode,onCheckedChange:S=>m({...e,highContrastMode:S})})]})]})]}),n.jsx(Jl,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(If,{className:"w-4 h-4 text-orange-500"}),n.jsx(de,{className:"text-base font-medium",children:"Simple Language Mode"})]}),n.jsx(Ls,{checked:e.simpleLanguageMode,onCheckedChange:S=>m({...e,simpleLanguageMode:S})})]}),e.simpleLanguageMode&&n.jsx("div",{className:"ml-6 text-sm text-gray-600 border-l-2 border-orange-100 pl-4",children:n.jsx("p",{children:"When enabled, the app will use simpler words and shorter sentences to make content easier to understand."})})]}),n.jsx(Jl,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{className:"text-base font-medium",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>y("Welcome to Adaptalyfe. This app helps you build independence and manage daily tasks."),disabled:!e.textToSpeechEnabled,children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Welcome"]}),n.jsxs(E,{variant:"outline",size:"sm",onClick:g,disabled:!e.textToSpeechEnabled,children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Page"]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Need Help?"}),n.jsx("p",{className:"text-sm text-blue-800",children:"These settings make Adaptalyfe easier to use for everyone. Text-to-speech reads content aloud, voice commands let you navigate hands-free, and visual settings improve readability."})]})]})]})}function _te(){const[e,t]=v.useState("overview"),[s,r]=v.useState(null),[i,a]=v.useState(0),{toast:o}=ut(),l=[{id:1,title:"Basic Cooking Safety",category:"cooking",description:"Learn essential kitchen safety rules and basic cooking techniques",difficulty:"beginner",estimatedTime:15,steps:["Wash your hands thoroughly before cooking","Check that all cooking surfaces are clean","Keep pot handles turned inward on the stove","Never leave cooking food unattended","Clean up spills immediately to prevent slips","Turn off all appliances when finished"],tips:["Always have a first aid kit nearby","Keep a fire extinguisher accessible","Don't wear loose clothing while cooking"],completed:!0,score:95},{id:2,title:"Using an ATM Safely",category:"banking",description:"Step-by-step guide to using ATMs and protecting your money",difficulty:"beginner",estimatedTime:20,steps:["Choose a well-lit ATM in a safe location","Check for any suspicious devices attached to the ATM","Insert your card and wait for prompts","Enter your PIN while covering the keypad","Select your transaction type","Take your receipt and card before leaving","Count your money in a safe place"],tips:["Never share your PIN with anyone","Cover the keypad when entering your PIN","Keep your receipts for record-keeping"],completed:!1},{id:3,title:"Reading Bus Schedules",category:"transportation",description:"How to read and understand public transportation schedules",difficulty:"beginner",estimatedTime:25,steps:["Find your bus route number","Locate your starting bus stop","Find your destination stop","Check the schedule for departure times","Account for weekend and holiday schedules","Plan to arrive 5 minutes early","Have exact change or a bus pass ready"],tips:["Download the transit app for real-time updates","Keep a backup route in mind","Ask the driver if you're unsure about stops"],completed:!1},{id:4,title:"Starting Conversations",category:"social",description:"Learn how to start and maintain friendly conversations",difficulty:"beginner",estimatedTime:30,steps:["Make eye contact and smile","Use a friendly greeting like 'Hello' or 'Hi'","Ask open-ended questions about their day","Listen actively to their responses","Share something about yourself","Ask follow-up questions to show interest","End with a positive comment"],tips:["Practice common conversation starters","Ask about shared interests","It's okay to have quiet moments"],completed:!1}],c=[{id:1,title:"Master Chef",description:"Complete 5 cooking lessons and prepare a full meal",category:"cooking",points:100,difficulty:"intermediate",requirements:["Complete Basic Cooking Safety lesson","Complete Meal Planning lesson","Complete Kitchen Organization lesson","Prepare and photograph a complete meal","Write a reflection about the experience"],badge:"🍳",completed:!1},{id:2,title:"Money Manager",description:"Demonstrate financial independence skills",category:"banking",points:150,difficulty:"advanced",requirements:["Complete ATM Safety lesson","Create a monthly budget","Track expenses for one week","Open a savings account","Demonstrate online banking safety"],badge:"💰",completed:!1},{id:3,title:"Navigation Expert",description:"Master independent travel and transportation",category:"transportation",points:120,difficulty:"intermediate",requirements:["Complete Bus Schedule lesson","Successfully plan and take a bus trip","Use a ride-sharing app safely","Navigate using a map app","Create emergency transportation plan"],badge:"🚌",completed:!1}],d=f=>{switch(f){case"cooking":return n.jsx(uc,{className:"w-4 h-4"});case"banking":return n.jsx(uo,{className:"w-4 h-4"});case"transportation":return n.jsx(to,{className:"w-4 h-4"});case"social":return n.jsx(as,{className:"w-4 h-4"});default:return n.jsx(Hr,{className:"w-4 h-4"})}},h=f=>{switch(f){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},u=f=>{r(f),a(0)},m=()=>{s&&i<s.steps.length-1&&a(i+1)},p=()=>{i>0&&a(i-1)},j=()=>{s&&(o({title:"Lesson completed!",description:`Great job completing "${s.title}". You've earned experience points!`}),r(null),a(0))},y=()=>l.filter(b=>b.completed).length/l.length*100,g=f=>{const b=l.filter(w=>w.category===f),x=b.filter(w=>w.completed);return b.length>0?x.length/b.length*100:0};return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"w-5 h-5 text-indigo-500"}),"Life Skills Development"]}),n.jsx(at,{children:"Build independence through interactive lessons and challenges"})]}),n.jsxs(H,{children:[n.jsxs(Cn,{value:e,onValueChange:t,children:[n.jsxs(dn,{className:"grid w-full grid-cols-4",children:[n.jsx(Ve,{value:"overview",children:"Overview"}),n.jsx(Ve,{value:"lessons",children:"Lessons"}),n.jsx(Ve,{value:"challenges",children:"Challenges"}),n.jsx(Ve,{value:"progress",children:"Progress"})]}),n.jsxs(qe,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-medium",children:"Learning Progress"}),n.jsxs(me,{variant:"outline",className:"text-indigo-600 border-indigo-600",children:[l.filter(f=>f.completed).length,"/",l.length," Complete"]})]}),n.jsx(Dn,{value:y(),className:"mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Keep learning to build your independence skills!"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{category:"cooking",name:"Cooking",color:"text-red-500"},{category:"banking",name:"Banking",color:"text-green-500"},{category:"transportation",name:"Transportation",color:"text-blue-500"},{category:"social",name:"Social Skills",color:"text-purple-500"}].map(({category:f,name:b,color:x})=>n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:x,children:d(f)}),n.jsx("span",{className:"font-medium text-sm",children:b})]}),n.jsx(Dn,{value:g(f),className:"mb-2"}),n.jsxs("div",{className:"text-xs text-gray-600",children:[l.filter(w=>w.category===f&&w.completed).length,"/",l.filter(w=>w.category===f).length," lessons"]})]},f))}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Achievements"}),n.jsx("div",{className:"space-y-2",children:l.filter(f=>f.completed).slice(0,3).map(f=>n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded-lg",children:[n.jsx(Lt,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:f.title}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",f.score,"%"]})]}),n.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"})]},f.id))})]})]}),n.jsx(qe,{value:"lessons",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:l.map(f=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-gray-500",children:d(f.category)}),n.jsx("h4",{className:"font-medium",children:f.title}),f.completed&&n.jsx(Lt,{className:"w-4 h-4 text-green-600"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[n.jsx(me,{variant:"outline",className:h(f.difficulty),children:f.difficulty}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(js,{className:"w-3 h-3"}),f.estimatedTime," min"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ol,{className:"w-3 h-3"}),f.steps.length," steps"]})]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:f.completed?n.jsxs(me,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),f.score,"%"]}):n.jsxs(E,{size:"sm",onClick:()=>u(f),className:"bg-indigo-600 hover:bg-indigo-700",children:[n.jsx(lw,{className:"w-4 h-4 mr-2"}),"Start"]})})]})},f.id))})}),n.jsx(qe,{value:"challenges",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:c.map(f=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:f.badge}),n.jsx("h4",{className:"font-medium",children:f.title}),f.completed&&n.jsx(Lt,{className:"w-4 h-4 text-green-600"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs mb-3",children:[n.jsx(me,{variant:"outline",className:h(f.difficulty),children:f.difficulty}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(fD,{className:"w-3 h-3"}),f.points," points"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),f.requirements.map((b,x)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),b]},x))]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:f.completed?n.jsxs(me,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):n.jsxs(E,{size:"sm",variant:"outline",className:"border-indigo-600 text-indigo-600 hover:bg-indigo-50",children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Start Challenge"]})})]})},f.id))})}),n.jsxs(qe,{value:"progress",className:"space-y-4 mt-4",children:[n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-4",children:"Skills Breakdown"}),n.jsx("div",{className:"space-y-4",children:[{category:"cooking",name:"Cooking & Nutrition",icon:n.jsx(uc,{className:"w-4 h-4"}),color:"text-red-500"},{category:"banking",name:"Financial Management",icon:n.jsx(uo,{className:"w-4 h-4"}),color:"text-green-500"},{category:"transportation",name:"Transportation",icon:n.jsx(to,{className:"w-4 h-4"}),color:"text-blue-500"},{category:"social",name:"Social Skills",icon:n.jsx(as,{className:"w-4 h-4"}),color:"text-purple-500"}].map(({category:f,name:b,icon:x,color:w})=>{const S=g(f),N=l.filter(k=>k.category===f&&k.completed).length,C=l.filter(k=>k.category===f).length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:w,children:x}),n.jsx("span",{className:"font-medium",children:b})]}),n.jsxs("span",{className:"text-sm text-gray-600",children:[N,"/",C]})]}),n.jsx(Dn,{value:S})]},f)})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:l.filter(f=>f.completed).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Lessons Completed"})]}),n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(f=>f.completed).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Earned"})]}),n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:c.filter(f=>f.completed).reduce((f,b)=>f+b.points,0)}),n.jsx("div",{className:"text-sm text-gray-600",children:"Points Earned"})]})]})]})]}),n.jsx(et,{open:!!s,onOpenChange:()=>r(null),children:n.jsx(Ye,{className:"max-w-2xl max-h-[80vh]",children:s&&n.jsxs(n.Fragment,{children:[n.jsxs(Xe,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[d(s.category),s.title]}),n.jsxs(Zt,{children:["Step ",i+1," of ",s.steps.length," • ",s.estimatedTime," minutes"]})]}),n.jsx(hg,{className:"max-h-96",children:n.jsxs("div",{className:"space-y-6 p-1",children:[n.jsxs("div",{children:[n.jsx(Dn,{value:(i+1)/s.steps.length*100}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Progress: ",i+1,"/",s.steps.length]})]}),n.jsxs($,{className:"p-4 border-indigo-200 bg-indigo-50",children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Step ",i+1]}),n.jsx("p",{className:"text-gray-700",children:s.steps[i]})]}),s.tips.length>0&&n.jsxs($,{className:"p-4 border-yellow-200 bg-yellow-50",children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4 text-yellow-600"}),"Helpful Tips"]}),n.jsx("ul",{className:"space-y-1 text-sm",children:s.tips.map((f,b)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),f]},b))})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"All Steps"}),n.jsx("div",{className:"space-y-2",children:s.steps.map((f,b)=>n.jsxs("div",{className:`flex items-start gap-2 p-2 rounded ${b===i?"bg-indigo-50 border border-indigo-200":b<i?"bg-green-50 text-green-700":"text-gray-600"}`,children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${b<i?"bg-green-500 text-white":b===i?"bg-indigo-500 text-white":"bg-gray-200 text-gray-600"}`,children:b<i?"✓":b+1}),n.jsx("span",{className:"text-sm",children:f})]},b))})]})]})}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx(E,{variant:"outline",onClick:p,disabled:i===0,children:"Previous"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",onClick:()=>r(null),children:"Exit Lesson"}),i===s.steps.length-1?n.jsxs(E,{onClick:j,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Complete Lesson"]}):n.jsxs(E,{onClick:m,children:["Next",n.jsx(cd,{className:"w-4 h-4 ml-2"})]})]})]})]})})})]})]})}const Tte=ws({description:Ae().min(1,"Description is required"),category:Ae().min(1,"Category is required"),milestone:Ae().optional()}),Pte=ws({title:Ae().min(1,"Title is required"),content:Ae().min(10,"Story must be at least 10 characters"),category:Ae().min(1,"Category is required"),isAnonymous:ko().default(!1)});function Ete(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),c=Th(null),{toast:d}=ut(),h=[{id:1,photoUrl:"/photos/progress-1.jpg",category:"cooking",description:"Successfully made my first homemade pasta from scratch! It took 2 hours but was totally worth it.",milestone:"First Homemade Pasta",takenAt:new Date(Date.now()-2*24*60*60*1e3)},{id:2,photoUrl:"/photos/progress-2.jpg",category:"independence",description:"Took public transportation to the grocery store by myself for the first time!",milestone:"Independent Shopping Trip",takenAt:new Date(Date.now()-5*24*60*60*1e3)},{id:3,photoUrl:"/photos/progress-3.jpg",category:"social",description:"Had coffee with my neighbor and we're planning to meet again next week. Building friendships!",takenAt:new Date(Date.now()-7*24*60*60*1e3)}],u=[{id:1,title:"Master Chef Challenge",description:"Learn to cook 5 different meals independently",category:"cooking",difficulty:"intermediate",points:150,requirements:["Cook pasta dish","Prepare a salad","Make breakfast eggs","Cook rice perfectly","Bake simple cookies"],progress:60,isCompleted:!1,badge:"A",timeframe:"Complete in 30 days"},{id:2,title:"Social Butterfly",description:"Build confidence in social interactions",category:"social",difficulty:"beginner",points:100,requirements:["Start 3 conversations with strangers","Join a community group","Make plans with a friend","Give someone a genuine compliment","Share a personal story"],progress:40,isCompleted:!1,badge:"B",timeframe:"Complete in 21 days"},{id:3,title:"Independence Hero",description:"Master essential life skills for independent living",category:"independence",difficulty:"advanced",points:200,requirements:["Use public transportation 5 times","Complete grocery shopping alone","Pay bills independently","Attend medical appointment solo","Plan and execute a day trip"],progress:80,isCompleted:!1,badge:"C",timeframe:"Complete in 45 days"}],m=[{id:1,title:"My First Job Interview Success",content:"I was so nervous about my first job interview, but I practiced with my caregiver and prepared answers to common questions. When the day came, I arrived early, dressed professionally, and remembered to make eye contact. The interviewer was really nice and I got the job! The key was preparation and believing in myself.",authorName:"Sarah M.",category:"employment",likes:24,isLiked:!0,createdAt:new Date(Date.now()-3*24*60*60*1e3),isAnonymous:!1},{id:2,title:"Learning to Manage My Money",content:"Managing money used to stress me out so much. I started small by tracking every expense for a week, then learned to create a simple budget. Now I save a little each month and feel confident about my finances. The budget app on my phone really helps!",authorName:"Anonymous",category:"financial",likes:18,isLiked:!1,createdAt:new Date(Date.now()-5*24*60*60*1e3),isAnonymous:!0},{id:3,title:"Making Friends as an Adult",content:"Making friends felt impossible at first. I joined a local art class and started small by just saying hello to people. One person invited me for coffee after class, and now we're good friends! Sometimes you just need to take that first small step.",authorName:"Mike R.",category:"social",likes:31,isLiked:!1,createdAt:new Date(Date.now()-8*24*60*60*1e3),isAnonymous:!1}],p=[{id:1,title:"First Step",description:"Completed your first daily task",category:"tasks",icon:"*",points:10,earnedAt:new Date(Date.now()-30*24*60*60*1e3),rarity:"common"},{id:2,title:"Consistent Performer",description:"Completed tasks for 7 days in a row",category:"tasks",icon:"+",points:50,earnedAt:new Date(Date.now()-14*24*60*60*1e3),rarity:"rare"},{id:3,title:"Cooking Novice",description:"Successfully completed your first cooking lesson",category:"cooking",icon:"O",points:25,earnedAt:new Date(Date.now()-10*24*60*60*1e3),rarity:"common"},{id:4,title:"Social Connector",description:"Made a new friend or strengthened a relationship",category:"social",icon:"#",points:75,earnedAt:new Date(Date.now()-7*24*60*60*1e3),rarity:"epic"}],j=Ut({resolver:zt(Tte),defaultValues:{description:"",category:"",milestone:""}}),y=Ut({resolver:zt(Pte),defaultValues:{title:"",content:"",category:"",isAnonymous:!1}}),g=k=>{switch(k){case"common":return"text-gray-600 bg-gray-100";case"rare":return"text-blue-600 bg-blue-100";case"epic":return"text-purple-600 bg-purple-100";case"legendary":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},f=k=>{switch(k){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=k=>{var D;((D=k.target.files)==null?void 0:D[0])&&d({title:"Photo uploaded",description:"Your progress photo has been added to your journal!"})},x=k=>{d({title:"Story liked",description:"Thank you for supporting your peer's journey!"})},w=k=>{d({title:"Challenge joined",description:"You're now working on this skill challenge. Good luck!"})},S=()=>{d({title:"Story shared",description:"Your inspiring story has been shared with the community!"}),a(!1)},N=p.reduce((k,T)=>k+T.points,0),C=u.filter(k=>k.isCompleted).length;return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"w-5 h-5 text-yellow-500"}),"Progress & Motivation"]}),n.jsx(at,{children:"Track your growth, celebrate achievements, and stay motivated"})]}),n.jsx(H,{children:n.jsxs(Cn,{value:e,onValueChange:t,children:[n.jsxs(dn,{className:"grid w-full grid-cols-4",children:[n.jsx(Ve,{value:"overview",children:"Overview"}),n.jsx(Ve,{value:"journal",children:"Journal"}),n.jsx(Ve,{value:"challenges",children:"Challenges"}),n.jsx(Ve,{value:"community",children:"Stories"})]}),n.jsxs(qe,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Achievements"})]}),n.jsxs($,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:C}),n.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Done"})]})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(w9,{className:"w-4 h-4 text-yellow-500"}),"Recent Achievements"]}),n.jsx("div",{className:"space-y-3",children:p.slice(0,3).map(k=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600 bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center",children:k.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:k.title}),n.jsx("div",{className:"text-sm text-gray-600",children:k.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(me,{className:g(k.rarity),children:k.rarity}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",k.points," pts"]})]})]},k.id))})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4 text-blue-500"}),"Active Challenges"]}),n.jsx("div",{className:"space-y-3",children:u.filter(k=>!k.isCompleted).slice(0,2).map(k=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl font-bold text-blue-600 bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:k.badge}),n.jsx("h4",{className:"font-medium",children:k.title})]}),n.jsx(me,{className:f(k.difficulty),children:k.difficulty})]}),n.jsx(Dn,{value:k.progress,className:"mb-2"}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[k.progress,"% complete"]}),n.jsxs("span",{className:"text-blue-600",children:[k.points," points"]})]})]},k.id))})]}),n.jsx($,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-medium text-blue-900 mb-2",children:'"Progress, not perfection, is the goal."'}),n.jsx("div",{className:"text-sm text-blue-700",children:"Every small step forward is a victory worth celebrating!"})]})})]}),n.jsxs(qe,{value:"journal",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Progress Journal"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ih,{className:"w-4 h-4 mr-2"}),"Add Photo"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Progress Photo"}),n.jsx(Zt,{children:"Document your achievements and milestones"})]}),n.jsx(Bt,{...j,children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},children:[n.jsx(ih,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Click to upload a photo"})]}),n.jsx("input",{ref:c,type:"file",accept:"image/*",className:"hidden",onChange:b}),n.jsx(Z,{control:j.control,name:"category",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"cooking",children:"Cooking"}),n.jsx("option",{value:"independence",children:"Independence"}),n.jsx("option",{value:"social",children:"Social"}),n.jsx("option",{value:"health",children:"Health"}),n.jsx("option",{value:"learning",children:"Learning"})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"description",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Tell us about this achievement or milestone...",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"milestone",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Milestone (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., First Time Cooking Alone",...k})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Photo"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-4",children:h.map(k=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx(y9,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(me,{variant:"outline",children:k.category}),k.milestone&&n.jsxs(me,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[n.jsx(Ht,{className:"w-3 h-3 mr-1"}),k.milestone]}),n.jsx("span",{className:"text-sm text-gray-500",children:_i(k.takenAt)})]}),n.jsx("p",{className:"text-gray-700",children:k.description})]}),n.jsxs(E,{size:"sm",variant:"outline",children:[n.jsx(Rf,{className:"w-4 h-4 mr-2"}),"Share"]})]})},k.id))})]}),n.jsx(qe,{value:"challenges",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:u.map(k=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:k.badge}),n.jsx("h4",{className:"font-medium",children:k.title}),n.jsx(me,{className:f(k.difficulty),children:k.difficulty})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[k.progress,"%"]})]}),n.jsx(Dn,{value:k.progress})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),k.requirements.map((T,D)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lt,{className:`w-4 h-4 ${D<k.requirements.length*k.progress/100?"text-green-500":"text-gray-300"}`}),n.jsx("span",{className:D<k.requirements.length*k.progress/100?"text-green-700 line-through":"text-gray-700",children:T})]},D))]}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(fD,{className:"w-3 h-3"}),k.points," points"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(js,{className:"w-3 h-3"}),k.timeframe]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[k.isCompleted?n.jsxs(me,{className:"bg-green-100 text-green-700 border-green-200",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):n.jsxs(E,{size:"sm",onClick:()=>w(k.id),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Join Challenge"]}),n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>l(k),children:[n.jsx(fm,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},k.id))})}),n.jsxs(qe,{value:"community",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Community Stories"}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Share Story"]})}),n.jsxs(Ye,{className:"max-w-2xl",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Share Your Story"}),n.jsx(Zt,{children:"Inspire others by sharing your journey and achievements"})]}),n.jsx(Bt,{...y,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:y.control,name:"title",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Story Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., How I Learned to Cook My Favorite Meal",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:y.control,name:"category",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"cooking",children:"Cooking"}),n.jsx("option",{value:"employment",children:"Employment"}),n.jsx("option",{value:"social",children:"Social"}),n.jsx("option",{value:"financial",children:"Financial"}),n.jsx("option",{value:"independence",children:"Independence"}),n.jsx("option",{value:"health",children:"Health"})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:y.control,name:"content",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Your Story"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Tell your story... What challenge did you face? How did you overcome it? What advice would you give others?",className:"min-h-32",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:y.control,name:"isAnonymous",render:({field:k})=>n.jsxs(Y,{className:"flex items-center gap-2",children:[n.jsx(J,{children:n.jsx("input",{type:"checkbox",checked:k.value,onChange:k.onChange})}),n.jsx(Q,{children:"Share anonymously"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"button",onClick:S,className:"flex-1",children:"Share Story"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-4",children:m.map(k=>n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx(ka,{className:"w-8 h-8",children:n.jsx(_a,{children:k.isAnonymous?"?":k.authorName[0]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:k.authorName}),n.jsx(me,{variant:"outline",children:k.category}),n.jsx("span",{className:"text-sm text-gray-500",children:_i(k.createdAt)})]}),n.jsx("h4",{className:"font-medium text-lg mb-2",children:k.title})]})]}),n.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:k.content}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(E,{size:"sm",variant:"ghost",onClick:()=>x(k.id),className:k.isLiked?"text-red-500":"",children:[n.jsx(ot,{className:`w-4 h-4 mr-1 ${k.isLiked?"fill-current":""}`}),k.likes]}),n.jsxs(E,{size:"sm",variant:"ghost",children:[n.jsx(Rf,{className:"w-4 h-4 mr-1"}),"Share"]})]})]},k.id))})]})]})})]})}function RF(){const[e,t]=v.useState(!1),[s,r]=v.useState(!1),{toast:i}=ut(),a=Jt(),{data:o=[]}=xe({queryKey:["/api/user-pharmacies"],enabled:!0}),{data:l=[]}=xe({queryKey:["/api/pharmacies"],enabled:!0}),c=Ce({mutationFn:async m=>{const p=Object.fromEntries(m);return ve("POST","/api/user-pharmacies",p)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user-pharmacies"]}),a.invalidateQueries({queryKey:["/api/pharmacies"]}),t(!1),i({title:"Pharmacy added successfully!"})},onError:()=>{i({title:"Failed to add pharmacy",variant:"destructive"})}}),d=Ce({mutationFn:async m=>{const p=Object.fromEntries(m);return ve("POST","/api/pharmacies",p)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/pharmacies"]}),r(!1),i({title:"Custom pharmacy created successfully!"})},onError:()=>{i({title:"Failed to create custom pharmacy",variant:"destructive"})}}),h=m=>{m.preventDefault();const p=new FormData(m.currentTarget);c.mutate(p)},u=m=>{m.preventDefault();const p=new FormData(m.currentTarget);d.mutate(p)};return n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs(Cn,{defaultValue:"linked",children:[n.jsxs(dn,{className:"grid w-full grid-cols-2",children:[n.jsx(Ve,{value:"linked",children:"My Pharmacies"}),n.jsx(Ve,{value:"directory",children:"Pharmacy Directory"})]}),n.jsxs(qe,{value:"linked",children:[n.jsxs("div",{className:"mb-4 flex gap-2",children:[n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Link Existing Pharmacy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Link Existing Pharmacy"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"pharmacyId",children:"Select Pharmacy"}),n.jsxs(Ge,{name:"pharmacyId",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Choose a pharmacy"})}),n.jsx(We,{children:l.map(m=>n.jsx(B,{value:m.id.toString(),children:m.name},m.id))})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(q,{name:"accountNumber",placeholder:"Your pharmacy account number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"insuranceProvider",children:"Insurance Provider"}),n.jsx(q,{name:"insuranceProvider",placeholder:"e.g., Blue Cross, Medicare"})]}),n.jsx(E,{type:"submit",className:"w-full",disabled:c.isPending,children:c.isPending?"Adding...":"Link Pharmacy"})]})]})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",children:[n.jsx(pS,{className:"w-4 h-4 mr-2"}),"Create Custom Pharmacy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Create Custom Pharmacy"})}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Pharmacy Name"}),n.jsx(q,{name:"name",placeholder:"Enter pharmacy name",required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(q,{name:"address",placeholder:"Street address, city, state"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",placeholder:"(555) 123-4567"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"website",children:"Website"}),n.jsx(q,{name:"website",placeholder:"https://pharmacy-website.com"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"refillUrl",children:"Online Refill URL"}),n.jsx(q,{name:"refillUrl",placeholder:"Direct link to refill page"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"hours",children:"Operating Hours"}),n.jsx(q,{name:"hours",placeholder:"e.g., Mon-Fri 9AM-9PM, Sat 9AM-6PM"})]}),n.jsx(E,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?"Creating...":"Create Custom Pharmacy"})]})]})]})]}),n.jsx("div",{className:"space-y-3",children:o.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(pS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pharmacies linked yet"}),n.jsx("p",{className:"text-sm",children:"Add a pharmacy to start ordering refills"})]}):o.map(m=>{var p,j,y,g;return n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:(p=m.pharmacy)==null?void 0:p.name}),((j=m.pharmacy)==null?void 0:j.address)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(Xs,{className:"w-3 h-3"}),m.pharmacy.address]}),((y=m.pharmacy)==null?void 0:y.phoneNumber)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(vs,{className:"w-3 h-3"}),m.pharmacy.phoneNumber]}),n.jsx("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-100",children:((g=m.pharmacy)==null?void 0:g.refillUrl)&&n.jsxs(E,{size:"sm",onClick:()=>{var f;return window.open((f=m.pharmacy)==null?void 0:f.refillUrl,"_blank")},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[n.jsx(cw,{className:"w-3 h-3 mr-1"}),"Order Refills"]})})]})})},m.id)})})]}),n.jsx(qe,{value:"directory",children:n.jsx("div",{className:"space-y-3",children:l.map(m=>n.jsx($,{children:n.jsxs(H,{className:"pt-4",children:[n.jsx("h4",{className:"font-medium",children:m.name}),m.address&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(Xs,{className:"w-3 h-3"}),m.address]}),m.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(vs,{className:"w-3 h-3"}),m.phoneNumber]})]})},m.id))})})]})})})}var uN="Checkbox",[Ate,_he]=On(uN),[Dte,Mte]=Ate(uN),FF=v.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,p]=v.useState(null),j=xt(t,w=>p(w)),y=v.useRef(!1),g=m?h||!!m.closest("form"):!0,[f=!1,b]=ki({prop:i,defaultProp:a,onChange:d}),x=v.useRef(f);return v.useEffect(()=>{const w=m==null?void 0:m.form;if(w){const S=()=>b(x.current);return w.addEventListener("reset",S),()=>w.removeEventListener("reset",S)}},[m,b]),n.jsxs(Dte,{scope:s,state:f,disabled:l,children:[n.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":ro(f)?"mixed":f,"aria-required":o,"data-state":$F(f),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onKeyDown:Fe(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Fe(e.onClick,w=>{b(S=>ro(S)?!0:!S),g&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),g&&n.jsx(Ite,{control:m,bubbles:!y.current,name:r,value:c,checked:f,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:ro(a)?!1:a})]})});FF.displayName=uN;var OF="CheckboxIndicator",LF=v.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...i}=e,a=Mte(OF,s);return n.jsx(yr,{present:r||ro(a.state)||a.state===!0,children:n.jsx(Be.span,{"data-state":$F(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});LF.displayName=OF;var Ite=e=>{const{control:t,checked:s,bubbles:r=!0,defaultChecked:i,...a}=e,o=v.useRef(null),l=_x(s),c=tx(t);v.useEffect(()=>{const h=o.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==s&&p){const j=new Event("click",{bubbles:r});h.indeterminate=ro(s),p.call(h,ro(s)?!1:s),h.dispatchEvent(j)}},[l,s,r]);const d=v.useRef(ro(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ro(e){return e==="indeterminate"}function $F(e){return ro(e)?"indeterminate":e?"checked":"unchecked"}var UF=FF,Rte=LF;const Si=v.forwardRef(({className:e,...t},s)=>n.jsx(UF,{ref:s,className:Oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(Rte,{className:Oe("flex items-center justify-center text-current"),children:n.jsx(dc,{className:"h-4 w-4"})})}));Si.displayName=UF.displayName;const Fte=ws({title:Ae().min(1,"Trip name is required"),fromAddress:Ae().min(1,"Starting location is required"),toAddress:Ae().min(1,"Destination is required"),transportType:Ae().min(1,"Transportation type is required"),notes:Ae().optional()}),Ote=ws({routeName:Ae().min(1,"Route name is required"),routeNumber:Ae().optional(),stopName:Ae().min(1,"Stop name is required"),stopAddress:Ae().optional(),direction:Ae().optional(),departureTime:Ae().min(1,"Departure time is required"),daysOfWeek:Ae().min(1,"Days of week is required"),isFrequent:ko().default(!1),notes:Ae().optional()}),Lte=ws({planName:Ae().min(1,"Plan name is required"),conditionType:Ae().min(1,"Condition type is required"),symptoms:Ae().min(1,"Symptoms are required"),immediateActions:Ae().min(1,"Immediate actions are required"),medications:Ae().optional(),emergencyContacts:Ae().optional(),hospitalPreference:Ae().optional(),importantNotes:Ae().optional(),isActive:ko().default(!0)});function $te(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState("Getting location..."),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[h,u]=v.useState(!1),{toast:m}=ut(),p=Jt(),j=[{id:1,title:"Home to Library",fromAddress:"123 Main St, City, State",toAddress:"Public Library, 456 Oak Ave",transportType:"public",estimatedTime:25,estimatedCost:2.5,isFavorite:!0,lastUsed:new Date(Date.now()-2*24*60*60*1e3)},{id:2,title:"Home to Doctor",fromAddress:"123 Main St, City, State",toAddress:"Medical Center, 789 Health Way",transportType:"rideshare",estimatedTime:15,estimatedCost:12.5,isFavorite:!0,lastUsed:new Date(Date.now()-7*24*60*60*1e3)},{id:3,title:"Home to Park",fromAddress:"123 Main St, City, State",toAddress:"Central Park, 321 Green St",transportType:"walking",estimatedTime:20,isFavorite:!1,lastUsed:new Date(Date.now()-14*24*60*60*1e3)}],y=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0},{id:4,name:"Dad",relationship:"Parent",phoneNumber:"(555) 345-6789",isQuickDial:!1}],g=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"}],{data:f=[]}=xe({queryKey:["/api/bus-schedules"]}),{data:b=[]}=xe({queryKey:["/api/emergency-treatment-plans"]}),x=Ut({resolver:zt(Fte),defaultValues:{title:"",fromAddress:"",toAddress:"",transportType:"",notes:""}}),w=Ut({resolver:zt(Ote),defaultValues:{routeName:"",routeNumber:"",stopName:"",stopAddress:"",direction:"",departureTime:"",daysOfWeek:"",isFrequent:!1,notes:""}}),S=Ut({resolver:zt(Lte),defaultValues:{planName:"",conditionType:"",symptoms:"",immediateActions:"",medications:"",emergencyContacts:"",hospitalPreference:"",importantNotes:"",isActive:!0}}),N=Ce({mutationFn:F=>ve("POST","/api/bus-schedules",F),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/bus-schedules"]}),m({title:"Bus schedule added successfully!"}),d(!1),w.reset()},onError:()=>{m({title:"Error",description:"Failed to add bus schedule",variant:"destructive"})}}),C=Ce({mutationFn:F=>ve("POST","/api/emergency-treatment-plans",F),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/emergency-treatment-plans"]}),m({title:"Emergency treatment plan created successfully!"}),u(!1),S.reset()},onError:()=>{m({title:"Error",description:"Failed to create emergency plan",variant:"destructive"})}}),k=F=>{switch(F){case"public":return n.jsx(to,{className:"w-4 h-4"});case"rideshare":return n.jsx(M0,{className:"w-4 h-4"});case"walking":return n.jsx(zp,{className:"w-4 h-4"});case"driving":return n.jsx(M0,{className:"w-4 h-4"});default:return n.jsx(P9,{className:"w-4 h-4"})}},T=F=>{switch(F){case"safe":return"text-green-600 bg-green-100";case"emergency":return"text-red-600 bg-red-100";case"help_needed":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},D=()=>{navigator.geolocation?(r(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:re,longitude:fe}=F.coords;a(`${re.toFixed(6)}, ${fe.toFixed(6)}`),m({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},F=>{r(!1),m({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})})):m({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"})},P=F=>{m({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[F]}`})},M=F=>{window.open(`tel:${F.phoneNumber}`,"_self"),m({title:"Calling",description:`Calling ${F.name} at ${F.phoneNumber}`})},X=F=>{const re=encodeURIComponent(F.toAddress),V=`https://www.google.com/maps/dir/${encodeURIComponent(F.fromAddress)}/${re}`;window.open(V,"_blank"),m({title:"Navigation started",description:`Opening directions to ${F.toAddress}`})},ee=F=>{m({title:"Saved to favorites",description:"This route has been added to your favorite trips."})};return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5 text-blue-600"}),"Safety & Transportation",n.jsx(me,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),n.jsx(at,{children:"Stay safe with location sharing, emergency contacts, and travel planning"})]}),n.jsx(H,{children:n.jsxs(Cn,{value:e,onValueChange:t,children:[n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(dn,{className:"flex w-max min-w-full gap-1 px-1",children:[n.jsx(Ve,{value:"overview",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Overview"}),n.jsx(Ve,{value:"emergency",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Emergency"}),n.jsx(Ve,{value:"transportation",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Travel"}),n.jsx(Ve,{value:"bus",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Bus Routes"}),n.jsx(Ve,{value:"emergency-plans",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Medical Plans"})]})}),n.jsxs(qe,{value:"overview",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Xs,{className:"w-5 h-5 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Share Location"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Let your caregivers know where you are"}),n.jsx(E,{onClick:D,className:"w-full",disabled:s,children:s?"Sharing...":"Share Location"})]}),n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(vs,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Emergency Call"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quick access to your emergency contacts"}),n.jsx(E,{onClick:()=>M(y[0]),className:"w-full bg-green-600 hover:bg-green-700",children:"Call Mom"})]})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Safety Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs(E,{onClick:()=>P("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[n.jsx(Lt,{className:"w-3 h-3 mr-1"}),"Safe"]}),n.jsxs(E,{onClick:()=>P("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[n.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Help"]}),n.jsxs(E,{onClick:()=>P("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[n.jsx(vs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Favorite Routes"}),n.jsx("div",{className:"space-y-3",children:j.filter(F=>F.isFavorite).map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:F.title}),n.jsxs("div",{className:"text-xs text-gray-600",children:[F.estimatedTime," min • ",F.estimatedCost?`$${F.estimatedCost}`:"Free"]})]})]}),n.jsxs(E,{size:"sm",onClick:()=>X(F),children:[n.jsx(zp,{className:"w-4 h-4 mr-2"}),"Go"]})]},F.id))})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),n.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(F=>n.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${T(F.status)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:F.location}),n.jsx("div",{className:"text-xs text-gray-600",children:F.message})]}),n.jsx("div",{className:"text-xs text-gray-500",children:_i(F.timestamp)})]},F.id))})]})]}),n.jsxs(qe,{value:"emergency",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs($,{className:"p-4 border-red-200 bg-red-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-red-800",children:"Emergency Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(E,{onClick:()=>M(y.find(F=>F.phoneNumber==="911")),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[n.jsx(vs,{className:"w-4 h-4 mr-2"}),"Call 911"]}),n.jsxs(E,{onClick:()=>{D(),P("emergency")},variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[n.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Emergency Alert"]})]})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),n.jsx("div",{className:"space-y-3",children:y.filter(F=>F.isQuickDial).map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(as,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:F.name}),n.jsx("div",{className:"text-sm text-gray-600",children:F.relationship}),n.jsx("div",{className:"text-xs text-gray-500",children:F.phoneNumber})]})]}),n.jsxs(E,{onClick:()=>M(F),children:[n.jsx(vs,{className:"w-4 h-4 mr-2"}),"Call"]})]},F.id))})]}),n.jsxs($,{className:"p-4 border-yellow-200 bg-yellow-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-yellow-800",children:"Safety Reminders"}),n.jsxs("ul",{className:"space-y-2 text-sm text-yellow-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Always share your location when traveling to new places"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Keep your phone charged and carry a portable charger"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Trust your instincts - if something feels wrong, seek help"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Have backup transportation plans ready"]})]})]})]}),n.jsxs(qe,{value:"transportation",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Travel Plans"}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"New Plan"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Transportation Plan"}),n.jsx(Zt,{children:"Plan your route with step-by-step directions"})]}),n.jsx(Bt,{...x,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:x.control,name:"title",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Trip Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Home to Library",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"fromAddress",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"From"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Starting location",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"toAddress",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"To"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Destination",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"transportType",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Transportation Type"}),n.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select transportation"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"walking",children:"Walking"}),n.jsx(B,{value:"public",children:"Public Transit"}),n.jsx(B,{value:"rideshare",children:"Rideshare/Taxi"}),n.jsx(B,{value:"driving",children:"Driving"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"notes",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Special instructions, landmarks, etc.",...F})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Plan"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:j.map(F=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),n.jsx("h4",{className:"font-medium",children:F.title}),F.isFavorite&&n.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"From:"})," ",F.fromAddress]}),n.jsxs("div",{children:[n.jsx("strong",{children:"To:"})," ",F.toAddress]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(js,{className:"w-3 h-3"}),F.estimatedTime," min"]}),F.estimatedCost&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"$"}),F.estimatedCost]}),F.lastUsed&&n.jsxs("div",{children:["Last used ",_i(F.lastUsed)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(E,{size:"sm",onClick:()=>X(F),children:[n.jsx(zp,{className:"w-4 h-4 mr-2"}),"Navigate"]}),!F.isFavorite&&n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>ee(F.id),children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Favorite"]})]})]})},F.id))})]}),n.jsxs(qe,{value:"bus",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Bus Schedules"}),n.jsxs(et,{open:c,onOpenChange:d,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Bus Schedule"}),n.jsx(Zt,{children:"Save local bus route information for easy travel planning"})]}),n.jsx(Bt,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(F=>N.mutate(F)),className:"space-y-4",children:[n.jsx(Z,{control:w.control,name:"routeName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Route Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Downtown Express",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"routeNumber",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Route Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 42, A1",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"stopName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Stop Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Main St & Oak Ave",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"departureTime",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Departure Time"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 08:30, 2:15 PM",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"daysOfWeek",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Days of Week"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Monday,Tuesday,Wednesday",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"isFrequent",render:({field:F})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Si,{checked:F.value,onCheckedChange:F.onChange})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsx(Q,{children:"Frequent Route"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Mark as a frequently used route"})]})]})}),n.jsx(E,{type:"submit",disabled:N.isPending,children:N.isPending?"Adding...":"Add Bus Schedule"})]})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[f.map(F=>n.jsx($,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(to,{className:"w-4 h-4 text-blue-500"}),n.jsx("h4",{className:"font-medium",children:F.routeName}),F.routeNumber&&n.jsxs(me,{variant:"outline",children:["#",F.routeNumber]}),F.isFrequent&&n.jsx(Ht,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Stop:"})," ",F.stopName]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Time:"})," ",F.departureTime]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Days:"})," ",F.daysOfWeek]})]})]})})},F.id)),f.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(to,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No bus schedules saved yet"}),n.jsx("p",{className:"text-sm",children:"Add your local bus routes to plan trips easily"})]})]})]}),n.jsxs(qe,{value:"emergency-plans",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Emergency Treatment Plans"}),n.jsxs(et,{open:h,onOpenChange:u,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Plan"]})}),n.jsxs(Ye,{className:"max-w-2xl",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Emergency Treatment Plan"}),n.jsx(Zt,{children:"Create a personalized response plan for medical emergencies"})]}),n.jsx(Bt,{...S,children:n.jsxs("form",{onSubmit:S.handleSubmit(F=>C.mutate(F)),className:"space-y-4",children:[n.jsx(Z,{control:S.control,name:"planName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Plan Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Anxiety Attack Response Plan",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:S.control,name:"conditionType",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Condition Type"}),n.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select condition type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"anxiety",children:"Anxiety Attack"}),n.jsx(B,{value:"seizure",children:"Seizure"}),n.jsx(B,{value:"allergic_reaction",children:"Allergic Reaction"}),n.jsx(B,{value:"meltdown",children:"Sensory Meltdown"}),n.jsx(B,{value:"panic_attack",children:"Panic Attack"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:S.control,name:"symptoms",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Warning Signs & Symptoms"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Describe what to watch for that indicates this emergency is happening...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:S.control,name:"immediateActions",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Immediate Actions"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Step-by-step instructions for immediate response...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:S.control,name:"medications",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Emergency Medications"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"List any emergency medications and dosages...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:S.control,name:"emergencyContacts",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Emergency Contacts"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Specific contacts to call for this emergency...",...F})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",disabled:C.isPending,children:C.isPending?"Creating...":"Create Emergency Plan"})]})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[b.map(F=>n.jsx($,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ot,{className:"w-4 h-4 text-red-500"}),n.jsx("h4",{className:"font-medium",children:F.planName}),n.jsx(me,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Condition:"})," ",F.conditionType]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Symptoms:"})," ",F.symptoms]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Immediate Actions:"})," ",F.immediateActions]})]})]})})},F.id)),b.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ot,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No emergency treatment plans created yet"}),n.jsx("p",{className:"text-sm",children:"Create personalized emergency response plans for peace of mind"})]})]})]})]})})]})}function Ute(){const[e,t]=v.useState(!1),[s,r]=v.useState("Getting location..."),[i,a]=v.useState(!1),[o,l]=v.useState(!1),{toast:c}=ut(),d=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0}],h=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"},{id:3,location:"Home",timestamp:new Date(Date.now()-5*60*60*1e3),status:"safe",message:"Made it home safely"}],u=()=>{t(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(g=>{t(!1);const{latitude:f,longitude:b}=g.coords;r(`${f.toFixed(6)}, ${b.toFixed(6)}`),a(!0),c({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},g=>{t(!1),c({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})}):(t(!1),c({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"}))},m=(g,f)=>{const x=f||{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[g];c({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${x}`})},p=g=>{window.open(`tel:${g.phoneNumber}`,"_self"),c({title:"Calling",description:`Calling ${g.name} at ${g.phoneNumber}`})},j=g=>{switch(g){case"safe":return"bg-green-500";case"help_needed":return"bg-yellow-500";case"emergency":return"bg-red-500";default:return"bg-gray-500"}},y=()=>{l(!o),c({title:o?"Auto-share disabled":"Auto-share enabled",description:o?"Location will no longer be shared automatically":"Location will be shared automatically when traveling"})};return n.jsxs($,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-5 h-5 text-blue-600"}),"Location & Safety",n.jsx(me,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),n.jsx(at,{children:"Share your location, send safety check-ins, and manage emergency contacts"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs($,{className:"p-4 border-blue-200 bg-blue-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-medium text-blue-800",children:"Current Location"}),n.jsx(E,{onClick:()=>a(!i),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",children:i?n.jsx(I0,{className:"w-4 h-4"}):n.jsx(fm,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Xs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-blue-700",children:i?s:"Location hidden for privacy"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:u,className:"flex-1",disabled:e,children:[n.jsx(cw,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),e?"Getting Location...":"Update Location"]}),n.jsxs(E,{onClick:y,variant:o?"default":"outline",size:"sm",className:"text-xs",children:[n.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Auto ",o?"ON":"OFF"]})]})]})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Quick Safety Check"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs(E,{onClick:()=>m("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[n.jsx(Lt,{className:"w-3 h-3 mr-1"}),"Safe"]}),n.jsxs(E,{onClick:()=>m("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[n.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Help"]}),n.jsxs(E,{onClick:()=>m("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[n.jsx(vs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]}),n.jsxs("div",{className:"mt-4 p-3 border rounded-lg bg-gray-50",children:[n.jsx(de,{className:"text-sm font-medium mb-2 block",children:"Custom Check-in Message"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{placeholder:"e.g., Arrived at the store, doing well",className:"flex-1"}),n.jsxs(E,{onClick:()=>m("safe","Custom message sent"),size:"sm",children:[n.jsx(Rf,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),n.jsx("div",{className:"space-y-3",children:d.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(as,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:g.name}),n.jsx("div",{className:"text-sm text-gray-600",children:g.relationship}),n.jsx("div",{className:"text-xs text-gray-500",children:g.phoneNumber})]})]}),n.jsxs(E,{onClick:()=>p(g),size:"sm",children:[n.jsx(vs,{className:"w-4 h-4 mr-2"}),"Call"]})]},g.id))})]}),n.jsxs($,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),n.jsx("div",{className:"space-y-3",children:h.map(g=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${j(g.status)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:g.location}),n.jsx("div",{className:"text-xs text-gray-600",children:g.message})]}),n.jsx("div",{className:"text-xs text-gray-500",children:_i(g.timestamp)})]},g.id))})]}),n.jsxs($,{className:"p-4 border-purple-200 bg-purple-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-purple-800",children:"Location Settings"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Share location when traveling"}),n.jsx(me,{variant:o?"default":"secondary",children:o?"Enabled":"Disabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Emergency location sharing"}),n.jsx(me,{variant:"default",children:"Always On"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Location history"}),n.jsx(me,{variant:"secondary",children:"7 days"})]}),n.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"Your location is only shared with your designated emergency contacts and is automatically deleted after 7 days for privacy."})]})]}),n.jsx(Bte,{})]})]})}function Bte(){const[e,t]=v.useState(!1),[s,r]=v.useState({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),{toast:i}=ut(),a=[],o=[],l=Ce({mutationFn:async u=>await ve("POST","/api/geofences",u),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/geofences"]}),t(!1),r({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),i({title:"Geofence created",description:"Safe zone has been set up successfully."})},onError:()=>{i({title:"Error",description:"Failed to create geofence.",variant:"destructive"})}}),c=Ce({mutationFn:async u=>await ve("DELETE",`/api/geofences/${u}`),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/geofences"]}),i({title:"Geofence deleted",description:"Safe zone has been removed."})},onError:()=>{i({title:"Error",description:"Failed to delete geofence.",variant:"destructive"})}}),d=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>{r(m=>({...m,latitude:u.coords.latitude.toString(),longitude:u.coords.longitude.toString()})),i({title:"Location captured",description:"Current location has been set for the geofence."})},()=>{i({title:"Location error",description:"Unable to get your current location.",variant:"destructive"})})},h=()=>{if(!s.name||!s.latitude||!s.longitude){i({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}l.mutate({...s,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude)})};return n.jsxs($,{className:"p-4 border-green-200 bg-green-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b9,{className:"w-5 h-5 text-green-600"}),n.jsx("h3",{className:"font-medium text-green-800",children:"Safe Zones (Geofencing)"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Zone"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Create Safe Zone"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"geofence-name",children:"Zone Name"}),n.jsx(q,{id:"geofence-name",placeholder:"e.g. Home, School, Work",value:s.name,onChange:u=>r(m=>({...m,name:u.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"latitude",children:"Latitude"}),n.jsx(q,{id:"latitude",type:"number",step:"any",placeholder:"40.7128",value:s.latitude,onChange:u=>r(m=>({...m,latitude:u.target.value}))})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"longitude",children:"Longitude"}),n.jsx(q,{id:"longitude",type:"number",step:"any",placeholder:"-74.0060",value:s.longitude,onChange:u=>r(m=>({...m,longitude:u.target.value}))})]})]}),n.jsxs(E,{onClick:d,variant:"outline",className:"w-full",children:[n.jsx(zp,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"radius",children:"Radius (meters)"}),n.jsx(q,{id:"radius",type:"number",min:"50",max:"5000",value:s.radius,onChange:u=>r(m=>({...m,radius:parseInt(u.target.value)}))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{htmlFor:"notify-exit",children:"Notify when leaving zone"}),n.jsx(Ls,{id:"notify-exit",checked:s.notifyOnExit,onCheckedChange:u=>r(m=>({...m,notifyOnExit:u}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{htmlFor:"notify-enter",children:"Notify when entering zone"}),n.jsx(Ls,{id:"notify-enter",checked:s.notifyOnEnter,onCheckedChange:u=>r(m=>({...m,notifyOnEnter:u}))})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{onClick:h,className:"flex-1",children:"Create Safe Zone"}),n.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})]})]}),n.jsx("div",{className:"space-y-3",children:!a||!Array.isArray(a)||a.length===0?n.jsx("div",{className:"text-sm text-gray-600 text-center py-4",children:"No safe zones set up yet. Create one to get caregiver notifications when you leave or enter specific locations."}):a.map(u=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-200 rounded-lg bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xs,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:u.name}),n.jsxs("div",{className:"text-xs text-gray-600",children:[u.radius,"m radius •",u.notifyOnExit&&" Exit alerts",u.notifyOnEnter&&" Entry alerts"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{variant:u.isActive?"default":"secondary",children:u.isActive?"Active":"Inactive"}),n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>c.mutate(u.id),className:"text-red-600 hover:text-red-800",children:n.jsx(En,{className:"w-4 h-4"})})]})]},u.id))}),o&&o.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[n.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Recent Zone Activity"}),n.jsx("div",{className:"space-y-2",children:o.slice(0,3).map(u=>n.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-green-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u.eventType==="exit"?"bg-orange-500":"bg-green-500"}`}),n.jsxs("span",{children:[u.eventType==="exit"?"Left":"Entered"," zone"]})]}),n.jsx("span",{className:"text-gray-500",children:_i(new Date(u.timestamp))})]},u.id))})]}),n.jsx("p",{className:"text-xs text-green-600 mt-4",children:"Caregivers will receive instant notifications when you leave or enter designated safe zones. This helps them know you're safe without constant check-ins."})]})}function Z2(){const[e,t]=v.useState(!1),{modules:s,reorderModules:r}=HK();WK();const i=l=>{if(!l.destination)return;const c=l.source.index,d=l.destination.index;if(c===d)return;const h=s.filter(y=>y.enabled),u=h[c].id,m=h[d].id,p=s.findIndex(y=>y.id===u),j=s.findIndex(y=>y.id===m);r(p,j)},a={DailySummary:$ee,DailyTasksModule:bY,MoodModule:wY,FinancialModule:jY,AppointmentsModule:Lee,AchievementsModule:NY,CaregiverModule:SY,PharmacyModule:RF,SafetyTransportationModule:$te,LocationSafetyModule:Ute,HealthWellnessModule:xte,AccessibilitySettingsModule:kte,LifeSkillsModule:_te,ProgressMotivationModule:Ete},o=(l,c,d=!1)=>{const h=a[c];return h?d&&e?n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"bg-blue-500 text-white rounded-full p-1 shadow-lg flex items-center gap-1 text-xs px-2",children:[n.jsx(Au,{className:"w-3 h-3"}),"Drag to reorder"]})}),n.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-2 hover:border-blue-400 transition-colors",children:n.jsx(h,{},l)})]}):n.jsx(h,{},l):null};return n.jsxs(n.Fragment,{children:[n.jsx(KK,{}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsx("div",{className:"flex-1",children:n.jsx(YK,{})})}),n.jsx(nY,{}),e&&n.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Au,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-800 font-medium",children:"Tile Reorder Mode Active"}),n.jsx("p",{className:"text-blue-600 text-sm",children:"Click and drag any tile below to reorder your dashboard"})]})]}),n.jsx(V0,{onDragEnd:i,children:n.jsx(W0,{droppableId:"dashboard-modules",isDropDisabled:!e,children:(l,c)=>n.jsxs("div",{...l.droppableProps,ref:l.innerRef,className:`space-y-8 mt-8 ${e&&c.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4":""}`,children:[s.filter(d=>d.enabled).map((d,h)=>{const u=s.findIndex(m=>m.id===d.id);return n.jsx(q0,{draggableId:d.id,index:h,isDragDisabled:!e,children:(m,p)=>n.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:`${p.isDragging?"opacity-75 transform scale-105 shadow-lg":""} transition-all duration-200`,children:[d.id==="daily-summary"?(()=>{const j=s[u+1],y=j&&j.id==="daily-tasks"&&j.enabled;return n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:o(d.id,d.component,e)}),n.jsx("div",{className:"lg:col-span-2",children:y?o(j.id,j.component,e):null})]})})():null,d.id==="daily-tasks"&&u>0&&(()=>{const j=s[u-1];return j&&j.id==="daily-summary"&&j.enabled?null:["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?n.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:n.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):n.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)})})(),d.id!=="daily-summary"&&d.id!=="daily-tasks"?["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?n.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:n.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):n.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)}):null]})},d.id)}),l.placeholder]})})})]}),n.jsx(ate,{})]})}function Ri(){var a;const[e,t]=Ln(),{data:s}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]});v.useEffect(()=>{var d,h;if(!s||!r||s.accountType==="admin"||s.username==="admin"||((d=s.name)==null?void 0:d.toLowerCase().includes("admin")))return;if(["/wearable-devices","/meal-planning","/medication-management","/location-safety","/analytics","/pharmacy"].some(u=>e.startsWith(u))){if(r.status==="expired"||r.status!=="active"&&r.trialDaysLeft===0){t("/subscription");return}const m=(h=Object.entries({"/wearable-devices":"wearableDevices","/meal-planning":"mealPlanning","/medication-management":"medicationManagement","/location-safety":"locationSafety","/analytics":"advancedAnalytics","/pharmacy":"medicationManagement"}).find(([p])=>e.startsWith(p)))==null?void 0:h[1];m&&!r.features[m]&&t("/subscription")}},[e,s,r,t]);const i=(s==null?void 0:s.accountType)==="admin"||(s==null?void 0:s.username)==="admin"||((a=s==null?void 0:s.name)==null?void 0:a.toLowerCase().includes("admin"));return{subscription:r,isPremiumUser:i||(r==null?void 0:r.status)==="active"||(r==null?void 0:r.status)==="trialing"&&((r==null?void 0:r.trialDaysLeft)||0)>0,hasFeature:o=>i||(r==null?void 0:r.features[o])||!1}}function pa({title:e,description:t,feature:s,requiredPlan:r,className:i=""}){const a={premium:"from-purple-600 to-pink-600",family:"from-blue-600 to-purple-600"},l={premium:Ht,family:Bp}[r];return n.jsxs($,{className:`border-2 border-dashed border-gray-300 bg-gray-50 ${i}`,children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:n.jsx(Rr,{className:"w-8 h-8 text-gray-500"})}),n.jsx(ce,{className:"text-lg text-gray-700",children:e}),n.jsxs(me,{variant:"secondary",className:`bg-gradient-to-r ${a[r]} text-white`,children:[n.jsx(l,{className:"w-3 h-3 mr-1"}),r==="premium"?"Premium":"Family"," Feature"]})]}),n.jsxs(H,{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:t}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ue,{href:"/subscription",children:n.jsxs(E,{className:`w-full bg-gradient-to-r ${a[r]} hover:opacity-90 text-white`,children:[n.jsx(ca,{className:"w-4 h-4 mr-2"}),"Upgrade to ",r==="premium"?"Premium":"Family"]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Start with a 7-day free trial"})]})]})]})}function zte(){const{isPremiumUser:e}=Ri();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Daily Task Management",description:"Organize and track your daily tasks with reminders, categories, and progress tracking. Subscribe to continue using Adaptalyfe's core task management features.",feature:"tasks",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=ut(),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),[h,u]=v.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),{data:m=[],isLoading:p}=xe({queryKey:["/api/daily-tasks"]}),j=Ce({mutationFn:async T=>ve("POST","/api/daily-tasks",T),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/daily-tasks"]}),r(!1),d({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),t({title:"Task created!",description:"New task added to your daily list"})},onError:()=>{t({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}}),y=Ce({mutationFn:async({taskId:T,isCompleted:D,task:P})=>ve("PATCH",`/api/daily-tasks/${T}/complete`,{isCompleted:D}),onSuccess:(T,D)=>{gs.invalidateQueries({queryKey:["/api/daily-tasks"]}),gs.invalidateQueries({queryKey:["/api/points/balance"]});const{isCompleted:P,task:M}=D;let X="Great job staying on track!";P&&M&&M.pointValue>0&&(X=`Excellent! You earned ${M.pointValue} points for completing this task!`),t({title:P?"Task completed!":"Task updated!",description:X})}}),g=Ce({mutationFn:async({taskId:T,updates:D})=>ve("PATCH",`/api/daily-tasks/${T}`,D),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/daily-tasks"]}),a(!1),l(null),t({title:"Task updated!",description:"Your task has been updated successfully."})},onError:()=>{t({title:"Error",description:"Failed to update task. Please try again.",variant:"destructive"})}}),f=()=>{if(!c.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}j.mutate({...c,pointValue:parseInt(c.pointValue)||0,estimatedMinutes:parseInt(c.estimatedMinutes)||15})},b=T=>{var D,P;l(T),u({title:T.title,description:T.description||"",category:T.category,frequency:T.frequency||"daily",estimatedMinutes:((D=T.estimatedMinutes)==null?void 0:D.toString())||"",pointValue:((P=T.pointValue)==null?void 0:P.toString())||"",scheduledTime:T.scheduledTime||""}),a(!0)},x=()=>{if(!h.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}o&&g.mutate({taskId:o.id,updates:{...h,pointValue:parseInt(h.pointValue)||0,estimatedMinutes:parseInt(h.estimatedMinutes)||15}})},w=(m||[]).filter(T=>T.isCompleted).length,S=(m||[]).length,N=S>0?Math.round(w/S*100):0,C=(m||[]).reduce((T,D)=>(T[D.category]||(T[D.category]=[]),T[D.category].push(D),T),{}),k={morning:"bg-sunny-orange",cooking:"bg-vibrant-green",organization:"bg-bright-blue",planning:"bg-happy-purple"};return p?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded"}),n.jsx("div",{className:"grid gap-6",children:[1,2,3].map(T=>n.jsx("div",{className:"h-64 bg-gray-200 rounded"},T))})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Daily Tasks"}),n.jsx($,{className:"border-t-4 border-vibrant-green",children:n.jsxs(H,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Today's Progress"}),n.jsxs("p",{className:"text-gray-600",children:[w," of ",S," tasks completed"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[N,"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete"})]})]}),n.jsx("div",{className:"w-full bg-gradient-to-r from-gray-300 to-gray-400 rounded-full h-6 shadow-inner border border-gray-400",children:n.jsxs("div",{className:"bg-gradient-to-r from-green-500 via-green-400 to-emerald-400 h-6 rounded-full transition-all duration-500 shadow-lg relative overflow-hidden border-2 border-green-600",style:{width:`${N}%`},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-200 to-transparent opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-green-600/20 to-transparent"})]})})]})})]}),n.jsx("div",{className:"grid gap-6",children:Object.entries(C).map(([T,D])=>n.jsxs($,{className:"border-t-4 border-gray-200",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 ${k[T]||"bg-gray-400"} rounded-lg`}),n.jsxs("span",{className:"capitalize",children:[T," Tasks"]}),n.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",D.filter(P=>P.isCompleted).length,"/",D.length,")"]})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:D.map(P=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx(E,{variant:"ghost",size:"sm",className:`w-8 h-8 p-0 rounded-full flex items-center justify-center ${P.isCompleted?"bg-vibrant-green hover:bg-vibrant-green":"bg-green-500 hover:bg-vibrant-green"}`,onClick:()=>y.mutate({taskId:P.id,isCompleted:!P.isCompleted,task:P}),disabled:y.isPending,children:P.isCompleted?n.jsx(Lt,{className:"text-white",size:20}):n.jsx(hc,{className:"text-white",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`font-medium text-gray-900 ${P.isCompleted?"line-through":""}`,children:P.title}),n.jsx("p",{className:"text-sm text-gray-600",children:P.description}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(js,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[P.estimatedMinutes," minutes"]})]}),P.frequency&&P.frequency!=="daily"&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full font-medium",children:P.frequency})}),P.scheduledTime&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:new Date(`2000-01-01T${P.scheduledTime}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})}),P.pointValue&&P.pointValue>0&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ht,{size:14,className:"text-yellow-500"}),n.jsxs("span",{className:"text-xs text-yellow-600 font-medium",children:[P.pointValue," points"]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-blue-100",onClick:()=>b(P),children:n.jsx(k9,{className:"text-blue-600",size:16})}),P.isCompleted&&n.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-full flex items-center justify-center",children:n.jsx(Ht,{className:"text-white",size:20})})]})]},P.id))})})]},T))}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-vibrant-green hover:bg-green-600 text-black font-bold shadow-lg border border-green-700",children:[n.jsx(ct,{size:20,className:"mr-2 text-black"}),n.jsx("span",{className:"text-black font-bold",children:"Add New Task"})]})}),n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Daily Task"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Task title",value:c.title,onChange:T=>d({...c,title:T.target.value})}),n.jsx(lt,{placeholder:"Description (optional)",value:c.description,onChange:T=>d({...c,description:T.target.value})}),n.jsxs(Ge,{value:c.category,onValueChange:T=>d({...c,category:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal_care",children:"Personal Care"}),n.jsx(B,{value:"household",children:"Household"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsxs(Ge,{value:c.frequency,onValueChange:T=>d({...c,frequency:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),n.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:c.scheduledTime,onChange:T=>d({...c,scheduledTime:T.target.value})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:c.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&d({...c,estimatedMinutes:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:c.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&d({...c,pointValue:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:f,disabled:j.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:j.isPending?"Creating...":"Create Task"}),n.jsx(E,{onClick:()=>r(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Edit Task"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Task title",value:h.title,onChange:T=>u({...h,title:T.target.value})}),n.jsx(lt,{placeholder:"Description (optional)",value:h.description,onChange:T=>u({...h,description:T.target.value})}),n.jsxs(Ge,{value:h.category,onValueChange:T=>u({...h,category:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal_care",children:"Personal Care"}),n.jsx(B,{value:"household",children:"Household"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsxs(Ge,{value:h.frequency,onValueChange:T=>u({...h,frequency:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),n.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:h.scheduledTime,onChange:T=>u({...h,scheduledTime:T.target.value})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:h.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&u({...h,estimatedMinutes:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:h.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&u({...h,pointValue:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:x,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",disabled:g.isPending,children:g.isPending?"Updating...":"Update Task"}),n.jsx(E,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}const Vte=ws({name:Ae().min(1,"Bill name is required"),amount:Bs().min(.01,"Amount must be greater than 0"),dueDate:Bs().min(1).max(31),category:Ae().min(1,"Category is required"),isRecurring:ko()}),qte=ws({category:Ae().min(1,"Category is required"),amount:Bs().min(.01,"Amount must be greater than 0"),type:kl(["income","expense"]),description:Ae().optional()}),Hte=ws({title:Ae().min(1,"Goal title is required"),description:Ae().optional(),targetAmount:Bs().min(.01,"Target amount must be greater than 0"),currentAmount:Bs().min(0,"Current amount cannot be negative"),targetDate:Ae().min(1,"Target date is required"),category:Ae().optional(),priority:kl(["low","medium","high"]).default("medium")}),Wte=ws({name:Ae().min(1,"Category name is required"),type:kl(["income","expense"]),budgetedAmount:Bs().min(0,"Budget amount cannot be negative"),color:Ae().optional()});function Gte(){const{isPremiumUser:e}=Ri(),{toast:t}=ut(),[s,r]=v.useState(!1);if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Financial Management",description:"Track bills, manage budgets, and monitor your financial health. Subscribe to continue using Adaptalyfe's financial management tools.",feature:"financial",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[h,u]=v.useState(null),[m,p]=v.useState(null),[j,y]=v.useState(null),[g,f]=v.useState("overview"),{data:b=[],isLoading:x}=xe({queryKey:["/api/bills"]}),{data:w=[],isLoading:S}=xe({queryKey:["/api/budget-entries"]}),{data:N=[]}=xe({queryKey:["/api/savings-goals"]}),{data:C=[]}=xe({queryKey:["/api/budget-categories"]}),k=Ut({resolver:zt(Vte),defaultValues:{name:"",amount:0,dueDate:1,category:"",isRecurring:!0}}),T=Ut({resolver:zt(qte),defaultValues:{category:"",amount:0,type:"expense",description:""}}),D=Ut({resolver:zt(Hte),defaultValues:{title:"",description:"",targetAmount:0,currentAmount:0,targetDate:"",category:"general",priority:"medium"}}),P=Ut({resolver:zt(Wte),defaultValues:{name:"",type:"expense",budgetedAmount:0,color:"#3b82f6"}}),M=Ce({mutationFn:async L=>(await ve("POST","/api/budget-entries",L)).json(),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/budget-entries"]}),a(!1),T.reset(),t({title:"Success",description:"Budget entry added successfully!"})},onError:()=>{t({title:"Error",description:"Failed to add budget entry",variant:"destructive"})}}),X=Ce({mutationFn:async L=>{const oe=h?`/api/savings-goals/${h.id}`:"/api/savings-goals";return(await ve(h?"PATCH":"POST",oe,L)).json()},onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/savings-goals"]}),gs.refetchQueries({queryKey:["/api/savings-goals"]}),l(!1),u(null),D.reset(),t({title:"Success",description:h?"Savings goal updated successfully!":"Savings goal created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save savings goal",variant:"destructive"})}}),ee=Ce({mutationFn:async L=>{const oe=j?`/api/bills/${j.id}`:"/api/bills";return(await ve(j?"PATCH":"POST",oe,L)).json()},onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/bills"]}),gs.refetchQueries({queryKey:["/api/bills"]}),r(!1),y(null),k.reset(),t({title:"Success",description:j?"Bill updated successfully!":"Bill created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save bill",variant:"destructive"})}}),F=Ce({mutationFn:async L=>{const oe=m?`/api/budget-categories/${m.id}`:"/api/budget-categories";return(await ve(m?"PATCH":"POST",oe,L)).json()},onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/budget-categories"]}),gs.refetchQueries({queryKey:["/api/budget-categories"]}),d(!1),p(null),P.reset(),t({title:"Success",description:m?"Category updated successfully!":"Category created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save category",variant:"destructive"})}}),re=w.filter(L=>L.type==="income").reduce((L,oe)=>L+oe.amount,0),fe=w.filter(L=>L.type==="expense").reduce((L,oe)=>L+oe.amount,0),V=re>0?fe/re*100:0;return x||S?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-24 bg-gray-200 rounded"}),n.jsx("div",{className:"h-24 bg-gray-200 rounded"}),n.jsx("div",{className:"h-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Financial Management"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsx($,{className:"border-t-4 border-bright-blue",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-bright-blue rounded-lg flex items-center justify-center",children:n.jsx(Ti,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Income"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(re)})]})]})})}),n.jsx($,{className:"border-t-4 border-sunny-orange",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(uo,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(fe)})]})]})})}),n.jsx($,{className:"border-t-4 border-vibrant-green",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:n.jsx(Lt,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Budget Status"}),n.jsxs("p",{className:`text-2xl font-bold ${V<80?"text-green-600":V<100?"text-yellow-600":"text-red-600"}`,children:[Math.round(V),"%"]})]})]})})})]}),n.jsxs(Cn,{value:g,onValueChange:f,className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-5",children:[n.jsx(Ve,{value:"overview",children:"Overview"}),n.jsx(Ve,{value:"bills",children:"Bills"}),n.jsxs(Ve,{value:"savings",children:[n.jsx(Zs,{className:"h-4 w-4 mr-1"}),"Savings"]}),n.jsxs(Ve,{value:"categories",children:[n.jsx(xS,{className:"h-4 w-4 mr-1"}),"Categories"]}),n.jsx(Ve,{value:"banking",children:"Banking"})]}),n.jsx(qe,{value:"overview",className:"mt-6",children:n.jsx("div",{className:"space-y-6",children:n.jsxs($,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Monthly Budget Overview"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Expense"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Budget Entry"})}),n.jsx(Bt,{...T,children:n.jsxs("form",{onSubmit:T.handleSubmit(L=>M.mutate(L)),className:"space-y-4",children:[n.jsx(Z,{control:T.control,name:"type",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Entry Type"}),n.jsxs(Ge,{onValueChange:L.onChange,defaultValue:L.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select entry type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"income",children:"Income"}),n.jsx(B,{value:"expense",children:"Expense"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"category",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Groceries, Gas, Shopping",...L})}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"amount",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...L,onChange:oe=>L.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"description",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Add a note...",...L})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:M.isPending,children:M.isPending?"Adding...":"Add Entry"})]})})]})]}),n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{T.reset({type:"income",category:"",amount:0,description:""}),a(!0)},children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Income"]})]})]})}),n.jsxs(H,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Budget Usage"}),n.jsx("span",{className:`text-sm font-medium ${V<80?"text-green-600":V<100?"text-yellow-600":"text-red-600"}`,children:V<80?"On track":V<100?"Watch spending":"Over budget"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:n.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${V<80?"bg-gradient-to-r from-green-400 to-green-600":V<100?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.min(V,100)}%`},children:n.jsx("div",{className:"h-full rounded-full opacity-30 bg-white"})})}),n.jsxs("div",{className:"flex justify-between items-center mt-3",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-red-600",children:Fs(fe)})," spent"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-green-600",children:Fs(re)})," budget"]})]}),n.jsx("div",{className:"text-center mt-2",children:n.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${V<80?"bg-green-100 text-green-800":V<100?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(V),"% Used • ",Fs(re-fe)," Remaining"]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Transactions"}),w.length>0?n.jsx("div",{className:"space-y-3",children:w.slice(-5).reverse().map(L=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${L.type==="income"?"bg-green-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:L.category}),n.jsx("p",{className:"text-sm text-gray-600",children:L.description||"No description"})]})]}),n.jsxs("span",{className:`font-semibold ${L.type==="income"?"text-green-600":"text-red-600"}`,children:[L.type==="income"?"+":"-",Fs(L.amount)]})]},L.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No transactions yet"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Expense Categories"}),(()=>{const L=w.filter(oe=>oe.type==="expense").reduce((oe,be)=>(oe[be.category]=(oe[be.category]||0)+be.amount,oe),{});return Object.entries(L).length>0?n.jsx("div",{className:"space-y-3",children:Object.entries(L).map(([oe,be])=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:oe}),n.jsx("span",{className:"font-semibold text-red-600",children:Fs(be)})]},oe))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No expenses tracked yet"})})()]})]})]})})}),n.jsx(qe,{value:"bills",className:"mt-6",children:n.jsxs($,{className:"border-t-4 border-sunny-orange",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Vt,{className:"text-sunny-orange",size:24}),n.jsx("span",{children:"Bill Calendar"})]}),n.jsxs(et,{open:s,onOpenChange:L=>{r(L),L||(y(null),k.reset())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Bill"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:j?"Edit Bill":"Add New Bill"})}),n.jsx(Bt,{...k,children:n.jsxs("form",{onSubmit:k.handleSubmit(L=>ee.mutate(L)),className:"space-y-4",children:[n.jsx(Z,{control:k.control,name:"name",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Bill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Electric Bill, Rent",...L})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"amount",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...L,onChange:oe=>L.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"dueDate",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Due Date (Day of Month)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:"1",max:"31",placeholder:"15",...L,onChange:oe=>L.onChange(parseInt(oe.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"category",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Utilities, Housing",...L})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:ee.isPending,children:ee.isPending?"Saving...":j?"Update Bill":"Add Bill"})]})})]})]})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:b.length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(Vt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No bills added yet"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add your recurring bills to track due dates"}),n.jsxs(E,{className:"bg-sunny-orange hover:bg-sunny-orange",onClick:()=>r(!0),children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Bill"]})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:b.map(L=>{const oe=Lp(L.dueDate),be=oe<0,st=oe<=3&&oe>=0;return n.jsx($,{className:`border-l-4 ${be?"border-l-red-500":st?"border-l-sunny-orange":"border-l-bright-blue"}`,children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600",children:L.category})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold",children:Fs(L.amount)}),n.jsx("p",{className:`text-sm ${be?"text-red-600":st?"text-sunny-orange":"text-gray-600"}`,children:be?`${Math.abs(oe)} days overdue`:st?`Due in ${oe} days`:`Due ${oe} days`})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{y(L),k.reset({name:L.name,amount:L.amount,dueDate:L.dueDate,category:L.category,isRecurring:L.isRecurring}),r(!0)},children:"Edit"}),n.jsx(E,{size:"sm",className:"bg-bright-blue hover:bg-blue-600",onClick:()=>{t({title:"Bill Payment",description:`Ready to pay ${L.name}! In the full version, this would redirect to your payment portal or banking app.`})},children:"Pay Bill"})]})]})},L.id)})})})})]})}),n.jsx(qe,{value:"savings",className:"mt-6",children:n.jsxs($,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Zs,{className:"text-vibrant-green",size:24}),n.jsx("span",{children:"Savings Goals"})]}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Goal"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:h?"Edit Savings Goal":"Create Savings Goal"})}),n.jsx(Bt,{...D,children:n.jsxs("form",{onSubmit:D.handleSubmit(L=>X.mutate(L)),className:"space-y-4",children:[n.jsx(Z,{control:D.control,name:"title",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Goal Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Emergency Fund, Vacation",...L})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"description",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"What are you saving for?",...L})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:D.control,name:"targetAmount",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...L,onChange:oe=>L.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"currentAmount",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...L,onChange:oe=>L.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:D.control,name:"targetDate",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Date"}),n.jsx(J,{children:n.jsx(q,{type:"date",...L})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"priority",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:L.onChange,defaultValue:L.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select priority"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"})]})]}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:X.isPending,children:X.isPending?"Saving...":h?"Update Goal":"Create Goal"})]})})]})]})]})}),n.jsx(H,{children:N.length>0?n.jsx("div",{className:"space-y-4",children:N.map(L=>{const oe=L.currentAmount/L.targetAmount*100;return n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:L.title}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[Fs(L.currentAmount)," / ",Fs(L.targetAmount)]}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{u(L),D.reset({title:L.title,description:L.description||"",targetAmount:L.targetAmount,currentAmount:L.currentAmount,targetDate:L.targetDate?new Date(L.targetDate).toISOString().split("T")[0]:"",category:L.category||"general",priority:L.priority||"medium"}),l(!0)},children:"Edit"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.description}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-vibrant-green rounded-full",style:{width:`${Math.min(oe,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(oe),"% complete"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",new Date(L.targetDate).toLocaleDateString()]})]})]},L.id)})}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No savings goals yet. Create your first goal!"})})]})}),n.jsx(qe,{value:"categories",className:"mt-6",children:n.jsxs($,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xS,{className:"text-bright-blue",size:24}),n.jsx("span",{children:"Budget Categories"})]}),n.jsxs(et,{open:c,onOpenChange:L=>{d(L),L||(p(null),P.reset())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Category"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:m?"Edit Category":"Add New Category"})}),n.jsx(Bt,{...P,children:n.jsxs("form",{onSubmit:P.handleSubmit(L=>F.mutate(L)),className:"space-y-4",children:[n.jsx(Z,{control:P.control,name:"name",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Food & Dining, Transportation",...L})}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"type",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category Type"}),n.jsxs(Ge,{onValueChange:L.onChange,defaultValue:L.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"income",children:"Income"}),n.jsx(B,{value:"expense",children:"Expense"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"budgetedAmount",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Budgeted Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...L,onChange:oe=>L.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"color",render:({field:L})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Color"}),n.jsx(J,{children:n.jsx(q,{type:"color",...L,className:"w-full h-10"})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:F.isPending,children:F.isPending?"Saving...":m?"Update Category":"Add Category"})]})})]})]})]})}),n.jsx(H,{children:C.length>0?n.jsx("div",{className:"space-y-4",children:C.map(L=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:L.color}}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:L.type})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:Fs(L.budgetedAmount)}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{p(L),P.reset({name:L.name,type:L.type,budgetedAmount:L.budgetedAmount,color:L.color||"#3b82f6"}),d(!0)},children:"Edit"})]})]})},L.id))}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No budget categories set up yet."})})]})}),n.jsx(qe,{value:"banking",className:"mt-6",children:n.jsx("div",{className:"space-y-6",children:n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{children:"Banking & Bill Pay Integration"})}),n.jsxs(H,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Connect your bank accounts for secure bill payments and balance checking."}),n.jsxs(E,{className:"bg-bright-blue hover:bg-blue-600",children:[n.jsx(l9,{className:"h-4 w-4 mr-2"}),"Connect Bank Account"]})]})]})})})]})]})})}function Kte(){var j,y,g;const{isPremiumUser:e}=Ri();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Mood Tracking",description:"Monitor your emotional well-being with daily mood check-ins and progress tracking. Subscribe to continue using Adaptalyfe's mood management features.",feature:"mood",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=ut(),[s,r]=v.useState(null),[i,a]=v.useState(""),{data:o=[],isLoading:l}=xe({queryKey:["/api/mood-entries"]}),{data:c}=xe({queryKey:["/api/mood-entries/today"]}),d=[{value:1,emoji:"😢",label:"Very Sad",color:"bg-red-500"},{value:2,emoji:"😐",label:"Okay",color:"bg-yellow-500"},{value:3,emoji:"😊",label:"Good",color:"bg-green-500"},{value:4,emoji:"😃",label:"Great",color:"bg-blue-500"},{value:5,emoji:"🤩",label:"Amazing",color:"bg-purple-500"}],h=Ce({mutationFn:async f=>{const b=await ve("POST","/api/mood-entries",f);if(!b.ok){const w=await b.json(),S=new Error(w.message||"Failed to save mood");throw S.status=b.status,S.data=w,S}return await b.json()},onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/mood-entries"]}),gs.invalidateQueries({queryKey:["/api/mood-entries/today"]}),r(null),a(""),t({title:"Mood recorded!",description:"Thanks for checking in today!"})},onError:f=>{var b;if(console.error("Failed to save mood:",f),f.status===400&&((b=f.data)!=null&&b.existing)){t({title:"Already Logged Today",description:"You've already recorded your mood for today! Check back tomorrow for a new entry.",variant:"default"}),gs.invalidateQueries({queryKey:["/api/mood-entries/today"]});return}t({title:"Error",description:f.message||"Failed to save your mood. Please try again.",variant:"destructive"})}}),u=()=>{s&&h.mutate({mood:s,notes:i||void 0})},m=o.sort((f,b)=>{const x=f.entryDate?new Date(f.entryDate).getTime():0;return(b.entryDate?new Date(b.entryDate).getTime():0)-x}).slice(0,7),p=o.length>0?o.reduce((f,b)=>f+b.mood,0)/o.length:0;return l?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"h-96 bg-gray-200 rounded"}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mood & Wellbeing"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsx($,{className:"border-t-4 border-happy-purple",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-happy-purple rounded-lg flex items-center justify-center",children:n.jsx(ot,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Today's Mood"}),n.jsx("p",{className:"text-2xl",children:c?(j=d.find(f=>f.value===c.mood))==null?void 0:j.emoji:"❓"})]})]})})}),n.jsx($,{className:"border-t-4 border-sunny-orange",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(ea,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Average Mood"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[p.toFixed(1),"/5"]})]})]})})}),n.jsx($,{className:"border-t-4 border-vibrant-green",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:n.jsx(Vt,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Check-ins"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs($,{className:"border-t-4 border-happy-purple",children:[n.jsx(le,{children:n.jsx(ce,{children:"How are you feeling today?"})}),n.jsx(H,{children:c?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-6xl mb-4",children:(y=d.find(f=>f.value===c.mood))==null?void 0:y.emoji}),n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["You're feeling ",(g=d.find(f=>f.value===c.mood))==null?void 0:g.label]}),n.jsx("p",{className:"text-gray-600",children:"You've already checked in today!"}),n.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"Come back tomorrow for your next daily check-in."}),c.notes&&n.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:['"',c.notes,'"']})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-5 gap-3",children:d.map(f=>n.jsx(E,{variant:"outline",className:`p-4 h-auto border-2 transition-all ${s===f.value?"border-happy-purple bg-purple-50 scale-105":"border-gray-200 hover:border-happy-purple"}`,onClick:()=>r(f.value),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl mb-2",children:f.emoji}),n.jsx("p",{className:"text-xs text-gray-600",children:f.label})]})},f.value))}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx(lt,{placeholder:"Tell us more about how you're feeling...",value:i,onChange:f=>a(f.target.value),className:"min-h-20"})]}),n.jsx(E,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:u,disabled:!s||h.isPending,children:h.isPending?"Recording...":"Record Mood"})]})})]}),n.jsxs($,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsx(ce,{children:"Recent Check-ins"})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:m.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No mood entries yet"}):m.map(f=>{const b=d.find(x=>x.value===f.mood);return n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl",children:b==null?void 0:b.emoji}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:b==null?void 0:b.label}),n.jsx("span",{className:"text-xs text-gray-500",children:f.entryDate?_i(new Date(f.entryDate)):"Unknown date"})]}),f.notes&&n.jsxs("p",{className:"text-sm text-gray-600",children:['"',f.notes,'"']})]})]},f.id)})})})]})]})]})}function Qte(){const[e,t]=v.useState(!1),[s,r]=v.useState(null),{toast:i}=ut(),a=Jt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/emergency-resources"]}),c=Ut({resolver:zt(nee),defaultValues:{name:"",type:"crisis",phoneNumber:"",address:"",website:"",description:"",availabilityHours:"",isEmergencyOnly:!1,caregiverId:1}}),d=Ce({mutationFn:async g=>await ve("POST","/api/emergency-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource added successfully"}),c.reset(),t(!1)},onError:()=>{i({title:"Error",description:"Failed to add emergency resource",variant:"destructive"})}}),h=Ce({mutationFn:async({id:g,data:f})=>await ve("PUT",`/api/emergency-resources/${g}`,f),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource updated successfully"}),r(null),c.reset()},onError:()=>{i({title:"Error",description:"Failed to update emergency resource",variant:"destructive"})}}),u=Ce({mutationFn:async g=>await ve("DELETE",`/api/emergency-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource deleted successfully"})},onError:()=>{i({title:"Error",description:"Failed to delete emergency resource",variant:"destructive"})}}),m=g=>{s?h.mutate({id:s.id,data:g}):d.mutate(g)},p=g=>{r(g),t(!0),c.reset({name:g.name,type:g.type,phoneNumber:g.phoneNumber||"",address:g.address||"",website:g.website||"",description:g.description||"",availabilityHours:g.availabilityHours||"",isEmergencyOnly:g.isEmergencyOnly||!1,caregiverId:g.caregiverId})},j=g=>{switch(g){case"crisis":return n.jsx(Xt,{className:"w-4 h-4"});case"counselor":return n.jsx(ot,{className:"w-4 h-4"});case"hospital":return n.jsx(x9,{className:"w-4 h-4"});case"mental_health":return n.jsx(g9,{className:"w-4 h-4"});case"support_group":return n.jsx(as,{className:"w-4 h-4"});default:return n.jsx(is,{className:"w-4 h-4"})}},y=g=>{switch(g){case"crisis":return"bg-red-100 text-red-800";case"counselor":return"bg-blue-100 text-blue-800";case"hospital":return"bg-purple-100 text-purple-800";case"mental_health":return"bg-green-100 text-green-800";case"support_group":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return l?n.jsx("div",{className:"animate-pulse",children:"Loading emergency resources..."}):n.jsxs($,{children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5 text-red-600"}),"Local Emergency Resources"]}),n.jsxs(E,{onClick:()=>{r(null),c.reset(),t(!e)},size:"sm",className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4"}),"Add Resource"]})]})}),n.jsxs(H,{className:"space-y-4",children:[e&&n.jsx($,{className:"border-2 border-blue-200",children:n.jsx(H,{className:"pt-6",children:n.jsx(Bt,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(m),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:c.control,name:"name",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Resource Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Crisis Hotline, Local Counselor, etc.",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"type",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Type"}),n.jsxs(Ge,{onValueChange:g.onChange,value:g.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select resource type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"crisis",children:"Crisis Hotline"}),n.jsx(B,{value:"counselor",children:"Personal Counselor"}),n.jsx(B,{value:"hospital",children:"Hospital/ER"}),n.jsx(B,{value:"mental_health",children:"Mental Health Center"}),n.jsx(B,{value:"support_group",children:"Support Group"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"phoneNumber",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Phone Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"(555) 123-4567",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"availabilityHours",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Availability"}),n.jsx(J,{children:n.jsx(q,{placeholder:"24/7, Mon-Fri 9-5, etc.",...g})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:c.control,name:"address",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Address"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Full address or general location",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"website",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://...",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Special notes, services offered, when to use this resource...",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"isEmergencyOnly",render:({field:g})=>n.jsxs(Y,{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{className:"text-base",children:"Emergency Only"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Only use this resource during emergencies"})]}),n.jsx(J,{children:n.jsx(Ls,{checked:g.value,onCheckedChange:g.onChange})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",disabled:d.isPending||h.isPending,children:s?"Update Resource":"Add Resource"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>{t(!1),r(null),c.reset()},children:"Cancel"})]})]})})})}),o.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(is,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No emergency resources added yet."}),n.jsx("p",{className:"text-sm mt-2",children:"Caregivers can add local crisis support and counseling resources."})]}):n.jsx("div",{className:"grid gap-4",children:o.map(g=>n.jsx($,{className:"border-l-4 border-l-red-500",children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j(g.type),n.jsx("h3",{className:"font-semibold text-lg",children:g.name}),n.jsx(me,{className:y(g.type),children:g.type.replace("_"," ")}),g.isEmergencyOnly&&n.jsx(me,{variant:"destructive",className:"text-xs",children:"Emergency Only"})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"w-4 h-4"}),n.jsx("a",{href:`tel:${g.phoneNumber}`,className:"text-blue-600 hover:underline font-medium",children:g.phoneNumber})]}),g.address&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-4 h-4"}),n.jsx("span",{children:g.address})]}),g.website&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ho,{className:"w-4 h-4"}),n.jsx("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]}),g.availabilityHours&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(js,{className:"w-4 h-4"}),n.jsx("span",{children:g.availabilityHours})]}),g.description&&n.jsx("p",{className:"mt-2 text-gray-700",children:g.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx(E,{onClick:()=>p(g),variant:"ghost",size:"sm",children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{onClick:()=>u.mutate(g.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},g.id))}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"For Caregivers"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Add local emergency resources, crisis hotlines, personal counselors, and support groups that are specific to your area. This helps ensure your loved one has quick access to appropriate help when needed."})]})]})]})}const Yte={music:S9,videos:I9,websites:ho,apps:a9,relaxation:ot,entertainment:dw,other:ho},Xte={music:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",videos:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",websites:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",apps:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",relaxation:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",entertainment:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",other:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};function Zte(){const[e,t]=v.useState("all"),[s,r]=v.useState(!1),{toast:i}=ut(),a=Jt(),o=Ut({resolver:zt(ree),defaultValues:{title:"",url:"",description:"",category:"websites",tags:"",isFavorite:!1}}),{data:l=[],isLoading:c}=xe({queryKey:e==="all"?["/api/personal-resources"]:["/api/personal-resources",{category:e}]}),d=Ce({mutationFn:async g=>await ve("POST","/api/personal-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),r(!1),o.reset(),i({title:"Success",description:"Personal resource added successfully!"})},onError:g=>{console.error("Error creating resource:",g),i({title:"Error",description:"Failed to add personal resource",variant:"destructive"})}}),h=Ce({mutationFn:async g=>await ve("DELETE",`/api/personal-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),i({title:"Success",description:"Personal resource deleted successfully!"})},onError:()=>{i({title:"Error",description:"Failed to delete personal resource",variant:"destructive"})}}),u=Ce({mutationFn:async({id:g,isFavorite:f})=>await ve("PATCH",`/api/personal-resources/${g}`,{isFavorite:f}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),m=Ce({mutationFn:async g=>await ve("PATCH",`/api/personal-resources/${g}/access`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),p=g=>{d.mutate(g)},j=g=>{m.mutate(g.id),window.open(g.url,"_blank")},y=[{value:"all",label:"All Resources"},{value:"music",label:"Music"},{value:"videos",label:"Videos"},{value:"websites",label:"Websites"},{value:"apps",label:"Apps"},{value:"relaxation",label:"Relaxation"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];return c?n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{children:"My Personal Resources"})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"},g))})})]}):n.jsxs($,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{children:[n.jsx(ce,{className:"text-xl font-semibold",children:"My Personal Resources"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Save and access your favorite links for relaxation, music, videos, and more"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"h-4 w-4 mr-2"}),"Add Resource"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Personal Resource"})}),n.jsx(Bt,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(p),className:"space-y-4",children:[n.jsx(Z,{control:o.control,name:"title",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Resource name",...g})})]})}),n.jsx(Z,{control:o.control,name:"url",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"URL"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://",...g})})]})}),n.jsx(Z,{control:o.control,name:"category",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:g.onChange,defaultValue:g.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"music",children:"Music"}),n.jsx(B,{value:"videos",children:"Videos"}),n.jsx(B,{value:"websites",children:"Websites"}),n.jsx(B,{value:"apps",children:"Apps"}),n.jsx(B,{value:"relaxation",children:"Relaxation"}),n.jsx(B,{value:"entertainment",children:"Entertainment"}),n.jsx(B,{value:"other",children:"Other"})]})]})]})}),n.jsx(Z,{control:o.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"What makes this resource helpful?",...g,value:g.value||""})})]})}),n.jsx(Z,{control:o.control,name:"tags",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Tags (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"calming, motivation, focus (comma-separated)",...g,value:g.value||""})})]})}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(E,{type:"submit",disabled:d.isPending,className:"flex-1",children:d.isPending?"Adding...":"Add Resource"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsxs(H,{children:[n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y.map(g=>n.jsx(E,{variant:e===g.value?"default":"outline",size:"sm",onClick:()=>t(g.value),children:g.label},g.value))}),l.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ho,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg mb-2",children:"No resources saved yet"}),n.jsx("p",{className:"text-sm",children:"Add your favorite websites, music, videos, and apps to access them quickly."})]}):n.jsx("div",{className:"space-y-3",children:l.map(g=>{const f=Yte[g.category]||ho;return n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(f,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-medium truncate",children:g.title}),n.jsx(me,{variant:"secondary",className:Xte[g.category],children:g.category}),g.isFavorite&&n.jsx(Ht,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),g.description&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.description}),g.tags&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.tags.split(",").map((b,x)=>n.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-muted rounded",children:b.trim()},x))}),(g.accessCount||0)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Accessed ",g.accessCount||0," times"]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>u.mutate({id:g.id,isFavorite:!g.isFavorite}),children:g.isFavorite?n.jsx(D9,{className:"h-4 w-4"}):n.jsx(Ht,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>j(g),children:n.jsx(hx,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),children:n.jsx(En,{className:"h-4 w-4"})})]})]},g.id)})})]})]})}function Jte(){const{toast:e}=ut(),t=Jt(),[s,r]=v.useState(!1),[i,a]=v.useState(null),[o,l]=v.useState({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""}),{data:c=[],isLoading:d}=xe({queryKey:["/api/emergency-contacts"],queryFn:()=>ve("GET","/api/emergency-contacts").then(x=>x.json())}),h=Ce({mutationFn:async x=>{const w=i?"PUT":"POST",S=i?`/api/emergency-contacts/${i.id}`:"/api/emergency-contacts";return ve(w,S,x)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),r(!1),a(null),m(),e({title:"Success",description:i?"Contact updated successfully":"Emergency contact added successfully"})},onError:()=>{e({title:"Error",description:"Failed to save contact. Please try again.",variant:"destructive"})}}),u=Ce({mutationFn:async x=>ve("DELETE",`/api/emergency-contacts/${x}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete contact. Please try again.",variant:"destructive"})}}),m=()=>{l({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""})},p=x=>{a(x),l({name:x.name,relationship:x.relationship,phoneNumber:x.phoneNumber,email:x.email||"",isPrimary:x.isPrimary,isEmergencyContact:x.isEmergencyContact,notes:x.notes||""}),r(!0)},j=x=>{x.preventDefault(),h.mutate(o)},y=(x,w)=>{window.location.href=`tel:${x}`,e({title:"Calling...",description:`Calling ${w} at ${x}`})},g=x=>{switch(x==null?void 0:x.toLowerCase()){case"parent":case"guardian":return n.jsx(ot,{className:"w-4 h-4 text-red-500"});case"sibling":return n.jsx(ta,{className:"w-4 h-4 text-blue-500"});case"doctor":case"therapist":return n.jsx(is,{className:"w-4 h-4 text-green-500"});case"crisis_hotline":case"emergency":return n.jsx(Xt,{className:"w-4 h-4 text-orange-500"});default:return n.jsx(vs,{className:"w-4 h-4 text-gray-500"})}},f=c.filter(x=>x.isPrimary),b=c.filter(x=>x.isEmergencyContact&&!x.isPrimary);return c.filter(x=>!x.isEmergencyContact&&!x.isPrimary),n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{className:"border-red-200 bg-red-50",children:[n.jsx(le,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-red-800 text-lg",children:[n.jsx(Xt,{className:"w-4 h-4"}),"Emergency Quick Dial"]}),n.jsx(me,{variant:"destructive",className:"text-xs",children:"Emergency"})]})}),n.jsx(H,{className:"pt-0",children:b.length>0?n.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:b.slice(0,4).map(x=>n.jsx(E,{onClick:()=>y(x.phoneNumber,x.name),className:"h-12 bg-red-600 hover:bg-red-700 text-white",size:"sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"w-4 h-4"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium text-sm",children:x.name}),n.jsx("div",{className:"text-xs opacity-90",children:x.phoneNumber})]})]})},x.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xt,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-700 mb-4",children:"No emergency contacts set up yet"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"destructive",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Emergency Contact"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Emergency Contact"}),n.jsx(Zt,{children:"Add a contact for emergency situations"})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name *"}),n.jsx(q,{id:"name",value:o.name,onChange:x=>l({...o,name:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),n.jsxs(Ge,{value:o.relationship,onValueChange:x=>l({...o,relationship:x}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"guardian",children:"Guardian"}),n.jsx(B,{value:"sibling",children:"Sibling"}),n.jsx(B,{value:"caregiver",children:"Caregiver"}),n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),n.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:x=>l({...o,phoneNumber:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{id:"email",type:"email",value:o.email,onChange:x=>l({...o,email:x.target.value})})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{id:"notes",value:o.notes,onChange:x=>l({...o,notes:x.target.value}),placeholder:"Special instructions or notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:h.isPending,children:h.isPending?"Saving...":"Save Contact"})]})]})]})]})]})})]}),f.length>0&&n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-yellow-500"}),"Primary Contacts"]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:f.map(x=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g(x.relationship),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:x.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[x.relationship," • ",x.phoneNumber]}),x.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.notes})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"sm",onClick:()=>y(x.phoneNumber,x.name),className:"bg-green-600 hover:bg-green-700",children:n.jsx(vs,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>p(x),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(x.id),disabled:u.isPending,children:n.jsx(En,{className:"w-4 h-4"})})]})]},x.id))})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"w-5 h-5"}),"All Contacts"]}),n.jsxs(et,{open:s,onOpenChange:x=>{r(x),x||(a(null),m())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:i?"Edit Contact":"Add Contact"}),n.jsx(Zt,{children:i?"Update contact information":"Add a new emergency contact"})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name *"}),n.jsx(q,{id:"name",value:o.name,onChange:x=>l({...o,name:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),n.jsxs(Ge,{value:o.relationship,onValueChange:x=>l({...o,relationship:x}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"guardian",children:"Guardian"}),n.jsx(B,{value:"sibling",children:"Sibling"}),n.jsx(B,{value:"caregiver",children:"Caregiver"}),n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),n.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:x=>l({...o,phoneNumber:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{id:"email",type:"email",value:o.email,onChange:x=>l({...o,email:x.target.value})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isPrimary",checked:o.isPrimary,onChange:x=>l({...o,isPrimary:x.target.checked})}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isEmergencyContact",checked:o.isEmergencyContact,onChange:x=>l({...o,isEmergencyContact:x.target.checked})}),n.jsx(de,{htmlFor:"isEmergencyContact",children:"Emergency contact"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{id:"notes",value:o.notes,onChange:x=>l({...o,notes:x.target.value}),placeholder:"Special instructions or notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:h.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",children:h.isPending?"Saving...":i?"Update":"Save Contact"})]})]})]})]})]})}),n.jsx(H,{children:c.length>0?n.jsx("div",{className:"space-y-3",children:c.map(x=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g(x.relationship),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:x.name}),x.isPrimary&&n.jsx(me,{variant:"secondary",children:"Primary"}),x.isEmergencyContact&&n.jsx(me,{variant:"destructive",children:"Emergency"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[x.relationship," • ",x.phoneNumber]}),x.email&&n.jsx("p",{className:"text-sm text-gray-500",children:x.email}),x.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.notes})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"sm",onClick:()=>y(x.phoneNumber,x.name),className:"bg-green-600 hover:bg-green-700",children:n.jsx(vs,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>p(x),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(x.id),disabled:u.isPending,children:n.jsx(En,{className:"w-4 h-4"})})]})]},x.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts added yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add emergency contacts for quick access during urgent situations"})]})})]})]})}function ese(){const[e,t]=v.useState(!1),[s,r]=v.useState("inhale"),[i,a]=v.useState(0),[o,l]=v.useState(0),[c,d]=v.useState(null),h=Th(null),u=Th(null),m=[{id:"grounding",title:"5-4-3-2-1 Grounding Technique",description:"Use your senses to ground yourself in the present moment",steps:["Notice 5 things you can see around you","Notice 4 things you can touch","Notice 3 things you can hear","Notice 2 things you can smell","Notice 1 thing you can taste"],color:"bg-vibrant-green"},{id:"progressive",title:"Progressive Muscle Relaxation",description:"Tense and relax different muscle groups to reduce stress",steps:["Start with your toes - tense for 5 seconds, then relax","Move to your calves - tense and relax","Continue with thighs, abdomen, hands, arms","Finish with shoulders, neck, and face","Take deep breaths throughout the process"],color:"bg-happy-purple"},{id:"positive",title:"Positive Self-Talk",description:"Replace negative thoughts with encouraging ones",steps:["Notice when you're being self-critical","Ask yourself: 'What would I tell a friend?'","Replace negative thoughts with realistic, kind ones","Use affirmations: 'I am capable and strong'","Practice daily to build this habit"],color:"bg-sunny-orange"},{id:"mindfulness",title:"Mindful Moment",description:"Take a pause to reconnect with the present",steps:["Stop what you're doing and sit comfortably","Close your eyes or soften your gaze","Notice your breath without changing it","When your mind wanders, gently return to your breath","Continue for 2-5 minutes"],color:"bg-calm-teal"}],p=[{name:"Crisis Text Line",description:"Text HOME to 741741",available:"24/7",color:"bg-red-500"},{name:"National Suicide Prevention Lifeline",description:"Call 988",available:"24/7",color:"bg-red-600"},{name:"SAMHSA National Helpline",description:"1-800-662-4357",available:"24/7",color:"bg-red-700"}],j=()=>{e||(t(!0),l(0),r("inhale"),a(0))},y=()=>{t(!1),a(0),r("inhale"),h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)};return v.useEffect(()=>{if(!e)return;const g=[{name:"inhale",duration:4e3},{name:"hold",duration:4e3},{name:"exhale",duration:4e3}];let f=0,b=0;const x=()=>{const w=g[f];r(w.name);const S=Date.now(),N=()=>{const C=Date.now()-S,k=Math.min(C/w.duration*100,100);a(k),k<100?h.current=requestAnimationFrame(N):(f=(f+1)%g.length,f===0&&(b++,l(b)),u.current=window.setTimeout(x,100))};h.current=requestAnimationFrame(N)};return x(),()=>{h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)}},[e]),n.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Mental Health Resources"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Take care of your mental health with these helpful tools and resources."})]}),n.jsx("div",{className:"mb-8",children:n.jsx(Jte,{})}),n.jsxs($,{className:"border-t-4 border-red-500 mb-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3 text-red-700",children:[n.jsx(vs,{size:24}),n.jsx("span",{children:"Emergency Support"})]})}),n.jsxs(H,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"If you're in crisis or having thoughts of self-harm, please reach out for help immediately."}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:p.map((g,f)=>n.jsxs("div",{className:`${g.color} text-white rounded-lg p-3 sm:p-4`,children:[n.jsx("h4",{className:"font-semibold mb-2 text-sm sm:text-base",children:g.name}),n.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:g.description}),n.jsx("p",{className:"text-xs opacity-80",children:g.available})]},f))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[n.jsxs($,{className:"border-t-4 border-happy-purple",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(kD,{className:"text-happy-purple",size:20}),n.jsx("span",{children:"Breathing Exercise"})]})}),n.jsx(H,{className:"px-3 sm:px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mb-4 sm:mb-6",children:n.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center transition-all duration-1000 ${s==="inhale"?"bg-blue-200 scale-110":s==="hold"?"bg-purple-200 scale-110":"bg-green-200 scale-90"}`,children:n.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-700 px-2 text-center leading-tight",children:s==="inhale"?"Breathe In":s==="hold"?"Hold":"Breathe Out"})})}),n.jsx("div",{className:"mb-4 px-2",children:n.jsx(Dn,{value:i,className:"h-2"})}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base px-2",children:e?`Cycle ${o+1} • ${s}`:"4-4-4 Breathing Pattern"}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 px-2",children:e?n.jsxs(n.Fragment,{children:[n.jsxs(E,{variant:"outline",onClick:y,className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[n.jsx(jD,{size:16,className:"mr-2"}),"Stop"]}),n.jsxs(E,{variant:"outline",onClick:()=>{y(),setTimeout(j,100)},className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[n.jsx(wD,{size:16,className:"mr-2"}),"Restart"]})]}):n.jsxs(E,{className:"bg-happy-purple hover:bg-happy-purple text-white w-full sm:w-auto",onClick:j,children:[n.jsx(lw,{size:16,className:"mr-2"}),"Start Breathing"]})})]})})]}),n.jsxs($,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(Du,{className:"text-vibrant-green",size:20}),n.jsx("span",{children:"Coping Strategies"})]})}),n.jsx(H,{className:"px-3 sm:px-6",children:n.jsx("div",{className:"space-y-2 sm:space-y-3",children:m.map(g=>n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",className:"w-full justify-start h-auto p-3 sm:p-4 border-2 hover:shadow-md transition-all text-left",onClick:()=>d(g.id),children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0`,children:n.jsx(ot,{className:"text-white",size:14})}),n.jsxs("div",{className:"text-left min-w-0 flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:g.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 sm:line-clamp-none",children:g.description})]})]})}),n.jsxs(Ye,{className:"max-w-sm sm:max-w-md mx-2 sm:mx-auto max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{className:"pb-3",children:n.jsxs(Ze,{className:"flex items-center space-x-2 sm:space-x-3 text-base sm:text-lg",children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center flex-shrink-0`,children:n.jsx(ot,{className:"text-white",size:14})}),n.jsx("span",{className:"leading-tight",children:g.title})]})}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 pb-2",children:[n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:g.description}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Steps:"}),n.jsx("ol",{className:"space-y-2 sm:space-y-3",children:g.steps.map((f,b)=>n.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("span",{className:`w-5 h-5 sm:w-6 sm:h-6 ${g.color} text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-medium flex-shrink-0 mt-0.5`,children:b+1}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:f})]},b))})]})]})]})]},g.id))})})]})]}),n.jsxs($,{className:"border-t-4 border-sunny-orange mt-6 sm:mt-8",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(Hr,{className:"text-sunny-orange",size:20}),n.jsx("span",{children:"Educational Resources"})]})}),n.jsx(H,{className:"px-3 sm:px-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Understanding Anxiety"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn about anxiety symptoms and healthy ways to manage anxious feelings."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-sunny-orange text-sunny-orange hover:bg-orange-50",children:"Learn More"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Building Resilience"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Discover strategies to bounce back from challenges and build emotional strength."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"Learn More"})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Healthy Habits"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Simple daily practices that support your mental and emotional wellbeing."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-vibrant-green text-vibrant-green hover:bg-green-50",children:"Learn More"})]})]})})]}),n.jsx("div",{className:"col-span-full",children:n.jsx(Qte,{})}),n.jsx("div",{className:"col-span-full",children:n.jsx(Zte,{})})]})}const tse=ws({name:Ae().min(1,"Name is required"),relationship:Ae().min(1,"Relationship is required"),email:Ae().email("Valid email is required").optional().or(qR(""))}),sse=ws({caregiverId:Bs().min(1,"Please select a caregiver"),content:Ae().min(1,"Message cannot be empty")});function nse(){const{isPremiumUser:e}=Ri(),{toast:t}=ut(),[s,r]=v.useState(!1);if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Caregiver Communication",description:"Connect with your support network, share updates, and coordinate care. Subscribe to continue using Adaptalyfe's caregiver features.",feature:"caregiver",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[i,a]=v.useState(!1),[o,l]=v.useState(null),{data:c=[],isLoading:d}=xe({queryKey:["/api/caregivers"]}),{data:h=[],isLoading:u}=xe({queryKey:["/api/messages"]}),{data:m}=xe({queryKey:["/api/user"]}),{data:p=[]}=xe({queryKey:["/api/daily-tasks"]}),j=Ut({resolver:zt(tse),defaultValues:{name:"",relationship:"",email:""}}),y=Ut({resolver:zt(sse),defaultValues:{caregiverId:0,content:""}}),g=Ce({mutationFn:async k=>ve("POST","/api/caregivers",{...k,email:k.email||void 0}),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/caregivers"]}),r(!1),j.reset(),t({title:"Caregiver added!",description:"Your support person has been added to your network."})}}),f=Ce({mutationFn:async k=>ve("POST","/api/messages",{...k,fromUser:!0}),onSuccess:()=>{gs.invalidateQueries({queryKey:["/api/messages"]}),a(!1),y.reset(),t({title:"Message sent!",description:"Your message has been sent to your caregiver."})}}),b=Ce({mutationFn:async()=>new Promise(k=>setTimeout(k,1e3)),onSuccess:()=>{t({title:"Progress shared!",description:"Your progress has been shared with your caregivers."})}}),x=p.filter(k=>k.isCompleted).length,w=p.length,S=w>0?Math.round(x/w*100):0,N=h.reduce((k,T)=>(k[T.caregiverId]||(k[T.caregiverId]=[]),k[T.caregiverId].push(T),k),{}),C=h.sort((k,T)=>new Date(T.sentAt).getTime()-new Date(k.sentAt).getTime()).slice(0,5);return d||u?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"h-96 bg-gray-200 rounded"}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Support Network"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Connect with your caregivers and support team to share your progress and get help when you need it."})]}),n.jsxs($,{className:"border-t-4 border-calm-teal mb-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ot,{className:"text-calm-teal",size:24}),n.jsx("span",{children:"Your Progress Today"})]}),n.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",onClick:()=>b.mutate(),disabled:b.isPending,children:[n.jsx(SD,{size:16,className:"mr-2"}),"Share Progress"]})]})}),n.jsx(H,{children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-calm-teal mb-2",children:[S,"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Daily Tasks Complete"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-sunny-orange mb-2",children:(m==null?void 0:m.streakDays)||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Day Streak"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-happy-purple mb-2",children:c.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Connections"})]})]})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsxs($,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(as,{className:"text-vibrant-green",size:24}),n.jsx("span",{children:"My Support Team"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-vibrant-green hover:bg-vibrant-green text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Caregiver"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Caregiver"})}),n.jsx(Bt,{...j,children:n.jsxs("form",{onSubmit:j.handleSubmit(k=>g.mutate(k)),className:"space-y-4",children:[n.jsx(Z,{control:j.control,name:"name",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Mom, Dr. Smith",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"relationship",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Relationship"}),n.jsxs(Ge,{onValueChange:k.onChange,defaultValue:k.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"support worker",children:"Support Worker"}),n.jsx(B,{value:"family member",children:"Family Member"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"email",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Email (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"email",placeholder:"caregiver@example.com",...k})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:g.isPending,children:"Add Caregiver"})]})})]})]})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:c.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No caregivers added yet. Add someone to your support team!"}):c.map(k=>{var T;return n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-12 h-12 bg-calm-teal rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium",children:k.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),n.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[k.relationship,k.email&&` • ${k.email}`]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[((T=N[k.id])==null?void 0:T.length)||0," messages"]})]}),n.jsx(E,{variant:"outline",size:"sm",className:"border-calm-teal text-calm-teal hover:bg-teal-50",onClick:()=>{l(k.id),y.setValue("caregiverId",k.id),a(!0)},children:n.jsx(Mf,{size:16})})]},k.id)})})})]}),n.jsxs($,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Mf,{className:"text-bright-blue",size:24}),n.jsx("span",{children:"Messages"})]}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-bright-blue hover:bg-bright-blue text-white",disabled:c.length===0,children:[n.jsx(ND,{size:16,className:"mr-2"}),"Send Message"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Send Message"})}),n.jsx(Bt,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(k=>f.mutate(k)),className:"space-y-4",children:[n.jsx(Z,{control:y.control,name:"caregiverId",render:({field:k})=>{var T;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Send to"}),n.jsxs(Ge,{onValueChange:D=>k.onChange(parseInt(D)),defaultValue:(T=k.value)==null?void 0:T.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select caregiver"})})}),n.jsx(We,{children:c.map(D=>n.jsx(B,{value:D.id.toString(),children:D.name},D.id))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:y.control,name:"content",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Message"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Type your message here...",className:"min-h-24",...k})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:f.isPending,children:"Send Message"})]})})]})]})]})}),n.jsxs(H,{children:[n.jsx("div",{className:"space-y-4",children:C.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No messages yet. Send a message to start communicating!"}):C.map(k=>{const T=c.find(D=>D.id===k.caregiverId);return n.jsxs("div",{className:`p-4 rounded-lg border-2 ${k.fromUser?"bg-blue-50 border-blue-200 ml-8":"bg-teal-50 border-teal-200 mr-8"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:k.fromUser?"You":T==null?void 0:T.name}),n.jsx("span",{className:"text-xs text-gray-500",children:_i(new Date(k.sentAt))})]}),n.jsx("p",{className:"text-gray-700",children:k.content})]},k.id)})}),h.length>5&&n.jsx("div",{className:"text-center mt-6",children:n.jsx(E,{variant:"outline",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"View All Messages"})})]})]})]}),n.jsxs($,{className:"border-t-4 border-sunny-orange mt-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3",children:[n.jsx(cl,{className:"text-sunny-orange",size:24}),n.jsx("span",{children:"Getting Help"})]})}),n.jsx(H,{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"When to Reach Out"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("li",{children:"• When you're feeling overwhelmed or stressed"}),n.jsx("li",{children:"• If you need help with daily tasks"}),n.jsx("li",{children:"• When you have questions about your progress"}),n.jsx("li",{children:"• If you want to celebrate achievements"}),n.jsx("li",{children:"• When you need emotional support"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Communication Tips"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("li",{children:"• Be specific about what you need"}),n.jsx("li",{children:"• Share your feelings openly and honestly"}),n.jsx("li",{children:"• Ask questions if you don't understand"}),n.jsx("li",{children:"• Celebrate your wins, big and small"}),n.jsx("li",{children:"• Remember that asking for help is a sign of strength"})]})]})]})})]})]})}const J2=ws({userName:Ae().min(1,"Person's name is required"),userEmail:Ae().optional(),userAge:Bs().optional(),relationship:Ae().min(1,"Relationship type is required"),permissions:Jw(Ae()).default([])}),rse=[{value:"parent",label:"Parent/Guardian",icon:"👨‍👩‍👧‍👦",description:"Full access to all features and settings"},{value:"therapist",label:"Therapist/Counselor",icon:"🩺",description:"Access to mood, goals, and session notes"},{value:"case_worker",label:"Case Worker",icon:"🏢",description:"Access to appointments and resources"},{value:"teacher",label:"Teacher/Aide",icon:"🎓",description:"Access to academic and daily tasks"},{value:"mentor",label:"Life Skills Mentor",icon:"🌟",description:"Access to independence and life skills"},{value:"family_friend",label:"Family Friend",icon:"🤝",description:"Limited access to check-ins"}],ise=[{id:"view_progress",label:"View Progress",description:"See completed tasks and achievements"},{id:"view_mood",label:"Mood Tracking",description:"Access mood entries and patterns"},{id:"view_medical",label:"Medical Information",description:"View medications and appointments"},{id:"view_financial",label:"Financial Management",description:"See bills and budget entries"},{id:"emergency_access",label:"Emergency Access",description:"Contact in emergencies"},{id:"location_tracking",label:"Location Sharing",description:"See location updates"},{id:"schedule_appointments",label:"Schedule Appointments",description:"Book medical/therapy appointments"},{id:"modify_tasks",label:"Modify Tasks",description:"Add or edit daily tasks"}];function ase(){const{toast:e}=ut(),t=Jt(),[s,r]=v.useState(null),[i,a]=v.useState("create"),[o,l]=v.useState(null),{data:c}=xe({queryKey:["/api/user"]}),{data:d=[]}=xe({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`],enabled:!!(c!=null&&c.id)}),{data:h=[]}=xe({queryKey:["/api/care-relationships/caregiver",c==null?void 0:c.id],enabled:!!(c!=null&&c.id)}),u=Ut({resolver:zt(J2),defaultValues:{userName:"",userEmail:"",userAge:void 0,relationship:"",permissions:[]}}),m=Ce({mutationFn:x=>ve("POST","/api/caregiver-invitations",{...x,caregiverId:c==null?void 0:c.id,permissionsGranted:x.permissions}).then(w=>w.json()),onSuccess:x=>{t.invalidateQueries({queryKey:["/api/caregiver-invitations"]}),t.invalidateQueries({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`]}),e({title:"Invitation Created Successfully!",description:`Share this code with your caregiver: ${x.invitationCode}`}),u.reset(),a("manage")},onError:x=>{console.error("Invitation creation error:",x),e({title:"Unable to Create Invitation",description:"There was a problem saving your invitation. Please check your information and try again.",variant:"destructive"})}}),p=Ce({mutationFn:x=>ve("DELETE",`/api/caregiver-invitations/${x}`).then(w=>w.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/caregiver-invitations"]}),t.invalidateQueries({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`]}),e({title:"Invitation Deleted",description:"The caregiver invitation has been removed successfully."})},onError:x=>{console.error("Invitation deletion error:",x),e({title:"Unable to Delete Invitation",description:"There was a problem removing the invitation. Please try again.",variant:"destructive"})}}),j=async(x,w)=>{try{await navigator.clipboard.writeText(x),r(w),setTimeout(()=>r(null),2e3),e({title:"Copied!",description:`${w} copied to clipboard`})}catch{e({title:"Copy Failed",description:"Please copy the code manually",variant:"destructive"})}},y=async x=>{l(x)},g=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},f=x=>{console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Form data:",x),console.log("Form errors:",u.formState.errors),console.log("Form is valid:",u.formState.isValid),console.log("Form values:",u.getValues()),console.log("Current permissions:",u.getValues().permissions);const w=J2.safeParse(x);if(console.log("Schema validation result:",w),!w.success){console.log("Schema validation failed:",w.error.issues),e({title:"Validation Error",description:`Please fix: ${w.error.issues.map(S=>S.message).join(", ")}`,variant:"destructive"});return}console.log("All validation passed, submitting..."),m.mutate(x)},b=x=>({parent:["view_progress","view_mood","view_medical","view_financial","emergency_access","location_tracking","schedule_appointments","modify_tasks"],therapist:["view_progress","view_mood","emergency_access","schedule_appointments"],case_worker:["view_progress","emergency_access","schedule_appointments"],teacher:["view_progress","modify_tasks"],mentor:["view_progress","modify_tasks"],family_friend:["view_progress","emergency_access"]})[x]||[];return n.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(as,{className:"text-white",size:28})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Caregiver Setup Center"}),n.jsx("p",{className:"text-gray-600",children:"Connect with family, therapists, and support team"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[n.jsx($,{className:"border-2 border-purple-200 bg-purple-50",children:n.jsxs(H,{className:"p-4 text-center",children:[n.jsx(ot,{className:"mx-auto text-purple-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-purple-900",children:"Family-Centered"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Designed for families and care teams"})]})}),n.jsx($,{className:"border-2 border-blue-200 bg-blue-50",children:n.jsxs(H,{className:"p-4 text-center",children:[n.jsx(is,{className:"mx-auto text-blue-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-blue-900",children:"Secure & Private"}),n.jsx("p",{className:"text-sm text-blue-700",children:"HIPAA-compliant data protection"})]})}),n.jsx($,{className:"border-2 border-green-200 bg-green-50",children:n.jsxs(H,{className:"p-4 text-center",children:[n.jsx(mo,{className:"mx-auto text-green-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-green-900",children:"Customizable Access"}),n.jsx("p",{className:"text-sm text-green-700",children:"Control what each caregiver sees"})]})})]})]}),n.jsxs(Cn,{value:i,onValueChange:a,className:"w-full",children:[n.jsxs(dn,{className:"grid grid-cols-1 sm:grid-cols-3 max-w-2xl mx-auto gap-1 sm:gap-0 h-auto sm:h-10 p-1",children:[n.jsxs(Ve,{value:"create",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(ta,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Create Invitation"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]}),n.jsxs(Ve,{value:"manage",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(jy,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Manage Invitations"}),n.jsx("span",{className:"sm:hidden",children:"Manage"})]}),n.jsxs(Ve,{value:"relationships",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(as,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Active Relationships"}),n.jsx("span",{className:"sm:hidden",children:"Active"})]})]}),n.jsx(qe,{value:"create",className:"space-y-6 mt-6",children:n.jsxs($,{className:"max-w-2xl mx-auto",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ta,{className:"text-purple-600",size:24}),n.jsx("span",{children:"Invite New Caregiver"})]}),n.jsx(at,{children:"Create a secure invitation for a family member, therapist, or support team member"})]}),n.jsx(H,{children:n.jsx(Bt,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:u.control,name:"userName",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Person's Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Sarah Johnson",...x})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"userEmail",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Email Address (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"email",placeholder:"sarah@email.com",...x,value:x.value||""})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:u.control,name:"relationship",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Relationship Type"}),n.jsxs(Ge,{onValueChange:w=>{x.onChange(w);const S=b(w);u.setValue("permissions",S),console.log(`Selected relationship: ${w}, setting permissions:`,S)},value:x.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship type"})})}),n.jsx(We,{children:rse.map(w=>n.jsx(B,{value:w.value,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:w.icon}),n.jsxs("div",{children:[n.jsx("div",{children:w.label}),n.jsx("div",{className:"text-xs text-gray-500",children:w.description})]})]})},w.value))})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"permissions",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Access Permissions"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ise.map(w=>n.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${x.value.includes(w.id)?"border-purple-300 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const S=x.value,N=S.includes(w.id)?S.filter(C=>C!==w.id):[...S,w.id];x.onChange(N)},children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-4 h-4 border-2 rounded ${x.value.includes(w.id)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:x.value.includes(w.id)&&n.jsx(dc,{className:"text-white",size:12})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:w.label}),n.jsx("p",{className:"text-xs text-gray-600",children:w.description})]})]})},w.id))}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:m.isPending,onClick:()=>{console.log("Create Invitation button clicked"),console.log("Current form values:",u.getValues()),console.log("Form errors:",u.formState.errors)},children:m.isPending?"Creating...":"Create Invitation"})]})})})]})}),n.jsxs(qe,{value:"manage",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invitation Management"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage caregiver invitations"})]}),n.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:d.length===0?n.jsx($,{children:n.jsxs(H,{className:"text-center py-12",children:[n.jsx(jy,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Invitations Yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first caregiver invitation to get started"}),n.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Create Invitation"})]})}):d.map(x=>n.jsx($,{className:"border-l-4 border-l-purple-500",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x.userName}),n.jsx(me,{className:`${g(x.status)} border-none`,children:x.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Relationship:"})," ",x.relationship]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",x.userEmail||"Not provided"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Created:"})," ",x.createdAt?new Date(x.createdAt).toLocaleDateString():"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Expires:"})," ",x.expiresAt?new Date(x.expiresAt).toLocaleDateString():"N/A"]})]}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx("strong",{children:"Permissions:"})," ",x.permissionsGranted?Array.isArray(x.permissionsGranted)?x.permissionsGranted.length:JSON.parse(x.permissionsGranted).length:0," granted"]})})]})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[x.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("code",{className:"px-3 py-1 bg-gray-100 rounded text-sm font-mono",children:x.invitationCode}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>j(x.invitationCode,"Invitation Code"),children:s==="Invitation Code"?n.jsx(dc,{className:"text-green-600",size:16}):n.jsx(gS,{size:16})})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>j(`Join AdaptaLyfe with invitation code: ${x.invitationCode}

Visit: ${window.location.origin}/accept-invitation?code=${x.invitationCode}`,"Share Message"),children:[n.jsx(hx,{size:14,className:"mr-1"}),"Share Link"]}),n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>y(x.invitationCode),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[n.jsx(If,{size:14,className:"mr-1"}),"Share"]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>p.mutate(x.id),disabled:p.isPending,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[n.jsx(En,{size:14,className:"mr-1"}),p.isPending?"Deleting...":"Delete"]})})]})]})})},x.id))})]}),n.jsxs(qe,{value:"relationships",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Active Care Relationships"}),n.jsx("p",{className:"text-gray-600",children:"Manage connected caregivers and their access levels"})]}),n.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:h.length===0?n.jsx($,{children:n.jsxs(H,{className:"text-center py-12",children:[n.jsx(as,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Relationships"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"When caregivers accept invitations, they'll appear here"}),n.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Send First Invitation"})]})}):h.map(x=>n.jsx($,{className:"border-l-4 border-l-green-500",children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Care Relationship #",x.id]}),x.isPrimary&&n.jsx(me,{className:"bg-yellow-100 text-yellow-800 border-none",children:"PRIMARY"}),n.jsx(me,{className:"bg-green-100 text-green-800 border-none",children:"ACTIVE"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Relationship:"})," ",x.relationship]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Established:"})," ",x.establishedAt?new Date(x.establishedAt).toLocaleDateString():"N/A"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Method:"})," ",x.establishedVia]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",x.userId]})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(mo,{size:14,className:"mr-1"}),"Manage Access"]})})]})})},x.id))})]})]}),n.jsx($,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(H,{className:"p-6 text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Professional Healthcare Positioning"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"SkillBridge is designed to support individuals with neurodevelopmental disorders in building independence while maintaining strong connections with their care team. Perfect for families, therapists, and healthcare providers."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(is,{className:"text-blue-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"HIPAA Compliant"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(ot,{className:"text-red-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"Evidence-Based"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(as,{className:"text-green-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"Care Team Focused"})]})]})]})}),n.jsx(et,{open:!!o,onOpenChange:()=>l(null),children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{className:"text-center",children:"Share Invitation with Caregiver"}),n.jsx(Zt,{className:"text-center",children:"Send your caregiver a simple message with the invitation code"})]}),n.jsx("div",{className:"space-y-4",children:o&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:["Invitation Code: ",n.jsx("code",{className:"bg-white px-2 py-1 rounded border",children:o})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your caregiver can use this code when they sign in at the main login page."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(E,{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:()=>{const x=d==null?void 0:d.find(k=>k.invitationCode===o),w=(x==null?void 0:x.userName)||"my caregiver",S=`adaptalyfe://login?code=${o}`,N=`${window.location.origin}/login?code=${o}`,C=`Hi ${w}! I'd like you to join my Adaptalyfe support network.

If you have the Adaptalyfe app installed:
${S}

Otherwise, use this web link:
${N}

Invitation code: ${o}`;window.open(`sms:?body=${encodeURIComponent(C)}`,"_blank")},children:[n.jsx(If,{className:"w-4 h-4 mr-2"}),"Send Text Message"]}),n.jsxs(E,{variant:"outline",className:"w-full border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-semibold",onClick:()=>{const x=d==null?void 0:d.find(T=>T.invitationCode===o),w=(x==null?void 0:x.userName)||"my caregiver",S="Adaptalyfe Caregiver Invitation",N=`adaptalyfe://login?code=${o}`,C=`${window.location.origin}/login?code=${o}`,k=`Hi ${w}!

I'd like you to join my support network on Adaptalyfe, an app that helps me manage daily tasks and stay independent.

To join:

If you have the Adaptalyfe mobile app installed:
${N}

Otherwise, use this web link:
${C}

Your invitation code is: ${o}

Thanks!`;window.open(`mailto:?subject=${encodeURIComponent(S)}&body=${encodeURIComponent(k)}`,"_blank")},children:[n.jsx(jy,{className:"w-4 h-4 mr-2"}),"Send Email"]}),n.jsxs(E,{variant:"ghost",className:"w-full text-gray-600 hover:bg-gray-50",onClick:()=>{const x=`Invitation Code: ${o}
Login at: ${window.location.origin}/login`;navigator.clipboard.writeText(x),e({title:"Copied!",description:"Invitation details copied to clipboard"}),r("invitation"),setTimeout(()=>r(null),2e3)},children:[s==="invitation"?n.jsx(dc,{className:"w-4 h-4 mr-2"}):n.jsx(gS,{className:"w-4 h-4 mr-2"}),"Copy Invitation Details"]})]})]})})]})})]})}const ose=pm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yc=v.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:Oe(ose({variant:t}),e),...s}));yc.displayName="Alert";const lse=v.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));lse.displayName="AlertTitle";const vc=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));vc.displayName="AlertDescription";const cse=ws({invitationCode:Ae().min(6,"Invitation code must be at least 6 characters"),confirmAccept:ko().default(!1)});function dse(){const{toast:e}=ut(),[t,s]=Ln(),[r,i]=v.useState(null),[a,o]=v.useState(!1),[l,c]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{(()=>{const S=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);h(S),console.log("AcceptInvitation: Mobile detected:",S)})()},[]);const{data:u,isLoading:m}=xe({queryKey:["/api/user"],retry:d?3:1,retryDelay:d?1e3:500});if(m)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const p=Ut({resolver:zt(cse),defaultValues:{invitationCode:"",confirmAccept:!1}});v.useEffect(()=>{try{console.log("AcceptInvitation: Checking URL for invitation code");const S=new URLSearchParams(window.location.search).get("code");console.log("AcceptInvitation: Code from URL:",S),S&&(p.setValue("invitationCode",S),j(S))}catch(w){console.error("AcceptInvitation: Error parsing URL:",w)}},[]);const j=async w=>{if(!(!w||w.length<6)){console.log("AcceptInvitation: Validating invitation code:",w),o(!0),c(null);try{const N=await(await ve("GET",`/api/invitation/${w}`)).json();console.log("AcceptInvitation: Invitation data received:",N),i(N)}catch(S){console.error("AcceptInvitation: Validation error:",S);const N=S.message.includes("404")?"Invitation code not found":S.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(N),i(null)}finally{o(!1)}}},y=Ce({mutationFn:w=>ve("POST","/api/accept-invitation",w).then(S=>S.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to Adaptalyfe!"}),setTimeout(()=>{s("/dashboard")},2e3)},onError:w=>{e({title:"Error",description:"Failed to accept invitation: "+w.message,variant:"destructive"})}}),g=w=>{p.setValue("invitationCode",w),w.length>=6?j(w):(i(null),c(null))},f=()=>{!u||!r||typeof u!="object"||!("id"in u)||y.mutate({invitationCode:r.invitationCode,userId:u.id})},b=w=>{const S={view_progress:"View your daily tasks and achievements",view_mood:"See your mood tracking entries",view_medical:"Access medical information and appointments",view_financial:"View bills and budget information",emergency_access:"Contact you in emergencies",location_tracking:"See your location updates",schedule_appointments:"Book appointments for you",modify_tasks:"Add or edit your daily tasks"};return w.map(N=>S[N]||N)},x={parent:"👨‍👩‍👧‍👦",therapist:"🩺",case_worker:"🏢",teacher:"🎓",mentor:"🌟",family_friend:"🤝"};return n.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 flex items-center justify-center ${d?"p-2":"p-4"}`,children:n.jsxs("div",{className:`${d?"max-w-sm":"max-w-2xl"} w-full space-y-8`,children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:28})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Join Your Care Team"}),n.jsx("p",{className:"text-gray-600",children:"Accept invitation to Adaptalyfe"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-lg mx-auto",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"mx-auto text-red-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Support Network"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(is,{className:"mx-auto text-blue-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Secure & Private"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(as,{className:"mx-auto text-green-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Care Team"})]})]})]}),n.jsxs($,{className:"border-2 border-purple-200 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsxs(ce,{className:"flex items-center justify-center space-x-2",children:[n.jsx(cl,{className:"text-purple-600",size:24}),n.jsx("span",{children:"Caregiver Invitation"})]}),n.jsx(at,{children:"Enter your invitation code to connect with your caregiver"})]}),n.jsx(H,{className:"space-y-6",children:n.jsx(Bt,{...p,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z,{control:p.control,name:"invitationCode",render:({field:w})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Invitation Code"}),n.jsx(J,{children:n.jsx(q,{...w,placeholder:"Enter 6-character code",className:"text-center text-lg font-mono tracking-wider",onChange:S=>{w.onChange(S),g(S.target.value.toUpperCase())},value:w.value.toUpperCase(),maxLength:8})}),n.jsx(se,{})]})}),a&&n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&n.jsxs(yc,{className:"border-red-200 bg-red-50",children:[n.jsx(Xt,{className:"text-red-600",size:16}),n.jsx(vc,{className:"text-red-800",children:l})]}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(yc,{className:"border-green-200 bg-green-50",children:[n.jsx(cl,{className:"text-green-600",size:16}),n.jsx(vc,{className:"text-green-800",children:"Valid invitation found! Review the details below."})]}),n.jsx($,{className:"border-purple-200 bg-purple-50",children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"text-3xl",children:x[r.relationship]||"👤"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.userName}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:n.jsx("strong",{children:"Invitation expires:"})}),n.jsxs("div",{className:"flex items-center space-x-1 text-orange-600",children:[n.jsx(js,{size:14}),n.jsx("span",{children:new Date(r.expiresAt).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:n.jsx("strong",{children:"Status:"})}),n.jsx(me,{className:"bg-yellow-100 text-yellow-800 border-none",children:r.status.toUpperCase()})]})]}),r.permissionsGranted&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"This caregiver will have access to:"}),n.jsx("div",{className:"space-y-1",children:(()=>{try{const w=typeof r.permissionsGranted=="string"?JSON.parse(r.permissionsGranted):r.permissionsGranted;return Array.isArray(w)?b(w).map((S,N)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full"}),n.jsx("span",{children:String(S)})]},N)):n.jsx("span",{className:"text-sm text-gray-500",children:"No permissions specified"})}catch(w){return console.error("Error parsing permissions:",w),n.jsx("span",{className:"text-sm text-gray-500",children:"Permissions information not available"})}})()})]})]})}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"By accepting this invitation, you agree to share the specified information with your caregiver to support your independence journey."}),n.jsx(E,{onClick:f,disabled:y.isPending||!u||typeof u!="object"||!("id"in u),className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg text-lg py-3",children:y.isPending?"Accepting Invitation...":"Accept Invitation & Join Care Team"}),!u&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(yc,{className:"border-blue-200 bg-blue-50",children:[n.jsx(Xt,{className:"text-blue-600",size:16}),n.jsx(vc,{className:"text-blue-800",children:"Please log in or create an account first to accept this invitation."})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/sign-in")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]})]})})})]}),n.jsx($,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(H,{className:"p-4 text-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Welcome to Adaptalyfe"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function use(){const{toast:e}=ut(),[t,s]=Ln(),[r,i]=v.useState(null),[a,o]=v.useState(!1),[l,c]=v.useState(null);console.log("MobileAcceptInvitation: Component loaded");const{data:d,isLoading:h}=xe({queryKey:["/api/user"],retry:3,retryDelay:1e3});v.useEffect(()=>{try{console.log("MobileAcceptInvitation: Checking URL for invitation code");const g=new URLSearchParams(window.location.search).get("code");console.log("MobileAcceptInvitation: Code from URL:",g),g&&u(g)}catch(y){console.error("MobileAcceptInvitation: Error parsing URL:",y)}},[]);const u=async y=>{if(!(!y||y.length<6)){console.log("MobileAcceptInvitation: Validating invitation code:",y),o(!0),c(null);try{const f=await(await ve("GET",`/api/invitation/${y}`)).json();console.log("MobileAcceptInvitation: Invitation data received:",f),i(f)}catch(g){console.error("MobileAcceptInvitation: Validation error:",g);const f=g.message.includes("404")?"Invitation code not found":g.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(f),i(null)}finally{o(!1)}}},m=Ce({mutationFn:y=>ve("POST","/api/accept-invitation",y).then(g=>g.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to SkillBridge!"}),setTimeout(()=>{s("/dashboard")},2e3)},onError:y=>{e({title:"Error",description:"Failed to accept invitation: "+y.message,variant:"destructive"})}}),p=()=>{!d||!r||typeof d!="object"||!("id"in d)||m.mutate({invitationCode:r.invitationCode,userId:d.id})};if(h)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const j={parent:"👨‍👩‍👧‍👦",therapist:"🩺",case_worker:"🏢",teacher:"🎓",mentor:"🌟",family_friend:"🤝"};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-2",children:n.jsxs("div",{className:"max-w-sm w-full space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Join Your Care Team"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accept invitation to SkillBridge"})]})]}),n.jsxs("div",{className:"flex justify-center space-x-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"mx-auto text-red-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Support"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(is,{className:"mx-auto text-blue-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Secure"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(as,{className:"mx-auto text-green-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Care Team"})]})]})]}),n.jsxs($,{className:"border-2 border-purple-200 shadow-lg",children:[n.jsxs(le,{className:"text-center pb-4",children:[n.jsxs(ce,{className:"flex items-center justify-center space-x-2 text-lg",children:[n.jsx(cl,{className:"text-purple-600",size:20}),n.jsx("span",{children:"Caregiver Invitation"})]}),n.jsx(at,{className:"text-sm",children:"Connect with your caregiver"})]}),n.jsxs(H,{className:"space-y-4",children:[a&&n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&n.jsxs(yc,{className:"border-red-200 bg-red-50",children:[n.jsx(Xt,{className:"text-red-600",size:16}),n.jsx(vc,{className:"text-red-800 text-sm",children:l})]}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsx($,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"text-2xl",children:j[r.relationship]||"👤"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900",children:r.userName}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsx("div",{children:n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"Expires:"})," ",new Date(r.expiresAt).toLocaleDateString()]})})})]})}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"By accepting this invitation, you agree to share information with your caregiver to support your independence journey."}),n.jsx(E,{onClick:p,disabled:m.isPending||!d||typeof d!="object"||!("id"in d),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-3",children:m.isPending?"Accepting...":"Accept Invitation"}),!d&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs(yc,{className:"border-blue-200 bg-blue-50",children:[n.jsx(Xt,{className:"text-blue-600",size:16}),n.jsx(vc,{className:"text-blue-800 text-sm",children:"Please log in or create an account first."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/login")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]}),!r&&!a&&!l&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"Loading invitation details..."})})]})]}),n.jsx($,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(H,{className:"p-3 text-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Welcome to SkillBridge"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function hse(){const[,e]=Ln(),{toast:t}=ut(),[s,r]=v.useState({username:"",password:""}),[i,a]=v.useState(!1),o=async l=>{l.preventDefault(),a(!0);try{await ve("POST","/api/login",{username:s.username,password:s.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"});const c=localStorage.getItem("pendingInvitation");c?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${c}`)):e("/dashboard")}catch(c){t({title:"Login Failed",description:c.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Ue,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsx(Ue,{href:"/",children:n.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[n.jsx(ux,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs($,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(yD,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),n.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:l=>r({...s,username:l.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:l=>r({...s,password:l.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),n.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center space-y-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(Ue,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function mse(){const[e]=Ln(),{toast:t}=ut(),[s,r]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState("");v.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("code");m?(l(m),c(m)):a(!1)},[e]);const c=async u=>{try{const p=await(await ve("GET",`/api/invitation/${u}`)).json();r(p)}catch(m){console.error("Error fetching invitation:",m),t({title:"Invalid Invitation",description:"This invitation code is not valid or has expired.",variant:"destructive"})}finally{a(!1)}},d=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/register"},h=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/login"};return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Ue,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ue,{href:"/login",children:n.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),n.jsx(Ue,{href:"/register",children:n.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:py-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-4 rounded-full w-fit mx-auto mb-6",children:n.jsx(_9,{className:"h-12 w-12 text-blue-600"})}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"You're Invited to Join Adaptalyfe!"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Start your independence journey with support from someone who cares about you."})]}),s&&n.jsx($,{className:"mb-8 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:n.jsxs(H,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-3 rounded-full",children:n.jsx(ot,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg text-gray-900",children:[s.caregiverName," wants to support you"]}),n.jsx("p",{className:"text-gray-600",children:s.message})]})]}),n.jsx("div",{className:"bg-white/60 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Invitation Code:"})," ",n.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded",children:o})]})})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[n.jsxs($,{className:"border-2 hover:border-blue-300 transition-colors",children:[n.jsxs(le,{children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit",children:n.jsx(mc,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-xl",children:"Download the App"}),n.jsx(at,{children:"Get the full Adaptalyfe experience on your mobile device"})]}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(E,{className:"flex-1 bg-gray-900 hover:bg-gray-800",disabled:!0,children:[n.jsx(mc,{className:"h-4 w-4 mr-2"}),"App Store (Coming Soon)"]}),n.jsxs(E,{className:"flex-1 bg-green-600 hover:bg-green-700",disabled:!0,children:[n.jsx(mc,{className:"h-4 w-4 mr-2"}),"Google Play (Coming Soon)"]})]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Native mobile apps launching soon with enhanced features"})]})})]}),n.jsxs($,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[n.jsxs(le,{children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-3 rounded-lg w-fit",children:n.jsx(ta,{className:"h-8 w-8 text-purple-600"})}),n.jsx(ce,{className:"text-xl",children:"Start Now on Web"}),n.jsx(at,{children:"Create your account and begin immediately in your browser"})]}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs(E,{onClick:d,className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg py-3",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),"Create Account with Invitation",n.jsx(cd,{className:"h-4 w-4 ml-2"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Already have an account?"}),n.jsx(E,{onClick:h,variant:"outline",className:"w-full",children:"Sign In to Accept Invitation"})]})]})})]})]}),n.jsxs($,{className:"bg-white/80 backdrop-blur-md",children:[n.jsxs(le,{className:"text-center",children:[n.jsx(ce,{className:"text-2xl",children:"What You'll Get with Adaptalyfe"}),n.jsx(at,{children:"Tools designed to help you live independently with confidence"})]}),n.jsx(H,{children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(is,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Task Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Organize daily tasks with reminders and progress tracking"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(ot,{className:"h-6 w-6 text-purple-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Mood Tracking"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monitor emotional well-being and identify patterns"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(ta,{className:"h-6 w-6 text-green-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Caregiver Support"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Stay connected with your support network"})]})]})})]}),n.jsx("div",{className:"text-center mt-12",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})})]})]})}function It(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ua(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function BF(e,t){const s=It(e);return isNaN(t)?ua(e,NaN):(t&&s.setDate(s.getDate()+t),s)}const zF=6048e5,pse=864e5,cp=43200,eC=1440;let fse={};function km(){return fse}function Ph(e,t){var l,c,d,h;const s=km(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=It(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function pg(e){return Ph(e,{weekStartsOn:1})}function VF(e){const t=It(e),s=t.getFullYear(),r=ua(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=pg(r),a=ua(e,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=pg(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function fg(e){const t=It(e);return t.setHours(0,0,0,0),t}function gg(e){const t=It(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function gse(e,t){const s=fg(e),r=fg(t),i=+s-gg(s),a=+r-gg(r);return Math.round((i-a)/pse)}function xse(e){const t=VF(e),s=ua(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),pg(s)}function Gp(e,t){const s=It(e),r=It(t),i=s.getTime()-r.getTime();return i<0?-1:i>0?1:i}function hN(e){return ua(e,Date.now())}function qF(e,t){const s=fg(e),r=fg(t);return+s==+r}function yse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vse(e){if(!yse(e)&&typeof e!="number")return!1;const t=It(e);return!isNaN(Number(t))}function bse(e,t){const s=It(e),r=It(t),i=s.getFullYear()-r.getFullYear(),a=s.getMonth()-r.getMonth();return i*12+a}function jse(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function wse(e,t){return+It(e)-+It(t)}function Nse(e){const t=It(e);return t.setHours(23,59,59,999),t}function Sse(e){const t=It(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Cse(e){const t=It(e);return+Nse(t)==+Sse(t)}function kse(e,t){const s=It(e),r=It(t),i=Gp(s,r),a=Math.abs(bse(s,r));let o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let l=Gp(s,r)===-i;Cse(It(e))&&a===1&&Gp(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function _se(e,t,s){const r=wse(e,t)/1e3;return jse(s==null?void 0:s.roundingMethod)(r)}function Tse(e){const t=It(e),s=ua(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Pse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ese=(e,t,s)=>{let r;const i=Pse[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Qy(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Ase={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ise={date:Qy({formats:Ase,defaultWidth:"full"}),time:Qy({formats:Dse,defaultWidth:"full"}),dateTime:Qy({formats:Mse,defaultWidth:"full"})},Rse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fse=(e,t,s,r)=>Rse[e];function tu(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Ose={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$se={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Use={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vse=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},qse={ordinalNumber:Vse,era:tu({values:Ose,defaultWidth:"wide"}),quarter:tu({values:Lse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tu({values:$se,defaultWidth:"wide"}),day:tu({values:Use,defaultWidth:"wide"}),dayPeriod:tu({values:Bse,defaultWidth:"wide",formattingValues:zse,defaultFormattingWidth:"wide"})};function su(e){return(t,s={})=>{const r=s.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Wse(l,u=>u.test(o)):Hse(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function Hse(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Wse(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Gse(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Kse=/^(\d+)(th|st|nd|rd)?/i,Qse=/\d+/i,Yse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xse={any:[/^b/i,/^(a|c)/i]},Zse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jse={any:[/1/i,/2/i,/3/i,/4/i]},ene={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ine={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ane={ordinalNumber:Gse({matchPattern:Kse,parsePattern:Qse,valueCallback:e=>parseInt(e,10)}),era:su({matchPatterns:Yse,defaultMatchWidth:"wide",parsePatterns:Xse,defaultParseWidth:"any"}),quarter:su({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:Jse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:su({matchPatterns:ene,defaultMatchWidth:"wide",parsePatterns:tne,defaultParseWidth:"any"}),day:su({matchPatterns:sne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any"}),dayPeriod:su({matchPatterns:rne,defaultMatchWidth:"any",parsePatterns:ine,defaultParseWidth:"any"})},HF={code:"en-US",formatDistance:Ese,formatLong:Ise,formatRelative:Fse,localize:qse,match:ane,options:{weekStartsOn:0,firstWeekContainsDate:1}};function one(e){const t=It(e);return gse(t,Tse(t))+1}function lne(e){const t=It(e),s=+pg(t)-+xse(t);return Math.round(s/zF)+1}function WF(e,t){var h,u,m,p;const s=It(e),r=s.getFullYear(),i=km(),a=(t==null?void 0:t.firstWeekContainsDate)??((u=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=ua(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Ph(o,t),c=ua(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Ph(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function cne(e,t){var l,c,d,h;const s=km(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=WF(e,t),a=ua(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ph(a,t)}function dne(e,t){const s=It(e),r=+Ph(s,t)-+cne(s,t);return Math.round(r/zF)+1}function Ot(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const va={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Ot(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Ot(s+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,s-3));return Ot(i,t.length)}},Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tC={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return va.y(e,t)},Y:function(e,t,s,r){const i=WF(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ot(o,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):Ot(a,t.length)},R:function(e,t){const s=VF(e);return Ot(s,t.length)},u:function(e,t){const s=e.getFullYear();return Ot(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return va.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const i=dne(e,r);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):Ot(i,t.length)},I:function(e,t,s){const r=lne(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Ot(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):va.d(e,t)},D:function(e,t,s){const r=one(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ot(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ot(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ot(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let i;switch(r===12?i=Fl.noon:r===0?i=Fl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let i;switch(r>=17?i=Fl.evening:r>=12?i=Fl.afternoon:r>=4?i=Fl.morning:i=Fl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return va.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):va.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):va.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):va.s(e,t)},S:function(e,t){return va.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nC(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return nC(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sC(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sC(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return Ot(r,t.length)},T:function(e,t,s){const r=e.getTime();return Ot(r,t.length)}};function sC(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?s+String(i):s+String(i)+t+Ot(a,2)}function nC(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),i=Ot(Math.trunc(r/60),2),a=Ot(r%60,2);return s+i+t+a}const rC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},une=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return rC(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",rC(r,t)).replace("{{time}}",GF(i,t))},hne={p:GF,P:une},mne=/^D+$/,pne=/^Y+$/,fne=["D","DD","YY","YYYY"];function gne(e){return mne.test(e)}function xne(e){return pne.test(e)}function yne(e,t,s){const r=vne(e,t,s);if(console.warn(r),fne.includes(e))throw new RangeError(r)}function vne(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wne=/^'([^]*?)'?$/,Nne=/''/g,Sne=/[a-zA-Z]/;function Ps(e,t,s){var h,u,m,p;const r=km(),i=r.locale??HF,a=r.firstWeekContainsDate??((u=(h=r.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=It(e);if(!vse(l))throw new RangeError("Invalid time value");let c=t.match(jne).map(j=>{const y=j[0];if(y==="p"||y==="P"){const g=hne[y];return g(j,i.formatLong)}return j}).join("").match(bne).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const y=j[0];if(y==="'")return{isToken:!1,value:Cne(j)};if(tC[y])return{isToken:!0,value:j};if(y.match(Sne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const y=j.value;(xne(y)||gne(y))&&yne(y,t,String(e));const g=tC[y[0]];return g(l,y,i.localize,d)}).join("")}function Cne(e){const t=e.match(wne);return t?t[1].replace(Nne,"'"):e}function kne(e,t,s){const r=km(),i=(s==null?void 0:s.locale)??r.locale??HF,a=2520,o=Gp(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=It(t),d=It(e)):(c=It(e),d=It(t));const h=_se(d,c),u=(gg(d)-gg(c))/1e3,m=Math.round((h-u)/60);let p;if(m<2)return s!=null&&s.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,l):h<10?i.formatDistance("lessThanXSeconds",10,l):h<20?i.formatDistance("lessThanXSeconds",20,l):h<40?i.formatDistance("halfAMinute",0,l):h<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<eC){const j=Math.round(m/60);return i.formatDistance("aboutXHours",j,l)}else{if(m<a)return i.formatDistance("xDays",1,l);if(m<cp){const j=Math.round(m/eC);return i.formatDistance("xDays",j,l)}else if(m<cp*2)return p=Math.round(m/cp),i.formatDistance("aboutXMonths",p,l)}if(p=kse(d,c),p<12){const j=Math.round(m/cp);return i.formatDistance("xMonths",j,l)}else{const j=p%12,y=Math.trunc(p/12);return j<3?i.formatDistance("aboutXYears",y,l):j<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function _ne(e,t){return kne(e,hN(e),t)}function iC(e,t){const s=It(e),r=It(t);return s.getTime()>r.getTime()}function Tne(e){return qF(e,hN(e))}function Pne(e){return qF(e,BF(hN(e),1))}function aC(e,t){return BF(e,-t)}const Ene={1:"bg-green-100 text-green-800",2:"bg-green-100 text-green-800",3:"bg-yellow-100 text-yellow-800",4:"bg-yellow-100 text-yellow-800",5:"bg-orange-100 text-orange-800",6:"bg-orange-100 text-orange-800",7:"bg-red-100 text-red-800",8:"bg-red-100 text-red-800",9:"bg-red-100 text-red-800",10:"bg-red-100 text-red-800"},oC={1:"Very Mild",2:"Mild",3:"Mild-Moderate",4:"Moderate",5:"Moderate",6:"Moderate-Severe",7:"Severe",8:"Severe",9:"Very Severe",10:"Extreme"};function Ane(){const[e,t]=v.useState(!1),[s,r]=v.useState(null),{toast:i}=ut(),a=Jt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/symptom-entries"]}),c=Ce({mutationFn:g=>ve("POST","/api/symptom-entries",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),t(!1),i({title:"Success",description:"Symptom entry added successfully"})},onError:g=>{i({title:"Error",description:"Failed to add symptom entry",variant:"destructive"})}}),d=Ce({mutationFn:({id:g,data:f})=>ve("PATCH",`/api/symptom-entries/${g}`,f),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),r(null),i({title:"Success",description:"Symptom entry updated successfully"})},onError:g=>{i({title:"Error",description:"Failed to update symptom entry",variant:"destructive"})}}),h=Ce({mutationFn:g=>ve("DELETE",`/api/symptom-entries/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),i({title:"Success",description:"Symptom entry deleted successfully"})},onError:g=>{i({title:"Error",description:"Failed to delete symptom entry",variant:"destructive"})}}),u=Ut({resolver:zt(H2),defaultValues:{symptomName:"",severity:1,startTime:new Date,endTime:null,triggers:"",location:"",description:"",notes:""}}),m=Ut({resolver:zt(H2)}),p=g=>{c.mutate({...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null})},j=g=>{s&&d.mutate({id:s.id,data:{...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null}})},y=g=>{r(g),m.reset({symptomName:g.symptomName,severity:g.severity,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null,triggers:g.triggers||"",location:g.location||"",description:g.description||"",notes:g.notes||""})};return l?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"space-y-6 h-80 overflow-y-scroll",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Symptom Tracker"}),n.jsx("p",{className:"text-gray-600",children:"Track your symptoms to identify patterns and triggers"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"flex items-center gap-2 border-2 border-blue-300 shadow-md hover:shadow-lg transition-shadow",children:[n.jsx(ct,{className:"w-4 h-4"}),"Log Symptom"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log New Symptom"}),n.jsx(Zt,{children:"Record details about your symptom to track patterns over time"})]}),n.jsx(Bt,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(p),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:u.control,name:"symptomName",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Symptom Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"severity",render:({field:g})=>{var f;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Severity (1-10)"}),n.jsxs(Ge,{onValueChange:b=>g.onChange(parseInt(b)),defaultValue:(f=g.value)==null?void 0:f.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})})}),n.jsx(We,{children:Array.from({length:10},(b,x)=>x+1).map(b=>n.jsxs(B,{value:b.toString(),children:[b," - ",oC[b]]},b))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:u.control,name:"startTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Start Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Ps(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:f=>g.onChange(new Date(f.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"endTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"End Time (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Ps(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:f=>g.onChange(f.target.value?new Date(f.target.value):null)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"location",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"triggers",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Possible Triggers (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Describe the symptom in detail",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsxs(K0,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:c.isPending,className:"border-2 border-green-400 shadow-md hover:shadow-lg transition-shadow",children:c.isPending?"Adding...":"Add Entry"})]})]})})]})]})]}),!o||o.length===0?n.jsx($,{children:n.jsxs(H,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Xt,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Symptoms Logged"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking symptoms to identify patterns and triggers"}),n.jsxs(E,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4"}),"Log Your First Symptom"]})]})}):n.jsx("div",{className:"space-y-4",children:o.map(g=>n.jsx($,{children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h4",{className:"font-medium text-lg",children:g.symptomName}),n.jsxs(me,{className:Ene[g.severity],children:["Level ",g.severity]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>y(g),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),className:"text-red-600 hover:text-red-700",children:n.jsx(En,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:Ps(new Date(g.startTime),"MMM d, yyyy 'at' h:mm a")})]}),g.endTime&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(js,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{children:["Ended ",_ne(new Date(g.endTime))," ago"]})]}),g.location&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:g.location})]})]}),(g.description||g.triggers)&&n.jsxs(n.Fragment,{children:[n.jsx(Jl,{className:"my-3"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[g.description&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Description: "}),n.jsx("span",{className:"text-gray-700",children:g.description})]}),g.triggers&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Triggers: "}),n.jsx("span",{className:"text-gray-700",children:g.triggers})]})]})]})]})},g.id))}),n.jsx(et,{open:!!s,onOpenChange:()=>r(null),children:n.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Edit Symptom Entry"}),n.jsx(Zt,{children:"Update the details of this symptom entry"})]}),n.jsx(Bt,{...m,children:n.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:m.control,name:"symptomName",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Symptom Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"severity",render:({field:g})=>{var f;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Severity (1-10)"}),n.jsxs(Ge,{onValueChange:b=>g.onChange(parseInt(b)),value:(f=g.value)==null?void 0:f.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})})}),n.jsx(We,{children:Array.from({length:10},(b,x)=>x+1).map(b=>n.jsxs(B,{value:b.toString(),children:[b," - ",oC[b]]},b))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:m.control,name:"startTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Start Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Ps(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:f=>g.onChange(new Date(f.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"location",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"triggers",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Possible Triggers (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsxs(K0,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(null),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:d.isPending,children:d.isPending?"Updating...":"Update Entry"})]})]})})]})})]})}const lC={mild:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",severe:"bg-red-100 text-red-800","life-threatening":"bg-red-200 text-red-900"},Dne={active:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800",resolved:"bg-green-100 text-green-800"};function Mne(){const{toast:e}=ut(),t=Jt(),[s,r]=v.useState(null),[i,a]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[h,u]=v.useState(null),{data:m=[]}=xe({queryKey:["/api/allergies"]}),{data:p=[]}=xe({queryKey:["/api/medical-conditions"]}),{data:j=[]}=xe({queryKey:["/api/adverse-medications"]}),{data:y=[]}=xe({queryKey:["/api/emergency-contacts"]}),{data:g=[]}=xe({queryKey:["/api/primary-care-providers"]}),f=Ce({mutationFn:P=>ve("POST","/api/allergies",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy added successfully"})}});Ce({mutationFn:({id:P,...M})=>ve("PUT",`/api/allergies/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy updated successfully"}),r(null)}});const b=Ce({mutationFn:P=>ve("DELETE",`/api/allergies/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy deleted successfully"})}}),x=Ce({mutationFn:async P=>(await ve("POST","/api/medical-conditions",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition added successfully"})},onError:P=>{console.error("Failed to create medical condition:",P),e({title:"Error",description:"Failed to add medical condition. Please try again.",variant:"destructive"})}});Ce({mutationFn:({id:P,...M})=>ve("PUT",`/api/medical-conditions/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition updated successfully"}),a(null)}});const w=Ce({mutationFn:P=>ve("DELETE",`/api/medical-conditions/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition deleted successfully"})}}),S=Ce({mutationFn:async P=>(await ve("POST","/api/adverse-medications",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication added successfully"})}});Ce({mutationFn:({id:P,...M})=>ve("PUT",`/api/adverse-medications/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication updated successfully"}),l(null)}});const N=Ce({mutationFn:P=>ve("DELETE",`/api/adverse-medications/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication deleted successfully"})}}),C=Ce({mutationFn:P=>ve("POST","/api/emergency-contacts",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact added successfully"})}});Ce({mutationFn:({id:P,...M})=>ve("PUT",`/api/emergency-contacts/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact updated successfully"}),d(null)}});const k=Ce({mutationFn:P=>ve("DELETE",`/api/emergency-contacts/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})}}),T=Ce({mutationFn:P=>ve("POST","/api/primary-care-providers",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider added successfully"})}});Ce({mutationFn:({id:P,...M})=>ve("PUT",`/api/primary-care-providers/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider updated successfully"}),u(null)}});const D=Ce({mutationFn:P=>ve("DELETE",`/api/primary-care-providers/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider deleted successfully"})}});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Medical Information"}),n.jsx("p",{className:"text-gray-600",children:"Manage your medical history, allergies, and healthcare contacts"})]}),n.jsxs(Cn,{defaultValue:"allergies",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-3 md:grid-cols-6 h-16 md:h-12 p-1 gap-1",children:[n.jsx(Ve,{value:"allergies",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Allergies"}),n.jsx(Ve,{value:"conditions",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Conditions"}),n.jsx(Ve,{value:"adverse",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Adverse"}),n.jsx(Ve,{value:"contacts",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Emergency"}),n.jsx(Ve,{value:"providers",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Providers"}),n.jsx(Ve,{value:"symptoms",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Symptoms"})]}),n.jsxs(qe,{value:"allergies",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Allergies"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Allergy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Allergy"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);f.mutate({allergen:M.get("allergen"),severity:M.get("severity"),reaction:M.get("reaction"),notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"allergen",children:"Allergen"}),n.jsx(q,{name:"allergen",required:!0,placeholder:"e.g., Peanuts, Penicillin"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"severity",children:"Severity"}),n.jsxs(Ge,{name:"severity",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})}),n.jsxs(We,{children:[n.jsx(B,{value:"mild",children:"Mild"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"severe",children:"Severe"}),n.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reaction",children:"Reaction"}),n.jsx(q,{name:"reaction",placeholder:"e.g., Hives, difficulty breathing"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:f.isPending,children:f.isPending?"Adding...":"Add Allergy"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!m||m.length===0?n.jsx($,{children:n.jsx(H,{className:"pt-6 text-center text-gray-500",children:'No allergies recorded. Click "Add Allergy" to get started.'})}):m.map(P=>n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.allergen}),n.jsx(me,{className:lC[P.severity],children:P.severity})]}),P.reaction&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>r(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>b.mutate(P.id),children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(qe,{value:"conditions",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Medical Conditions"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Condition"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Medical Condition"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("diagnosedDate");x.mutate({condition:M.get("condition"),status:M.get("status"),diagnosedDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"condition",children:"Condition"}),n.jsx(q,{name:"condition",required:!0,placeholder:"e.g., Diabetes, Asthma"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"status",children:"Status"}),n.jsxs(Ge,{name:"status",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select status"})}),n.jsxs(We,{children:[n.jsx(B,{value:"active",children:"Active"}),n.jsx(B,{value:"inactive",children:"Inactive"}),n.jsx(B,{value:"resolved",children:"Resolved"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"diagnosedDate",children:"Diagnosed Date"}),n.jsx(q,{name:"diagnosedDate",type:"date"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:x.isPending,children:x.isPending?"Adding...":"Add Condition"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!p||p.length===0?n.jsx($,{children:n.jsx(H,{className:"pt-6 text-center text-gray-500",children:'No medical conditions recorded. Click "Add Condition" to get started.'})}):p.map(P=>n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.condition}),n.jsx(me,{className:Dne[P.status],children:P.status})]}),P.diagnosedDate&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Diagnosed: ",new Date(P.diagnosedDate).toLocaleDateString()]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>a(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>w.mutate(P.id),children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(qe,{value:"adverse",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Adverse Medications"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Adverse Medication"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Adverse Medication"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("reactionDate");S.mutate({medicationName:M.get("medicationName"),reaction:M.get("reaction"),severity:M.get("severity"),reactionDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"medicationName",children:"Medication Name"}),n.jsx(q,{name:"medicationName",required:!0,placeholder:"e.g., Amoxicillin, Aspirin"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reaction",children:"Reaction"}),n.jsx(q,{name:"reaction",required:!0,placeholder:"e.g., Rash, nausea, dizziness"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"severity",children:"Severity"}),n.jsxs(Ge,{name:"severity",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})}),n.jsxs(We,{children:[n.jsx(B,{value:"mild",children:"Mild"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"severe",children:"Severe"}),n.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reactionDate",children:"Reaction Date"}),n.jsx(q,{name:"reactionDate",type:"date"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:S.isPending,children:S.isPending?"Adding...":"Add Adverse Medication"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!j||j.length===0?n.jsx($,{children:n.jsx(H,{className:"pt-6 text-center text-gray-500",children:'No adverse medications recorded. Click "Add Adverse Medication" to get started.'})}):j.map(P=>n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.medicationName}),n.jsx(me,{className:lC[P.severity],children:P.severity})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.reactionDate&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(P.reactionDate).toLocaleDateString()]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>l(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>N.mutate(P.id),children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(qe,{value:"contacts",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Emergency Contacts"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Emergency Contact"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);C.mutate({name:M.get("name"),relationship:M.get("relationship"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name"}),n.jsx(q,{name:"name",required:!0,placeholder:"Contact name"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship"}),n.jsx(q,{name:"relationship",placeholder:"e.g., Parent, Sibling, Friend"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Phone number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{name:"email",type:"email",placeholder:"Email address"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(lt,{name:"address",placeholder:"Home address"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:C.isPending,children:C.isPending?"Adding...":"Add Contact"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!y||y.length===0?n.jsx($,{children:n.jsx(H,{className:"pt-6 text-center text-gray-500",children:'No emergency contacts recorded. Click "Add Contact" to get started.'})}):y.map(P=>n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&n.jsx(me,{className:"bg-blue-100 text-blue-800",children:"Primary"})]}),P.relationship&&n.jsx("p",{className:"text-sm text-gray-600",children:P.relationship}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&n.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>d(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>k.mutate(P.id),children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(qe,{value:"providers",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Primary Care Providers"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Provider"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Primary Care Provider"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);T.mutate({name:M.get("name"),specialty:M.get("specialty"),practiceName:M.get("practiceName"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Provider Name"}),n.jsx(q,{name:"name",required:!0,placeholder:"Dr. Smith"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"specialty",children:"Specialty"}),n.jsx(q,{name:"specialty",required:!0,placeholder:"e.g., Family Medicine, Cardiology"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"practiceName",children:"Practice Name"}),n.jsx(q,{name:"practiceName",placeholder:"Medical center or clinic name"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Office phone number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{name:"email",type:"email",placeholder:"Office email"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(lt,{name:"address",placeholder:"Office address"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary care provider"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(lt,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:T.isPending,children:T.isPending?"Adding...":"Add Provider"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!g||g.length===0?n.jsx($,{children:n.jsx(H,{className:"pt-6 text-center text-gray-500",children:'No providers recorded. Click "Add Provider" to get started.'})}):g.map(P=>n.jsx($,{children:n.jsx(H,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&n.jsx(me,{className:"bg-green-100 text-green-800",children:"Primary"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:P.specialty}),P.practiceName&&n.jsx("p",{className:"text-sm text-gray-600",children:P.practiceName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&n.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>D.mutate(P.id),children:n.jsx(En,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsx(qe,{value:"symptoms",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:n.jsx(Ane,{})})]})]})}function Ine(){const{isPremiumUser:e}=Ri();return e?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Medical Information"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your medical history, allergies, healthcare contacts, and track symptoms"})]}),n.jsx(Mne,{})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(pa,{title:"Medical Information Management",description:"Securely store and manage your medical history, allergies, medications, and healthcare contacts. Subscribe to continue using Adaptalyfe's medical features.",feature:"medical",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Rne(){const e=Jt(),{toast:t}=ut(),{data:s,isLoading:r}=xe({queryKey:["/api/meal-plans"]}),i=Ce({mutationFn:async u=>(await ve("POST","/api/meal-plans",u)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]}),o.reset(),t({title:"Success",description:"Meal plan saved successfully!"})},onError:u=>{console.error("Failed to create meal plan:",u),t({title:"Error",description:"Failed to save meal plan. Please try again.",variant:"destructive"})}}),a=Ce({mutationFn:async({id:u,isCompleted:m})=>await ve("PATCH",`/api/meal-plans/${u}/completion`,{isCompleted:m}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]})}}),o=Ut({resolver:zt(tee.omit({userId:!0})),defaultValues:{mealType:"breakfast",mealName:"",plannedDate:Ps(new Date,"yyyy-MM-dd"),isCompleted:!1,recipe:"",cookingTime:30}}),l=u=>{console.log("Submitting meal plan data:",u),i.mutate(u)},c=u=>{a.mutate({id:u.id,isCompleted:!u.isCompleted})},d=u=>{switch(u){case"breakfast":return"bg-sunny-orange text-white";case"lunch":return"bg-vibrant-green text-white";case"dinner":return"bg-bright-blue text-white";case"snack":return"bg-cheerful-pink text-white";default:return"bg-gray-500 text-white"}},h=s==null?void 0:s.reduce((u,m)=>{const p=m.plannedDate;return u[p]||(u[p]=[]),u[p].push(m),u},{});return r?n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(uc,{className:"text-sunny-orange"}),n.jsx("span",{children:"Meal Planning"})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>n.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},u))})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(uc,{className:"text-sunny-orange"}),n.jsx("span",{children:"Add New Meal"})]}),n.jsx(at,{children:"Plan your meals to develop healthy eating habits and cooking skills"})]}),n.jsx(H,{children:n.jsx(Bt,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(l,u=>{console.error("Form validation errors:",u),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:o.control,name:"mealName",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Meal Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Scrambled eggs and toast",...u})}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"mealType",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Meal Type"}),n.jsxs(Ge,{onValueChange:u.onChange,defaultValue:u.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select meal type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"breakfast",children:"Breakfast"}),n.jsx(B,{value:"lunch",children:"Lunch"}),n.jsx(B,{value:"dinner",children:"Dinner"}),n.jsx(B,{value:"snack",children:"Snack"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"plannedDate",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Planned Date"}),n.jsx(J,{children:n.jsx(q,{type:"date",...u})}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"cookingTime",render:({field:u})=>{var m;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Cooking Time (minutes)"}),n.jsx(J,{children:n.jsx(q,{type:"number",placeholder:"30",value:((m=u.value)==null?void 0:m.toString())||"",onChange:p=>u.onChange(parseInt(p.target.value)||0),onBlur:u.onBlur,name:u.name})}),n.jsx(se,{})]})}})]}),n.jsx(Z,{control:o.control,name:"recipe",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Recipe/Instructions (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Write simple cooking instructions or notes...",className:"min-h-[100px]",value:u.value||"",onChange:u.onChange,onBlur:u.onBlur,name:u.name})}),n.jsx(se,{})]})}),n.jsxs(E,{type:"submit",disabled:i.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>console.log("Button clicked, form values:",o.getValues()),children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),i.isPending?"Adding...":"Add Meal Plan"]})]})})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Vt,{className:"text-bright-blue"}),n.jsx("span",{children:"Meal Schedule"})]})}),n.jsx(H,{children:!h||Object.keys(h).length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(uc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No meals planned yet. Add your first meal plan above!"})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(h).sort(([u],[m])=>new Date(u).getTime()-new Date(m).getTime()).map(([u,m])=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:Ps(new Date(u),"EEEE, MMMM d, yyyy")}),n.jsx("div",{className:"grid gap-3",children:m.sort((p,j)=>{const y={breakfast:1,lunch:2,dinner:3,snack:4};return y[p.mealType]-y[j.mealType]}).map(p=>n.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${p.isCompleted?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Si,{checked:p.isCompleted||!1,onCheckedChange:()=>c(p),disabled:a.isPending}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:p.mealName}),n.jsx(me,{className:d(p.mealType),children:p.mealType})]}),p.cookingTime&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mt-1",children:[n.jsx(js,{className:"w-3 h-3"}),n.jsxs("span",{children:[p.cookingTime," minutes"]})]}),p.recipe&&n.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-2xl",children:p.recipe})]})]}),p.isCompleted&&n.jsx(ah,{className:"w-5 h-5 text-vibrant-green"})]})},p.id))})]},u))})})]})]})}function Fne(){const e=Jt(),{toast:t}=ut(),[s,r]=v.useState(!1);v.useState(null);const{data:i,isLoading:a}=xe({queryKey:["/api/shopping-lists"]}),{data:o}=xe({queryKey:["/api/shopping-lists/active"]}),{data:l=[]}=xe({queryKey:["/api/grocery-stores"]}),c=Ce({mutationFn:async f=>(await ve("POST","/api/shopping-lists",f)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]}),h.reset(),t({title:"Success",description:"Shopping item added successfully!"})},onError:f=>{console.error("Failed to create shopping item:",f),t({title:"Error",description:"Failed to save shopping item. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:f,isPurchased:b,actualCost:x})=>await ve("PATCH",`/api/shopping-lists/${f}/purchased`,{isPurchased:b,actualCost:x}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]})}}),h=Ut({resolver:zt(see.omit({userId:!0})),defaultValues:{itemName:"",category:"produce",quantity:"",isPurchased:!1,estimatedCost:void 0,actualCost:void 0}}),u=f=>{console.log("Submitting shopping list data:",f),c.mutate(f)},m=(f,b)=>{d.mutate({id:f.id,isPurchased:!f.isPurchased,actualCost:b})},p=f=>{switch(f){case"produce":return"bg-vibrant-green text-white";case"dairy":return"bg-bright-blue text-white";case"meat":return"bg-cheerful-pink text-white";case"pantry":return"bg-sunny-orange text-white";case"frozen":return"bg-calm-teal text-white";case"household":return"bg-happy-purple text-white";default:return"bg-gray-500 text-white"}},j=o==null?void 0:o.reduce((f,b)=>{const x=b.category;return f[x]||(f[x]=[]),f[x].push(b),f},{}),y=(o==null?void 0:o.reduce((f,b)=>f+(b.estimatedCost||0),0))||0,g=(i==null?void 0:i.filter(f=>f.isPurchased).reduce((f,b)=>f+(b.actualCost||0),0))||0;return a?n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"text-bright-blue"}),n.jsx("span",{children:"Shopping List"})]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>n.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},f))})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(C9,{className:"text-sunny-orange"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Items"}),n.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.length)||0})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ti,{className:"text-vibrant-green"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Total"}),n.jsx("p",{className:"text-2xl font-bold",children:Fs(y)})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ah,{className:"text-bright-blue"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Spent This Month"}),n.jsx("p",{className:"text-2xl font-bold",children:Fs(g)})]})]})})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(R0,{className:"text-blue-600"}),n.jsx("span",{children:"Your Grocery Stores"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(mo,{className:"w-4 h-4 mr-2"}),"Manage Stores"]})}),n.jsx(One,{stores:l,onClose:()=>r(!1)})]})]})}),n.jsx(H,{children:l.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(R0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No grocery stores added yet"}),n.jsx("p",{className:"text-sm",children:"Add your favorite stores to enable online ordering"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(f=>n.jsxs("div",{className:`p-4 rounded-lg border ${f.isPreferred?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:f.name}),f.isPreferred&&n.jsx(me,{variant:"secondary",className:"mt-1",children:"Preferred"}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[f.address&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xs,{className:"w-3 h-3"}),n.jsx("span",{className:"truncate",children:f.address})]}),f.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),n.jsx("span",{children:f.phoneNumber})]})]}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[f.deliveryAvailable&&n.jsx(me,{variant:"outline",className:"text-xs",children:"Delivery"}),f.pickupAvailable&&n.jsx(me,{variant:"outline",className:"text-xs",children:"Pickup"})]})]})}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[f.onlineOrderingUrl&&n.jsxs(E,{size:"sm",className:"flex-1",onClick:()=>f.onlineOrderingUrl&&window.open(f.onlineOrderingUrl,"_blank"),children:[n.jsx(hx,{className:"w-3 h-3 mr-1"}),"Order Online"]}),f.website&&n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f.website&&window.open(f.website,"_blank"),children:[n.jsx(ho,{className:"w-3 h-3 mr-1"}),"Website"]})]})]},f.id))})})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ct,{className:"text-vibrant-green"}),n.jsx("span",{children:"Add Shopping Item"})]}),n.jsx(at,{children:"Build your shopping list and track your grocery spending"})]}),n.jsx(H,{children:n.jsx(Bt,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(u,f=>{console.error("Form validation errors:",f),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{control:h.control,name:"itemName",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Item Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Bananas",...f})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"category",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:f.onChange,defaultValue:f.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"produce",children:"Produce"}),n.jsx(B,{value:"dairy",children:"Dairy"}),n.jsx(B,{value:"meat",children:"Meat & Seafood"}),n.jsx(B,{value:"pantry",children:"Pantry"}),n.jsx(B,{value:"frozen",children:"Frozen"}),n.jsx(B,{value:"household",children:"Household"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"quantity",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Quantity"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 2 lbs, 1 gallon",value:f.value||"",onChange:f.onChange,onBlur:f.onBlur,name:f.name})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"estimatedCost",render:({field:f})=>{var b;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Est. Cost ($)"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"5.99",value:((b=f.value)==null?void 0:b.toString())||"",onChange:x=>f.onChange(parseFloat(x.target.value)||void 0),onBlur:f.onBlur,name:f.name})}),n.jsx(se,{})]})}})]}),n.jsxs(E,{type:"submit",disabled:c.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>console.log("Button clicked, form values:",h.getValues()),children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),c.isPending?"Adding...":"Add to Shopping List"]})]})})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"text-bright-blue"}),n.jsx("span",{children:"Shopping List"})]})}),n.jsx(H,{children:!j||Object.keys(j).length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Your shopping list is empty. Add some items above!"})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([f,b])=>n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(me,{className:p(f),children:f.charAt(0).toUpperCase()+f.slice(1)}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",b.length," items)"]})]}),n.jsx("div",{className:"grid gap-2",children:b.map(x=>n.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${x.isPurchased?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Si,{checked:x.isPurchased||!1,onCheckedChange:()=>m(x),disabled:d.isPending}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:x.itemName}),x.quantity&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",x.quantity,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[x.estimatedCost&&n.jsxs("span",{children:["Est: ",Fs(x.estimatedCost)]}),x.actualCost&&n.jsxs("span",{className:"text-vibrant-green font-medium",children:["Actual: ",Fs(x.actualCost)]})]})]})]}),x.isPurchased&&n.jsx(ah,{className:"w-5 h-5 text-vibrant-green"})]})},x.id))})]},f))})})]})]})}function One({stores:e,onClose:t}){const s=Jt(),[r,i]=v.useState(null),[a,o]=v.useState(!1),l=Ce({mutationFn:async h=>(await fetch("/api/grocery-stores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]}),o(!1)}}),c=Ce({mutationFn:async({id:h,...u})=>(await fetch(`/api/grocery-stores/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]}),i(null)}}),d=Ce({mutationFn:async h=>(await fetch(`/api/grocery-stores/${h}`,{method:"DELETE"})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]})}});return n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Manage Grocery Stores"}),n.jsx(Zt,{children:"Add your favorite grocery stores for easy online ordering and shopping list management"})]}),n.jsxs(Cn,{defaultValue:"stores",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-2",children:[n.jsx(Ve,{value:"stores",children:"Your Stores"}),n.jsx(Ve,{value:"add",children:"Add New Store"})]}),n.jsx(qe,{value:"stores",className:"space-y-4",children:e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(R0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No stores added yet"}),n.jsx("p",{className:"text-sm",children:'Switch to "Add New Store" tab to get started'})]}):n.jsx("div",{className:"space-y-4",children:e.map(h=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:h.name}),h.isPreferred&&n.jsx(me,{variant:"secondary",children:"Preferred"})]}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[h.address&&n.jsxs("p",{children:[n.jsx(Xs,{className:"w-3 h-3 inline mr-1"}),h.address]}),h.phoneNumber&&n.jsxs("p",{children:[n.jsx(vs,{className:"w-3 h-3 inline mr-1"}),h.phoneNumber]}),h.website&&n.jsxs("p",{children:[n.jsx(ho,{className:"w-3 h-3 inline mr-1"}),h.website]})]}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[h.deliveryAvailable&&n.jsx(me,{variant:"outline",className:"text-xs",children:"Delivery"}),h.pickupAvailable&&n.jsx(me,{variant:"outline",className:"text-xs",children:"Pickup"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>i(h),children:"Edit"}),n.jsx(E,{variant:"destructive",size:"sm",onClick:()=>d.mutate(h.id),disabled:d.isPending,children:n.jsx(En,{className:"w-3 h-3"})})]})]})},h.id))})}),n.jsx(qe,{value:"add",children:n.jsx(cC,{store:null,onSubmit:h=>l.mutate(h),onCancel:()=>o(!1),isLoading:l.isPending})})]}),r&&n.jsx(et,{open:!!r,onOpenChange:()=>i(null),children:n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Edit Store"})}),n.jsx(cC,{store:r,onSubmit:h=>c.mutate({id:r.id,...h}),onCancel:()=>i(null),isLoading:c.isPending})]})})]})}function cC({store:e,onSubmit:t,onCancel:s,isLoading:r}){const i=Ut({defaultValues:{name:(e==null?void 0:e.name)||"",address:(e==null?void 0:e.address)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",website:(e==null?void 0:e.website)||"",onlineOrderingUrl:(e==null?void 0:e.onlineOrderingUrl)||"",deliveryAvailable:(e==null?void 0:e.deliveryAvailable)||!1,pickupAvailable:(e==null?void 0:e.pickupAvailable)||!0,isPreferred:(e==null?void 0:e.isPreferred)||!1}}),a=o=>{t(o)};return n.jsx(Bt,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[n.jsx(Z,{control:i.control,name:"name",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Store Name *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Walmart Supercenter",...o})}),n.jsx(se,{})]})}),n.jsx(Z,{control:i.control,name:"address",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Address"}),n.jsx(J,{children:n.jsx(q,{placeholder:"123 Main St, City, State 12345",...o})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:i.control,name:"phoneNumber",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Phone Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"(555) 123-4567",...o})}),n.jsx(se,{})]})}),n.jsx(Z,{control:i.control,name:"website",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://walmart.com",...o})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:i.control,name:"onlineOrderingUrl",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Online Ordering URL"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://grocery.walmart.com",...o})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Z,{control:i.control,name:"deliveryAvailable",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Si,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Delivery Available"})})]})}),n.jsx(Z,{control:i.control,name:"pickupAvailable",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Si,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Pickup Available"})})]})}),n.jsx(Z,{control:i.control,name:"isPreferred",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Si,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Preferred Store"})})]})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",disabled:r,className:"flex-1",children:r?"Saving...":e?"Update Store":"Add Store"}),n.jsx(E,{type:"button",variant:"outline",onClick:s,children:"Cancel"})]})]})})}function Lne(){const{hasFeature:e}=Ri();return e("mealPlanning")?n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meal Planning & Shopping"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Plan nutritious meals and manage your grocery shopping efficiently"})]}),n.jsxs(Cn,{defaultValue:"meal-planning",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ve,{value:"meal-planning",className:"flex items-center space-x-2",children:[n.jsx(uc,{className:"w-4 h-4"}),n.jsx("span",{children:"Meal Planning"})]}),n.jsxs(Ve,{value:"shopping-list",className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Shopping List"})]})]}),n.jsx(qe,{value:"meal-planning",className:"mt-6",children:n.jsx(Rne,{})}),n.jsx(qe,{value:"shopping-list",className:"mt-6",children:n.jsx(Fne,{})})]})]}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Meal Planning & Shopping",description:"Create personalized meal plans, manage recipes, and generate smart shopping lists. This premium feature helps you maintain a healthy diet and budget.",feature:"mealPlanning",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})}function $ne(){const{hasFeature:e}=Ri();return e("medicationManagement")?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pharmacy & Medications"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your pharmacies, track medications, and order refills easily"})]}),n.jsx(RF,{})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(pa,{title:"Pharmacy & Medication Management",description:"Track medications, set reminders, manage pharmacy information, and order refills. This premium feature ensures you never miss a dose and stay on top of your health.",feature:"medicationManagement",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Une(){const{hasFeature:e}=Ri();if(!e("advancedAnalytics"))return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Academic Planner",description:"Manage classes, assignments, study sessions, and campus navigation. This comprehensive academic tool helps students with developmental disabilities succeed in their educational journey.",feature:"advancedAnalytics",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[t,s]=v.useState("schedule"),[r,i]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[d,h]=v.useState(!1),[u,m]=v.useState(!1),[p,j]=v.useState(!1),[y,g]=v.useState({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2}),[f,b]=v.useState({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"}),[x,w]=v.useState({subject:"",topic:"",technique:"",duration:60,notes:""}),[S,N]=v.useState({name:"",building:"",floor:"",description:"",category:"academic"}),[C,k]=v.useState({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15}),[T,D]=v.useState({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6}),P=Jt(),{data:M=[],isLoading:X,refetch:ee}=xe({queryKey:["/api/academic-classes"],queryFn:async()=>{const O=await fetch("/api/academic-classes");if(!O.ok)throw new Error("Failed to fetch classes");return O.json()},staleTime:0,cacheTime:0}),{data:F=[],isLoading:re,refetch:fe}=xe({queryKey:["/api/assignments"],queryFn:async()=>{const O=await fetch("/api/assignments");if(!O.ok)throw new Error("Failed to fetch assignments");return O.json()},staleTime:0,cacheTime:0}),{data:V=[],isLoading:L,refetch:oe}=xe({queryKey:["/api/study-sessions"],queryFn:async()=>{const O=await fetch("/api/study-sessions");if(!O.ok)throw new Error("Failed to fetch study sessions");return O.json()},staleTime:0,cacheTime:0}),{data:be=[],isLoading:st}=xe({queryKey:["/api/campus-locations"],queryFn:async()=>{const O=await fetch("/api/campus-locations");if(!O.ok)throw new Error("Failed to fetch locations");return O.json()},staleTime:0,cacheTime:0}),{data:_t=[],isLoading:Ft}=xe({queryKey:["/api/campus-transport"],queryFn:async()=>{const O=await fetch("/api/campus-transport");if(!O.ok)throw new Error("Failed to fetch transport");return O.json()},staleTime:0,cacheTime:0}),{data:ms=[],isLoading:Qt}=xe({queryKey:["/api/study-groups"],queryFn:async()=>{const O=await fetch("/api/study-groups");if(!O.ok)throw new Error("Failed to fetch study groups");return O.json()},staleTime:0,cacheTime:0}),Le=Ce({mutationFn:async O=>ve("POST","/api/assignments",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/assignments"]}),fe(),i(!1),g({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2})}}),yt=Ce({mutationFn:async O=>ve("POST","/api/academic-classes",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/academic-classes"]}),ee(),o(!1),b({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"})}}),Et=Ce({mutationFn:async O=>{console.log("Creating study session with data:",O);try{const it=await ve("POST","/api/study-sessions",O);return console.log("API response:",it),it}catch(it){throw console.error("API request failed:",it),it}},onSuccess:O=>{console.log("Study session created successfully:",O),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""})},onError:O=>{var it;console.error("Failed to create study session:",O),(it=O==null?void 0:O.message)!=null&&it.includes("cross-origin")&&(console.log("Cross-origin error detected, but session may have been created successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""}))}}),vt=Ce({mutationFn:async O=>ve("POST","/api/study-groups",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/study-groups"]}),j(!1),D({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6})}}),bt=Ce({mutationFn:async O=>await ve("POST","/api/campus-locations",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-locations"]}),h(!1),N({name:"",building:"",floor:"",description:"",category:"academic"})}}),rt=Ce({mutationFn:async O=>await ve("POST","/api/campus-transport",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-transport"]}),m(!1),k({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15})}}),es=()=>{!y.title.trim()||!y.dueDate||Le.mutate({...y,dueDate:new Date(y.dueDate).toISOString()})},un=()=>{!f.className.trim()||!f.instructor.trim()||yt.mutate({...f,isActive:!0})},Fi=async()=>{if(console.log("=== handleCreateStudySession CALLED ==="),console.log("Current newStudySession:",x),!x.subject.trim()){console.log("Subject is empty, returning early");return}try{const O={...x,startedAt:new Date().toISOString(),completedAt:null,effectiveness:null};console.log("About to create session with data:",O),console.log("Mutation object:",Et),console.log("Calling mutation..."),await Et.mutateAsync(O),console.log("Mutation completed successfully")}catch(O){console.error("Error in handleCreateStudySession:",O)}},ei=()=>{!S.name.trim()||!S.building.trim()||bt.mutate(S)},ti=()=>{!C.routeName.trim()||!C.fromStop.trim()||rt.mutate(C)},Ld=()=>{!T.groupName.trim()||!T.subject.trim()||vt.mutate({...T,isActive:!0,currentMembers:1})},fa=()=>{try{if(!Array.isArray(F))return[];const O=new Date;return F.filter(Tt=>Tt&&Tt.dueDate&&new Date(Tt.dueDate)>O&&Tt.status!=="completed").sort((Tt,$d)=>new Date(Tt.dueDate).getTime()-new Date($d.dueDate).getTime()).slice(0,5)}catch(O){return console.error("Error in getUpcomingAssignments:",O),[]}},PN=()=>{try{if(!Array.isArray(M))return[];const O=new Date().getDay();return M.filter(it=>it&&it.dayOfWeek===O&&it.isActive)}catch(O){return console.error("Error in getTodayClasses:",O),[]}},Pm=()=>{try{if(!Array.isArray(M)||!Array.isArray(V))return 0;const O=M.length,it=V.filter(Tt=>Tt&&Tt.classId).length;return O>0?Math.round(it/O*100):0}catch(O){return console.error("Error in getClassProgress:",O),0}},U=()=>{try{if(!Array.isArray(F))return{total:0,completed:0,inProgress:0,overdue:0};const O=F.length,it=F.filter(kn=>kn&&kn.status==="completed").length,Tt=F.filter(kn=>kn&&kn.status==="in_progress").length,$d=F.filter(kn=>kn&&kn.dueDate&&new Date(kn.dueDate)<new Date&&kn.status!=="completed").length;return{total:O,completed:it,inProgress:Tt,overdue:$d}}catch(O){return console.error("Error in getAssignmentStats:",O),{total:0,completed:0,inProgress:0,overdue:0}}},G=O=>{const it=new Date(O);return Tne(it)?"Today":Pne(it)?"Tomorrow":Ps(it,"MMM d")},ie=O=>{switch(O){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};if(X||re)return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(O=>n.jsx("div",{className:"h-32 bg-gray-200 rounded"},O))})]})});let De=[],Te=[],ye=0,Ie={total:0,completed:0,inProgress:0,overdue:0};try{De=PN(),Te=fa(),ye=Pm(),Ie=U()}catch(O){console.error("Error in helper functions:",O)}return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Planner"}),n.jsx("p",{className:"text-gray-600",children:"Manage your classes, assignments, study sessions, and campus navigation"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Classes"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.length})]}),n.jsx(Hr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Due This Week"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Te.length})]}),n.jsx(js,{className:"w-8 h-8 text-orange-600"})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assignment Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Ie.completed,"/",Ie.total]})]}),n.jsx(Zs,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Study Hours"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(V.reduce((O,it)=>O+(it.duration||0),0)/60),"h"]})]}),n.jsx(ea,{className:"w-8 h-8 text-purple-600"})]})})})]}),n.jsxs(Cn,{value:t,onValueChange:s,className:"space-y-8",children:[n.jsxs(dn,{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 w-full gap-1 h-auto p-1 mb-6",children:[n.jsx(Ve,{value:"schedule",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Schedule"}),n.jsx(Ve,{value:"assignments",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Assignments"}),n.jsx(Ve,{value:"study",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Study"}),n.jsx(Ve,{value:"campus",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Campus"}),n.jsx(Ve,{value:"social",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Social"})]}),n.jsx(qe,{value:"schedule",className:"space-y-6 mt-6",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-5 h-5"}),"Today's Schedule"]}),n.jsx(at,{children:"Your classes and study sessions for today"})]}),n.jsx(H,{children:De.length>0?n.jsx("div",{className:"space-y-4",children:De.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:O.className}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.instructor," • ",O.building," ",O.room]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium",children:[O.startTime," - ",O.endTime]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.credits," credits"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Vt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No classes scheduled for today"}),n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Class"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Class name",value:f.className,onChange:O=>b({...f,className:O.target.value})}),n.jsx(q,{placeholder:"Instructor",value:f.instructor,onChange:O=>b({...f,instructor:O.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(q,{placeholder:"Building",value:f.building,onChange:O=>b({...f,building:O.target.value})}),n.jsx(q,{placeholder:"Room",value:f.room,onChange:O=>b({...f,room:O.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(q,{type:"time",value:f.startTime,onChange:O=>b({...f,startTime:O.target.value})}),n.jsx(q,{type:"time",value:f.endTime,onChange:O=>b({...f,endTime:O.target.value})})]}),n.jsxs(Ge,{value:f.dayOfWeek.toString(),onValueChange:O=>b({...f,dayOfWeek:parseInt(O)}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Day of week"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"Monday"}),n.jsx(B,{value:"2",children:"Tuesday"}),n.jsx(B,{value:"3",children:"Wednesday"}),n.jsx(B,{value:"4",children:"Thursday"}),n.jsx(B,{value:"5",children:"Friday"})]})]}),n.jsx(q,{type:"number",placeholder:"Credits",value:f.credits,onChange:O=>b({...f,credits:parseInt(O.target.value)||3}),min:"1",max:"6"}),n.jsxs(Ge,{value:f.semester,onValueChange:O=>b({...f,semester:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Semester"})}),n.jsxs(We,{children:[n.jsx(B,{value:"Fall 2025",children:"Fall 2025"}),n.jsx(B,{value:"Spring 2026",children:"Spring 2026"}),n.jsx(B,{value:"Summer 2025",children:"Summer 2025"}),n.jsx(B,{value:"Winter 2025",children:"Winter 2025"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:un,disabled:yt.isPending,className:"flex-1",children:yt.isPending?"Creating...":"Create Class"}),n.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),n.jsx(qe,{value:"assignments",className:"space-y-6 mt-6",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Lt,{className:"w-5 h-5"}),"Upcoming Assignments"]}),n.jsx(at,{children:"Track your homework, projects, and deadlines"})]}),n.jsx(H,{children:F.length>0?n.jsx("div",{className:"space-y-4",children:F.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${O.priority==="urgent"?"bg-red-500":O.priority==="high"?"bg-orange-500":O.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:O.title}),n.jsx("p",{className:"text-sm text-gray-600",children:O.type})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(me,{className:ie(O.priority),children:G(O.dueDate)}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[O.estimatedHours,"h estimated"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No assignments yet"}),n.jsxs(et,{open:r,onOpenChange:i,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Assignment"]})}),n.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Assignment"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Assignment title",value:y.title,onChange:O=>g({...y,title:O.target.value})}),n.jsx(lt,{placeholder:"Description (optional)",value:y.description,onChange:O=>g({...y,description:O.target.value})}),n.jsxs(Ge,{value:y.type,onValueChange:O=>g({...y,type:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Assignment type"})}),n.jsxs(We,{children:[n.jsx(B,{value:"homework",children:"Homework"}),n.jsx(B,{value:"project",children:"Project"}),n.jsx(B,{value:"exam",children:"Exam"}),n.jsx(B,{value:"quiz",children:"Quiz"}),n.jsx(B,{value:"paper",children:"Paper"})]})]}),n.jsx(q,{type:"date",placeholder:"Due date",value:y.dueDate,onChange:O=>g({...y,dueDate:O.target.value})}),n.jsxs(Ge,{value:y.priority,onValueChange:O=>g({...y,priority:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Priority"})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"urgent",children:"Urgent"})]})]}),n.jsx(q,{type:"number",placeholder:"Estimated hours",value:y.estimatedHours,onChange:O=>g({...y,estimatedHours:parseInt(O.target.value)||2}),min:"1",max:"100"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:es,disabled:Le.isPending,className:"flex-1",children:Le.isPending?"Creating...":"Create Assignment"}),n.jsx(E,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),n.jsx(qe,{value:"study",className:"space-y-6 mt-6",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"w-5 h-5"}),"Study Tracker"]}),n.jsx(at,{children:"Track your study sessions and techniques"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs(E,{onClick:O=>{O.preventDefault(),O.stopPropagation(),console.log("=== HEADER BUTTON CLICKED ==="),console.log("isAddStudySessionOpen before:",l),c(!0),console.log("setIsAddStudySessionOpen(true) called"),console.log("Dialog should be opening now...")},className:"w-full bg-blue-600 hover:bg-blue-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Start New Study Session"]})}),V.length>0?n.jsx("div",{className:"space-y-4",children:V.slice(0,5).map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:O.subject}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.technique," • ",O.duration," minutes"]}),O.location&&n.jsx("p",{className:"text-xs text-gray-500",children:O.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium",children:O.completedAt?"Completed":"In Progress"}),O.effectiveness&&n.jsxs("p",{className:"text-xs text-gray-500",children:[O.effectiveness,"/5 stars"]}),!O.completedAt&&n.jsx(E,{size:"sm",variant:"outline",className:"mt-1",onClick:it=>{it.preventDefault(),console.log("Complete button clicked for session:",O.id),fetch(`/api/study-sessions/${O.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completedAt:new Date().toISOString(),effectiveness:4})}).then(Tt=>{Tt.ok?(console.log("Session completed successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]})):console.error("Failed to complete session:",Tt.status)}).catch(Tt=>console.error("Failed to complete session:",Tt))},children:"Complete"})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Hr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Start tracking your study sessions"})]}),n.jsx(et,{open:l,onOpenChange:c,children:n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Start Study Session"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Subject (required)",value:x.subject,onChange:O=>w({...x,subject:O.target.value})}),n.jsx(q,{placeholder:"Topic",value:x.topic,onChange:O=>w({...x,topic:O.target.value})}),n.jsxs(Ge,{value:x.technique,onValueChange:O=>w({...x,technique:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Study technique"})}),n.jsxs(We,{children:[n.jsx(B,{value:"reading",children:"Reading"}),n.jsx(B,{value:"flashcards",children:"Flashcards"}),n.jsx(B,{value:"practice-problems",children:"Practice Problems"}),n.jsx(B,{value:"note-taking",children:"Note Taking"}),n.jsx(B,{value:"group-study",children:"Group Study"}),n.jsx(B,{value:"online-resources",children:"Online Resources"})]})]}),n.jsx(q,{type:"number",placeholder:"Duration (minutes)",value:x.duration,onChange:O=>w({...x,duration:parseInt(O.target.value)||60}),min:"5",max:"300"}),n.jsx(lt,{placeholder:"Notes (optional)",value:x.notes,onChange:O=>w({...x,notes:O.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{type:"button",onClick:async O=>{O.preventDefault(),O.stopPropagation(),console.log("=== START SESSION BUTTON CLICKED ==="),console.log("newStudySession data:",x),console.log("Subject value:",x.subject),console.log("Subject trimmed:",x.subject.trim()),console.log("Is subject empty?",!x.subject.trim()),console.log("Mutation pending:",Et.isPending);try{await Fi(),console.log("handleCreateStudySession completed")}catch(it){console.error("Button click error handled:",it)}},disabled:Et.isPending,className:"flex-1",children:Et.isPending?"Starting...":"Start Session"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}),n.jsx(qe,{value:"campus",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-5 h-5"}),"Campus Locations"]}),n.jsx(at,{children:"Your saved places and favorite spots"})]}),n.jsxs(H,{children:[st?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading locations..."})]}):be.length>0?n.jsx("div",{className:"space-y-3",children:be.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(Xs,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.building,O.floor&&`, Floor ${O.floor}`]}),O.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.description})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No campus locations saved"})]}),n.jsxs(et,{open:d,onOpenChange:h,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"w-full mt-4",variant:"outline",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Location"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Campus Location"}),n.jsx(Zt,{children:"Save important campus locations for quick reference"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Location name (required)",value:S.name,onChange:O=>N({...S,name:O.target.value})}),n.jsx(q,{placeholder:"Building (required)",value:S.building,onChange:O=>N({...S,building:O.target.value})}),n.jsx(q,{placeholder:"Floor (optional)",value:S.floor,onChange:O=>N({...S,floor:O.target.value})}),n.jsxs(Ge,{value:S.category,onValueChange:O=>N({...S,category:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"academic",children:"Academic"}),n.jsx(B,{value:"dining",children:"Dining"}),n.jsx(B,{value:"recreation",children:"Recreation"}),n.jsx(B,{value:"services",children:"Services"}),n.jsx(B,{value:"transportation",children:"Transportation"})]})]}),n.jsx(lt,{placeholder:"Description (optional)",value:S.description,onChange:O=>N({...S,description:O.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:ei,disabled:bt.isPending,className:"flex-1",children:bt.isPending?"Adding...":"Add Location"}),n.jsx(E,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"w-5 h-5"}),"Campus Transportation"]}),n.jsx(at,{children:"Bus schedules and routes"})]}),n.jsxs(H,{children:[Ft?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading routes..."})]}):_t.length>0?n.jsx("div",{className:"space-y-3",children:_t.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(to,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:O.routeName}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.fromStop," → ",O.toStop]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Departs: ",O.departureTime," • ~",O.estimatedDuration," min"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(to,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No transportation routes saved"})]}),n.jsxs(et,{open:u,onOpenChange:m,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4 w-full",size:"sm",variant:"outline",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Transportation Route"}),n.jsx(Zt,{children:"Save bus routes and schedules for easy access"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Route name (required)",value:C.routeName,onChange:O=>k({...C,routeName:O.target.value})}),n.jsx(q,{placeholder:"From stop (required)",value:C.fromStop,onChange:O=>k({...C,fromStop:O.target.value})}),n.jsx(q,{placeholder:"To stop",value:C.toStop,onChange:O=>k({...C,toStop:O.target.value})}),n.jsx(q,{type:"time",placeholder:"Departure time",value:C.departureTime,onChange:O=>k({...C,departureTime:O.target.value})}),n.jsx(q,{type:"number",placeholder:"Estimated duration (minutes)",value:C.estimatedDuration,onChange:O=>k({...C,estimatedDuration:parseInt(O.target.value)||15}),min:"5",max:"120"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:ti,disabled:rt.isPending,className:"flex-1",children:rt.isPending?"Adding...":"Add Route"}),n.jsx(E,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})]})}),n.jsx(qe,{value:"social",className:"space-y-6 mt-6",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(as,{className:"w-5 h-5"}),"Study Groups"]}),n.jsx(at,{children:"Collaborate and learn with classmates"})]}),n.jsxs(H,{children:[Qt?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading study groups..."})]}):ms.length>0?n.jsx("div",{className:"space-y-3",children:ms.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(as,{className:"w-5 h-5 text-purple-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:O.groupName}),n.jsx("p",{className:"text-sm text-gray-600",children:O.subject}),O.meetingDay&&O.meetingTime&&n.jsxs("p",{className:"text-xs text-gray-500",children:[O.meetingDay,"s at ",O.meetingTime]})]}),n.jsxs(me,{variant:"outline",children:[O.currentMembers||1," member",(O.currentMembers||1)!==1?"s":""]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(as,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No study groups yet"})]}),n.jsxs(et,{open:p,onOpenChange:j,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"w-full mt-4",size:"sm",variant:"outline",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Study Group"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Study Group"}),n.jsx(Zt,{children:"Start a study group to collaborate with classmates"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Group name (required)",value:T.groupName,onChange:O=>D({...T,groupName:O.target.value})}),n.jsx(q,{placeholder:"Subject (required)",value:T.subject,onChange:O=>D({...T,subject:O.target.value})}),n.jsx(lt,{placeholder:"Description (optional)",value:T.description,onChange:O=>D({...T,description:O.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Ge,{value:T.meetingDay,onValueChange:O=>D({...T,meetingDay:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Meeting day"})}),n.jsxs(We,{children:[n.jsx(B,{value:"Monday",children:"Monday"}),n.jsx(B,{value:"Tuesday",children:"Tuesday"}),n.jsx(B,{value:"Wednesday",children:"Wednesday"}),n.jsx(B,{value:"Thursday",children:"Thursday"}),n.jsx(B,{value:"Friday",children:"Friday"}),n.jsx(B,{value:"Saturday",children:"Saturday"}),n.jsx(B,{value:"Sunday",children:"Sunday"})]})]}),n.jsx(q,{type:"time",placeholder:"Meeting time",value:T.meetingTime,onChange:O=>D({...T,meetingTime:O.target.value})})]}),n.jsx(q,{type:"number",placeholder:"Max members (default: 6)",value:T.maxMembers,onChange:O=>D({...T,maxMembers:parseInt(O.target.value)||6}),min:"2",max:"20"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:Ld,disabled:vt.isPending,className:"flex-1",children:vt.isPending?"Creating...":"Create Group"}),n.jsx(E,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})})]})]})}const dC=ws({skillName:Ae().min(1,"Skill name is required"),description:Ae().optional(),skillCategory:kl(["academic","social","independent_living","career","personal","health"]),currentLevel:Bs().min(1).max(10).default(1),targetLevel:Bs().min(1).max(10).default(5),targetDate:Ae().optional(),priority:kl(["low","medium","high","critical"]).default("medium")}),To={academic:{label:"Academic Skills",icon:Hr,color:"bg-blue-500"},social:{label:"Social Skills",icon:as,color:"bg-green-500"},independent_living:{label:"Independent Living",icon:aw,color:"bg-purple-500"},career:{label:"Career Readiness",icon:o9,color:"bg-orange-500"},personal:{label:"Personal Development",icon:ot,color:"bg-pink-500"},health:{label:"Health & Wellness",icon:mr,color:"bg-teal-500"}};function Bne(){var k;const e=Jt(),[t,s]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState(null),[l,c]=v.useState("all"),d=Ut({resolver:zt(dC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),h=Ut({resolver:zt(dC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),{data:u=[],isLoading:m,refetch:p}=xe({queryKey:["/api/transition-skills"],queryFn:async()=>{const T=await fetch("/api/transition-skills");if(!T.ok)throw new Error("Failed to fetch skills");return T.json()},staleTime:0}),j=Ce({mutationFn:async T=>ve("POST","/api/transition-skills",T),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),p(),s(!1),d.reset(),ja({title:"Success",description:"New skill milestone added!"})},onError:()=>{ja({title:"Error",description:"Failed to add skill milestone",variant:"destructive"})}}),y=Ce({mutationFn:async({id:T,currentLevel:D})=>ve("PATCH",`/api/transition-skills/${T}`,{currentLevel:D}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),p(),ja({title:"Progress Updated",description:"Great job on improving your skills!"})}}),g=Ce({mutationFn:async({id:T,skillData:D})=>ve("PATCH",`/api/transition-skills/${T}`,D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),p(),i(!1),o(null),h.reset(),ja({title:"Success",description:"Skill updated successfully!"})},onError:()=>{ja({title:"Error",description:"Failed to update skill",variant:"destructive"})}}),f=Ce({mutationFn:async T=>ve("DELETE",`/api/transition-skills/${T}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),p(),ja({title:"Success",description:"Skill deleted successfully!"})},onError:()=>{ja({title:"Error",description:"Failed to delete skill",variant:"destructive"})}}),b=(T,D)=>{y.mutate({id:T,currentLevel:D})},x=T=>{o(T),h.reset({skillName:T.skillName||"",description:T.description||"",skillCategory:T.skillCategory||"independent_living",currentLevel:T.currentLevel||1,targetLevel:T.targetLevel||5,targetDate:T.targetDate||"",priority:T.priority||"medium"}),i(!0)},w=T=>{window.confirm("Are you sure you want to delete this skill? This action cannot be undone.")&&f.mutate(T)},S=(T,D)=>Math.min(T/D*100,100),N=(T,D)=>{const P=S(T,D);return P>=100?{text:"Completed",color:"text-green-600"}:P>=75?{text:"Almost There",color:"text-blue-600"}:P>=50?{text:"Good Progress",color:"text-yellow-600"}:{text:"Getting Started",color:"text-gray-600"}},C=l==="all"?u:u.filter(T=>T.skillCategory===l);return m?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your skills and milestones..."})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills & Milestones"}),n.jsx("p",{className:"text-gray-600",children:"Track your progress in life skills, set goals, and celebrate achievements"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Zs,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Skills"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.length})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Lt,{className:"text-green-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>(T.currentLevel||1)>=(T.targetLevel||5)).length})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(js,{className:"text-yellow-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>{const D=T.currentLevel||1,P=T.targetLevel||5;return D<P&&D>1}).length})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(ea,{className:"text-purple-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.length>0?Math.round(u.reduce((T,D)=>T+S(D.currentLevel||1,D.targetLevel||5),0)/u.length):0,"%"]})]})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs(Ge,{value:l,onValueChange:c,children:[n.jsx(He,{className:"w-full sm:w-64",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"all",children:"All Categories"}),Object.entries(To).map(([T,D])=>n.jsx(B,{value:T,children:D.label},T))]})]}),n.jsxs(et,{open:t,onOpenChange:s,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Skill Milestone"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add New Skill Milestone"}),n.jsx(Zt,{children:"Set a new skill goal to track your progress"})]}),n.jsx(Bt,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(T=>j.mutate(T)),className:"space-y-4",children:[n.jsx(Z,{control:d.control,name:"skillName",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Skill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"skillCategory",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsx(We,{children:Object.entries(To).map(([D,P])=>n.jsx(B,{value:D,children:P.label},D))})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:d.control,name:"currentLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"targetLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:d.control,name:"description",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Describe what this skill involves and why it's important...",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"priority",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"critical",children:"Critical"})]})]}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:j.isPending,children:j.isPending?"Adding...":"Add Skill Milestone"})]})})]})]}),n.jsx(et,{open:r,onOpenChange:i,children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Edit Skill Milestone"}),n.jsx(Zt,{children:"Update your skill details and progress goals"})]}),n.jsx(Bt,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(T=>{a&&g.mutate({id:a.id,skillData:T})}),className:"space-y-4",children:[n.jsx(Z,{control:h.control,name:"skillName",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Skill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"skillCategory",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsx(We,{children:Object.entries(To).map(([D,P])=>n.jsx(B,{value:D,children:P.label},D))})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:h.control,name:"currentLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"targetLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:h.control,name:"description",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Describe what this skill involves and why it's important...",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"priority",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"critical",children:"Critical"})]})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(E,{type:"button",variant:"outline",className:"flex-1",onClick:()=>i(!1),children:"Cancel"}),n.jsx(E,{type:"submit",variant:"outline",className:"flex-1",disabled:g.isPending,children:g.isPending?"Updating...":"Update Skill"})]})]})})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(T=>{var X,ee,F;const D=((X=To[T.skillCategory])==null?void 0:X.icon)||Zs,P=N(T.currentLevel||1,T.targetLevel||5),M=S(T.currentLevel||1,T.targetLevel||5);return n.jsxs($,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${((ee=To[T.skillCategory])==null?void 0:ee.color)||"bg-gray-500"}`,children:n.jsx(D,{className:"text-white",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(ce,{className:"text-lg",children:T.skillName}),n.jsx(me,{variant:"outline",className:"mt-1",children:((F=To[T.skillCategory])==null?void 0:F.label)||T.skillCategory})]})]}),M>=100&&n.jsx(po,{className:"text-yellow-500",size:20})]})}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-4",children:[T.description&&n.jsx("p",{className:"text-sm text-gray-600",children:T.description}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Progress"}),n.jsx("span",{className:`text-sm font-medium ${P.color}`,children:P.text})]}),n.jsx(Dn,{value:M,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Level ",T.currentLevel||1]}),n.jsxs("span",{children:["Target: ",T.targetLevel||5]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>b(T.id,Math.max(1,(T.currentLevel||1)-1)),disabled:y.isPending||(T.currentLevel||1)<=1,children:"-"}),n.jsx(E,{variant:"default",size:"sm",className:"flex-1",onClick:()=>b(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:y.isPending||(T.currentLevel||1)>=10,children:"Update Progress"}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>b(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:y.isPending||(T.currentLevel||1)>=10,children:"+"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>x(T),children:[n.jsx(fi,{size:14,className:"mr-1"}),"Edit"]}),n.jsxs(E,{variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>w(T.id),disabled:f.isPending,children:[n.jsx(En,{size:14,className:"mr-1"}),"Delete"]})]})]})]})})]},T.id)})}),C.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zs,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Skills Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:l==="all"?"Start tracking your progress by adding your first skill milestone!":`No skills found in the ${((k=To[l])==null?void 0:k.label)||l} category.`}),n.jsxs(E,{onClick:()=>s(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Skill"]})]})]})}const lb=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:Oe("w-full caption-bottom text-sm",e),...t})}));lb.displayName="Table";const cb=v.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:Oe("[&_tr]:border-b",e),...t}));cb.displayName="TableHeader";const db=v.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:Oe("[&_tr:last-child]:border-0",e),...t}));db.displayName="TableBody";const zne=v.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:Oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zne.displayName="TableFooter";const fu=v.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:Oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fu.displayName="TableRow";const Un=v.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:Oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Un.displayName="TableHead";const Bn=v.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:Oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bn.displayName="TableCell";const Vne=v.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:Oe("mt-4 text-sm text-muted-foreground",e),...t}));Vne.displayName="TableCaption";const uC=[{key:"location_sharing",name:"Location Sharing",description:"Allows caregivers to see user's current location",category:"safety"},{key:"emergency_contacts",name:"Emergency Contacts",description:"Access to view and modify emergency contact information",category:"safety"},{key:"medication_reminders",name:"Medication Reminders",description:"Automatic reminders for medication schedules",category:"health"},{key:"appointment_notifications",name:"Appointment Notifications",description:"Notifications for upcoming medical appointments",category:"health"},{key:"safety_alerts",name:"Safety Alerts",description:"Alerts for unusual activity or missed check-ins",category:"safety"},{key:"financial_monitoring",name:"Financial Monitoring",description:"Oversight of budgets and bill payment tracking",category:"financial"}],Yy=[{id:1,name:"Primary Caregiver",type:"primary",description:"Full access - parent or guardian",color:"bg-green-100 text-green-800"},{id:2,name:"School Therapist",type:"secondary",description:"Academic and emotional support only",color:"bg-blue-100 text-blue-800"},{id:3,name:"Medical Therapist",type:"secondary",description:"Health and safety management",color:"bg-purple-100 text-purple-800"},{id:4,name:"Respite Worker",type:"temporary",description:"Emergency contacts and basic supervision",color:"bg-orange-100 text-orange-800"},{id:5,name:"Extended Family",type:"secondary",description:"Limited monitoring access",color:"bg-gray-100 text-gray-800"}];function KF({userId:e,caregiverId:t}){const{toast:s}=ut(),r=Jt(),[i,a]=v.useState(t||1),[o,l]=v.useState("user_locks"),[c,d]=v.useState({settingKey:"",settingValue:"",lockReason:"",canUserView:!0}),{data:h=[],isLoading:u}=xe({queryKey:["/api/locked-settings",e],queryFn:()=>ve("GET",`/api/locked-settings/${e}`).then(x=>x.json())});xe({queryKey:["/api/caregiver-permissions",e,i],queryFn:()=>ve("GET",`/api/caregiver-permissions/${e}/${i}`).then(x=>x.json()),enabled:!!i});const m=Yy.find(x=>x.id===i)||Yy[0],p=Ce({mutationFn:x=>ve("POST","/api/locked-settings",x).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),s({title:"Setting Locked",description:"User setting has been successfully locked."}),d({settingKey:"",settingValue:"",lockReason:"",canUserView:!0})},onError:x=>{s({title:"Error",description:"Failed to lock setting: "+x.message,variant:"destructive"})}}),j=Ce({mutationFn:({settingKey:x})=>ve("DELETE",`/api/locked-settings/${e}/${x}`,{caregiverId}).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),s({title:"Setting Unlocked",description:"User setting has been successfully unlocked."})},onError:x=>{s({title:"Error",description:"Failed to unlock setting: "+x.message,variant:"destructive"})}});Ce({mutationFn:x=>ve("POST","/api/caregiver-permissions",x).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/caregiver-permissions",e,i]}),s({title:"Permission Updated",description:"Caregiver permission has been updated."})},onError:x=>{s({title:"Error",description:"Failed to update permission: "+x.message,variant:"destructive"})}});const y=()=>{if(!c.settingKey||!c.settingValue){s({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}p.mutate({userId:e,settingKey:c.settingKey,settingValue:c.settingValue,isLocked:!0,lockedBy:i,lockReason:c.lockReason,canUserView:c.canUserView})},g=(x,w)=>{p.mutate({userId:e,settingKey:x,settingValue:"locked",isLocked:!0,lockedBy:t||1,lockReason:`User safety protection: ${w}`,canUserView:!1})},f=x=>{j.mutate({settingKey:x})},b=x=>{switch(x){case"safety":return"destructive";case"health":return"default";case"financial":return"secondary";default:return"outline"}};return u?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{onClick:()=>l("user_locks"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="user_locks"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"🔒 User Lock Controls"}),n.jsx("button",{onClick:()=>l("caregiver_permissions"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="caregiver_permissions"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"👥 Caregiver Permissions"})]}),o==="user_locks"&&n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"User Safety Lock Controls"]}),n.jsx(at,{children:"Lock critical features to prevent the user from accidentally changing important safety settings."})]}),n.jsx(H,{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock User Settings"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:uC.map(x=>{const w=h.some(S=>S.settingKey===x.key&&S.isLocked);return n.jsx($,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:x.name}),n.jsx(me,{variant:b(x.category),className:"text-xs",children:x.category}),w&&n.jsxs(me,{variant:"destructive",className:"text-xs",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Locked"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:x.description}),n.jsx("div",{className:"flex flex-col gap-2",children:w?n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>f(x.key),disabled:j.isPending,children:[n.jsx(by,{className:"h-4 w-4 mr-1"}),"Unlock from User"]}):n.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>g(x.key,x.description),disabled:p.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock from User"]})})]})})},x.key)})})]})})]}),o==="caregiver_permissions"&&n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5"}),"Caregiver Permission Controls"]}),n.jsx(at,{children:"Manage what other caregivers can see and access for this user."})]}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"caregiver-select",className:"text-sm font-medium",children:"Select Caregiver Type"}),n.jsxs(Ge,{value:i==null?void 0:i.toString(),onValueChange:x=>a(parseInt(x)),children:[n.jsx(He,{className:"w-full mt-1",children:n.jsx(Ke,{placeholder:"Choose caregiver type..."})}),n.jsx(We,{children:Yy.map(x=>n.jsx(B,{value:x.id.toString(),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{className:x.color,variant:"secondary",children:x.type}),n.jsx("span",{className:"font-medium",children:x.name})]})},x.id))})]})]}),n.jsx($,{className:"p-3 bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(me,{className:m.color,variant:"secondary",children:m.type}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm",children:m.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]})})]})}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Critical Safety Settings"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:uC.map(x=>{const w=h.some(N=>N.settingKey===x.key),S=h.find(N=>N.settingKey===x.key);return n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:x.name}),n.jsx(me,{variant:b(x.category),children:x.category}),w&&n.jsx(Rr,{className:"h-4 w-4 text-red-500"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:x.description}),w&&n.jsxs("div",{className:"text-xs text-red-600",children:[n.jsx("strong",{children:"Locked:"})," ",(S==null?void 0:S.lockReason)||"Safety requirement"]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:w?n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>f(x.key),disabled:j.isPending,children:[n.jsx(by,{className:"h-4 w-4 mr-1"}),"Unlock"]}):n.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>{d({settingKey:x.key,settingValue:"enabled",lockReason:`Critical safety setting: ${x.description}`,canUserView:!0}),y()},disabled:p.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock"]})})]})},x.key)})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock Custom Setting"}),n.jsxs($,{className:"p-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"settingKey",children:"Setting Key"}),n.jsx(q,{id:"settingKey",placeholder:"e.g., location_sharing",value:c.settingKey,onChange:x=>d(w=>({...w,settingKey:x.target.value}))})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"settingValue",children:"Setting Value"}),n.jsx(q,{id:"settingValue",placeholder:"e.g., enabled",value:c.settingValue,onChange:x=>d(w=>({...w,settingValue:x.target.value}))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(de,{htmlFor:"lockReason",children:"Lock Reason"}),n.jsx(lt,{id:"lockReason",placeholder:"Why is this setting being locked?",value:c.lockReason,onChange:x=>d(w=>({...w,lockReason:x.target.value}))})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ls,{checked:c.canUserView,onCheckedChange:x=>d(w=>({...w,canUserView:x}))}),n.jsx(de,{children:"User can view this setting"}),c.canUserView?n.jsx(fm,{className:"h-4 w-4"}):n.jsx(I0,{className:"h-4 w-4"})]}),n.jsxs(E,{onClick:y,disabled:p.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Lock Setting"]})]})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Currently Locked Settings"}),n.jsx("div",{className:"space-y-3",children:h.map(x=>n.jsx($,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:x.settingKey}),n.jsx(me,{variant:"destructive",children:"LOCKED"}),!x.canUserView&&n.jsx(I0,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",x.settingValue]}),x.lockReason&&n.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",x.lockReason]})]}),n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>f(x.settingKey),disabled:j.isPending,children:[n.jsx(by,{className:"h-4 w-4 mr-1"}),"Unlock"]})]})},x.id))})]})]})]})]})}function hC(){const[e,t]=v.useState("30d"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),{toast:o}=ut(),l={overview:{totalUsers:1847,activeUsers:1203,newUsersToday:47,newUsersThisMonth:234,totalRevenue:28420,monthlyRecurringRevenue:7680,churnRate:2.8,averageRevenuePerUser:15.42,conversionRate:12.4,lifetimeValue:186.5},subscriptions:{basic:{count:489,revenue:2445,percentage:39.2},premium:{count:623,revenue:8089,percentage:49.9},family:{count:136,revenue:3398,percentage:10.9}},recentUsers:[{id:1,name:"Sarah Johnson",email:"sarah.j@email.com",plan:"Premium",joinDate:"2025-07-06",status:"Active",lastActivity:"2 hours ago",tasksCompleted:47,streakDays:12},{id:2,name:"Michael Chen",email:"m.chen@email.com",plan:"Family",joinDate:"2025-07-05",status:"Active",lastActivity:"1 day ago",tasksCompleted:23,streakDays:8},{id:3,name:"Emma Rodriguez",email:"emma.r@email.com",plan:"Basic",joinDate:"2025-07-04",status:"Trial",lastActivity:"3 hours ago",tasksCompleted:15,streakDays:4},{id:4,name:"David Park",email:"d.park@email.com",plan:"Premium",joinDate:"2025-07-03",status:"Active",lastActivity:"5 minutes ago",tasksCompleted:82,streakDays:21},{id:5,name:"Lisa Thompson",email:"lisa.t@email.com",plan:"Family",joinDate:"2025-07-02",status:"Churned",lastActivity:"1 week ago",tasksCompleted:34,streakDays:0}],payments:[{id:1,user:"Sarah Johnson",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-06"},{id:2,user:"Michael Chen",plan:"Family",amount:24.99,status:"Completed",date:"2025-07-06"},{id:3,user:"Emma Rodriguez",plan:"Basic",amount:4.99,status:"Failed",date:"2025-07-05"},{id:4,user:"David Park",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-05"},{id:5,user:"Lisa Thompson",plan:"Family",amount:24.99,status:"Refunded",date:"2025-07-04"}],engagement:{averageSessionTime:"24 minutes",dailyActiveUsers:743,tasksCompletedToday:2847,moodEntriesLogged:1203,caregiverMessagesExchanged:456,emergencyAlertsTriggered:3},healthMetrics:{usersWithHealthIntegration:423,medicationComplianceRate:87.3,appointmentAttendanceRate:92.1,averageMoodScore:3.8,usersWithActiveStreaks:678,averageStreakLength:8.4}},c=h=>{switch(h){case"Active":return n.jsx(me,{className:"bg-green-100 text-green-700 border-green-300",children:"Active"});case"Trial":return n.jsx(me,{className:"bg-blue-100 text-blue-700 border-blue-300",children:"Trial"});case"Churned":return n.jsx(me,{className:"bg-red-100 text-red-700 border-red-300",children:"Churned"});default:return n.jsx(me,{variant:"outline",children:h})}},d=h=>{switch(h){case"Completed":return n.jsx(me,{className:"bg-green-100 text-green-700 border-green-300",children:"Completed"});case"Failed":return n.jsx(me,{className:"bg-red-100 text-red-700 border-red-300",children:"Failed"});case"Refunded":return n.jsx(me,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:"Refunded"});default:return n.jsx(me,{variant:"outline",children:h})}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor platform performance and user engagement"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Ge,{value:e,onValueChange:t,children:[n.jsx(He,{className:"w-32",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"7d",children:"Last 7 days"}),n.jsx(B,{value:"30d",children:"Last 30 days"}),n.jsx(B,{value:"90d",children:"Last 90 days"}),n.jsx(B,{value:"1y",children:"Last year"})]})]}),n.jsxs(E,{className:"flex items-center gap-2",children:[n.jsx(mc,{className:"h-4 w-4"}),"Export Data"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs($,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(as,{className:"h-4 w-4"}),"Total Users"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.totalUsers.toLocaleString()}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(ea,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{className:"text-green-600",children:["+",l.overview.newUsersThisMonth," this month"]})]})]})]}),n.jsxs($,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Ti,{className:"h-4 w-4"}),"Monthly Revenue"]})}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(ea,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-green-600",children:"+18.2% from last month"})]})]})]}),n.jsxs($,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Df,{className:"h-4 w-4"}),"Active Users"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.activeUsers.toLocaleString()}),n.jsx("div",{className:"flex items-center gap-1 text-sm",children:n.jsxs("span",{className:"text-gray-500",children:[(l.overview.activeUsers/l.overview.totalUsers*100).toFixed(1),"% of total"]})})]})]}),n.jsxs($,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Zs,{className:"h-4 w-4"}),"Conversion Rate"]})}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.overview.conversionRate,"%"]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(ea,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-green-600",children:"+2.1% improvement"})]})]})]})]}),n.jsxs(Cn,{defaultValue:"overview",className:"space-y-12",children:[n.jsx("div",{className:"w-full overflow-x-auto pb-4",children:n.jsxs(dn,{className:"flex w-max min-w-full h-20 p-4 gap-4 mx-auto justify-center",children:[n.jsx(Ve,{value:"overview",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Overview"}),n.jsx(Ve,{value:"users",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Users"}),n.jsx(Ve,{value:"revenue",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Revenue"}),n.jsx(Ve,{value:"engagement",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Engagement"}),n.jsx(Ve,{value:"health",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Health Metrics"}),n.jsx(Ve,{value:"caregiver",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Caregiver Monitor"})]})}),n.jsxs(qe,{value:"overview",className:"space-y-12 mt-16",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(uo,{className:"h-5 w-5"}),"Subscription Distribution"]})}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Basic Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.basic.count," users"]})]}),n.jsx(Dn,{value:l.subscriptions.basic.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.basic.revenue,"/month revenue"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Premium Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.premium.count," users"]})]}),n.jsx(Dn,{value:l.subscriptions.premium.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.premium.revenue,"/month revenue"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Family Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.family.count," users"]})]}),n.jsx(Dn,{value:l.subscriptions.family.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.family.revenue,"/month revenue"]})]})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(gD,{className:"h-5 w-5"}),"Revenue Metrics"]})}),n.jsx(H,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.totalRevenue.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"ARPU"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.averageRevenuePerUser]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Churn Rate"}),n.jsxs("div",{className:"text-xl font-bold",children:[l.overview.churnRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"LTV"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.lifetimeValue]})]})]})})]})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(uo,{className:"h-5 w-5"}),"Recent Payments"]}),n.jsx(at,{children:"Latest payment transactions"})]}),n.jsx(H,{children:n.jsxs(lb,{children:[n.jsx(cb,{children:n.jsxs(fu,{children:[n.jsx(Un,{children:"User"}),n.jsx(Un,{children:"Plan"}),n.jsx(Un,{children:"Amount"}),n.jsx(Un,{children:"Status"}),n.jsx(Un,{children:"Date"})]})}),n.jsx(db,{children:l.payments.map(h=>n.jsxs(fu,{children:[n.jsx(Bn,{className:"font-medium",children:h.user}),n.jsx(Bn,{children:h.plan}),n.jsxs(Bn,{children:["$",h.amount]}),n.jsx(Bn,{children:d(h.status)}),n.jsx(Bn,{children:h.date})]},h.id))})]})})]})]}),n.jsx(qe,{value:"users",className:"space-y-12 mt-16",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(as,{className:"h-5 w-5"}),"User Management"]}),n.jsx(at,{children:"Monitor user activity and engagement"})]}),n.jsx(H,{children:n.jsxs(lb,{children:[n.jsx(cb,{children:n.jsxs(fu,{children:[n.jsx(Un,{children:"User"}),n.jsx(Un,{children:"Plan"}),n.jsx(Un,{children:"Status"}),n.jsx(Un,{children:"Tasks Completed"}),n.jsx(Un,{children:"Streak"}),n.jsx(Un,{children:"Last Activity"}),n.jsx(Un,{children:"Join Date"})]})}),n.jsx(db,{children:l.recentUsers.map(h=>n.jsxs(fu,{children:[n.jsx(Bn,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})}),n.jsx(Bn,{children:h.plan}),n.jsx(Bn,{children:c(h.status)}),n.jsx(Bn,{children:h.tasksCompleted}),n.jsx(Bn,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:h.streakDays}),h.streakDays>0&&n.jsx("span",{className:"text-orange-500",children:"🔥"})]})}),n.jsx(Bn,{children:h.lastActivity}),n.jsx(Bn,{children:h.joinDate})]},h.id))})]})})]})}),n.jsx(qe,{value:"revenue",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Monthly Recurring Revenue"})}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"+18.2% from last month"})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Average Revenue Per User"})}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",l.overview.averageRevenuePerUser]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Across all plans"})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Customer Lifetime Value"})}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",l.overview.lifetimeValue]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Average LTV"})]})]})]})}),n.jsx(qe,{value:"engagement",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"}),"Session Time"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.averageSessionTime}),n.jsx("div",{className:"text-sm text-gray-600",children:"Average per session"})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Lt,{className:"h-5 w-5"}),"Tasks Completed"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.tasksCompletedToday.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-600",children:"Today"})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5"}),"Mood Entries"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.moodEntriesLogged.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-600",children:"This week"})]})]})]})}),n.jsx(qe,{value:"health",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5"}),"Health Integration"]})}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Users with Health Data"}),n.jsx("span",{className:"font-bold",children:l.healthMetrics.usersWithHealthIntegration})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Medication Compliance"}),n.jsxs("span",{className:"font-bold text-green-600",children:[l.healthMetrics.medicationComplianceRate,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Appointment Attendance"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[l.healthMetrics.appointmentAttendanceRate,"%"]})]})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Wellness Metrics"]})}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Average Mood Score"}),n.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageMoodScore,"/5"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Active Streak Users"}),n.jsx("span",{className:"font-bold text-orange-600",children:l.healthMetrics.usersWithActiveStreaks})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Average Streak Length"}),n.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageStreakLength," days"]})]})]})]})]})}),n.jsxs(qe,{value:"caregiver",className:"space-y-12 mt-16",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Caregiver Monitoring Center"}),n.jsx("p",{className:"text-gray-600",children:"Monitor user progress and set granular permission controls for different caregiver types"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(as,{className:"h-5 w-5"}),"Select User to Monitor"]})}),n.jsx(H,{children:n.jsxs(Ge,{defaultValue:"2",children:[n.jsx(He,{className:"w-full",children:n.jsx(Ke,{placeholder:"Select a user"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"Sarah Johnson (ID: 1)"}),n.jsx(B,{value:"2",children:"Alex Johnson (ID: 2) - Demo User"}),n.jsx(B,{value:"3",children:"Michael Chen (ID: 3)"}),n.jsx(B,{value:"4",children:"Emma Rodriguez (ID: 4)"})]})]})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"h-5 w-5"}),"Caregiver Type Settings"]})}),n.jsxs(H,{children:[n.jsxs(Ge,{defaultValue:"school-therapist",children:[n.jsx(He,{className:"w-full",children:n.jsx(Ke,{placeholder:"Select caregiver type"})}),n.jsxs(We,{children:[n.jsx(B,{value:"school-therapist",children:"🎓 School Therapist"}),n.jsx(B,{value:"medical-therapist",children:"🏥 Medical Therapist"}),n.jsx(B,{value:"respite-worker",children:"🤝 Respite Worker"}),n.jsx(B,{value:"family-member",children:"👨‍👩‍👧‍👦 Family Member"}),n.jsx(B,{value:"full-access",children:"🔑 Full Access Caregiver"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Select the caregiver type to configure appropriate permission levels and data access."})]})]})]}),n.jsx(KF,{userId:2,caregiverId:2}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Streak"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"12 days"})]}),n.jsx(Zs,{className:"w-8 h-8 text-orange-500"})]})})}),n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"})]}),n.jsx(Lt,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Mood"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"3.8/5"})]}),n.jsx(ot,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx($,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:"1"})]}),n.jsx(Xt,{className:"w-8 h-8 text-red-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs(E,{className:"bg-blue-600 hover:bg-blue-700 h-12",onClick:()=>{const h={patient:"Alex Johnson (Demo User)",dateGenerated:new Date().toISOString().split("T")[0],streak:"12 days",completionRate:"85%",averageMood:"3.8/5",alerts:"1 active"},u=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),m=URL.createObjectURL(u),p=document.createElement("a");p.href=m,p.download=`medical-report-alex-johnson-${new Date().toISOString().split("T")[0]}.json`,p.click(),URL.revokeObjectURL(m),o({title:"Medical Report Generated",description:"Report has been downloaded successfully"})},children:[n.jsx(mc,{className:"w-4 h-4 mr-2"}),"Generate Medical Report"]}),n.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{r(!0),o({title:"Loading Progress Charts",description:"Displaying user progress visualization"})},children:[n.jsx(Df,{className:"w-4 h-4 mr-2"}),"View Progress Charts"]}),n.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{a(!0),o({title:"Opening Schedule",description:"Loading appointment scheduling interface"})},children:[n.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Schedule Check-in"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Lt,{className:"h-5 w-5"}),"Recent Tasks"]})}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Take medication"}),n.jsx(me,{className:"bg-green-100 text-green-700",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Wash hair"}),n.jsx(me,{className:"bg-green-100 text-green-700",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Grocery shopping"}),n.jsx(me,{className:"bg-yellow-100 text-yellow-700",children:"Pending"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Call doctor"}),n.jsx(me,{className:"bg-gray-100 text-gray-700",children:"Scheduled"})]})]})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"h-5 w-5"}),"Mood Tracking"]})}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Today"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Good"}),n.jsxs("div",{className:"flex",children:[[1,2,3,4].map(h=>n.jsx(ot,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),n.jsx(ot,{className:"w-4 h-4 text-gray-300"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Yesterday"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Okay"}),n.jsxs("div",{className:"flex",children:[[1,2,3].map(h=>n.jsx(ot,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),[4,5].map(h=>n.jsx(ot,{className:"w-4 h-4 text-gray-300"},h))]})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Trend:"})," Mood has been stable over the past week with slight improvement"]})})]})})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Xt,{className:"h-5 w-5 text-amber-500"}),"Alerts & Recommendations"]})}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx(Xt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Medication Refill Due"}),n.jsx("p",{className:"text-sm text-amber-700",children:"Sertraline prescription needs refill within 3 days"}),n.jsx(E,{size:"sm",className:"mt-2 bg-amber-600 hover:bg-amber-700",children:"Send Reminder"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Lt,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:"Excellent Progress"}),n.jsx("p",{className:"text-sm text-green-700",children:"User has maintained daily task streak for 12 days"})]})]})]})})]})]})]})]}),n.jsx(et,{open:s,onOpenChange:r,children:n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Alex Johnson - Progress Charts"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Task Completion Over Time"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((h,u)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:h}),n.jsx("div",{className:`h-20 rounded ${u<5?"bg-green-500":"bg-gray-300"}`}),n.jsx("div",{className:"text-xs mt-1",children:u<5?"100%":"0%"})]},h))})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Mood Trends (Last 7 Days)"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:[4,3,4,5,3,4,4].map((h,u)=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Day ",u+1]}),n.jsx("div",{className:"flex justify-center",children:[1,2,3,4,5].map(m=>n.jsx(ot,{className:`w-3 h-3 ${m<=h?"fill-pink-500 text-pink-500":"text-gray-300"}`},m))}),n.jsxs("div",{className:"text-xs mt-1",children:[h,"/5"]})]},u))})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Days Streak"})]}),n.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]}),n.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.8"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Avg Mood"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Done"})]})]})]})]})}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Schedule Check-in for Alex Johnson"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Check-in Type"}),n.jsxs("select",{className:"w-full border rounded-md p-2",children:[n.jsx("option",{children:"Weekly Progress Review"}),n.jsx("option",{children:"Emergency Check-in"}),n.jsx("option",{children:"Medication Review"}),n.jsx("option",{children:"Goal Setting Session"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date & Time"}),n.jsx("input",{type:"datetime-local",className:"w-full border rounded-md p-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),n.jsx("textarea",{className:"w-full border rounded-md p-2 h-20",placeholder:"Any specific topics to discuss..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{o({title:"Check-in Scheduled",description:"Appointment has been added to calendar"}),a(!1)},children:"Schedule Check-in"}),n.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})})]})}function qne(){const[e,t]=v.useState(null);v.useState("medical");const[s,r]=v.useState(null),{toast:i}=ut(),{data:a}=xe({queryKey:["/api/user"]}),{data:o}=xe({queryKey:["/api/caregiver-access"],enabled:!!a}),l=[{userId:2,userName:"Alex Johnson",streakDays:12,lastActive:"2025-07-08T10:30:00Z",completionRate:85,moodTrend:"stable",alertsCount:1}],c=l.find(N=>N.userId===e)||l[0];xe({queryKey:["/api/user",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0});const{data:d}=xe({queryKey:["/api/daily-tasks",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:h}=xe({queryKey:["/api/mood-entries",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:u}=xe({queryKey:["/api/appointments",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:m}=xe({queryKey:["/api/medications",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:p}=xe({queryKey:["/api/emergency-contacts",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),j=(d==null?void 0:d.filter(N=>N.isCompleted&&iC(new Date(N.lastCompletedAt||N.createdAt),aC(new Date,7))).length)||0,y=(h==null?void 0:h.slice(-7))||[],g=y.length>0?(y.reduce((N,C)=>N+C.mood,0)/y.length).toFixed(1):0,f=(u==null?void 0:u.filter(N=>iC(new Date(N.appointmentDate),new Date)).slice(0,3))||[],b=(m==null?void 0:m.filter(N=>!N.isDiscontinued))||[],x=(m==null?void 0:m.filter(N=>N.pillsRemaining<7&&!N.isDiscontinued))||[],w=Ce({mutationFn:async()=>{const N={patient:c==null?void 0:c.userName,dateRange:`${Ps(aC(new Date,30),"MMM dd, yyyy")} - ${Ps(new Date,"MMM dd, yyyy")}`,moodSummary:{averageMood:g,entries:y.length,trend:c==null?void 0:c.moodTrend},taskCompletion:{weeklyRate:j,totalTasks:(d==null?void 0:d.length)||0,completedTasks:(d==null?void 0:d.filter(C=>C.isCompleted).length)||0},medications:b,upcomingAppointments:f,alerts:(c==null?void 0:c.alertsCount)||0,emergencyContacts:p};return new Promise(C=>setTimeout(()=>C(N),1e3))},onSuccess:()=>{i({title:"Medical Report Generated",description:`Comprehensive medical report for ${c==null?void 0:c.userName} has been created and downloaded.`})}}),S=async()=>{const N=`
MEDICAL SUMMARY - ${c==null?void 0:c.userName}
Generated: ${Ps(new Date,"MMM dd, yyyy HH:mm")}

CURRENT STATUS:
• Mood Average (7 days): ${g}/5.0 (${c==null?void 0:c.moodTrend})
• Task Completion Rate: ${c==null?void 0:c.completionRate}%
• Activity Streak: ${c==null?void 0:c.streakDays} days
• Active Medications: ${b.length}
• Pending Refills: ${x.length}

UPCOMING APPOINTMENTS:
${f.map(C=>`• ${Ps(new Date(C.appointmentDate),"MMM dd")} - ${C.title}`).join(`
`)}

ALERTS: ${(c==null?void 0:c.alertsCount)||0} active alerts requiring attention

This summary was generated by Adaptalyfe for medical provider review.
    `;if(navigator.share)try{await navigator.share({title:`Medical Summary - ${c==null?void 0:c.userName}`,text:N})}catch{navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})}else navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})};return v.useEffect(()=>{o!==void 0&&r(o.isCaregiver)},[o]),v.useEffect(()=>{!e&&l.length>0&&t(l[0].userId)},[e,l]),s===null?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Verifying access permissions..."})]})}):s?c?n.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[n.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 text-sm font-bold",children:"🔍"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-900",children:"Soft Launch Testing Mode"}),n.jsx("p",{className:"text-sm text-blue-700",children:"You're viewing the professional caregiver dashboard. This demonstrates monitoring tools for caregivers to track user progress."})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(E,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-700",children:"View as User"})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Caregiver Dashboard"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Monitor progress and generate reports for your care recipients"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx($,{children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-semibold",children:c.userName.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:c.userName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Last active: ",c.lastActive?Ps(new Date(c.lastActive),"MMM dd, HH:mm"):"Unknown"]})]})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Activity Streak"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.streakDays})]}),n.jsx(ea,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Completion Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.completionRate,"%"]})]}),n.jsx(Lt,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx($,{children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.alertsCount})]}),n.jsx(Xt,{className:"w-8 h-8 text-red-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[n.jsxs(E,{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(Rf,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:"Share Medical Summary"})]}),n.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(mc,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:w.isPending?"Generating...":"Download Report"})]}),n.jsxs(E,{variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(vs,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:"Emergency Contact"})]})]}),n.jsxs(Cn,{defaultValue:"overview",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ve,{value:"overview",className:"flex items-center gap-2",children:[n.jsx(Df,{className:"w-4 h-4"}),"Overview & Reports"]}),n.jsxs(Ve,{value:"security",className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-4 h-4"}),"🔐 Security Controls"]})]}),n.jsx(qe,{value:"overview",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Df,{className:"w-5 h-5"}),"Recent Activity"]})}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Tasks completed today"}),n.jsx(me,{variant:"secondary",children:(d==null?void 0:d.filter(N=>{try{return N.isCompleted&&Ps(new Date(N.lastCompletedAt||N.createdAt),"yyyy-MM-dd")===Ps(new Date,"yyyy-MM-dd")}catch{return!1}}).length)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Mood logged today"}),n.jsx(me,{variant:h!=null&&h.some(N=>{try{return Ps(new Date(N.entryDate),"yyyy-MM-dd")===Ps(new Date,"yyyy-MM-dd")}catch{return!1}})?"default":"destructive",children:h!=null&&h.some(N=>{try{return Ps(new Date(N.entryDate),"yyyy-MM-dd")===Ps(new Date,"yyyy-MM-dd")}catch{return!1}})?"Yes":"No"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Medications due"}),n.jsx(me,{variant:x.length>0?"destructive":"default",children:x.length})]})]})})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-5 h-5"}),"Upcoming Schedule"]})}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:f.length>0?f.map(N=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:N.title}),n.jsx(me,{variant:"outline",children:N.appointmentDate?Ps(new Date(N.appointmentDate),"MMM dd"):"TBD"})]},N.id)):n.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments"})})})]})]})}),n.jsx(qe,{value:"security",className:"space-y-4",children:n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5"}),"User Safety & Security Controls"]}),n.jsx(at,{children:"Lock critical settings to ensure user safety and prevent accidental changes"})]}),n.jsx(H,{children:n.jsx(KF,{userId:c.userId,caregiverId:a==null?void 0:a.id})})]})})]})]}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Caregiver Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"No users assigned to your care account."})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx($,{className:"w-full max-w-md",children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(Rr,{className:"w-8 h-8 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"This dashboard is only accessible to authorized caregivers."})]}),n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(is,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-amber-800",children:[n.jsx("p",{className:"font-medium",children:"Need access?"}),n.jsx("p",{children:"Contact your system administrator to request caregiver permissions."})]})]})}),n.jsx(E,{onClick:()=>window.location.href="/",className:"w-full",variant:"outline",children:"Return to Dashboard"})]})})})})}var QF=["PageUp","PageDown"],YF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Od="Slider",[ub,Hne,Wne]=lx(Od),[ZF,The]=On(Od,[Wne]),[Gne,Ox]=ZF(Od),JF=v.forwardRef((e,t)=>{const{name:s,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:h,onValueChange:u=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:j,...y}=e,g=v.useRef(new Set),f=v.useRef(0),x=o==="horizontal"?Kne:Qne,[w=[],S]=ki({prop:h,defaultProp:d,onChange:P=>{var X;(X=[...g.current][f.current])==null||X.focus(),u(P)}}),N=v.useRef(w);function C(P){const M=ere(w,P);D(P,M)}function k(P){D(P,f.current)}function T(){const P=N.current[f.current];w[f.current]!==P&&m(w)}function D(P,M,{commit:X}={commit:!1}){const ee=rre(a),F=ire(Math.round((P-r)/a)*a+r,ee),re=ph(F,[r,i]);S((fe=[])=>{const V=Zne(fe,re,M);if(nre(V,c*a)){f.current=V.indexOf(re);const L=String(V)!==String(fe);return L&&X&&m(V),L?V:fe}else return fe})}return n.jsx(Gne,{scope:e.__scopeSlider,name:s,disabled:l,min:r,max:i,valueIndexToChangeRef:f,thumbs:g.current,values:w,orientation:o,form:j,children:n.jsx(ub.Provider,{scope:e.__scopeSlider,children:n.jsx(ub.Slot,{scope:e.__scopeSlider,children:n.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Fe(y.onPointerDown,()=>{l||(N.current=w)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&D(r,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,w.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const F=QF.includes(P.key)||P.shiftKey&&YF.includes(P.key)?10:1,re=f.current,fe=w[re],V=a*F*M;D(fe+V,re,{commit:!0})}}})})})})});JF.displayName=Od;var[eO,tO]=ZF(Od,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Kne=v.forwardRef((e,t)=>{const{min:s,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,[u,m]=v.useState(null),p=xt(t,x=>m(x)),j=v.useRef(void 0),y=bm(i),g=y==="ltr",f=g&&!a||!g&&a;function b(x){const w=j.current||u.getBoundingClientRect(),S=[0,w.width],C=mN(S,f?[s,r]:[r,s]);return j.current=w,C(x-w.left)}return n.jsx(eO,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:n.jsx(sO,{dir:y,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const w=b(x.clientX);o==null||o(w)},onSlideMove:x=>{const w=b(x.clientX);l==null||l(w)},onSlideEnd:()=>{j.current=void 0,c==null||c()},onStepKeyDown:x=>{const S=XF[f?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:S?-1:1})}})})}),Qne=v.forwardRef((e,t)=>{const{min:s,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,h=v.useRef(null),u=xt(t,h),m=v.useRef(void 0),p=!i;function j(y){const g=m.current||h.current.getBoundingClientRect(),f=[0,g.height],x=mN(f,p?[r,s]:[s,r]);return m.current=g,x(y-g.top)}return n.jsx(eO,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:n.jsx(sO,{"data-orientation":"vertical",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const g=j(y.clientY);a==null||a(g)},onSlideMove:y=>{const g=j(y.clientY);o==null||o(g)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:y=>{const f=XF[p?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:f?-1:1})}})})}),sO=v.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=Ox(Od,s);return n.jsx(Be.span,{...d,ref:t,onKeyDown:Fe(e.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):QF.concat(YF).includes(u.key)&&(c(u),u.preventDefault())}),onPointerDown:Fe(e.onPointerDown,u=>{const m=u.target;m.setPointerCapture(u.pointerId),u.preventDefault(),h.thumbs.has(m)?m.focus():r(u)}),onPointerMove:Fe(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Fe(e.onPointerUp,u=>{const m=u.target;m.hasPointerCapture(u.pointerId)&&(m.releasePointerCapture(u.pointerId),a(u))})})}),nO="SliderTrack",rO=v.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,i=Ox(nO,s);return n.jsx(Be.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});rO.displayName=nO;var hb="SliderRange",iO=v.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,i=Ox(hb,s),a=tO(hb,s),o=v.useRef(null),l=xt(t,o),c=i.values.length,d=i.values.map(m=>oO(m,i.min,i.max)),h=c>1?Math.min(...d):0,u=100-Math.max(...d);return n.jsx(Be.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:u+"%"}})});iO.displayName=hb;var mb="SliderThumb",aO=v.forwardRef((e,t)=>{const s=Hne(e.__scopeSlider),[r,i]=v.useState(null),a=xt(t,l=>i(l)),o=v.useMemo(()=>r?s().findIndex(l=>l.ref.current===r):-1,[s,r]);return n.jsx(Yne,{...e,ref:a,index:o})}),Yne=v.forwardRef((e,t)=>{const{__scopeSlider:s,index:r,name:i,...a}=e,o=Ox(mb,s),l=tO(mb,s),[c,d]=v.useState(null),h=xt(t,b=>d(b)),u=c?o.form||!!c.closest("form"):!0,m=tx(c),p=o.values[r],j=p===void 0?0:oO(p,o.min,o.max),y=Jne(r,o.values.length),g=m==null?void 0:m[l.size],f=g?tre(g,j,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${f}px)`},children:[n.jsx(ub.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Be.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:p===void 0?{display:"none"}:e.style,onFocus:Fe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&n.jsx(Xne,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});aO.displayName=mb;var Xne=e=>{const{value:t,...s}=e,r=v.useRef(null),i=_x(t);return v.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&c){const d=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[i,t]),n.jsx("input",{style:{display:"none"},...s,ref:r,defaultValue:t})};function Zne(e=[],t,s){const r=[...e];return r[s]=t,r.sort((i,a)=>i-a)}function oO(e,t,s){const a=100/(s-t)*(e-t);return ph(a,[0,100])}function Jne(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ere(e,t){if(e.length===1)return 0;const s=e.map(i=>Math.abs(i-t)),r=Math.min(...s);return s.indexOf(r)}function tre(e,t,s){const r=e/2,a=mN([0,50],[0,r]);return(r-a(t)*s)*s}function sre(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function nre(e,t){if(t>0){const s=sre(e);return Math.min(...s)>=t}return!0}function mN(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function rre(e){return(String(e).split(".")[1]||"").length}function ire(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var lO=JF,are=rO,ore=iO,lre=aO;const pb=v.forwardRef(({className:e,...t},s)=>n.jsxs(lO,{ref:s,className:Oe("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(are,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(ore,{className:"absolute h-full bg-primary"})}),n.jsx(lre,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pb.displayName=lO.displayName;function cre(){const{toast:e}=ut(),[t,s]=v.useState({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0});xe({queryKey:["/api/user"]});const r={locationTracking:{isLocked:!0,lockedBy:"Mom (Primary Caregiver)",reason:"Safety - Elopement Risk"},emergencyAlerts:{isLocked:!0,lockedBy:"Dr. Sarah Johnson",reason:"Medical Supervision Required"},caregiverAccess:{isLocked:!1,lockedBy:"",reason:""},medicalDataSharing:{isLocked:!0,lockedBy:"Case Manager",reason:"Treatment Coordination"},automaticCheckIns:{isLocked:!1,lockedBy:"",reason:""}},i=()=>{localStorage.setItem("user-settings",JSON.stringify(t)),e({title:"Settings Saved",description:"Your preferences have been saved successfully."})},a=()=>{s({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0}),e({title:"Settings Reset",description:"All settings have been reset to defaults."})},o=(c,d)=>{var h,u;if((h=r[c])!=null&&h.isLocked){e({title:"Setting Locked",description:`This setting has been locked by ${(u=r[c])==null?void 0:u.lockedBy} for your safety and wellbeing.`,variant:"destructive"});return}s(m=>({...m,[c]:d}))},l=(c,d,h,u,m)=>{const p=r[c],j=p==null?void 0:p.isLocked;return n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${u&&!j?"bg-white border-green-400 shadow-md":j?"bg-gray-100 border-gray-400 opacity-75":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:c,className:"flex items-center gap-2",children:[h,d,u&&!j&&n.jsx(me,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"}),j&&n.jsx(G5,{children:n.jsxs(Dz,{children:[n.jsx(Mz,{children:n.jsxs(me,{variant:"secondary",className:"ml-2 text-xs",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"LOCKED"]})}),n.jsx(K5,{children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Locked by: ",p==null?void 0:p.lockedBy]}),n.jsx("div",{className:"text-muted-foreground",children:p==null?void 0:p.reason})]})})]})})]}),n.jsx(Ls,{id:c,checked:u,onCheckedChange:m,disabled:j,className:`scale-125 ${j?"opacity-60 cursor-not-allowed bg-gray-400":u?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]})};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[n.jsx(mo,{className:"w-8 h-8 text-purple-600"}),"Settings & Customization"]}),n.jsx("p",{className:"text-gray-600",children:"Personalize your AdaptaLyfe experience with accessibility options, themes, and feature preferences."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(bD,{className:"w-5 h-5 text-blue-600"}),"Appearance"]}),n.jsx(at,{children:"Customize the look and feel of your dashboard"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"theme",children:"Theme"}),n.jsxs(Ge,{value:t.theme,onValueChange:c=>o("theme",c),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"light",children:"Light"}),n.jsx(B,{value:"dark",children:"Dark"}),n.jsx(B,{value:"auto",children:"Auto"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{children:["Font Size: ",t.fontSize,"px"]}),n.jsx(pb,{value:[t.fontSize],onValueChange:c=>o("fontSize",c[0]),min:12,max:24,step:1,className:"w-full"})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.highContrast?"bg-yellow-100 border-yellow-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"high-contrast",className:"flex items-center gap-2",children:[n.jsx(fm,{className:`w-4 h-4 ${t.highContrast?"text-yellow-600":"text-gray-400"}`}),"High Contrast Mode",t.highContrast&&n.jsx(me,{variant:"secondary",className:"bg-yellow-200 text-yellow-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"high-contrast",checked:t.highContrast,onCheckedChange:c=>o("highContrast",c),className:`scale-125 ${t.highContrast?"data-[state=checked]:bg-yellow-600 shadow-lg shadow-yellow-200":"bg-gray-300 opacity-60"}`})]})]})]}),n.jsxs($,{className:"border-red-200 bg-red-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5 text-red-600"}),"Safety & Emergency Settings"]}),n.jsx(at,{children:"Critical safety features managed by your care team"})]}),n.jsxs(H,{className:"space-y-6",children:[l("locationTracking","Location Tracking",n.jsx(Xs,{className:"w-4 h-4 text-red-500"}),t.locationTracking,()=>o("locationTracking",!t.locationTracking)),l("emergencyAlerts","Emergency Alerts",n.jsx(Xt,{className:"w-4 h-4 text-red-500"}),t.emergencyAlerts,()=>o("emergencyAlerts",!t.emergencyAlerts)),l("automaticCheckIns","Automatic Check-ins",n.jsx(ot,{className:"w-4 h-4 text-red-500"}),t.automaticCheckIns,()=>o("automaticCheckIns",!t.automaticCheckIns))]})]}),n.jsxs($,{className:"border-purple-200 bg-purple-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5 text-purple-600"}),"Privacy & Caregiver Access"]}),n.jsx(at,{children:"Control what information caregivers can access"})]}),n.jsxs(H,{className:"space-y-6",children:[l("medicalDataSharing","Medical Data Sharing",n.jsx(ot,{className:"w-4 h-4 text-purple-500"}),t.medicalDataSharing,()=>o("medicalDataSharing",!t.medicalDataSharing)),l("caregiverAccess","Caregiver Dashboard Access",n.jsx(vs,{className:"w-4 h-4 text-purple-500"}),t.caregiverAccess,()=>o("caregiverAccess",!t.caregiverAccess)),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ha,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"font-medium text-sm",children:"Why are some settings locked?"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Your caregivers have locked certain safety-critical settings to ensure your wellbeing. This is especially important for individuals who may be at risk of wandering or have medical conditions requiring supervision."})]})]})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"w-5 h-5 text-green-600"}),"Voice & Audio"]}),n.jsx(at,{children:"Configure speech and audio preferences"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.voiceEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"voice-enabled",className:"flex items-center gap-2",children:[n.jsx(dl,{className:`w-4 h-4 ${t.voiceEnabled?"text-green-600":"text-gray-400"}`}),"Enable Voice Commands",t.voiceEnabled&&n.jsx(me,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"voice-enabled",checked:t.voiceEnabled,onCheckedChange:c=>o("voiceEnabled",c),className:`scale-125 ${t.voiceEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{children:["Voice Speed: ",t.voiceSpeed,"x"]}),n.jsx(pb,{value:[t.voiceSpeed],onValueChange:c=>o("voiceSpeed",c[0]),min:.5,max:2,step:.1,className:"w-full"})]}),n.jsx(E,{onClick:()=>{if("speechSynthesis"in window){const c=new SpeechSynthesisUtterance("This is a test of the voice settings at the current speed.");c.rate=t.voiceSpeed,speechSynthesis.speak(c)}},variant:"outline",className:"w-full",children:"Test Voice Settings"})]})]}),n.jsxs($,{className:"border-orange-200 bg-orange-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(D0,{className:"w-5 h-5 text-orange-600"}),"Notifications"]}),n.jsx(at,{children:"Manage alerts and reminders"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.notificationsEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"notifications",className:"flex items-center gap-2",children:[n.jsx(D0,{className:`w-4 h-4 ${t.notificationsEnabled?"text-green-600":"text-gray-400"}`}),"Enable Notifications",t.notificationsEnabled&&n.jsx(me,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"notifications",checked:t.notificationsEnabled,onCheckedChange:c=>o("notificationsEnabled",c),className:`scale-125 ${t.notificationsEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"reminder-timing",children:"Default Reminder Time"}),n.jsxs(Ge,{value:t.reminderTiming,onValueChange:c=>o("reminderTiming",c),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"5",children:"5 minutes before"}),n.jsx(B,{value:"15",children:"15 minutes before"}),n.jsx(B,{value:"30",children:"30 minutes before"}),n.jsx(B,{value:"60",children:"1 hour before"})]})]})]})]})]}),n.jsxs($,{className:"border-indigo-200 bg-indigo-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"w-5 h-5 text-indigo-600"}),"Features"]}),n.jsx(at,{children:"Enable or disable specific features"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.quickActionsEnabled?"bg-blue-100 border-blue-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"quick-actions",className:"flex items-center gap-2",children:[n.jsx(ca,{className:`w-4 h-4 ${t.quickActionsEnabled?"text-blue-600":"text-gray-400"}`}),"Quick Actions Bar",t.quickActionsEnabled&&n.jsx(me,{variant:"secondary",className:"bg-blue-200 text-blue-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"quick-actions",checked:t.quickActionsEnabled,onCheckedChange:c=>o("quickActionsEnabled",c),className:`scale-125 ${t.quickActionsEnabled?"data-[state=checked]:bg-blue-600 shadow-lg shadow-blue-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.premiumFeatures?"bg-purple-100 border-purple-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"premium-features",className:"flex items-center gap-2",children:[n.jsx(Ht,{className:`w-4 h-4 ${t.premiumFeatures?"text-purple-600":"text-gray-400"}`}),"Premium Features",t.premiumFeatures&&n.jsx(me,{variant:"secondary",className:"bg-purple-200 text-purple-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"premium-features",checked:t.premiumFeatures,onCheckedChange:c=>o("premiumFeatures",c),className:`scale-125 ${t.premiumFeatures?"data-[state=checked]:bg-purple-600 shadow-lg shadow-purple-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.autoSave?"bg-emerald-100 border-emerald-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"auto-save",className:"flex items-center gap-2",children:[n.jsx(wS,{className:`w-4 h-4 ${t.autoSave?"text-emerald-600":"text-gray-400"}`}),"Auto-save Changes",t.autoSave&&n.jsx(me,{variant:"secondary",className:"bg-emerald-200 text-emerald-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"auto-save",checked:t.autoSave,onCheckedChange:c=>o("autoSave",c),className:`scale-125 ${t.autoSave?"data-[state=checked]:bg-emerald-600 shadow-lg shadow-emerald-200":"bg-gray-300 opacity-60"}`})]})]})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-5 h-5 text-red-600"}),"Privacy & Security"]}),n.jsx(at,{children:"Control your privacy and data settings"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.privacyMode?"bg-red-100 border-red-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"privacy-mode",className:"flex items-center gap-2",children:[n.jsx(is,{className:`w-4 h-4 ${t.privacyMode?"text-red-600":"text-gray-400"}`}),"Privacy Mode",t.privacyMode&&n.jsx(me,{variant:"secondary",className:"bg-red-200 text-red-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"privacy-mode",checked:t.privacyMode,onCheckedChange:c=>o("privacyMode",c),className:`scale-125 ${t.privacyMode?"data-[state=checked]:bg-red-600 shadow-lg shadow-red-200":"bg-gray-300 opacity-60"}`})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Privacy mode hides sensitive information in screenshots and when screen sharing."}),n.jsxs(E,{variant:"outline",className:"w-full",children:[n.jsx(is,{className:"w-4 h-4 mr-2"}),"View Privacy Policy"]})]})]}),n.jsxs($,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ha,{className:"w-5 h-5 text-purple-600"}),"Help & Support"]}),n.jsx(at,{children:"Get help and learn about features"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Ha,{className:"w-4 h-4 mr-2"}),"View User Guide"]}),n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Accessibility Tutorial"]}),n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Feature Walkthrough"]})]})]})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsxs(E,{onClick:a,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(wD,{className:"w-4 h-4"}),"Reset to Defaults"]}),n.jsxs(E,{onClick:i,className:"flex items-center gap-2",children:[n.jsx(wS,{className:"w-4 h-4"}),"Save Settings"]})]})]})}function dre(){const{isPremiumUser:e}=Ri();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(pa,{title:"Calendar & Scheduling",description:"View and manage all your appointments, tasks, and events in one integrated calendar. Subscribe to continue using Adaptalyfe's scheduling features.",feature:"calendar",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[t,s]=v.useState(new Date("2025-07-08")),[r,i]=v.useState("month"),[a,o]=v.useState(!1),[l,c]=v.useState({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15}),d=Jt(),{data:h=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:u=[]}=xe({queryKey:["/api/bills"]}),{data:m=[]}=xe({queryKey:["/api/appointments"]}),{data:p=[]}=xe({queryKey:["/api/mood-entries"]}),{data:j=[]}=xe({queryKey:["/api/calendar-events"]}),y=Ce({mutationFn:async C=>{let k;if(l.allDay)k=`${C.startDate}T00:00:00`;else{const P=C.startTime||"12:00";k=`${C.startDate}T${P}:00`}let T=null;C.endDate&&C.endTime&&(T=`${C.endDate}T${C.endTime}:00`);const D={title:C.title,description:C.description||"",startDate:k,endDate:T,allDay:C.allDay,category:C.category,color:C.color,location:C.location||"",reminderMinutes:C.reminderMinutes||15};return console.log("Creating calendar event with payload:",D),ve("POST","/api/calendar-events",D)},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/calendar-events"]}),o(!1),c({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15})}}),g=C=>{const k=new Date(t);r==="month"?k.setMonth(k.getMonth()+(C==="next"?1:-1)):r==="week"?k.setDate(k.getDate()+(C==="next"?7:-7)):k.setDate(k.getDate()+(C==="next"?1:-1)),s(k)},f=()=>{!l.title.trim()||!l.startDate||y.mutate(l)},b=C=>{const k=C.toISOString().split("T")[0],T=[];j.forEach(M=>{if(M.startDate.split("T")[0]===k){let ee=null;M.allDay||(ee=new Date(M.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),T.push({id:`event-${M.id}`,type:"event",title:M.title,time:ee,completed:M.isCompleted,category:M.category,icon:Vt,color:M.isCompleted?"text-green-600":"text-blue-600",location:M.location})}}),h.forEach(M=>{(M.frequency==="daily"||!M.frequency)&&T.push({id:`task-${M.id}`,type:"task",title:M.title,time:null,completed:M.isCompleted,category:M.category||"daily",icon:M.isCompleted?Lt:hc,color:M.isCompleted?"text-green-600":"text-blue-600"})}),h.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`scheduled-task-${M.id}`,type:"task",title:M.title,time:M.dueDate?new Date(M.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,completed:M.isCompleted,category:M.frequency||"scheduled",icon:M.isCompleted?Lt:Xt,color:M.isCompleted?"text-green-600":"text-orange-600"})}),u.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`bill-${M.id}`,type:"bill",title:`${M.name} - $${M.amount}`,time:null,completed:M.isPaid,category:"financial",icon:Ti,color:M.isPaid?"text-green-600":"text-red-600"})}),m.filter(M=>new Date(M.appointmentDate).toISOString().split("T")[0]===k).forEach(M=>{T.push({id:`appointment-${M.id}`,type:"appointment",title:M.title,time:new Date(M.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),completed:M.isCompleted,category:M.provider||"appointment",icon:Vt,color:M.isCompleted?"text-green-600":"text-purple-600"})});const P=p.find(M=>M.entryDate?new Date(M.entryDate).toISOString().split("T")[0]===k:!1);if(P){const M=["😢","😐","😊","😃","🤩"];T.push({id:`mood-${P.id}`,type:"mood",title:`Mood: ${M[P.mood-1]}`,time:null,completed:!0,category:"wellness",icon:ot,color:"text-pink-600"})}return T.sort((M,X)=>{const ee=M.time||"",F=X.time||"";return typeof ee=="string"&&typeof F=="string"?ee.localeCompare(F):ee&&!F?-1:!ee&&F?1:0})},x=()=>{const C=new Date(t.getFullYear(),t.getMonth(),1);new Date(t.getFullYear(),t.getMonth()+1,0);const k=new Date(C);k.setDate(k.getDate()-C.getDay());const T=[],D=new Date(k);for(let P=0;P<42;P++){const M=b(D),X=D.getMonth()===t.getMonth(),ee=D.toDateString()===new Date().toDateString(),F=new Date(D);T.push(n.jsxs("div",{className:`min-h-36 p-3 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${X?"bg-white":"bg-gray-50"} ${ee?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>{s(F),i("day")},title:`Click to view ${M.length} events for ${F.toLocaleDateString()}`,children:[n.jsx("div",{className:`text-lg font-bold mb-3 ${X?"text-gray-900":"text-gray-400"} ${ee?"text-blue-700":""}`,children:D.getDate()}),n.jsxs("div",{className:"space-y-1.5",children:[M.slice(0,3).map(re=>n.jsxs("div",{onClick:fe=>{fe.stopPropagation(),re.type==="event"&&(s(F),i("day"))},className:`text-xs px-2 py-1 rounded-md font-medium cursor-pointer hover:shadow-sm transition-all duration-200 border-l-2 ${re.type==="task"?"bg-blue-50 text-blue-800 border-blue-400 hover:bg-blue-100":re.type==="bill"?"bg-red-50 text-red-800 border-red-400 hover:bg-red-100":re.type==="appointment"?"bg-purple-50 text-purple-800 border-purple-400 hover:bg-purple-100":re.type==="event"?"bg-indigo-50 text-indigo-800 border-indigo-400 hover:bg-indigo-100":"bg-pink-50 text-pink-800 border-pink-400 hover:bg-pink-100"}`,title:`${re.title}${re.time?` at ${re.time}`:""}${re.location?` - ${re.location}`:""}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"truncate flex-1",children:re.title}),re.time&&n.jsx("div",{className:"ml-1 text-xs opacity-70 font-normal",children:re.time})]}),re.completed&&n.jsx("div",{className:"text-xs opacity-60 mt-0.5",children:"✓ Completed"})]},re.id)),M.length>3&&n.jsxs("div",{className:"text-xs text-gray-500 font-semibold bg-gray-100 px-2 py-1 rounded-md text-center",children:["+",M.length-3," more events"]})]})]},P)),D.setDate(D.getDate()+1)}return n.jsxs("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>n.jsx("div",{className:"bg-gray-100 p-3 text-center font-semibold text-gray-700 border-b border-gray-200",children:P},P)),T]})},w=()=>{const C=new Date(t);C.setDate(t.getDate()-t.getDay());const k=[];for(let T=0;T<7;T++){const D=new Date(C);D.setDate(C.getDate()+T),k.push(D)}return n.jsxs("div",{className:"bg-white rounded-lg border max-w-4xl mx-auto",children:[n.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:["Week of ",C.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[C.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",(()=>{const T=new Date(C);return T.setDate(C.getDate()+6),T.toLocaleDateString("en-US",{month:"short",day:"numeric"})})()]})]}),n.jsx("div",{className:"space-y-1",children:k.map(T=>{const D=b(T),P=T.toDateString()===new Date().toDateString();return n.jsx("div",{className:`border-b last:border-b-0 ${P?"bg-blue-50":"hover:bg-gray-50"} transition-colors`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:`text-center ${P?"text-blue-700":"text-gray-900"}`,children:[n.jsx("div",{className:"text-2xl font-bold",children:T.getDate()}),n.jsx("div",{className:"text-xs font-medium",children:T.toLocaleDateString("en-US",{month:"short"})})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-lg font-bold ${P?"text-blue-700":"text-gray-900"}`,children:T.toLocaleDateString("en-US",{weekday:"long"})}),n.jsxs("div",{className:"text-sm text-gray-500",children:[D.length," ",D.length===1?"event":"events"," scheduled"]})]})]}),P&&n.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Today"})]}),D.length>0?n.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:D.map(M=>n.jsxs("div",{onClick:()=>{M.type==="event"&&(s(T),i("day"))},className:`p-4 rounded-lg text-white font-medium cursor-pointer hover:opacity-90 transition-all hover:scale-105 shadow-sm border-l-4 ${M.type==="task"?"bg-blue-600 border-blue-400":M.type==="bill"?"bg-red-600 border-red-400":M.type==="appointment"?"bg-purple-600 border-purple-400":M.type==="event"?"bg-indigo-600 border-indigo-400":"bg-pink-600 border-pink-400"}`,title:`${M.title}${M.time?` at ${M.time}`:""}${M.location?` - ${M.location}`:""}`,children:[n.jsx("div",{className:"font-bold mb-2 leading-tight",children:M.title}),n.jsxs("div",{className:"space-y-1",children:[M.time&&n.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[n.jsx(js,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:M.time})]}),M.location&&n.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[n.jsx(Xs,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:M.location})]})]}),n.jsx("div",{className:"text-xs opacity-75 mt-2 capitalize",children:M.type==="task"?"Daily Task":M.type==="bill"?"Bill Due":M.type==="appointment"?"Appointment":M.type==="event"?"Event":"Other"})]},M.id))}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Vt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("div",{className:"text-sm font-medium",children:"No events scheduled"}),n.jsx("div",{className:"text-xs mt-1",children:"Free day to relax!"})]})]})},T.toISOString())})})]})},S=()=>{const C=b(t),k=t.toDateString()===new Date().toDateString();return n.jsxs($,{className:k?"ring-2 ring-blue-500":"",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-5 h-5"}),t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),n.jsx(H,{className:"space-y-4",children:C.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No events scheduled for this day"}):C.map(T=>n.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx(T.icon,{className:`w-5 h-5 ${T.color}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:T.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.time&&n.jsxs(me,{variant:"outline",className:"text-xs",children:[n.jsx(js,{className:"w-3 h-3 mr-1"}),T.time]}),n.jsx(me,{variant:"secondary",className:"text-xs",children:T.category}),T.completed&&n.jsx(me,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})]},T.id))})]})},N=()=>{if(r==="month")return t.toLocaleDateString("en-US",{year:"numeric",month:"long"});if(r==="week"){const C=new Date(t);C.setDate(t.getDate()-t.getDay());const k=new Date(C);return k.setDate(C.getDate()+6),`${C.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(Vt,{className:"w-8 h-8 text-blue-600"}),"Calendar"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Event"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Event"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Event title",value:l.title,onChange:C=>c({...l,title:C.target.value})}),n.jsx(lt,{placeholder:"Description (optional)",value:l.description,onChange:C=>c({...l,description:C.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),n.jsx(q,{type:"date",value:l.startDate,onChange:C=>c({...l,startDate:C.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),n.jsx(q,{type:"time",disabled:l.allDay,value:l.startTime,onChange:C=>c({...l,startTime:C.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Si,{checked:l.allDay,onCheckedChange:C=>c({...l,allDay:!!C})}),n.jsx("label",{className:"text-sm font-medium",children:"All Day Event"})]}),n.jsxs(Ge,{value:l.category,onValueChange:C=>c({...l,category:C}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal",children:"Personal"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsx(q,{placeholder:"Location (optional)",value:l.location,onChange:C=>c({...l,location:C.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:f,disabled:y.isPending,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:y.isPending?"Creating...":"Create Event"}),n.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),n.jsx(E,{onClick:()=>s(new Date),variant:"outline",children:"Today"})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(E,{onClick:()=>g("prev"),variant:"outline",size:"sm",children:n.jsx(c9,{className:"w-4 h-4"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:N()}),n.jsx(E,{onClick:()=>g("next"),variant:"outline",size:"sm",children:n.jsx(d9,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"flex gap-1 border border-gray-300 rounded-lg overflow-hidden min-w-fit",children:[n.jsx("button",{onClick:()=>i("month"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="month"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Month"}),n.jsx("button",{onClick:()=>i("week"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap border-l border-r border-gray-300 transition-all ${r==="week"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Week"}),n.jsx("button",{onClick:()=>i("day"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="day"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Day"})]})})]}),n.jsxs("div",{className:"mb-6",children:[r==="month"&&x(),r==="week"&&w(),r==="day"&&S()]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Legend"})}),n.jsx(H,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hc,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm",children:"Daily Tasks"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ti,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-sm",children:"Bills"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-sm",children:"Appointments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ot,{className:"w-4 h-4 text-pink-600"}),n.jsx("span",{className:"text-sm",children:"Mood Check-ins"})]})]})})]})]})}function ure(){const[e,t]=v.useState("all"),s=[{id:"smart-notifications",title:"Smart Notifications",description:"Intelligent reminder system with priority levels and customizable scheduling",icon:D0,status:"integrated",category:"core"},{id:"achievement-system",title:"Achievement System",description:"Gamification features with points, levels, and progress tracking",icon:Ht,status:"integrated",category:"motivation"},{id:"voice-commands",title:"Voice Commands",description:"Hands-free navigation and task management with speech recognition",icon:dl,status:"integrated",category:"accessibility"},{id:"dashboard-insights",title:"Dashboard Insights",description:"AI-powered personalized recommendations and behavior analysis",icon:ca,status:"integrated",category:"ai"},{id:"enhanced-communication",title:"Enhanced Communication",description:"Improved messaging with emoji reactions and quick responses",icon:Ha,status:"integrated",category:"communication"},{id:"personalization-engine",title:"Personalization Engine",description:"Adaptive UI themes and AI-powered customization based on usage patterns",icon:mo,status:"integrated",category:"customization"},{id:"ai-coach",title:"AI Life Skills Coach",description:"Personalized guidance and real-time support for daily challenges",icon:mr,status:"premium",category:"ai"},{id:"progress-photos",title:"Visual Progress Journals",description:"Photo documentation of achievements and daily accomplishments",icon:ih,status:"premium",category:"tracking"},{id:"advanced-analytics",title:"Advanced Analytics & Insights",description:"Detailed progress reports and behavioral pattern analysis",icon:gD,status:"premium",category:"analytics"},{id:"skill-challenges",title:"Interactive Skill Challenges",description:"Gamified learning experiences with custom difficulty levels",icon:Zs,status:"premium",category:"learning"},{id:"smart-reminders",title:"Smart Location-Based Reminders",description:"GPS-triggered alerts for medications, tasks, and appointments",icon:If,status:"premium",category:"location"},{id:"offline-mode",title:"Offline Mode & Sync",description:"Full app functionality without internet, auto-sync when connected",icon:ol,status:"premium",category:"reliability"},{id:"custom-templates",title:"Custom Task Templates",description:"Create and share personalized task sequences and routines",icon:Hr,status:"premium",category:"customization"},{id:"health-integration",title:"Health Data Integration",description:"Connect with Apple Health, Google Fit, and medical devices",icon:ot,status:"premium",category:"health"}],r=[{id:"all",name:"All Features",count:s.length},{id:"core",name:"Core Features",count:s.filter(c=>c.category==="core").length},{id:"ai",name:"AI Enhanced",count:s.filter(c=>c.category==="ai").length},{id:"accessibility",name:"Accessibility",count:s.filter(c=>c.category==="accessibility").length},{id:"motivation",name:"Motivation",count:s.filter(c=>c.category==="motivation").length},{id:"communication",name:"Communication",count:s.filter(c=>c.category==="communication").length},{id:"customization",name:"Customization",count:s.filter(c=>c.category==="customization").length},{id:"tracking",name:"Progress Tracking",count:s.filter(c=>c.category==="tracking").length},{id:"learning",name:"Learning",count:s.filter(c=>c.category==="learning").length},{id:"health",name:"Health & Wellness",count:s.filter(c=>c.category==="health").length}],i=e==="all"?s:s.filter(c=>c.category===e),a=c=>{switch(c){case"integrated":return"text-green-600 bg-green-100 border-green-300";case"premium":return"text-purple-600 bg-purple-100 border-purple-300";case"coming-soon":return"text-blue-600 bg-blue-100 border-blue-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},o=c=>{switch(c){case"integrated":return n.jsx(ah,{className:"w-3 h-3"});case"premium":return n.jsx(Rr,{className:"w-3 h-3"});case"coming-soon":return n.jsx(cd,{className:"w-3 h-3"});default:return null}},l=c=>{switch(c){case"integrated":return"Available Now";case"premium":return"Premium Feature";case"coming-soon":return"Coming Soon";default:return"Unknown"}};return n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Adaptalyfe Features"}),n.jsx("p",{className:"text-muted-foreground",children:"Discover all the tools and features available to help you achieve independence and build life skills"})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(c=>n.jsxs(E,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"text-sm",children:[c.name,n.jsx(me,{variant:"secondary",className:"ml-2 text-xs",children:c.count})]},c.id))})}),n.jsx("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(c=>{const d=c.icon;return n.jsxs($,{className:"h-full hover:shadow-lg transition-shadow",children:[n.jsxs(le,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(d,{className:"w-5 h-5 text-blue-600"})}),n.jsx(me,{variant:"outline",className:`text-xs font-medium px-2 py-1 ${a(c.status)}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:[o(c.status),l(c.status)]})})]}),n.jsx(ce,{className:"text-lg",children:c.title})]}),n.jsxs(H,{children:[n.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:c.description}),c.status==="premium"&&n.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:n.jsx("p",{className:"text-xs text-purple-700",children:"Upgrade to Premium to unlock this feature and gain access to advanced tools designed to enhance your independence journey."})})]})]},c.id)})}),i.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No features found in this category."})}),n.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[n.jsxs($,{className:"border-green-200 bg-green-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-green-800 flex items-center gap-2",children:[n.jsx(ah,{className:"w-5 h-5"}),"Available Now"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:s.filter(c=>c.status==="integrated").length}),n.jsx("p",{className:"text-sm text-green-600",children:"Features ready to use"})]})]}),n.jsxs($,{className:"border-purple-200 bg-purple-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-purple-800 flex items-center gap-2",children:[n.jsx(Rr,{className:"w-5 h-5"}),"Premium Features"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:s.filter(c=>c.status==="premium").length}),n.jsx("p",{className:"text-sm text-purple-600",children:"Advanced capabilities available"})]})]}),n.jsxs($,{className:"border-blue-200 bg-blue-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-blue-800 flex items-center gap-2",children:[n.jsx(ca,{className:"w-5 h-5"}),"Total Features"]})}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:s.length}),n.jsx("p",{className:"text-sm text-blue-600",children:"Tools to support your journey"})]})]})]})]})}var cO={exports:{}},hre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mre=hre,pre=mre;function dO(){}function uO(){}uO.resetWarningCache=dO;var fre=function(){function e(r,i,a,o,l,c){if(c!==pre){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uO,resetWarningCache:dO};return s.PropTypes=s,s};cO.exports=fre();var gre=cO.exports;const ts=Di(gre);function mC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function pC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(s),!0).forEach(function(r){hO(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mC(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function Kp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kp=function(t){return typeof t}:Kp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function hO(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function xre(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function yre(e,t){if(e==null)return{};var s=xre(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mO(e,t){return vre(e)||bre(e,t)||jre(e,t)||wre()}function vre(e){if(Array.isArray(e))return e}function bre(e,t){var s=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(s!=null){var r=[],i=!0,a=!1,o,l;try{for(s=s.call(e);!(i=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&s.return!=null&&s.return()}finally{if(a)throw l}}return r}}function jre(e,t){if(e){if(typeof e=="string")return fC(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fC(e,t)}}function fC(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $n=function(t,s,r){var i=!!r,a=he.useRef(r);he.useEffect(function(){a.current=r},[r]),he.useEffect(function(){if(!i||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(s,o),function(){t.off(s,o)}},[i,s,t,a])},fb=function(t){var s=he.useRef(t);return he.useEffect(function(){s.current=t},[t]),s.current},bd=function(t){return t!==null&&Kp(t)==="object"},Nre=function(t){return bd(t)&&typeof t.then=="function"},Sre=function(t){return bd(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},gC="[object Object]",Cre=function e(t,s){if(!bd(t)||!bd(s))return t===s;var r=Array.isArray(t),i=Array.isArray(s);if(r!==i)return!1;var a=Object.prototype.toString.call(t)===gC,o=Object.prototype.toString.call(s)===gC;if(a!==o)return!1;if(!a&&!r)return t===s;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},h=0;h<l.length;h+=1)d[l[h]]=!0;for(var u=0;u<c.length;u+=1)d[c[u]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var p=t,j=s,y=function(f){return e(p[f],j[f])};return m.every(y)},pO=function(t,s,r){return bd(t)?Object.keys(t).reduce(function(i,a){var o=!bd(s)||!Cre(t[a],s[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?pC(pC({},i||{}),{},hO({},a,t[a])):i},null):null},fO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",xC=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fO;if(t===null||Sre(t))return t;throw new Error(s)},kre=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fO;if(Nre(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return xC(i,s)})};var r=xC(t,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},_re=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},Lx=he.createContext(null);Lx.displayName="ElementsContext";var gO=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},xO=function(t){var s=t.stripe,r=t.options,i=t.children,a=he.useMemo(function(){return kre(s)},[s]),o=he.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=mO(o,2),c=l[0],d=l[1];he.useEffect(function(){var m=!0,p=function(y){d(function(g){return g.stripe?g:{stripe:y,elements:y.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(j){j&&m&&p(j)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){m=!1}},[a,c,r]);var h=fb(s);he.useEffect(function(){h!==null&&h!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,s]);var u=fb(r);return he.useEffect(function(){if(c.elements){var m=pO(r,u,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,u,c.elements]),he.useEffect(function(){_re(c.stripe)},[c.stripe]),he.createElement(Lx.Provider,{value:c},i)};xO.propTypes={stripe:ts.any,options:ts.object};var Tre=function(t){var s=he.useContext(Lx);return gO(s,t)},Pre=function(){var t=Tre("calls useElements()"),s=t.elements;return s};ts.func.isRequired;var yO=he.createContext(null);yO.displayName="CheckoutSdkContext";var Ere=function(t,s){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CheckoutProvider> provider."));return t},Are=he.createContext(null);Are.displayName="CheckoutContext";ts.any,ts.shape({fetchClientSecret:ts.func.isRequired,elementsOptions:ts.object}).isRequired;var gb=function(t){var s=he.useContext(yO),r=he.useContext(Lx);if(s&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s?Ere(s,t):gO(r,t)},Dre=["mode"],Mre=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ns=function(t,s){var r="".concat(Mre(t),"Element"),i=function(c){var d=c.id,h=c.className,u=c.options,m=u===void 0?{}:u,p=c.onBlur,j=c.onFocus,y=c.onReady,g=c.onChange,f=c.onEscape,b=c.onClick,x=c.onLoadError,w=c.onLoaderStart,S=c.onNetworksChange,N=c.onConfirm,C=c.onCancel,k=c.onShippingAddressChange,T=c.onShippingRateChange,D=gb("mounts <".concat(r,">")),P="elements"in D?D.elements:null,M="checkoutSdk"in D?D.checkoutSdk:null,X=he.useState(null),ee=mO(X,2),F=ee[0],re=ee[1],fe=he.useRef(null),V=he.useRef(null);$n(F,"blur",p),$n(F,"focus",j),$n(F,"escape",f),$n(F,"click",b),$n(F,"loaderror",x),$n(F,"loaderstart",w),$n(F,"networkschange",S),$n(F,"confirm",N),$n(F,"cancel",C),$n(F,"shippingaddresschange",k),$n(F,"shippingratechange",T),$n(F,"change",g);var L;y&&(t==="expressCheckout"?L=y:L=function(){y(F)}),$n(F,"ready",L),he.useLayoutEffect(function(){if(fe.current===null&&V.current!==null&&(P||M)){var be=null;if(M)switch(t){case"payment":be=M.createPaymentElement(m);break;case"address":if("mode"in m){var st=m.mode,_t=yre(m,Dre);if(st==="shipping")be=M.createShippingAddressElement(_t);else if(st==="billing")be=M.createBillingAddressElement(_t);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":be=M.createExpressCheckoutElement(m);break;case"currencySelector":be=M.createCurrencySelectorElement();break;case"taxId":be=M.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(be=P.create(t,m));fe.current=be,re(be),be&&be.mount(V.current)}},[P,M,m]);var oe=fb(m);return he.useEffect(function(){if(fe.current){var be=pO(m,oe,["paymentRequest"]);be&&"update"in fe.current&&fe.current.update(be)}},[m,oe]),he.useLayoutEffect(function(){return function(){if(fe.current&&typeof fe.current.destroy=="function")try{fe.current.destroy(),fe.current=null}catch{}}},[]),he.createElement("div",{id:d,className:h,ref:V})},a=function(c){gb("mounts <".concat(r,">"));var d=c.id,h=c.className;return he.createElement("div",{id:d,className:h})},o=s?a:i;return o.propTypes={id:ts.string,className:ts.string,onChange:ts.func,onBlur:ts.func,onFocus:ts.func,onReady:ts.func,onEscape:ts.func,onClick:ts.func,onLoadError:ts.func,onLoaderStart:ts.func,onNetworksChange:ts.func,onConfirm:ts.func,onCancel:ts.func,onShippingAddressChange:ts.func,onShippingRateChange:ts.func,options:ts.object},o.displayName=r,o.__elementType=t,o},Ss=typeof window>"u",Ire=he.createContext(null);Ire.displayName="EmbeddedCheckoutProviderContext";var Rre=function(){var t=gb("calls useStripe()"),s=t.stripe;return s};Ns("auBankAccount",Ss);Ns("card",Ss);Ns("cardNumber",Ss);Ns("cardExpiry",Ss);Ns("cardCvc",Ss);Ns("fpxBank",Ss);Ns("iban",Ss);Ns("idealBank",Ss);Ns("p24Bank",Ss);Ns("epsBank",Ss);var Fre=Ns("payment",Ss);Ns("expressCheckout",Ss);Ns("currencySelector",Ss);Ns("paymentRequestButton",Ss);Ns("linkAuthentication",Ss);Ns("address",Ss);Ns("shippingAddress",Ss);Ns("paymentMethodMessaging",Ss);Ns("affirmMessage",Ss);Ns("afterpayClearpayMessage",Ss);Ns("taxId",Ss);var vO="basil",Ore=function(t){return t===3?"v3":t},bO="https://js.stripe.com",Lre="".concat(bO,"/").concat(vO,"/stripe.js"),$re=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ure=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,yC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Bre=function(t){return $re.test(t)||Ure.test(t)},zre=function(){for(var t=document.querySelectorAll('script[src^="'.concat(bO,'"]')),s=0;s<t.length;s++){var r=t[s];if(Bre(r.src))return r}return null},vC=function(t){var s="",r=document.createElement("script");r.src="".concat(Lre).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Vre=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:s})},nu=null,dp=null,up=null,qre=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},Hre=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},Wre=function(t){return nu!==null?nu:(nu=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&t&&console.warn(yC),window.Stripe){s(window.Stripe);return}try{var i=zre();if(i&&t)console.warn(yC);else if(!i)i=vC(t);else if(i&&up!==null&&dp!==null){var a;i.removeEventListener("load",up),i.removeEventListener("error",dp),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=vC(t)}up=Hre(s,r),dp=qre(r),i.addEventListener("load",up),i.addEventListener("error",dp)}catch(o){r(o);return}}),nu.catch(function(s){return nu=null,Promise.reject(s)}))},Gre=function(t,s,r){if(t===null)return null;var i=s[0],a=i.match(/^pk_test/),o=Ore(t.version),l=vO;a&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,s);return Vre(c,r),c},ru,jO=!1,wO=function(){return ru||(ru=Wre(null).catch(function(t){return ru=null,Promise.reject(t)}),ru)};Promise.resolve().then(function(){return wO()}).catch(function(e){jO||console.warn(e)});var Kre=function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];jO=!0;var i=Date.now();return wO().then(function(a){return Gre(a,s,i)})};let Xy=null;const Qre=()=>(Xy||(Xy=Kre(" pk_live_51RkYzqJUhUgzM1cLBLWR7kHt0VFYxDr7G0CwnqMcH77aUDV0DrutudppgIJVhMTWUEFZmcjDVzRE1Pu80Owv3Ns2005JSBt3CB").catch(e=>(console.warn("Stripe failed to load:",e),null))),Xy);function Yre({children:e,clientSecret:t,onStripeLoadError:s}){const[r,i]=v.useState(null),[a,o]=v.useState(!0),[l,c]=v.useState(!1);if(v.useEffect(()=>{(async()=>{try{const u=await Qre();u?i(u):(c(!0),s==null||s())}catch(u){console.warn("Failed to load Stripe:",u),c(!0),s==null||s()}finally{o(!1)}})()},[s]),a)return n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})});if(l||!r)return n.jsxs("div",{className:"text-center p-8",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Payment system is temporarily unavailable."}),e]});const d=t?{clientSecret:t}:{};return n.jsx(xO,{stripe:r,options:d,children:e})}const xg={basic:{name:"Basic Plan",description:"Essential features for daily independence",price:{monthly:4.99,annual:49},features:["Daily task management","Basic mood tracking","Simple financial tracking","1 caregiver connection","Basic reminders","Email support"]},premium:{name:"Premium Plan",description:"Advanced features for enhanced independence",price:{monthly:12.99,annual:129},features:["Everything in Basic","Advanced analytics","Medication management","Up to 5 caregiver connections","Voice commands","Smart notifications","Meal planning","Academic planner","Priority support"],popular:!0},family:{name:"Family Plan",description:"Complete solution for families and care teams",price:{monthly:24.99,annual:249},features:["Everything in Premium","Unlimited caregiver connections","Family dashboard","Advanced safety features","Location tracking","Emergency protocols","Multi-user accounts","Custom reporting","Phone support"]}};function Xre({planType:e,billingCycle:t,onSuccess:s}){var u;const r=Rre(),i=Pre(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),{toast:d}=ut();console.log("PaymentForm render:",{stripe:!!r,elements:!!i}),v.useState(()=>{const m=setTimeout(()=>{(!r||!i)&&(console.error("Stripe load timeout after 10 seconds - showing fallback"),c(!0))},1e4);return()=>clearTimeout(m)});const h=async m=>{if(m.preventDefault(),!(!r||!i)){o(!0);try{const{error:p}=await r.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}/subscription?success=true`},redirect:"if_required"});p?d({title:"Payment Failed",description:p.message,variant:"destructive"}):(d({title:"Payment Successful!",description:"Your subscription has been activated."}),s())}catch{d({title:"Payment Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}};return n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsx("div",{className:"min-h-[200px] p-4 border-2 border-dashed border-gray-200 rounded-lg",children:(()=>{var m;return console.log("PaymentElement render state:",{stripe:!!r,elements:!!i,loadTimeout:l}),l?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsxs("div",{className:"text-red-600 mb-2",children:[n.jsx("p",{className:"font-semibold",children:"Stripe.js Loading Failed"}),n.jsx("p",{className:"text-sm",children:"Using Demo Payment Mode"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Network issues prevented secure payment form loading"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(E,{onClick:()=>{window.location.href=`/direct-payment?plan=${e}&billing=${t}`},className:"bg-blue-600 hover:bg-blue-700 text-white w-full",children:"Use Alternative Payment Form"}),n.jsxs(E,{onClick:async()=>{o(!0),await new Promise(p=>setTimeout(p,2e3)),d({title:"Subscription Activated!",description:`Your ${e} plan is now active. Welcome to Adaptalyfe!`}),s(),o(!1)},variant:"outline",className:"w-full",children:["Demo Payment - $$",(m=xg[e])==null?void 0:m.price[t==="annual"?"annual":"monthly"]]})]})]})}):!r||!i?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Loading secure payment form..."}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Stripe: ",r?"✓":"✗"," | Elements: ",i?"✓":"✗"]})]})}):n.jsx(Fre,{options:{layout:"tabs"},onReady:()=>console.log("✓ PaymentElement is ready"),onChange:p=>console.log("PaymentElement change:",p.complete),onLoadError:p=>console.error("PaymentElement error:",p)})})()}),n.jsx(E,{type:"submit",disabled:!r||!i||a,className:"w-full bg-blue-600 hover:bg-blue-700 h-12 text-lg",children:a?"Processing...":`Subscribe Now - $${(u=xg[e])==null?void 0:u.price[t==="annual"?"annual":"monthly"]}`})]})}function bC(){const[e,t]=v.useState(null),[s,r]=v.useState("monthly"),[i,a]=v.useState(null),[o,l]=v.useState(!1),{toast:c}=ut(),d=Jt(),{data:h}=xe({queryKey:["/api/user"]});xe({queryKey:["/api/subscription"]});const u=h?Math.max(0,Math.ceil((new Date(h.createdAt).getTime()+7*24*60*60*1e3-Date.now())/(24*60*60*1e3))):0,m=Ce({mutationFn:async({planType:g,billingCycle:f})=>(await ve("POST","/api/create-subscription",{planType:g,billingCycle:f})).json(),onSuccess:g=>{console.log("Subscription creation response:",g),g.clientSecret?a(g.clientSecret):g.status==="active"||g.status==="trialing"?(c({title:"Subscription Activated!",description:"Your subscription has been set up successfully."}),t(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})):(console.error("Subscription creation failed:",g),c({title:"Subscription Error",description:g.error||"Failed to create subscription. Please try again or contact support.",variant:"destructive"}),t(null))},onError:g=>{c({title:"Subscription Error",description:g.message||"Failed to create subscription",variant:"destructive"})}}),p=g=>{t(g),m.mutate({planType:g,billingCycle:s})},j=()=>{t(null),a(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})},y=u<=2&&(h==null?void 0:h.subscriptionStatus)!=="active";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),n.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Unlock your full potential with Adaptalyfe's comprehensive features"}),(h==null?void 0:h.subscriptionStatus)!=="active"&&n.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-6 ${y?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[n.jsx(js,{className:"w-4 h-4"}),u>0?n.jsxs(n.Fragment,{children:["Free trial: ",u," days remaining"]}):n.jsx(n.Fragment,{children:"Trial expired - Subscribe to continue"})]}),(h==null?void 0:h.subscriptionStatus)==="active"&&n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium mb-6 border border-green-200",children:[n.jsx(Lt,{className:"w-4 h-4"}),"Active ",h.subscriptionTier," subscription"]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[n.jsx("span",{className:s==="monthly"?"font-semibold":"text-gray-600",children:"Monthly"}),n.jsx(Ls,{checked:s==="annual",onCheckedChange:g=>r(g?"annual":"monthly")}),n.jsxs("span",{className:s==="annual"?"font-semibold":"text-gray-600",children:["Annual ",n.jsx(me,{variant:"secondary",className:"ml-1",children:"Save 20%"})]})]})]}),i&&e&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs($,{className:"w-full max-w-md bg-white shadow-2xl border-2",children:[n.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[n.jsx(uo,{className:"w-5 h-5 text-blue-600"}),"Complete Payment"]}),n.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",xg[e].name," - ",s," billing"]})]}),n.jsxs(H,{className:"bg-white p-6",children:[n.jsx(Yre,{clientSecret:i,onStripeLoadError:()=>l(!0),children:n.jsx(Xre,{planType:e,billingCycle:s,onSuccess:j})}),n.jsx(E,{variant:"outline",onClick:()=>{t(null),a(null)},className:"w-full mt-4 bg-gray-50 hover:bg-gray-100",children:"Cancel"})]})]})}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Object.entries(xg).map(([g,f])=>n.jsxs($,{className:`relative ${f.popular?"ring-2 ring-blue-500 scale-105":"border-2 border-gray-200"} ${(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?"bg-green-50 border-green-200":""}`,children:[f.popular&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsxs(me,{className:"bg-blue-500 text-white",children:[n.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Most Popular"]})}),n.jsxs(le,{className:"text-center",children:[n.jsxs(ce,{className:"flex items-center justify-center gap-2",children:[g==="basic"&&n.jsx(ca,{className:"w-5 h-5"}),g==="premium"&&n.jsx(Ht,{className:"w-5 h-5"}),g==="family"&&n.jsx(as,{className:"w-5 h-5"}),f.name]}),n.jsx(at,{children:f.description}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-3xl font-bold",children:["$",s==="annual"?f.price.annual:f.price.monthly]}),n.jsxs("span",{className:"text-gray-600",children:["/",s==="annual"?"year":"month"]}),s==="annual"&&n.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Save $",(f.price.monthly*12-f.price.annual).toFixed(2)]})]})]}),n.jsxs(H,{children:[n.jsx("ul",{className:"space-y-2 mb-6",children:f.features.map((b,x)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(Lt,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:b})]},x))}),(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?n.jsxs(E,{disabled:!0,className:"w-full",children:[n.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):n.jsx(E,{onClick:()=>p(g),disabled:m.isPending,className:"w-full",variant:f.popular?"default":"outline",children:m.isPending&&e===g?"Setting up...":u>0?"Start Free Trial":"Subscribe Now"})]})]},g))}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Why Choose Adaptalyfe?"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-6",children:[n.jsx(ca,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Built for Independence"}),n.jsx("p",{className:"text-gray-600",children:"Designed specifically for individuals with developmental disabilities"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(as,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Family-Centered"}),n.jsx("p",{className:"text-gray-600",children:"Connect caregivers, family members, and support teams"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(Ht,{className:"w-12 h-12 text-purple-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Proven Results"}),n.jsx("p",{className:"text-gray-600",children:"Thousands of users building independence every day"})]})]})]})]})})}function Zre(){const[,e]=Ln(),[t,s]=v.useState(!1),[r,i]=v.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:"",name:"",email:""}),{toast:a}=ut(),o=Jt(),l=new URLSearchParams(window.location.search),c=l.get("plan")||"premium",d=l.get("billing")||"monthly",u={basic:{name:"Basic Plan",price:{monthly:"4.99",annual:"49.00"}},premium:{name:"Premium Plan",price:{monthly:"12.99",annual:"129.00"}},family:{name:"Family Plan",price:{monthly:"24.99",annual:"249.00"}}}[c],m=(u==null?void 0:u.price[d])||"19.99",p=(g,f)=>{i(b=>({...b,[g]:f}))},j=g=>{const f=g.replace(/\s+/g,"").replace(/[^0-9]/gi,""),b=f.match(/\d{4,16}/g),x=b&&b[0]||"",w=[];for(let S=0,N=x.length;S<N;S+=4)w.push(x.substring(S,S+4));return w.length?w.join(" "):f};Ce({mutationFn:async()=>(await ve("POST","/api/process-direct-payment",{planType:c,billingCycle:d,amount:m,paymentMethod:{card:{number:r.cardNumber.replace(/\s/g,""),exp_month:r.expiryMonth,exp_year:r.expiryYear,cvc:r.cvc},billing_details:{name:r.name,email:r.email}}})).json(),onSuccess:()=>{a({title:"Payment Successful!",description:`Your ${u.name} subscription has been activated.`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")},onError:()=>{a({title:"Payment Failed",description:"Please check your card details and try again.",variant:"destructive"})}});const y=async g=>{if(g.preventDefault(),!r.cardNumber||!r.expiryMonth||!r.expiryYear||!r.cvc||!r.name){a({title:"Missing Information",description:"Please fill in all payment details.",variant:"destructive"});return}s(!0);try{await new Promise(f=>setTimeout(f,3e3)),a({title:"Subscription Activated!",description:`Your ${u.name} plan is now active. Welcome to Adaptalyfe!`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")}catch{a({title:"Payment Failed",description:"Please try again or contact support.",variant:"destructive"})}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Ue,{href:"/subscription",children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(ux,{className:"w-4 h-4 mr-2"}),"Back to Plans"]})})}),n.jsxs($,{className:"shadow-2xl border-2",children:[n.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[n.jsx(uo,{className:"w-5 h-5 text-blue-600"}),"Secure Payment"]}),n.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",u==null?void 0:u.name," Plan - ",d," billing"]})]}),n.jsxs(H,{className:"p-6",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.name," Plan (",d,")"]}),n.jsxs("span",{className:"text-2xl font-bold",children:["$",m]})]})}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(q,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:r.cardNumber,onChange:g=>p("cardNumber",j(g.target.value)),maxLength:19,required:!0})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"expiryMonth",children:"Month"}),n.jsx(q,{id:"expiryMonth",placeholder:"MM",value:r.expiryMonth,onChange:g=>p("expiryMonth",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"expiryYear",children:"Year"}),n.jsx(q,{id:"expiryYear",placeholder:"YY",value:r.expiryYear,onChange:g=>p("expiryYear",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"cvc",children:"CVC"}),n.jsx(q,{id:"cvc",placeholder:"123",value:r.cvc,onChange:g=>p("cvc",g.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"name",children:"Cardholder Name"}),n.jsx(q,{id:"name",placeholder:"John Doe",value:r.name,onChange:g=>p("name",g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",placeholder:"john@example.com",value:r.email,onChange:g=>p("email",g.target.value),required:!0})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-blue-700 text-sm",children:[n.jsx(is,{className:"w-4 h-4"}),n.jsx("span",{children:"Demo Mode: This is a demonstration payment form"})]})}),n.jsx(E,{type:"submit",disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 text-lg h-12",children:t?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Payment..."]}):`Complete Payment - $${m}`})]})]})]})]})})}function Zy(){const[,e]=Ln(),[t,s]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(!1),{toast:l}=ut();v.useEffect(()=>{console.log("Landing page loaded - URL:",window.location.href);const h=new URLSearchParams(window.location.search).get("code");console.log("Invitation code detected:",h),h&&s(h)},[]),xe({queryKey:[`/api/invitation/${t}`],enabled:!!t});const c=async()=>{if(!r.trim()){l({title:"Code Required",description:"Please enter an invitation code",variant:"destructive"});return}localStorage.setItem("pendingInvitation",r.trim()),e(`/register?code=${r.trim()}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 border-2 border-blue-400 hover:border-blue-600 shadow-md",children:[n.jsx(vS,{className:"w-4 h-4 mr-2"}),"Join with Code"]})}),n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsxs(Xe,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(vS,{className:"w-5 h-5 text-blue-600"}),"Join with Invitation Code"]}),n.jsx(Zt,{children:"Enter your invitation code to create an account and join your caregiver's support network."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"invitation-code",children:"Invitation Code"}),n.jsx(q,{id:"invitation-code",placeholder:"Enter code (e.g., ABC123)",value:r,onChange:d=>i(d.target.value.toUpperCase()),className:"font-mono text-center text-lg tracking-wider",maxLength:6})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(E,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),n.jsx(E,{onClick:c,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Join Now"})]})]})]})]}),n.jsx(Ue,{href:"/login",children:n.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),n.jsx(Ue,{href:"/register",children:n.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),n.jsx("section",{className:"py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Empowering Independence Through Technology"}),n.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"AdaptaLyfe is designed specifically for individuals with developmental disabilities, providing the tools and support needed to build confidence, manage daily life, and achieve greater independence."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(Ue,{href:"/register",children:n.jsxs(E,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8",children:["Start Your Journey ",n.jsx(cd,{className:"w-5 h-5 ml-2"})]})}),n.jsx(Ue,{href:"/demo",children:n.jsx(E,{size:"lg",variant:"outline",className:"px-8",children:"Try Demo"})})]})]})})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsxs("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Comprehensive Support for"," ",n.jsx("span",{className:"text-blue-600 font-bold",children:"Daily Living"})]}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Every feature is thoughtfully designed with accessibility, independence, and personal growth in mind"})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 xl:grid-cols-4 gap-8",children:[n.jsx($,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-indigo-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(Lt,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Daily Task Management"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Organize daily routines with visual cues, progress tracking, and personalized reward systems that celebrate every achievement"})]})}),n.jsx($,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-green-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(Ti,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Financial Management"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Simple bill tracking, budgeting tools, and secure payment links designed to build financial independence safely"})]})}),n.jsx($,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-purple-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-pink-500 to-rose-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(dw,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Mood & Wellness"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Track emotional well-being with daily check-ins, mood insights, and personalized wellness recommendations"})]})}),n.jsx($,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-yellow-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(as,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Support Network"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Connect securely with caregivers, family, and support professionals through our comprehensive communication platform"})]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-16",children:[n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-indigo-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(mr,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Assistant"}),n.jsx("p",{className:"text-gray-600",children:"Get personalized guidance and support with AdaptAI, your helpful companion"})]}),n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(Zs,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Goal Tracking"}),n.jsx("p",{className:"text-gray-600",children:"Set and achieve personal goals with visual progress tracking and celebrations"})]}),n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-purple-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(Ht,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Achievements"}),n.jsx("p",{className:"text-gray-600",children:"Earn badges and rewards for completing tasks and reaching milestones"})]})]})]})}),n.jsx("section",{className:"py-24 bg-gradient-to-r from-blue-600 to-purple-600",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Your Independence Journey?"}),n.jsx("p",{className:"text-xl text-white mb-12 max-w-2xl mx-auto",children:"Join thousands of individuals building confidence and achieving their goals with AdaptaLyfe"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[n.jsx(Ue,{href:"/register",children:n.jsxs(E,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-50 px-12 py-4 text-lg font-semibold shadow-2xl hover:shadow-3xl transition-all duration-300 rounded-2xl",children:["Get Started Free",n.jsx(cd,{className:"w-6 h-6 ml-3"})]})}),n.jsx(Ue,{href:"/demo",children:n.jsx(E,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white/20 hover:border-white px-12 py-4 text-lg font-semibold rounded-2xl bg-white/10",children:"Try Demo First"})})]})]})}),n.jsx("footer",{className:"py-16 bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:n.jsx(mr,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-2xl font-bold text-white",children:"Adaptalyfe"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto text-lg",children:"Empowering individuals with developmental disabilities to achieve independence through innovative technology, personalized support, and a caring community."})]})})]})}function Jre(){const[,e]=Ln(),{toast:t}=ut(),[s,r]=v.useState({username:"",password:"",invitationCode:""}),[i,a]=v.useState(!1),[o,l]=v.useState(!1);v.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("code");h&&(r(u=>({...u,invitationCode:h})),l(!0))},[]);const c=async d=>{d.preventDefault(),a(!0);try{if(await ve("POST","/api/login",{username:s.username,password:s.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"}),s.invitationCode)e(`/accept-invitation?code=${s.invitationCode}`);else{const h=localStorage.getItem("pendingInvitation");h?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${h}`)):e("/dashboard")}}catch(h){t({title:"Login Failed",description:h.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Ue,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"h-6 w-6 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"})]})}),n.jsx(Ue,{href:"/",children:n.jsxs(E,{variant:"ghost",children:[n.jsx(ux,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs($,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(yD,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),n.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:d=>r({...s,username:d.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:d=>r({...s,password:d.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),o&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border",children:[n.jsx(de,{htmlFor:"invitationCode",className:"text-blue-700 font-medium",children:"Caregiver Invitation Code"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:d=>r({...s,invitationCode:d.target.value}),placeholder:"Enter invitation code",className:"mt-1 bg-white",readOnly:!0}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You'll become a caregiver after logging in"})]}),!o&&n.jsxs("div",{children:[n.jsx(de,{htmlFor:"invitationCode",children:"Have a Caregiver Invitation Code? (Optional)"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:d=>r({...s,invitationCode:d.target.value}),placeholder:"Enter invitation code to become a caregiver",className:"mt-1"})]}),n.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center space-y-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(Ue,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function eie(){const[,e]=Ln(),{toast:t}=ut(),[s,r]=v.useState({name:"",email:"",username:"",password:"",confirmPassword:"",plan:"basic",agreeToTerms:!1,subscribeNewsletter:!1,invitationCode:""}),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(!1);v.useEffect(()=>{try{console.log("Register: Component mounted, checking for mobile and invitation code");const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);d(m),console.log("Register: Mobile detected:",m);const j=new URLSearchParams(window.location.search).get("code"),y=localStorage.getItem("pendingInvitation");if(console.log("Register: Code from URL:",j),console.log("Register: Code from storage:",y),j||y){const g=j||y||"";r(f=>({...f,invitationCode:g})),l(!0),console.log("Register: Invitation code set:",g),y&&!j&&localStorage.removeItem("pendingInvitation")}}catch(m){console.error("Register: Error in useEffect:",m)}},[]);const h=async m=>{if(m.preventDefault(),a(!0),s.password!==s.confirmPassword){t({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"}),a(!1);return}if(!s.agreeToTerms){t({title:"Terms Required",description:"Please agree to the terms of service",variant:"destructive"}),a(!1);return}try{await ve("POST","/api/register",s),t({title:"Registration Successful!",description:`Welcome to AdaptaLyfe, ${s.name}!`}),s.invitationCode?e(`/accept-invitation?code=${s.invitationCode}`):e("/dashboard")}catch(p){t({title:"Registration Failed",description:p.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{a(!1)}},u={basic:"$4.99/month",premium:"$12.99/month",family:"$24.99/month"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Ue,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsx(Ue,{href:"/",children:n.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[n.jsx(ux,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs($,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(ot,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Create Your Account"}),n.jsx(at,{className:"text-base",children:"Start your independence journey with Adaptalyfe"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:h,className:"space-y-6",autoComplete:"off",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Personal Information"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Full Name"}),n.jsx(q,{id:"name",type:"text",value:s.name,onChange:m=>r({...s,name:m.target.value}),placeholder:"Enter your full name",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",value:s.email,onChange:m=>r({...s,email:m.target.value}),placeholder:"Enter your email",required:!0,className:"mt-1"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Account Setup"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:m=>r({...s,username:m.target.value}),placeholder:"Choose a username",required:!0,className:"mt-1",autoComplete:"new-username"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:m=>r({...s,password:m.target.value}),placeholder:"Create a strong password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(q,{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:m=>r({...s,confirmPassword:m.target.value}),placeholder:"Confirm your password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"invitationCode",children:"Invitation Code (Optional)"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:m=>r({...s,invitationCode:m.target.value}),placeholder:"Enter invitation code if you have one",className:"mt-1"}),o&&n.jsx("p",{className:"text-sm text-green-600 mt-1",children:"✓ Invitation code detected - your caregiver will join your support network after registration"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Choose Your Plan"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"plan",children:"Subscription Plan"}),n.jsxs(Ge,{value:s.plan,onValueChange:m=>r({...s,plan:m}),children:[n.jsx(He,{className:"mt-1",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsxs(B,{value:"basic",children:["Basic - ",u.basic]}),n.jsxs(B,{value:"premium",children:["Premium - ",u.premium]}),n.jsxs(B,{value:"family",children:["Family - ",u.family]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Si,{id:"terms",checked:s.agreeToTerms,onCheckedChange:m=>r({...s,agreeToTerms:m})}),n.jsx("div",{className:"text-sm",children:n.jsxs(de,{htmlFor:"terms",className:"cursor-pointer",children:["I agree to the ",n.jsx(Ue,{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and"," ",n.jsx(Ue,{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Si,{id:"newsletter",checked:s.subscribeNewsletter,onCheckedChange:m=>r({...s,subscribeNewsletter:m})}),n.jsx(de,{htmlFor:"newsletter",className:"text-sm cursor-pointer",children:"Subscribe to updates and independence tips (optional)"})]})]}),n.jsx(E,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-colors",size:"lg",disabled:i,children:i?"Creating Account...":"Create Account"}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx(Ue,{href:"/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]}),n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-blue-50 rounded-lg",children:[n.jsx(is,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-sm text-blue-800",children:"7-day free trial • Cancel anytime • Secure payment processing"})]})]})})]})})]})}function cs({children:e,redirectTo:t="/login"}){const[,s]=Ln(),{data:r,isLoading:i,error:a,refetch:o}=xe({queryKey:["/api/user"],retry:1,retryDelay:500});return v.useEffect(()=>{if(!i&&!r&&a){const l=window.location.pathname;["/login","/register","/","/demo","/landing"].includes(l)||(console.log("AuthCheck: No authenticated user, redirecting to",t,"from",l),console.log("AuthCheck: Error details:",a),s(t))}},[i,r,a,s,t]),i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!r&&a?null:n.jsx(n.Fragment,{children:e})}function jC({children:e,redirectTo:t="/dashboard"}){const[,s]=Ln(),{data:r,isLoading:i,error:a}=xe({queryKey:["/api/user"],retry:!1});if(v.useEffect(()=>{if(!i){const l=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";(!r||!l)&&(console.log("AdminCheck: Access denied. Redirecting non-admin user to",t),s(t))}},[i,r,s,t]),i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})});const o=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";return!r||!o?null:n.jsx(n.Fragment,{children:e})}function tie(){const[e,t]=v.useState(!1),[s,r]=v.useState("");return v.useEffect(()=>{const i=o=>{var l,c;if(o.detail&&o.detail.message){if(o.detail.message.includes("useRef")||o.detail.message.includes("runtime-error-plugin")||o.detail.message.includes("Cannot read properties of null")||o.detail.message.includes("Stripe")||o.detail.message.includes("Failed to load Stripe.js")){(l=o.preventDefault)==null||l.call(o),(c=o.stopPropagation)==null||c.call(o);return}r(o.detail.message),t(!0)}};window.addEventListener("runtime-error",i);const a=o=>{if(o.error&&o.error.message){if(o.error.message.includes("useRef")||o.error.message.includes("runtime-error-plugin")||o.error.message.includes("Cannot read properties of null")||o.error.message.includes("Stripe")||o.error.message.includes("Failed to load Stripe.js")){o.preventDefault(),o.stopPropagation();return}r(o.error.message),t(!0)}};return window.addEventListener("error",a,!0),()=>{window.removeEventListener("runtime-error",i),window.removeEventListener("error",a,!0)}},[]),e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs($,{className:"w-full max-w-md",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(Xt,{className:"w-5 h-5"}),"Runtime Error Detected"]})}),n.jsxs(H,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an error. This is usually temporary and can be resolved by refreshing the page."}),n.jsxs("details",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[n.jsx("summary",{className:"font-medium cursor-pointer",children:"Error Details"}),n.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-32",children:s})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[n.jsx(cw,{className:"w-4 h-4"}),"Reload Page"]}),n.jsx(E,{onClick:()=>t(!1),variant:"outline",children:"Continue Anyway"})]})]})]})}):null}class sie extends v.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return t.message&&t.message.includes("useRef")?{hasError:!1}:{hasError:!0}}componentDidCatch(t,s){t.message&&t.message.includes("useRef")||console.log("Error caught by boundary:",t,s)}render(){if(this.state.hasError){const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return n.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #e0f2fe, #f3e8ff, #f0fdfa)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:n.jsxs("div",{style:{textAlign:"center",background:"white",padding:"2rem",borderRadius:"0.5rem",boxShadow:"0 10px 15px rgba(0, 0, 0, 0.1)",maxWidth:t?"90vw":"28rem",width:"100%"},children:[n.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dc2626",marginBottom:"1rem"},children:"Something went wrong"}),n.jsxs("p",{style:{color:"#4b5563",marginBottom:"1rem"},children:["An error occurred while loading the app on your ",t?"mobile":"desktop"," device."]}),n.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#2563eb",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]})})}return this.props.children}}function nie(e,t,s){const r=[];return e.forEach(i=>typeof i!="string"?r.push(i):t[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(s)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function wC(e,t){const s=/\$/g,r="$$$$";let i=[e];if(t==null)return i;for(const a of Object.keys(t))if(a!=="_"){let o=t[a];typeof o=="string"&&(o=s[Symbol.replace](o,r)),i=nie(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const rie=e=>{throw new Error(`missing string: ${e}`)};var $h,Uh,xb;class NO{constructor(t,{onMissingKey:s=rie}={}){K(this,Uh);A(this,"locale");K(this,$h);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(ne(this,Uh,xb),this):ne(this,Uh,xb).call(this,t),te(this,$h,s)}translate(t,s){return this.translateArray(t,s).join("")}translateArray(t,s){let r=this.locale.strings[t];if(r==null&&(_(this,$h).call(this,t),r=t),typeof r=="object"){if(s&&typeof s.smart_count<"u"){const a=this.locale.pluralize(s.smart_count);return wC(r[a],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return wC(r,s)}}$h=new WeakMap,Uh=new WeakSet,xb=function(t){if(!(t!=null&&t.strings))return;const s=this.locale;Object.assign(this.locale,{strings:{...s.strings,...t.strings},pluralize:t.pluralize||s.pluralize})};class SO{constructor(t,s){A(this,"uppy");A(this,"opts");A(this,"id");A(this,"defaultLocale");A(this,"i18n");A(this,"i18nArray");A(this,"type");A(this,"VERSION");this.uppy=t,this.opts=s??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new NO([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}function Jy(e){return e<10?`0${e}`:e.toString()}function Qp(){const e=new Date,t=Jy(e.getHours()),s=Jy(e.getMinutes()),r=Jy(e.getSeconds());return`${t}:${s}:${r}`}const iie={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${Qp()}]`,...e)},aie={debug:(...e)=>console.debug(`[Uppy] [${Qp()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${Qp()}]`,...e),error:(...e)=>console.error(`[Uppy] [${Qp()}]`,...e)};function CO(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function oie(e,t=document){return typeof e=="string"?t.querySelector(e):CO(e)?e:null}function kO(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}var _m,ft,_O,Io,NC,TO,PO,EO,pN,yb,vb,Eh={},AO=[],lie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Tm=Array.isArray;function vi(e,t){for(var s in t)e[s]=t[s];return e}function fN(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ah(e,t,s){var r,i,a,o={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?_m.call(arguments,2):s),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Ou(e,o,r,i,null)}function Ou(e,t,s,r,i){var a={type:e,props:t,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++_O,__i:-1,__u:0};return i==null&&ft.vnode!=null&&ft.vnode(a),a}function cie(){return{current:null}}function zr(e){return e.children}function Fn(e,t){this.props=e,this.context=t}function jd(e,t){if(t==null)return e.__?jd(e.__,e.__i+1):null;for(var s;t<e.__k.length;t++)if((s=e.__k[t])!=null&&s.__e!=null)return s.__e;return typeof e.type=="function"?jd(e):null}function DO(e){var t,s;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((s=e.__k[t])!=null&&s.__e!=null){e.__e=e.__c.base=s.__e;break}return DO(e)}}function SC(e){(!e.__d&&(e.__d=!0)&&Io.push(e)&&!yg.__r++||NC!=ft.debounceRendering)&&((NC=ft.debounceRendering)||TO)(yg)}function yg(){for(var e,t,s,r,i,a,o,l=1;Io.length;)Io.length>l&&Io.sort(PO),e=Io.shift(),l=Io.length,e.__d&&(s=void 0,i=(r=(t=e).__v).__e,a=[],o=[],t.__P&&((s=vi({},r)).__v=r.__v+1,ft.vnode&&ft.vnode(s),gN(t.__P,s,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,a,i??jd(r),!!(32&r.__u),o),s.__v=r.__v,s.__.__k[s.__i]=s,RO(a,s,o),s.__e!=i&&DO(s)));yg.__r=0}function MO(e,t,s,r,i,a,o,l,c,d,h){var u,m,p,j,y,g,f,b=r&&r.__k||AO,x=t.length;for(c=die(s,t,b,c,x),u=0;u<x;u++)(p=s.__k[u])!=null&&(m=p.__i==-1?Eh:b[p.__i]||Eh,p.__i=u,g=gN(e,p,m,i,a,o,l,c,d,h),j=p.__e,p.ref&&m.ref!=p.ref&&(m.ref&&xN(m.ref,null,p),h.push(p.ref,p.__c||j,p)),y==null&&j!=null&&(y=j),(f=!!(4&p.__u))||m.__k===p.__k?c=IO(p,c,e,f):typeof p.type=="function"&&g!==void 0?c=g:j&&(c=j.nextSibling),p.__u&=-7);return s.__e=y,c}function die(e,t,s,r,i){var a,o,l,c,d,h=s.length,u=h,m=0;for(e.__k=new Array(i),a=0;a<i;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=e.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ou(null,o,null,null,null):Tm(o)?Ou(zr,{children:o},null,null,null):o.constructor==null&&o.__b>0?Ou(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(d=o.__i=uie(o,s,c,u))!=-1&&(u--,(l=s[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>h?m--:i<h&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<h;a++)(l=s[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=jd(l)),OO(l,l));return r}function IO(e,t,s,r){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,t=IO(i[a],t,s,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=jd(e)),s.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Fr(e,t){return t=t||[],e==null||typeof e=="boolean"||(Tm(e)?e.some(function(s){Fr(s,t)}):t.push(e)),t}function uie(e,t,s,r){var i,a,o,l=e.key,c=e.type,d=t[s],h=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||h&&l==d.key&&c==d.type)return s;if(r>(h?1:0)){for(i=s-1,a=s+1;i>=0||a<t.length;)if((d=t[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function CC(e,t,s){t[0]=="-"?e.setProperty(t,s??""):e[t]=s==null?"":typeof s!="number"||lie.test(t)?s:s+"px"}function hp(e,t,s,r,i){var a,o;e:if(t=="style")if(typeof s=="string")e.style.cssText=s;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)s&&t in s||CC(e.style,t,"");if(s)for(t in s)r&&s[t]==r[t]||CC(e.style,t,s[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(EO,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=s,s?r?s.u=r.u:(s.u=pN,e.addEventListener(t,a?vb:yb,a)):e.removeEventListener(t,a?vb:yb,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&s==1?"":s))}}function kC(e){return function(t){if(this.l){var s=this.l[t.type+e];if(t.t==null)t.t=pN++;else if(t.t<s.u)return;return s(ft.event?ft.event(t):t)}}}function gN(e,t,s,r,i,a,o,l,c,d){var h,u,m,p,j,y,g,f,b,x,w,S,N,C,k,T,D,P=t.type;if(t.constructor!=null)return null;128&s.__u&&(c=!!(32&s.__u),a=[l=t.__e=s.__e]),(h=ft.__b)&&h(t);e:if(typeof P=="function")try{if(f=t.props,b="prototype"in P&&P.prototype.render,x=(h=P.contextType)&&r[h.__c],w=h?x?x.props.value:h.__:r,s.__c?g=(u=t.__c=s.__c).__=u.__E:(b?t.__c=u=new P(f,w):(t.__c=u=new Fn(f,w),u.constructor=P,u.render=mie),x&&x.sub(u),u.props=f,u.state||(u.state={}),u.context=w,u.__n=r,m=u.__d=!0,u.__h=[],u._sb=[]),b&&u.__s==null&&(u.__s=u.state),b&&P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=vi({},u.__s)),vi(u.__s,P.getDerivedStateFromProps(f,u.__s))),p=u.props,j=u.state,u.__v=t,m)b&&P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),b&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(b&&P.getDerivedStateFromProps==null&&f!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(f,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(f,u.__s,w)===!1||t.__v==s.__v){for(t.__v!=s.__v&&(u.props=f,u.state=u.__s,u.__d=!1),t.__e=s.__e,t.__k=s.__k,t.__k.some(function(M){M&&(M.__=t)}),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(f,u.__s,w),b&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,j,y)})}if(u.context=w,u.props=f,u.__P=e,u.__e=!1,N=ft.__r,C=0,b){for(u.state=u.__s,u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++C<25);u.state=u.__s,u.getChildContext!=null&&(r=vi(vi({},r),u.getChildContext())),b&&!m&&u.getSnapshotBeforeUpdate!=null&&(y=u.getSnapshotBeforeUpdate(p,j)),T=h,h!=null&&h.type===zr&&h.key==null&&(T=FO(h.props.children)),l=MO(e,Tm(T)?T:[T],t,s,r,i,a,o,l,c,d),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),g&&(u.__E=u.__=null)}catch(M){if(t.__v=null,c||a!=null)if(M.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(D=a.length;D--;)fN(a[D]);bb(t)}else t.__e=s.__e,t.__k=s.__k,M.then||bb(t);ft.__e(M,t,s)}else a==null&&t.__v==s.__v?(t.__k=s.__k,t.__e=s.__e):l=t.__e=hie(s.__e,t,s,r,i,a,o,c,d);return(h=ft.diffed)&&h(t),128&t.__u?void 0:l}function bb(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(bb)}function RO(e,t,s){for(var r=0;r<s.length;r++)xN(s[r],s[++r],s[++r]);ft.__c&&ft.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){ft.__e(a,i.__v)}})}function FO(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Tm(e)?e.map(FO):vi({},e)}function hie(e,t,s,r,i,a,o,l,c){var d,h,u,m,p,j,y,g=s.props,f=t.props,b=t.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((p=a[d])&&"setAttribute"in p==!!b&&(b?p.localName==b:p.nodeType==3)){e=p,a[d]=null;break}}if(e==null){if(b==null)return document.createTextNode(f);e=document.createElementNS(i,b,f.is&&f),l&&(ft.__m&&ft.__m(t,a),l=!1),a=null}if(b==null)g===f||l&&e.data==f||(e.data=f);else{if(a=a&&_m.call(e.childNodes),g=s.props||Eh,!l&&a!=null)for(g={},d=0;d<e.attributes.length;d++)g[(p=e.attributes[d]).name]=p.value;for(d in g)if(p=g[d],d!="children"){if(d=="dangerouslySetInnerHTML")u=p;else if(!(d in f)){if(d=="value"&&"defaultValue"in f||d=="checked"&&"defaultChecked"in f)continue;hp(e,d,null,p,i)}}for(d in f)p=f[d],d=="children"?m=p:d=="dangerouslySetInnerHTML"?h=p:d=="value"?j=p:d=="checked"?y=p:l&&typeof p!="function"||g[d]===p||hp(e,d,p,g[d],i);if(h)l||u&&(h.__html==u.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(u&&(e.innerHTML=""),MO(t.type=="template"?e.content:e,Tm(m)?m:[m],t,s,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:s.__k&&jd(s,0),l,c),a!=null)for(d=a.length;d--;)fN(a[d]);l||(d="value",b=="progress"&&j==null?e.removeAttribute("value"):j!=null&&(j!==e[d]||b=="progress"&&!j||b=="option"&&j!=g[d])&&hp(e,d,j,g[d],i),d="checked",y!=null&&y!=e[d]&&hp(e,d,y,g[d],i))}return e}function xN(e,t,s){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){ft.__e(i,s)}}function OO(e,t,s){var r,i;if(ft.unmount&&ft.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||xN(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ft.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&OO(r[i],t,s||typeof e.type!="function");s||fN(e.__e),e.__c=e.__=e.__e=void 0}function mie(e,t,s){return this.constructor(e,s)}function pie(e,t,s){var r,i,a,o;t==document&&(t=document.documentElement),ft.__&&ft.__(e,t),i=(r=typeof s=="function")?null:t.__k,a=[],o=[],gN(t,e=(!r&&s||t).__k=Ah(zr,null,[e]),i||Eh,Eh,t.namespaceURI,!r&&s?[s]:i?null:t.firstChild?_m.call(t.childNodes):null,a,!r&&s?s:i?i.__e:t.firstChild,r,o),RO(a,e,o)}function LO(e,t,s){var r,i,a,o,l=vi({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)a=="key"?r=t[a]:a=="ref"?i=t[a]:l[a]=t[a]===void 0&&o!=null?o[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?_m.call(arguments,2):s),Ou(e.type,l,r||e.key,i||e.ref,null)}_m=AO.slice,ft={__e:function(e,t,s,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},_O=0,Fn.prototype.setState=function(e,t){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vi({},this.state),typeof e=="function"&&(e=e(vi({},s),this.props)),e&&vi(s,e),e!=null&&this.__v&&(t&&this._sb.push(t),SC(this))},Fn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),SC(this))},Fn.prototype.render=zr,Io=[],TO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,PO=function(e,t){return e.__v.__b-t.__v.__b},yg.__r=0,EO=/(PointerCapture)$|Capture$/i,pN=0,yb=kC(!1),vb=kC(!0);var Dh,xs,ev,_C,Mh=0,$O=[],Cs=ft,TC=Cs.__b,PC=Cs.__r,EC=Cs.diffed,AC=Cs.__c,DC=Cs.unmount,MC=Cs.__;function yN(e,t){Cs.__h&&Cs.__h(xs,e,Mh||t),Mh=0;var s=xs.__H||(xs.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({}),s.__[e]}function vg(e){return Mh=1,fie(BO,e)}function fie(e,t,s){var r=yN(Dh++,2);if(r.t=e,!r.__c&&(r.__=[s?s(t):BO(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=xs,!xs.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var u=r.__c.props!==l;return h.forEach(function(m){if(m.__N){var p=m.__[0];m.__=m.__N,m.__N=void 0,p!==m.__[0]&&(u=!0)}}),a&&a.call(this,l,c,d)||u};xs.__f=!0;var a=xs.shouldComponentUpdate,o=xs.componentWillUpdate;xs.componentWillUpdate=function(l,c,d){if(this.__e){var h=a;a=void 0,i(l,c,d),a=h}o&&o.call(this,l,c,d)},xs.shouldComponentUpdate=i}return r.__N||r.__}function jb(e,t){var s=yN(Dh++,3);!Cs.__s&&UO(s.__H,t)&&(s.__=e,s.u=t,xs.__H.__h.push(s))}function Yp(e){return Mh=5,vN(function(){return{current:e}},[])}function vN(e,t){var s=yN(Dh++,7);return UO(s.__H,t)&&(s.__=e(),s.__H=t,s.__h=e),s.__}function gie(e,t){return Mh=8,vN(function(){return e},t)}function xie(){for(var e;e=$O.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Xp),e.__H.__h.forEach(wb),e.__H.__h=[]}catch(t){e.__H.__h=[],Cs.__e(t,e.__v)}}Cs.__b=function(e){xs=null,TC&&TC(e)},Cs.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),MC&&MC(e,t)},Cs.__r=function(e){PC&&PC(e),Dh=0;var t=(xs=e.__c).__H;t&&(ev===xs?(t.__h=[],xs.__h=[],t.__.forEach(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(t.__h.forEach(Xp),t.__h.forEach(wb),t.__h=[],Dh=0)),ev=xs},Cs.diffed=function(e){EC&&EC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&($O.push(t)!==1&&_C===Cs.requestAnimationFrame||((_C=Cs.requestAnimationFrame)||yie)(xie)),t.__H.__.forEach(function(s){s.u&&(s.__H=s.u),s.u=void 0})),ev=xs=null},Cs.__c=function(e,t){t.some(function(s){try{s.__h.forEach(Xp),s.__h=s.__h.filter(function(r){return!r.__||wb(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Cs.__e(r,s.__v)}}),AC&&AC(e,t)},Cs.unmount=function(e){DC&&DC(e);var t,s=e.__c;s&&s.__H&&(s.__H.__.forEach(function(r){try{Xp(r)}catch(i){t=i}}),s.__H=void 0,t&&Cs.__e(t,s.__v))};var IC=typeof requestAnimationFrame=="function";function yie(e){var t,s=function(){clearTimeout(r),IC&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(s,35);IC&&(t=requestAnimationFrame(s))}function Xp(e){var t=xs,s=e.__c;typeof s=="function"&&(e.__c=void 0,s()),xs=t}function wb(e){var t=xs;e.__c=e.__(),xs=t}function UO(e,t){return!e||e.length!==t.length||t.some(function(s,r){return s!==e[r]})}function BO(e,t){return typeof t=="function"?t(e):t}function vie(e,t){for(var s in t)e[s]=t[s];return e}function RC(e,t){for(var s in e)if(s!=="__source"&&!(s in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function FC(e,t){this.props=e,this.context=t}(FC.prototype=new Fn).isPureReactComponent=!0,FC.prototype.shouldComponentUpdate=function(e,t){return RC(this.props,e)||RC(this.state,t)};var OC=ft.__b;ft.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),OC&&OC(e)};var bie=ft.__e;ft.__e=function(e,t,s,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=s.__e,t.__k=s.__k),i.__c(e,t)}bie(e,t,s,r)};var LC=ft.unmount;function zO(e,t,s){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=vie({},e)).__c!=null&&(e.__c.__P===s&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return zO(r,t,s)})),e}function VO(e,t,s){return e&&s&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return VO(r,t,s)}),e.__c&&e.__c.__P===t&&(e.__e&&s.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=s)),e}function tv(){this.__u=0,this.o=null,this.__b=null}function qO(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function mp(){this.i=null,this.l=null}ft.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),LC&&LC(e)},(tv.prototype=new Fn).__c=function(e,t){var s=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(s);var i=qO(r.__v),a=!1,o=function(){a||(a=!0,s.__R=null,i?i(l):l())};s.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=VO(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.o.pop();)d.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},tv.prototype.componentWillUnmount=function(){this.o=[]},tv.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=zO(this.__b,s,r.__O=r.__P)}this.__b=null}var i=t.__a&&Ah(zr,null,e.fallback);return i&&(i.__u&=-33),[Ah(zr,null,t.__a?null:e.children),i]};var $C=function(e,t,s){if(++s[1]===s[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(s=e.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.i=s=s[2]}};(mp.prototype=new Fn).__a=function(e){var t=this,s=qO(t.__v),r=t.l.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),$C(t,e,r)):i()};s?s(a):a()}},mp.prototype.render=function(e){this.i=null,this.l=new Map;var t=Fr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var s=t.length;s--;)this.l.set(t[s],this.i=[1,0,this.i]);return e.children},mp.prototype.componentDidUpdate=mp.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,s){$C(e,s,t)})};var jie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nie=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Sie=/[A-Z0-9]/g,Cie=typeof document<"u",kie=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function UC(e,t,s){return t.__k==null&&(t.textContent=""),pie(e,t),typeof s=="function"&&s(),e?e.__c:null}Fn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Fn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var BC=ft.event;function _ie(){}function Tie(){return this.cancelBubble}function Pie(){return this.defaultPrevented}ft.event=function(e){return BC&&(e=BC(e)),e.persist=_ie,e.isPropagationStopped=Tie,e.isDefaultPrevented=Pie,e.nativeEvent=e};var Eie={enumerable:!1,configurable:!0,get:function(){return this.class}},zC=ft.vnode;ft.vnode=function(e){typeof e.type=="string"&&function(t){var s=t.props,r=t.type,i={},a=r.indexOf("-")===-1;for(var o in s){var l=s[o];if(!(o==="value"&&"defaultValue"in s&&l==null||Cie&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in s&&s.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||kie(s.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":Nie.test(o)&&(o=c):c=o="oninput":a&&wie.test(o)?o=o.replace(Sie,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Fr(s.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Fr(s.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),s.class&&!s.className?(i.class=s.class,Object.defineProperty(i,"className",Eie)):(s.className&&!s.class||s.class&&s.className)&&(i.class=i.className=s.className),t.props=i}(e),e.$$typeof=jie,zC&&zC(e)};var VC=ft.__r;ft.__r=function(e){VC&&VC(e),e.__c};var qC=ft.diffed;ft.diffed=function(e){qC&&qC(e);var t=e.props,s=e.__e;s!=null&&e.type==="textarea"&&"value"in t&&t.value!==s.value&&(s.value=t.value==null?"":t.value)};function Aie(e){let t=null,s;return(...r)=>(s=r,t||(t=Promise.resolve().then(()=>(t=null,e(...s)))),t)}var Bh;const wg=class wg extends SO{constructor(){super(...arguments);K(this,Bh);A(this,"isTargetDOMEl");A(this,"el");A(this,"parent");A(this,"title")}getTargetPlugin(s){let r;if(typeof(s==null?void 0:s.addTarget)=="function")r=s,r instanceof wg||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:wg}}));else if(typeof s=="function"){const i=s;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(s,r){const i=r.id,a=oie(s);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),te(this,Bh,Aie(d=>{this.uppy.getPlugin(this.id)&&(UC(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${s}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),UC(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||kO(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(s);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof s=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(s,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(s){var r;this.el!=null&&((r=_(this,Bh))==null||r.call(this,s))}unmount(){var s;this.isTargetDOMEl&&((s=this.el)==null||s.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Bh=new WeakMap;let wd=wg;const Die="@uppy/store-default",Mie="The default simple object-based store for Uppy.",Iie="4.3.2",Rie="MIT",Fie="lib/index.js",Oie="module",Lie={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},$ie=["file uploader","uppy","uppy-store"],Uie="https://uppy.io",Bie={url:"https://github.com/transloadit/uppy/issues"},zie={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Vie={type:"git",url:"git+https://github.com/transloadit/uppy.git"},qie=["src","lib","dist","CHANGELOG.md"],Hie={name:Die,description:Mie,version:Iie,license:Rie,main:Fie,type:Oie,scripts:Lie,keywords:$ie,homepage:Uie,bugs:Bie,devDependencies:zie,repository:Vie,files:qie};var Mc,Ng,WO;class HO{constructor(){K(this,Ng);A(this,"state",{});K(this,Mc,new Set)}getState(){return this.state}setState(t){const s={...this.state},r={...this.state,...t};this.state=r,ne(this,Ng,WO).call(this,s,r,t)}subscribe(t){return _(this,Mc).add(t),()=>{_(this,Mc).delete(t)}}}Mc=new WeakMap,Ng=new WeakSet,WO=function(...t){_(this,Mc).forEach(s=>{s(...t)})},A(HO,"VERSION",Hie.version);function GO(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const HC={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function KO(e){var s;if(e.type)return e.type;const t=e.name?(s=GO(e.name).extension)==null?void 0:s.toLowerCase():null;return t&&t in HC?HC[t]:"application/octet-stream"}function Wie(e){return e.charCodeAt(0).toString(32)}function WC(e){let t="";return e.replace(/[^A-Z0-9]/gi,s=>(t+=`-${Wie(s)}`,"/"))+t}function Gie(e,t){let s=t||"uppy";return typeof e.name=="string"&&(s+=`-${WC(e.name.toLowerCase())}`),e.type!==void 0&&(s+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(s+=`-${WC(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(s+=`-${e.data.size}`),e.data.lastModified!==void 0&&(s+=`-${e.data.lastModified}`),s}function Kie(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function Qie(e,t){if(Kie(e))return e.id;const s=KO(e);return Gie({...e,type:s},t)}function Yie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bN=Yie,Xie=typeof Am=="object"&&Am&&Am.Object===Object&&Am,Zie=Xie,Jie=Zie,eae=typeof self=="object"&&self&&self.Object===Object&&self,tae=Jie||eae||Function("return this")(),QO=tae,sae=QO,nae=function(){return sae.Date.now()},rae=nae,iae=/\s/;function aae(e){for(var t=e.length;t--&&iae.test(e.charAt(t)););return t}var oae=aae,lae=oae,cae=/^\s+/;function dae(e){return e&&e.slice(0,lae(e)+1).replace(cae,"")}var uae=dae,hae=QO,mae=hae.Symbol,YO=mae,GC=YO,XO=Object.prototype,pae=XO.hasOwnProperty,fae=XO.toString,iu=GC?GC.toStringTag:void 0;function gae(e){var t=pae.call(e,iu),s=e[iu];try{e[iu]=void 0;var r=!0}catch{}var i=fae.call(e);return r&&(t?e[iu]=s:delete e[iu]),i}var xae=gae,yae=Object.prototype,vae=yae.toString;function bae(e){return vae.call(e)}var jae=bae,KC=YO,wae=xae,Nae=jae,Sae="[object Null]",Cae="[object Undefined]",QC=KC?KC.toStringTag:void 0;function kae(e){return e==null?e===void 0?Cae:Sae:QC&&QC in Object(e)?wae(e):Nae(e)}var _ae=kae;function Tae(e){return e!=null&&typeof e=="object"}var Pae=Tae,Eae=_ae,Aae=Pae,Dae="[object Symbol]";function Mae(e){return typeof e=="symbol"||Aae(e)&&Eae(e)==Dae}var Iae=Mae,Rae=uae,YC=bN,Fae=Iae,XC=NaN,Oae=/^[-+]0x[0-9a-f]+$/i,Lae=/^0b[01]+$/i,$ae=/^0o[0-7]+$/i,Uae=parseInt;function Bae(e){if(typeof e=="number")return e;if(Fae(e))return XC;if(YC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Rae(e);var s=Lae.test(e);return s||$ae.test(e)?Uae(e.slice(2),s?2:8):Oae.test(e)?XC:+e}var zae=Bae,Vae=bN,sv=rae,ZC=zae,qae="Expected a function",Hae=Math.max,Wae=Math.min;function Gae(e,t,s){var r,i,a,o,l,c,d=0,h=!1,u=!1,m=!0;if(typeof e!="function")throw new TypeError(qae);t=ZC(t)||0,Vae(s)&&(h=!!s.leading,u="maxWait"in s,a=u?Hae(ZC(s.maxWait)||0,t):a,m="trailing"in s?!!s.trailing:m);function p(N){var C=r,k=i;return r=i=void 0,d=N,o=e.apply(k,C),o}function j(N){return d=N,l=setTimeout(f,t),h?p(N):o}function y(N){var C=N-c,k=N-d,T=t-C;return u?Wae(T,a-k):T}function g(N){var C=N-c,k=N-d;return c===void 0||C>=t||C<0||u&&k>=a}function f(){var N=sv();if(g(N))return b(N);l=setTimeout(f,y(N))}function b(N){return l=void 0,m&&r?p(N):(r=i=void 0,o)}function x(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function w(){return l===void 0?o:b(sv())}function S(){var N=sv(),C=g(N);if(r=arguments,i=this,c=N,C){if(l===void 0)return j(c);if(u)return clearTimeout(l),l=setTimeout(f,t),p(c)}return l===void 0&&(l=setTimeout(f,t)),o}return S.cancel=x,S.flush=w,S}var ZO=Gae;const Kae=Di(ZO);var Qae=ZO,Yae=bN,Xae="Expected a function";function Zae(e,t,s){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Xae);return Yae(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),Qae(e,t,{leading:r,maxWait:t,trailing:i})}var Jae=Zae;const eoe=Di(Jae);var toe=function(){var t={},s=t._fns={};t.emit=function(o,l,c,d,h,u,m){var p=r(o);p.length&&i(o,p,[l,c,d,h,u,m])},t.on=function(o,l){s[o]||(s[o]=[]),s[o].push(l)},t.once=function(o,l){function c(){l.apply(this,arguments),t.off(o,c)}this.on(o,c)},t.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],h=0,u=d?d.length:0;for(h;h<u;h++)d[h]!==l&&c.push(d[h])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=s[a]?s[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(s),h=0,u=d.length;for(h;h<u;h++){var m=d[h];if(m==="*"&&(o=o.concat(s[m])),c.length===2&&c[0]===m){o=o.concat(s[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return t};const soe=Di(toe);let noe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",roe=(e=21)=>{let t="",s=e|0;for(;s--;)t+=noe[Math.random()*64|0];return t};const ioe="@uppy/core",aoe="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",ooe="4.5.2",loe="MIT",coe="lib/index.js",doe="dist/style.min.css",uoe="module",hoe=["*.css"],moe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},poe=["file uploader","uppy","uppy-plugin"],foe="https://uppy.io",goe={url:"https://github.com/transloadit/uppy/issues"},xoe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},yoe=["src","lib","dist","CHANGELOG.md"],voe={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},boe={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},joe={name:ioe,description:aoe,version:ooe,license:loe,main:coe,style:doe,type:uoe,sideEffects:hoe,scripts:moe,keywords:poe,homepage:foe,bugs:goe,repository:xoe,files:yoe,dependencies:voe,devDependencies:boe};function woe(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const Noe={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Soe=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const s=t<0;let r=Math.abs(t);if(s&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Uo=Di(Soe);function JO(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}JO.prototype.match=function(e){var t=!0,s=this.parts,r,i=s.length,a;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(a=(e||"").split(this.separator),r=0;t&&r<i;r++)s[r]!=="*"&&(r<a.length?t=s[r]===a[r]:t=!1);t=t&&a}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var Coe=function(e,t,s){var r=new JO(e,s||/[\/\.]/);return typeof t<"u"?r.match(t):r},koe=Coe,_oe=/[\/\+\.]/,Toe=function(e,t){function s(r){var i=koe(r,e,_oe);return i&&i.length>=2}return t?s(t.split(";")[0]):s};const Poe=Di(Toe),Eoe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Ar extends Error{constructor(s,r){super(s);A(this,"isUserFacing");A(this,"file");A(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class Aoe{constructor(t,s){A(this,"getI18n");A(this,"getOpts");this.getI18n=s,this.getOpts=()=>{var i;const r=t();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(t,s){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(o=>!o.isGhost).length+s.length>i)throw new Ar(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...t,...s].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Ar(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Uo(r),size:Uo(a)}))}}validateSingleFile(t){const{maxFileSize:s,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?t.type?Poe(t.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&t.extension?t.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Ar(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:t})}if(s&&t.size!=null&&t.size>s)throw new Ar(this.getI18n()("exceedsSize",{size:Uo(s),file:t.name??this.getI18n()("unnamed")}),{file:t});if(r&&t.size!=null&&t.size<r)throw new Ar(this.getI18n()("inferiorSize",{size:Uo(r)}),{file:t})}validate(t,s){s.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,s)}validateMinNumberOfFiles(t){const{minNumberOfFiles:s}=this.getOpts().restrictions;if(s&&Object.keys(t).length<s)throw new Ar(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:s}))}getMissingRequiredMetaFields(t){const s=new Ar(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(t.meta,a)||t.meta[a]==="")&&i.push(a);return{missingFields:i,error:s}}}function Doe(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const pp={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Sr,Cr,zh,Ko,Ic,Rc,Qo,Qe,Mo,Sb,eL,Cb,tL,kb,_b,Tb,Pb,Sg,Eb,Yo,sL,nL,Ua,Vh,gu,rL,Zp,xu;const Cg=class Cg{constructor(t){K(this,Qe);K(this,Sr,Object.create(null));K(this,Cr);K(this,zh);K(this,Ko,soe());K(this,Ic,new Set);K(this,Rc,new Set);K(this,Qo,new Set);A(this,"defaultLocale");A(this,"locale");A(this,"opts");A(this,"store");A(this,"i18n");A(this,"i18nArray");A(this,"scheduledAutoProceed",null);A(this,"wasOffline",!1);K(this,Sg,(t,s)=>{const r=t?this.getFile(t.id):void 0;if(t==null||!r){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const i={bytesTotal:s.bytesTotal,percentage:s.bytesTotal!=null&&Number.isFinite(s.bytesTotal)&&s.bytesTotal>0?Math.round(s.bytesUploaded/s.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...r.progress,...i,bytesUploaded:s.bytesUploaded}}):this.setFileState(t.id,{progress:{...r.progress,...i}}),_(this,Yo).call(this)});K(this,Yo,eoe(()=>ne(this,Qe,Eb).call(this),500,{leading:!0,trailing:!0}));K(this,Ua,this.updateOnlineStatus.bind(this));K(this,Vh,new Map);this.defaultLocale=Noe;const s={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Eoe,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new HO,logger:iie,infoTimeout:5e3},r={...s,...t};this.opts={...r,restrictions:{...s.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=aie),this.log(`Using Core v${Cg.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...pp,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Doe(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),te(this,Cr,new Aoe(()=>this.opts,()=>this.i18n)),te(this,zh,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ne(this,Qe,nL).call(this)}emit(t,...s){_(this,Ko).emit(t,...s)}on(t,s){return _(this,Ko).on(t,s),this}once(t,s){return _(this,Ko).once(t,s),this}off(t,s){return _(this,Ko).off(t,s),this}updateAll(t){this.iteratePlugins(s=>{s.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const s=this.getState().files;this.setState({files:{...s,...Object.fromEntries(Object.entries(t).map(([r,i])=>[r,{...s[r],...i}]))}})}setFileState(t,s){if(!this.getState().files[t])throw new Error(`Can’t set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:s})}i18nInit(){const t=r=>this.log(`Missing i18n string: ${r}`,"error"),s=new NO([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=s.translate.bind(s),this.i18nArray=s.translateArray.bind(s),this.locale=s.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(s=>{s.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},r=Object.create(null);Object.keys(s).forEach(i=>{r[i]={...s[i],progress:{...s[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...pp})}clear(){const{capabilities:t,currentUploads:s}=this.getState();if(Object.keys(s).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...pp,files:{}})}addPreProcessor(t){_(this,Ic).add(t)}removePreProcessor(t){return _(this,Ic).delete(t)}addPostProcessor(t){_(this,Qo).add(t)}removePostProcessor(t){return _(this,Qo).delete(t)}addUploader(t){_(this,Rc).add(t)}removeUploader(t){return _(this,Rc).delete(t)}setMeta(t){const s={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:s,files:r})}setFileMeta(t,s){const r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const i={...r[t].meta,...s};r[t]={...r[t],meta:i},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(s=>this.getFile(s))}getObjectOfFilesPerState(){const{files:t,totalProgress:s,error:r}=this.getState(),i=Object.values(t),a=[],o=[],l=[],c=[],d=[],h=[],u=[],m=[],p=[];for(const j of i){const{progress:y}=j;!y.uploadComplete&&y.uploadStarted&&(a.push(j),j.isPaused||m.push(j)),y.uploadStarted||o.push(j),(y.uploadStarted||y.preprocess||y.postprocess)&&l.push(j),y.uploadStarted&&c.push(j),j.isPaused&&d.push(j),y.uploadComplete&&h.push(j),j.error&&u.push(j),(y.preprocess||y.postprocess)&&p.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:h,erroredFiles:u,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:p,isUploadStarted:c.length>0,isAllComplete:s===100&&h.length===i.length&&p.length===0,isAllErrored:!!r&&u.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(j=>j.isGhost)}}validateRestrictions(t,s=this.getFiles()){try{_(this,Cr).validate(s,[t])}catch(r){return r}return null}validateSingleFile(t){try{_(this,Cr).validateSingleFile(t)}catch(s){return s.message}return null}validateAggregateRestrictions(t){const s=this.getFiles();try{_(this,Cr).validateAggregateRestrictions(s,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){const{files:s}=this.getState();return!!(s[t]&&!s[t].isGhost)}addFile(t){ne(this,Qe,Cb).call(this,t);const{nextFilesState:s,validFilesToAdd:r,errors:i}=ne(this,Qe,_b).call(this,[t]),a=i.filter(l=>l.isRestriction);if(ne(this,Qe,Mo).call(this,a),i.length>0)throw i[0];this.setState({files:s});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),ne(this,Qe,kb).call(this),o.id}addFiles(t){ne(this,Qe,Cb).call(this);const{nextFilesState:s,validFilesToAdd:r,errors:i}=ne(this,Qe,_b).call(this,t),a=i.filter(l=>l.isRestriction);ne(this,Qe,Mo).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:s}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&ne(this,Qe,kb).call(this)}removeFiles(t){const{files:s,currentUploads:r}=this.getState(),i={...s},a={...r},o=Object.create(null);t.forEach(h=>{s[h]&&(o[h]=s[h],delete i[h])});function l(h){return o[h]===void 0}Object.keys(a).forEach(h=>{const u=r[h].fileIDs.filter(l);if(u.length===0){delete a[h];return}const{capabilities:m}=this.getState();if(u.length!==r[h].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[h]={...r[h],fileIDs:u}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),_(this,Yo).call(this);const d=Object.keys(o);d.forEach(h=>{this.emit("file-removed",o[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const s=this.getFile(t),i=!(s.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",s,i),i}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!0};t[r]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!1,error:null};t[r]=i}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await ne(this,Qe,Pb).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),s=Object.keys(t);s.length&&this.removeFiles(s),this.setState(pp)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const s=ne(this,Qe,gu).call(this,[t],{forceAllowNewUpload:!0});return ne(this,Qe,xu).call(this,s)}logout(){this.iteratePlugins(t=>{var s,r;(r=(s=t.provider)==null?void 0:s.logout)==null||r.call(s)})}[Symbol.for("uppy test: updateTotalProgress")](){return ne(this,Qe,Eb).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...s){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new t(this,...s),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),r.type in _(this,Sr)?_(this,Sr)[r.type].push(r):_(this,Sr)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(t){for(const s of Object.values(_(this,Sr))){const r=s.find(i=>i.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return _(this,Sr)[t]}iteratePlugins(t){Object.values(_(this,Sr)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const s=_(this,Sr)[t.type],r=s.findIndex(o=>o.id===t.id);r!==-1&&s.splice(r,1);const a={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),_(this,zh).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_(this,Ua)),window.removeEventListener("offline",_(this,Ua)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,s="info",r=3e3){const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:s,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,s){const{logger:r}=this.opts;switch(s){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,s){_(this,Vh).set(t,s)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const s=_(this,Vh).get(t.remote.requestClientId);if(s==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return s}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?ne(this,Qe,xu).call(this,t):(ne(this,Qe,Zp).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return ne(this,Qe,gu).call(this,...t)}addResultData(t,s){if(!ne(this,Qe,rL).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:r}=this.getState(),i={...r[t],result:{...r[t].result,...s}};this.setState({currentUploads:{...r,[t]:i}})}async upload(){var i;(i=_(this,Sr).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(ne(this,Qe,Tb).call(this).length>0){const a=await ne(this,Qe,Pb).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:t}=this.getState())}const r=this.opts.onBeforeUpload(t);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>_(this,Cr).validateMinNumberOfFiles(t)).catch(a=>{throw ne(this,Qe,Mo).call(this,[a]),a}).then(()=>{if(!ne(this,Qe,eL).call(this,t))throw new Ar(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(h=>h.fileIDs),l=[];Object.keys(t).forEach(h=>{const u=this.getFile(h);!u.progress.uploadStarted&&o.indexOf(h)===-1&&l.push(u.id)});const c=ne(this,Qe,gu).call(this,l),d=await ne(this,Qe,xu).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};Sr=new WeakMap,Cr=new WeakMap,zh=new WeakMap,Ko=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,Qo=new WeakMap,Qe=new WeakSet,Mo=function(t){for(const o of t)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const s=t.filter(o=>o.isUserFacing),r=4,i=s.slice(0,r),a=s.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Sb=function(t){const{missingFields:s,error:r}=_(this,Cr).getMissingRequiredMetaFields(t);return s.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:s}),this.log(r.message),this.emit("restriction-failed",t,r),!1):(s.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},eL=function(t){let s=!0;for(const r of Object.values(t))ne(this,Qe,Sb).call(this,r)||(s=!1);return s},Cb=function(t){const{allowNewUpload:s}=this.getState();if(s===!1){const r=new Ar(this.i18n("noMoreFilesAllowed"),{file:t});throw ne(this,Qe,Mo).call(this,[r]),r}},tL=function(t){const s=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=KO(s),i=woe(r,s),a=GO(i).extension,o=Qie(s,this.getID()),l=s.meta||{};l.name=i,l.type=r;const c=Number.isFinite(s.data.size)?s.data.size:null;return{source:s.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,data:s.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:s.isRemote||!1,remote:s.remote,preview:s.preview}},kb=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},_b=function(t){var o;let{files:s}=this.getState(),r={...s};const i=[],a=[];for(const l of t)try{let c=ne(this,Qe,tL).call(this,l);const d=(o=s[c.id])==null?void 0:o.isGhost;d&&(c={...s[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const h=this.opts.onBeforeFileAdded(c,r);if(s=this.getState().files,r={...s,...r},!h&&this.checkIfFileAlreadyExists(c.id))throw new Ar(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!d)throw new Ar("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(c=h),_(this,Cr).validateSingleFile(c),r[c.id]=c,i.push(c)}catch(c){a.push(c)}try{_(this,Cr).validateAggregateRestrictions(Object.values(s),i)}catch(l){return a.push(l),{nextFilesState:s,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Tb=function(){const{files:t}=this.getState();return Object.keys(t).filter(s=>t[s].error)},Pb=async function(){const t=ne(this,Qe,Tb).call(this),s={...this.getState().files};if(t.forEach(i=>{s[i]={...s[i],isPaused:!1,error:null}}),this.setState({files:s,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const r=ne(this,Qe,gu).call(this,t,{forceAllowNewUpload:!0});return ne(this,Qe,xu).call(this,r)},Sg=new WeakMap,Eb=function(){const t=ne(this,Qe,sL).call(this);let s=null;t!=null&&(s=Math.round(t*100),s>100?s=100:s<0&&(s=0)),this.emit("progress",s??0),this.setState({totalProgress:s??0})},Yo=new WeakMap,sL=function(){const s=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(s.length===0)return 0;if(s.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=s.filter(r),a=s.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},nL=function(){const t=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",t),this.on("upload-error",(i,a,o)=>{if(t(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),ne(this,Qe,Mo).call(this,[l])}else ne(this,Qe,Mo).call(this,[a])});let s=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");s||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),s=setTimeout(()=>{s=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",_(this,Sg)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...o,postprocess:_(this,Qo).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),_(this,Yo).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{_(this,Yo).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ne(this,Qe,Sb).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_(this,Ua)),window.addEventListener("offline",_(this,Ua)),setTimeout(_(this,Ua),3e3))},Ua=new WeakMap,Vh=new WeakMap,gu=function(t,s={}){const{forceAllowNewUpload:r=!1}=s,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=roe();return this.emit("upload",o,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:t,step:0,result:{}}}}),o},rL=function(t){const{currentUploads:s}=this.getState();return s[t]},Zp=function(t){const s={...this.getState().currentUploads};delete s[t],this.setState({currentUploads:s})},xu=async function(t){const s=()=>{const{currentUploads:o}=this.getState();return o[t]};let r=s();const i=[..._(this,Ic),..._(this,Rc),..._(this,Qo)];try{for(let o=r.step||0;o<i.length&&r;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:o}}});const{fileIDs:c}=r;await l(c,t),r=s()}}catch(o){throw ne(this,Qe,Zp).call(this,t),o}if(r){r.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),r=s()}let a;return r&&(a=r.result,ne(this,Qe,Zp).call(this,t)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),a={successful:[],failed:[],uploadID:t}),a},A(Cg,"VERSION",joe.version);let Nb=Cg;var Moe=0;function I(e,t,s,r,i,a){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var d={type:e,props:c,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Moe,__i:-1,__u:0,__source:i,__self:a};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return ft.vnode&&ft.vnode(d),d}const Ioe="@uppy/informer",Roe="A notification and error pop-up bar for Uppy.",Foe="4.3.2",Ooe="MIT",Loe="lib/index.js",$oe="dist/style.min.css",Uoe="module",Boe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},zoe=["file uploader","uppy","uppy-plugin","notification","bar","ui"],Voe="https://uppy.io",qoe={url:"https://github.com/transloadit/uppy/issues"},Hoe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Woe=["src","lib","dist","CHANGELOG.md"],Goe={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},Koe={"@uppy/core":"^4.5.2"},Qoe={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Yoe={name:Ioe,description:Roe,version:Foe,license:Ooe,main:Loe,style:$oe,type:Uoe,scripts:Boe,keywords:zoe,homepage:Voe,bugs:qoe,repository:Hoe,files:Woe,dependencies:Goe,peerDependencies:Koe,devDependencies:Qoe},JC=300;class Xoe extends Fn{constructor(){super(...arguments);A(this,"ref",cie())}componentWillEnter(s){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(s,JC)}componentWillLeave(s){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(s,JC)}render(){const{children:s}=this.props;return I("div",{className:"uppy-Informer-animated",ref:this.ref,children:s})}}function Zoe(e,t){return Object.assign(e,t)}function Joe(e,t){return(e==null?void 0:e.key)??t}function ele(e,t){const s=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return s[t]||(s[t]=r=>{e.refs[t]=r})}function au(e){const t={};for(let s=0;s<e.length;s++)if(e[s]!=null){const r=Joe(e[s],s.toString(36));t[r]=e[s]}return t}function tle(e,t){e=e||{},t=t||{};const s=o=>Object.hasOwn(t,o)?t[o]:e[o],r={};let i=[];for(const o in e)Object.hasOwn(t,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in t){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=s(c)}a[o]=s(o)}for(let o=0;o<i.length;o++)a[i[o]]=s(i[o]);return a}const sle=e=>e;class iL extends Fn{constructor(t,s){super(t,s),this.refs={},this.state={children:au(Fr(Fr(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const s in t)t[s]&&this.performAppear(s)}componentWillReceiveProps(t){const s=au(Fr(t.children)||[]),r=this.state.children;this.setState(a=>({children:tle(a.children,s)}));let i;for(i in s)if(Object.hasOwn(s,i)){const a=r&&Object.hasOwn(r,i);s[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):s[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=s&&Object.hasOwn(s,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:s}=this;this.keysToLeave=[],s.forEach(this.performLeave)}_finishAbort(t){const s=this.keysToAbortLeave.indexOf(t);s!==-1&&this.keysToAbortLeave.splice(s,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillAppear?s.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const s=this.refs[t];s!=null&&s.componentDidAppear&&s.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=au(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillEnter?s.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const s=this.refs[t];s!=null&&s.componentDidEnter&&s.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=au(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const r=this.refs[t];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const i=au(Fr(this.props.children)||[]);if(i&&Object.hasOwn(i,t))this.performEnter(t);else{const a=Zoe({},this.state.children);delete a[t],this.setState({children:a})}}render({childFactory:t,transitionLeave:s,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...h},{children:u}){const m=Object.entries(u).map(([p,j])=>{if(!j)return;const y=ele(this,p);return LO(t(j),{ref:y,key:p})}).filter(Boolean);return Ah(d,h,m)}}iL.defaultProps={component:"span",childFactory:sle};class aL extends wd{constructor(s,r){super(s,r);A(this,"render",s=>I("div",{className:"uppy uppy-Informer",children:I(iL,{children:s.info.map(r=>I(Xoe,{children:I("p",{role:"alert",children:[r.message," ",r.details&&I("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:s}=this.opts;s&&this.mount(s,this)}}A(aL,"VERSION",Yoe.version);var oL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(oL);var nle=oL.exports;const Xr=Di(nle),rle={position:"relative",width:"100%",minHeight:"100%"},ile={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class ale extends Fn{constructor(s){super(s);A(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});A(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var s;(s=this.focusElement)!=null&&s.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:s}=this.state;s!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:s,rowHeight:r,renderRow:i,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/r),h=Math.floor(c/r);a&&(d=Math.max(0,d-d%a),h+=a);const u=d+h+4,m=s.slice(d,u),p={...rle,height:s.length*r},j={...ile,top:d*r};return I("div",{onScroll:this.handleScroll,...o,children:I("div",{role:"presentation",style:p,children:I("div",{role:"presentation",style:j,children:m.map(i)})})})}}function ole(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:I("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function ek(e,t,s,r){return e===t?e:r===0?t:e+(t-e)*2**(-r/s)}const lle="@uppy/status-bar",cle="A progress bar for Uppy, with many bells and whistles.",dle="4.2.3",ule="MIT",hle="lib/index.js",mle="dist/style.min.css",ple="module",fle={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},gle=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],xle="https://uppy.io",yle={url:"https://github.com/transloadit/uppy/issues"},vle={type:"git",url:"git+https://github.com/transloadit/uppy.git"},ble=["src","lib","dist","CHANGELOG.md"],jle={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},wle={"@uppy/core":"^4.5.2"},Nle={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Sle={name:lle,description:cle,version:dle,license:ule,main:hle,style:mle,type:ple,scripts:fle,keywords:gle,homepage:xle,bugs:yle,repository:vle,files:ble,dependencies:jle,peerDependencies:wle,devDependencies:Nle},Cle={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ii={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function kle(e){const t=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:s,seconds:r}}function _le(e){const t=kle(e),s=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${s}${r}${i}`}const Tle="·",tk=()=>` ${Tle} `;function Ple(e){const{newFiles:t,isUploadStarted:s,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=e,c=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ii.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=t&&s&&!r?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return I("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function Ele(e){const{i18n:t,uppy:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>s.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:I("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function Ale(e){const{i18n:t,uppy:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>s.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Dle(e){const{isAllPaused:t,i18n:s,isAllComplete:r,resumableUploads:i,uppy:a}=e,o=s(t?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(t){a.resumeAll();return}a.pauseAll()}}return I("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Mle(e){const{i18n:t,doneButtonHandler:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:s,"data-uppy-super-focusable":!0,children:t("done")})}function lL(){return I("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:I("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Ile(e){const{progress:t}=e,{value:s,mode:r,message:i}=t;return I("div",{className:"uppy-StatusBar-content",children:[I(lL,{}),r==="determinate"?`${Math.round(s*100)}% · `:"",i]})}function Rle(e){const{numUploads:t,complete:s,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=e,l=t>1,c=Uo(r);return I("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:s,smart_count:t}),I("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&tk(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Uo(i)}):o("dataUploadedOfUnknown",{complete:c}),tk(),a!=null&&o("xTimeLeft",{time:_le(a)})]})]})}function cL(e){const{i18n:t,complete:s,numUploads:r}=e;return I("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:s,smart_count:r})})}function Fle(e){const{i18n:t,newFiles:s,startUpload:r}=e,i=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return I("div",{className:"uppy-StatusBar-statusSecondary",children:[I("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:s})}),I("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:s}),onClick:r,children:t("upload")})]})}function Ole(e){const{i18n:t,supportsUploadProgress:s,totalProgress:r,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:p,startUpload:j}=e,y=c&&a;if(!a||o)return null;const g=t(l?"paused":"uploading");function f(){return!l&&!y&&i?s?I(Rle,{numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:p,i18n:t}):I(cL,{i18n:t,complete:h,numUploads:d}):null}return I("div",{className:"uppy-StatusBar-content",title:g,children:[l?null:I(lL,{}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:s&&r!==0?`${g}: ${r}%`:g}),f(),y?I(Fle,{i18n:t,newFiles:c,startUpload:j}):null]})]})}function Lle(e){const{i18n:t}=e;return I("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:I("div",{className:"uppy-StatusBar-status",children:I("div",{className:"uppy-StatusBar-statusPrimary",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:I("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function $le(e){const{error:t,i18n:s,complete:r,numUploads:i}=e;function a(){const o=`${s("uploadFailed")} 

 ${t}`;alert(o)}return I("div",{className:"uppy-StatusBar-content",title:s("uploadFailed"),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:[s("uploadFailed"),I("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":s("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),I(cL,{i18n:s,complete:r,numUploads:i})]})]})}function nv(e){const t=[];let s="indeterminate",r;for(const{progress:a}of Object.values(e)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:s,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const i=t.reduce((a,o)=>a+o/t.length,0);return{mode:s,message:r,value:i}}const{STATE_ERROR:sk,STATE_WAITING:Ule,STATE_PREPROCESSING:rv,STATE_UPLOADING:fp,STATE_POSTPROCESSING:iv,STATE_COMPLETE:gp}=ii;function Ble({newFiles:e,allowNewUpload:t,isUploadInProgress:s,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:u,totalProgress:m,files:p,supportsUploadProgress:j,hideAfterFinish:y=!1,isSomeGhost:g,doneButtonHandler:f=void 0,isUploadStarted:b,i18n:x,startUpload:w,uppy:S,isAllComplete:N,showProgressDetails:C=void 0,numUploads:k,complete:T,totalSize:D,totalETA:P,totalUploadedSize:M}){function X(){switch(u){case iv:case rv:{const yt=nv(p);return yt.mode==="determinate"?yt.value*100:m}case sk:return null;case fp:return j?m:null;default:return m}}function ee(){switch(u){case iv:case rv:{const{mode:yt}=nv(p);return yt==="indeterminate"}case fp:return!j;default:return!1}}const F=X(),re=F??100,fe=!a&&e&&(!s&&!r||h)&&t&&!o,V=!c&&u!==Ule&&u!==gp,L=i&&!l&&u===fp,oe=a&&!N&&!d,be=f&&u===gp,st=Xr("uppy-StatusBar-progress",{"is-indeterminate":ee()}),_t=Xr("uppy-StatusBar",`is-${u}`,{"has-ghosts":g}),Ft=(()=>{switch(u){case rv:case iv:return I(Ile,{progress:nv(p)});case gp:return I(Lle,{i18n:x});case sk:return I($le,{error:a,i18n:x,numUploads:k,complete:T});case fp:return I(Ole,{i18n:x,supportsUploadProgress:j,totalProgress:m,showProgressDetails:C,isUploadStarted:b,isAllComplete:N,isAllPaused:r,newFiles:e,numUploads:k,complete:T,totalUploadedSize:M,totalSize:D,totalETA:P,startUpload:w});default:return null}})();return!(fe||oe||L||V||be)&&!Ft||u===gp&&y?null:I("div",{className:_t,children:[I("div",{className:st,style:{width:`${re}%`},role:"progressbar","aria-label":`${re}%`,"aria-valuetext":`${re}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":F}),Ft,I("div",{className:"uppy-StatusBar-actions",children:[fe?I(Ple,{newFiles:e,isUploadStarted:b,recoveredState:h,i18n:x,isSomeGhost:g,startUpload:w,uploadState:u}):null,oe?I(Ele,{i18n:x,uppy:S}):null,L?I(Dle,{isAllPaused:r,i18n:x,isAllComplete:N,resumableUploads:i,uppy:S}):null,V?I(Ale,{i18n:x,uppy:S}):null,be?I(Mle,{i18n:x,doneButtonHandler:f}):null]})]})}const zle=2e3,Vle=2e3;function qle(e,t,s,r){if(e)return ii.STATE_ERROR;if(t)return ii.STATE_COMPLETE;if(s)return ii.STATE_WAITING;let i=ii.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ii.STATE_UPLOADING;l.preprocess&&(i=ii.STATE_PREPROCESSING),l.postprocess&&i!==ii.STATE_PREPROCESSING&&(i=ii.STATE_POSTPROCESSING)}return i}const Hle={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var pv,Ba,za,Xo,Hi,kg,dL,qh;let Wle=(pv=class extends wd{constructor(s,r){super(s,{...Hle,...r});K(this,kg);K(this,Ba);K(this,za);K(this,Xo);K(this,Hi);A(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));K(this,qh,()=>{const{recoveredState:s}=this.uppy.getState();if(te(this,Xo,null),te(this,Hi,null),s){te(this,za,Object.values(s.files).reduce((r,{progress:i})=>r+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}te(this,Ba,performance.now()),te(this,za,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Cle,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(s){const{capabilities:r,files:i,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=s,{newFiles:d,startedFiles:h,completeFiles:u,isUploadStarted:m,isAllComplete:p,isAllPaused:j,isUploadInProgress:y,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),f=c?Object.values(i):d,b=!!r.resumableUploads,x=r.uploadProgress!==!1;let w=null,S=0;h.every(C=>C.progress.bytesTotal!=null&&C.progress.bytesTotal!==0)?(w=0,h.forEach(C=>{w+=C.progress.bytesTotal||0,S+=C.progress.bytesUploaded||0})):h.forEach(C=>{S+=C.progress.bytesUploaded||0});const N=ne(this,kg,dL).call(this,{uploaded:S,total:w});return Ble({error:l,uploadState:qle(l,p,c,s.files||{}),allowNewUpload:a,totalProgress:o,totalSize:w,totalUploadedSize:S,isAllComplete:!1,isAllPaused:j,isUploadStarted:m,isUploadInProgress:y,isSomeGhost:g,recoveredState:c,complete:u.length,newFiles:f.length,numUploads:h.length,totalETA:N,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:b,supportsUploadProgress:x,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const s=this.el;kO(s)||(s.dir="ltr")}install(){const{target:s}=this.opts;s&&this.mount(s,this),this.uppy.on("upload",_(this,qh)),te(this,Ba,performance.now()),te(this,za,this.uppy.getFiles().reduce((r,i)=>r+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",_(this,qh))}},Ba=new WeakMap,za=new WeakMap,Xo=new WeakMap,Hi=new WeakMap,kg=new WeakSet,dL=function(s){if(s.total==null||s.total===0)return null;const r=s.total-s.uploaded;if(r<=0)return null;_(this,Ba)??te(this,Ba,performance.now());const i=performance.now()-_(this,Ba);if(i===0)return Math.round((_(this,Hi)??0)/100)/10;const a=s.uploaded-_(this,za);if(te(this,za,s.uploaded),a<=0)return Math.round((_(this,Hi)??0)/100)/10;const o=a/i,l=_(this,Xo)==null?o:ek(o,_(this,Xo),zle,i);te(this,Xo,l);const c=r/l,d=Math.max(_(this,Hi)-i,0),h=_(this,Hi)==null?c:ek(c,d,Vle,i);return te(this,Hi,h),te(this,Ba,performance.now()),Math.round(h/100)/10},qh=new WeakMap,A(pv,"VERSION",Sle.version),pv);const Gle=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Kle(e,t,s){const r=Gle.exec(e),i=t.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}function nk(e){return e.startsWith("blob:")}function rk(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function Dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var uL=typeof self<"u"?self:global;const Ih=typeof navigator<"u",Qle=Ih&&typeof HTMLImageElement>"u",ik=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),hL=uL.Buffer,mL=!!hL,Yle=e=>e!==void 0;function pL(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(Yle).length===0)}function zs(e){let t=new Error(e);throw delete t.stack,t}function ak(e){let t=function(s){let r=0;return s.ifd0.enabled&&(r+=1024),s.exif.enabled&&(r+=2048),s.makerNote&&(r+=2048),s.userComment&&(r+=1024),s.gps.enabled&&(r+=512),s.interop.enabled&&(r+=100),s.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const av=e=>String.fromCharCode.apply(null,e),ok=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class $r{static from(t,s){return t instanceof this&&t.le===s?t:new $r(t,void 0,void 0,s)}constructor(t,s=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-s);let a=new DataView(t,s,r);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof $r){r===void 0&&(r=t.byteLength-s),(s+=t.byteOffset)+r>t.byteOffset+t.byteLength&&zs("Creating view outside of available memory in ArrayBuffer");let a=new DataView(t.buffer,s,r);this._swapDataView(a)}else if(typeof t=="number"){let a=new DataView(new ArrayBuffer(t));this._swapDataView(a)}else zs("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,s,r=$r){return t instanceof DataView||t instanceof $r?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||zs("BufferView.set(): Invalid data argument."),this.toUint8().set(t,s),new r(this,s,t.byteLength)}subarray(t,s){return s=s||this._lengthToEnd(t),new $r(this,t,s)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,s){return new Uint8Array(this.buffer,this.byteOffset+t,s)}getString(t=0,s=this.byteLength){return i=this.getUint8Array(t,s),ok?ok.decode(i):mL?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(av(i)));var i}getLatin1String(t=0,s=this.byteLength){let r=this.getUint8Array(t,s);return av(r)}getUnicodeString(t=0,s=this.byteLength){const r=[];for(let i=0;i<s&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return av(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,s=this.le){return this.dataView.getInt16(t,s)}getInt32(t,s=this.le){return this.dataView.getInt32(t,s)}getUint16(t,s=this.le){return this.dataView.getUint16(t,s)}getUint32(t,s=this.le){return this.dataView.getUint32(t,s)}getFloat32(t,s=this.le){return this.dataView.getFloat32(t,s)}getFloat64(t,s=this.le){return this.dataView.getFloat64(t,s)}getFloat(t,s=this.le){return this.dataView.getFloat32(t,s)}getDouble(t,s=this.le){return this.dataView.getFloat64(t,s)}getUintBytes(t,s,r){switch(s){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,s,r){switch(s){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function Ab(e,t){zs(`${e} '${t}' was not loaded, try using full build of exifr.`)}class jN extends Map{constructor(t){super(),this.kind=t}get(t,s){return this.has(t)||Ab(this.kind,t),s&&(t in s||function(r,i){zs(`Unknown ${r} '${i}'.`)}(this.kind,t),s[t].enabled||Ab(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var fL=new jN("file parser"),Dr=new jN("segment parser"),wN=new jN("file reader");let Xle=uL.fetch;function lk(e,t){return(s=e).startsWith("data:")||s.length>1e4?Mb(e,t,"base64"):ik&&e.includes("://")?Db(e,t,"url",ck):ik?Mb(e,t,"fs"):Ih?Db(e,t,"url",ck):void zs("Invalid input argument");var s}async function Db(e,t,s,r){return wN.has(s)?Mb(e,t,s):r?async function(i,a){let o=await a(i);return new $r(o)}(e,r):void zs(`Parser ${s} is not loaded`)}async function Mb(e,t,s){let r=new(wN.get(s))(e,t);return await r.read(),r}const ck=e=>Xle(e).then(t=>t.arrayBuffer()),Ib=e=>new Promise((t,s)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=s,r.readAsArrayBuffer(e)}),NN=new Map,Zle=new Map,Jle=new Map,xp=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],gL=["jfif","xmp","icc","iptc","ihdr"],Rb=["tiff",...gL],Rs=["ifd0","ifd1","exif","gps","interop"],yp=[...Rb,...Rs],vp=["makerNote","userComment"],xL=["translateKeys","translateValues","reviveValues","multiSegment"],bp=[...xL,"sanitize","mergeOutput","silentErrors"];class yL{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ou extends yL{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,r,i){if(super(),Dt(this,"enabled",!1),Dt(this,"skip",new Set),Dt(this,"pick",new Set),Dt(this,"deps",new Set),Dt(this,"translateKeys",!1),Dt(this,"translateValues",!1),Dt(this,"reviveValues",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Rs.includes(t),this.canBeFiltered&&(this.dict=NN.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:zs(`Invalid options argument: ${r}`)}applyInheritables(t){let s,r;for(s of xL)r=t[s],r!==void 0&&(this[s]=r)}translateTagSet(t,s){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of t)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&s.add(Number(a[i]))):s.add(r)}else for(let r of t)s.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,bg(this.pick,this.deps)):this.enabled&&this.pick.size>0&&bg(this.pick,this.deps)}}var mn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},dk=new Map;class SN extends yL{static useCached(t){let s=dk.get(t);return s!==void 0||(s=new this(t),dk.set(t,s)),s}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):zs(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Ih?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of xp)this[t]=mn[t];for(t of bp)this[t]=mn[t];for(t of vp)this[t]=mn[t];for(t of yp)this[t]=new ou(t,mn[t],void 0,this)}setupFromTrue(){let t;for(t of xp)this[t]=mn[t];for(t of bp)this[t]=mn[t];for(t of vp)this[t]=!0;for(t of yp)this[t]=new ou(t,!0,void 0,this)}setupFromArray(t){let s;for(s of xp)this[s]=mn[s];for(s of bp)this[s]=mn[s];for(s of vp)this[s]=mn[s];for(s of yp)this[s]=new ou(s,!1,void 0,this);this.setupGlobalFilters(t,void 0,Rs)}setupFromObject(t){let s;for(s of(Rs.ifd0=Rs.ifd0||Rs.image,Rs.ifd1=Rs.ifd1||Rs.thumbnail,Object.assign(this,t),xp))this[s]=ov(t[s],mn[s]);for(s of bp)this[s]=ov(t[s],mn[s]);for(s of vp)this[s]=ov(t[s],mn[s]);for(s of Rb)this[s]=new ou(s,mn[s],t[s],this);for(s of Rs)this[s]=new ou(s,mn[s],t[s],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Rs,yp),t.tiff===!0?this.batchEnableWithBool(Rs,!0):t.tiff===!1?this.batchEnableWithUserValue(Rs,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Rs):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Rs)}batchEnableWithBool(t,s){for(let r of t)this[r].enabled=s}batchEnableWithUserValue(t,s){for(let r of t){let i=s[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,s,r,i=r){if(t&&t.length){for(let o of i)this[o].enabled=!1;let a=uk(t,r);for(let[o,l]of a)bg(this[o].pick,l),this[o].enabled=!0}else if(s&&s.length){let a=uk(s,r);for(let[o,l]of a)bg(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:s,xmp:r,iptc:i,icc:a}=this;this.makerNote?s.deps.add(37500):s.skip.add(37500),this.userComment?s.deps.add(37510):s.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),a.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:s,gps:r,interop:i}=this;i.needed&&(s.deps.add(40965),t.deps.add(40965)),s.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Rs.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Rs)this[a].finalizeFilters()}get onlyTiff(){return!gL.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Rb)this[t].enabled&&!Dr.has(t)&&Ab("segment parser",t)}}function uk(e,t){let s,r,i,a,o=[];for(i of t){for(a of(s=NN.get(i),r=[],s))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function ov(e,t){return e!==void 0?e:t!==void 0?t:void 0}function bg(e,t){for(let s of t)e.add(s)}Dt(SN,"default",mn);class ece{constructor(t){Dt(this,"parsers",{}),Dt(this,"output",{}),Dt(this,"errors",[]),Dt(this,"pushToErrors",s=>this.errors.push(s)),this.options=SN.useCached(t)}async read(t){this.file=await function(s,r){return typeof s=="string"?lk(s,r):Ih&&!Qle&&s instanceof HTMLImageElement?lk(s.src,r):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new $r(s):Ih&&s instanceof Blob?Db(s,r,"blob",Ib):void zs("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,s=t.getUint16(0);for(let[r,i]of fL)if(i.canHandle(t,s))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),zs("Unknown file format")}async parse(){let{output:t,errors:s}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),s.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&s.length>0&&(t.errors=s),pL(r=t)?void 0:r;var r}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let s=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(t,i)});this.options.silentErrors&&(s=s.map(r=>r.catch(this.pushToErrors))),await Promise.all(s)}async extractThumbnail(){this.setup();let{options:t,file:s}=this,r=Dr.get("tiff",t);var i;if(s.tiff?i={start:0,type:"tiff"}:s.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,t,s),l=await o.extractThumbnail();return s.close&&s.close(),l}}class ec{static findPosition(t,s){let r=t.getUint16(s+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,s,r):this.headerLength,a=s+i,o=r-i;return{offset:s,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(t,s={}){return new this(t,new SN({[this.type]:s}),t).parse()}normalizeInput(t){return t instanceof $r?t:new $r(t)}constructor(t,s={},r){Dt(this,"errors",[]),Dt(this,"raw",new Map),Dt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,s){let r=Jle.get(s),i=Zle.get(s),a=NN.get(s),o=this.options[s],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,h={};for(let[u,m]of t)l&&r.has(u)?m=r.get(u)(m):c&&i.has(u)&&(m=this.translateValue(m,i.get(u))),d&&a.has(u)&&(u=a.get(u)||u),h[u]=m;return h}translateValue(t,s){return s[t]||s.DEFAULT||t}assignToOutput(t,s){this.assignObjectToOutput(t,this.constructor.type,s)}assignObjectToOutput(t,s,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[s]?Object.assign(t[s],r):t[s]=r}}Dt(ec,"headerLength",4),Dt(ec,"type",void 0),Dt(ec,"multiSegment",!1),Dt(ec,"canHandle",()=>!1);function tce(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function sce(e){return e>=224&&e<=239}function nce(e,t,s){for(let[r,i]of Dr)if(i.canHandle(e,t,s))return r}class hk extends class{constructor(t,s,r){Dt(this,"errors",[]),Dt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){zs(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):zs("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=r}injectSegment(t,s){this.options[t].enabled&&this.createParser(t,s)}createParser(t,s){let r=new(Dr.get(t))(s,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let s of t){let{type:r,chunk:i}=s,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(t){let s=t.map(this.ensureSegmentChunk);await Promise.all(s)}}{constructor(...t){super(...t),Dt(this,"appSegments",[]),Dt(this,"jpegSegments",[]),Dt(this,"unknownSegments",[])}static canHandle(t,s){return s===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Dr.keyList())):(t=t===void 0?Dr.keyList().filter(s=>this.options[s].enabled):t.filter(s=>this.options[s].enabled&&Dr.has(s)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,s){this.setupSegmentFinderArgs(s);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Dr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(l=t>c&&!d?!await r.readNextChunk(t):!await r.readNextChunk(c),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,s){s-=2;let r,i,a,o,l,c,{file:d,findAll:h,wanted:u,remaining:m,options:p}=this;for(;t<s;t++)if(d.getUint8(t)===255){if(r=d.getUint8(t+1),sce(r)){if(i=d.getUint16(t+2),a=nce(d,t,i),a&&u.has(a)&&(o=Dr.get(a),l=o.findPosition(d,t),c=p[a],l.type=a,this.appSegments.push(l),!h&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;p.recordUnknownSegments&&(l=ec.findPosition(d,t),l.marker=r,this.unknownSegments.push(l)),t+=i+1}else if(tce(r)){if(i=d.getUint16(t+2),r===218&&p.stopAfterSos!==!1)return;p.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(s=>s.multiSegment))return;let t=function(s,r){let i,a,o,l=new Map;for(let c=0;c<s.length;c++)i=s[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([s,r])=>{let i=Dr.get(s,this.options);return i.handleMultiSegments?{type:s,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(s=>s.type===t)}async getOrFindSegment(t){let s=this.getSegment(t);return s===void 0&&(await this.findAppSegments(0,[t]),s=this.getSegment(t)),s}}Dt(hk,"type","jpeg"),fL.set("jpeg",hk);const rce=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class ice extends ec{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,s,r=new Map){let{pick:i,skip:a}=this.options[s];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(t);t+=2;for(let d=0;d<c;d++){let h=this.chunk.getUint16(t);if(o){if(i.has(h)&&(r.set(h,this.parseTag(t,h,s)),i.delete(h),i.size===0))break}else!l&&a.has(h)||r.set(h,this.parseTag(t,h,s));t+=12}return r}parseTag(t,s,r){let{chunk:i}=this,a=i.getUint16(t+2),o=i.getUint32(t+4),l=rce[a];if(l*o<=4?t+=8:t=i.getUint32(t+8),(a<1||a>13)&&zs(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${t}`),t>i.byteLength&&zs(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${t} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(t,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(t,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(t,o);if(o===1)return this.parseTagValue(a,t);{let d=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),h=l;for(let u=0;u<o;u++)d[u]=this.parseTagValue(a,t),t+=h;return d}}parseTagValue(t,s){let{chunk:r}=this;switch(t){case 1:return r.getUint8(s);case 3:return r.getUint16(s);case 4:return r.getUint32(s);case 5:return r.getUint32(s)/r.getUint32(s+4);case 6:return r.getInt8(s);case 8:return r.getInt16(s);case 9:return r.getInt32(s);case 10:return r.getInt32(s)/r.getInt32(s+4);case 11:return r.getFloat(s);case 12:return r.getDouble(s);case 13:return r.getUint32(s);default:zs(`Invalid tiff type ${t}`)}}}class lv extends ice{static canHandle(t,s){return t.getUint8(s+1)===225&&t.getUint32(s+4)===1165519206&&t.getUint16(s+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let s=this[t]();return s.catch!==void 0&&(s=s.catch(this.handleError)),s}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),s=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(s)}}parseBlock(t,s){let r=new Map;return this[s]=r,this.parseTags(t,s,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&zs("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&zs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,ak(this.options));let s=this.parseBlock(this.ifd0Offset,"ifd0");return s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,ak(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,s){let r=t.get(s);r&&r.length===1&&t.set(s,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",mk(...t.get(2),t.get(1))),t.set("longitude",mk(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),s=this.ifd1.get(514);return this.chunk.getUint8Array(t,s)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,s,r,i={};for(s of Rs)if(t=this[s],!pL(t))if(r=this.canTranslate?this.translateBlock(t,s):Object.fromEntries(t),this.options.mergeOutput){if(s==="ifd1")continue;Object.assign(i,r)}else i[s]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,s){if(this.globalOptions.mergeOutput)Object.assign(t,s);else for(let[r,i]of Object.entries(s))this.assignObjectToOutput(t,r,i)}}function mk(e,t,s,r){var i=e+t/60+s/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Dt(lv,"type","tiff"),Dt(lv,"headerLength",10),Dr.set("tiff",lv);const CN={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},CN,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},CN,{tiff:!1,ifd1:!0,mergeOutput:!1});const ace=Object.assign({},CN,{firstChunkSize:4e4,ifd0:[274]});async function oce(e){let t=new ece(ace);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const lce=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let yu=!0,vu=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,s,r]=t;yu=Number(s)+.1*Number(r)<13.4,vu=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);yu=vu=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);yu=vu=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);yu=vu=Number(t)<77}}async function cce(e){let t=await oce(e);return Object.assign({canvas:yu,css:vu},lce[t])}class dce extends $r{constructor(...t){super(...t),Dt(this,"ranges",new uce),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,s,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+s;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(t){let s;s=mL?hL.allocUnsafe(t):new Uint8Array(t);let r=new DataView(s.buffer,s.byteOffset,s.byteLength);return s.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:s,dataView:r}}subarray(t,s,r=!1){return s=s||this._lengthToEnd(t),r&&this._tryExtend(t,s),this.ranges.add(t,s),super.subarray(t,s)}set(t,s,r=!1){r&&this._tryExtend(s,t.byteLength,t);let i=super.set(t,s);return this.ranges.add(s,i.byteLength),i}async ensureChunk(t,s){this.chunked&&(this.ranges.available(t,s)||await this.readChunk(t,s))}available(t,s){return this.ranges.available(t,s)}}class uce{constructor(){Dt(this,"list",[])}get length(){return this.list.length}add(t,s,r=0){let i=t+s,a=this.list.filter(o=>pk(t,o.offset,i)||pk(t,o.end,i));if(a.length>0){t=Math.min(t,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),s=i-t;let o=a.shift();o.offset=t,o.length=s,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:t,length:s,end:i})}available(t,s){let r=t+s;return this.list.some(i=>i.offset<=t&&r<=i.end)}}function pk(e,t,s){return e<=t&&t<=s}class hce extends dce{constructor(t,s){super(0),Dt(this,"chunksRead",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let s=this.options.chunkSize,r=await this.readChunk(t,s);return!!r&&r.byteLength===s}async readChunk(t,s){if(this.chunksRead++,(s=this.safeWrapAddress(t,s))!==0)return this._readChunk(t,s)}safeWrapAddress(t,s){return this.size!==void 0&&t+s>this.size?Math.max(0,this.size-t):s}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}wN.set("blob",class extends hce{async readWhole(){this.chunked=!1;let e=await Ib(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,r=this.input.slice(e,s),i=await Ib(r);return this.set(i,e,!0)}});const mce="@uppy/thumbnail-generator",pce="Uppy plugin that generates small previews of images to show on your upload UI.",fce="4.2.2",gce="MIT",xce="lib/index.js",yce="module",vce={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},bce=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],jce="https://uppy.io",wce={url:"https://github.com/transloadit/uppy/issues"},Nce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Sce=["src","lib","dist","CHANGELOG.md"],Cce={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},kce={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},_ce={"@uppy/core":"^4.5.2"},Tce={name:mce,description:pce,version:fce,license:gce,main:xce,type:yce,scripts:vce,keywords:bce,homepage:jce,bugs:wce,repository:Nce,files:Sce,dependencies:Cce,devDependencies:kce,peerDependencies:_ce},Pce={strings:{generatingThumbnails:"Generating thumbnails..."}};function Ece(e,t,s){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(r=>{e.toBlob(r,t,s)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>Kle(e.toDataURL(t,s),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function Ace(e,t){let s=e.width,r=e.height;(t.deg===90||t.deg===270)&&(s=e.height,r=e.width);const i=document.createElement("canvas");i.width=s,i.height=r;const a=i.getContext("2d");return a.translate(s/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}function Dce(e){const t=e.width/e.height,s=5e6,r=4096;let i=Math.floor(Math.sqrt(s*t)),a=Math.floor(s/Math.sqrt(s*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}const Mce={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class vL extends wd{constructor(s,r){super(s,{...Mce,...r});A(this,"queue");A(this,"queueProcessing");A(this,"defaultThumbnailDimension");A(this,"thumbnailType");A(this,"onFileAdded",s=>{!s.preview&&s.data&&rk(s.type)&&!s.isRemote&&this.addToQueue(s.id)});A(this,"onCancelRequest",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1)});A(this,"onFileRemoved",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1),s.preview&&nk(s.preview)&&URL.revokeObjectURL(s.preview)});A(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||nk(r.preview))&&this.addToQueue(r.id)})});A(this,"onAllFilesRemoved",()=>{this.queue=[]});A(this,"waitUntilAllProcessed",s=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Pce,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(s,r,i){const a=URL.createObjectURL(s.data),o=new Promise((c,d)=>{const h=new Image;h.src=a,h.addEventListener("load",()=>{URL.revokeObjectURL(a),c(h)}),h.addEventListener("error",u=>{URL.revokeObjectURL(a),d(u.error||new Error("Could not create thumbnail"))})}),l=cce(s.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const h=this.getProportionalDimensions(c,r,i,d.deg),u=Ace(c,d),m=this.resizeImage(u,h.width,h.height);return Ece(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(s,r,i,a){let o=s.width/s.height;return(a===90||a===270)&&(o=s.height/s.width),r!=null?{width:r,height:Math.round(r/o)}:i!=null?{width:Math.round(i*o),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(s,r,i){let a=Dce(s),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(a,0,0,l,c),a=h,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(s,r){this.uppy.setFileState(s,{preview:r})}addToQueue(s){this.queue.push(s),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const s=this.uppy.getFile(this.queue.shift());return s?this.requestThumbnail(s).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(s){return rk(s.type)&&!s.isRemote?this.createThumbnail(s,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(s.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${s.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(s.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${s.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(s.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}A(vL,"VERSION",Tce.version);function fk(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&CO(e)?[e]:null}const Lu=Array.from;function Ice(e){const t=Lu(e.files);return Promise.resolve(t)}function bL(e,t,s,{onSuccess:r}){e.readEntries(i=>{const a=[...t,...i];i.length?queueMicrotask(()=>{bL(e,a,s,{onSuccess:r})}):r(a)},i=>{s(i),r(t)})}function jL(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((s,r)=>e.file(s,r))},async*values(){const s=e.createReader();yield*await new Promise(i=>{bL(s,[],t,{onSuccess:a=>i(a.map(o=>jL(o,t)))})})},isSameEntry:void 0}}async function*wL(e,t,s=void 0){const r=()=>`${t}/${e.name}`;if(e.kind==="file"){const i=await e.getFile();i!=null?(i.relativePath=t?r():null,yield i):s!=null&&(yield s)}else if(e.kind==="directory")for await(const i of e.values())yield*wL(i,t?r():e.name);else s!=null&&(yield s)}async function*Rce(e,t){const s=await Promise.all(Array.from(e.items,async r=>{let i;return i??(i=jL(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),t)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of s)if(i!=null)try{yield*wL(i,"",r)}catch(a){r!=null?yield r:t(a)}else r!=null&&(yield r)}async function Fce(e,t){const s=(t==null?void 0:t.logDropError)??Function.prototype;try{const r=[];for await(const i of Rce(e,s))r.push(i);return r}catch{return Ice(e)}}let Oce="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",NL=(e=21)=>{let t="",s=e|0;for(;s--;)t+=Oce[Math.random()*64|0];return t};const Lce="@uppy/dashboard",$ce="Universal UI plugin for Uppy.",Uce="4.4.3",Bce="MIT",zce="lib/index.js",Vce="dist/style.min.css",qce="module",Hce={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Wce=["file uploader","uppy","uppy-plugin","dashboard","ui"],Gce="https://uppy.io",Kce={url:"https://github.com/transloadit/uppy/issues"},Qce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Yce=["src","lib","dist","CHANGELOG.md"],Xce={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},Zce={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Jce={"@uppy/core":"^4.5.2"},ede={name:Lce,description:$ce,version:Uce,license:Bce,main:zce,style:Vce,type:qce,scripts:Hce,keywords:Wce,homepage:Gce,bugs:Kce,repository:Qce,files:Yce,dependencies:Xce,devDependencies:Zce,peerDependencies:Jce};function tde(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}class SL extends Fn{constructor(){super(...arguments);A(this,"fileInput",null);A(this,"folderInput",null);A(this,"mobilePhotoFileInput",null);A(this,"mobileVideoFileInput",null);A(this,"triggerFileInputClick",()=>{var s;(s=this.fileInput)==null||s.click()});A(this,"triggerFolderInputClick",()=>{var s;(s=this.folderInput)==null||s.click()});A(this,"triggerVideoCameraInputClick",()=>{var s;(s=this.mobileVideoFileInput)==null||s.click()});A(this,"triggerPhotoCameraInputClick",()=>{var s;(s=this.mobilePhotoFileInput)==null||s.click()});A(this,"onFileInputChange",s=>{this.props.handleInputChange(s),s.currentTarget.value=""});A(this,"renderHiddenInput",(s,r)=>{var i;return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:s,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});A(this,"renderHiddenCameraInput",(s,r,i)=>{const o={photo:"image/*",video:"video/*"}[s];return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${s}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});A(this,"renderMyDeviceAcquirer",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));A(this,"renderPhotoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));A(this,"renderVideoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));A(this,"renderBrowseButton",(s,r)=>{const i=this.props.acquirers.length;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:s})});A(this,"renderDropPasteBrowseTagline",s=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return I("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):s>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});A(this,"renderAcquirer",s=>{var r;return I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":s.id,children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":s.id,"aria-controls":`uppy-DashboardContent-panel--${s.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===s.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(s.id),children:[I("div",{className:"uppy-DashboardTab-inner",children:s.icon()}),I("div",{className:"uppy-DashboardTab-name",children:s.name})]})})});A(this,"renderAcquirers",s=>{const r=[...s],i=r.splice(s.length-2,s.length);return I(zr,{children:[r.map(a=>this.renderAcquirer(a)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});A(this,"renderSourcesList",(s,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...s.map(u=>({key:u.id,elements:this.renderAcquirer(u)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],h=d.splice(o.length-2,o.length);return I(zr,{children:[this.renderDropPasteBrowseTagline(o.length),I("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:u,elements:m})=>I(zr,{children:m},u)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:u,elements:m})=>I(zr,{children:m},u))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:s}=this.props,r=I("span",{children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),I("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=s("poweredBy",{uppy:r});return I("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:s,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return I("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),s&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),I("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&I("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const sde=e=>I("div",{className:Xr("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),I(SL,{...e})]});function nde(e){const t=e.files[e.fileCardFor],s=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return I("div",{className:Xr("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:e.i18n("cancel")}),I("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),I("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))})]})}function rde(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#686DE0",fillRule:"evenodd",children:[I("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),I("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),I("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function ide(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function ade(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function ode(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function lde(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function cde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[I("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),I("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function dde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function kN(e){const t={color:"#838999",icon:cde()};if(!e)return t;const s=e.split("/")[0],r=e.split("/")[1];return s==="text"?{color:"#5a5e69",icon:dde()}:s==="image"?{color:"#686de0",icon:rde()}:s==="audio"?{color:"#068dbb",icon:ide()}:s==="video"?{color:"#19af67",icon:ade()}:s==="application"&&r==="pdf"?{color:"#e25149",icon:ode()}:s==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:lde()}:t}function Wa(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function CL(e){const{file:t}=e;if(t.preview)return I("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:s,icon:r}=kN(t.type);return I("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[I("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:s},children:r}),I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:I("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function ude(e){const{computedMetaFields:t,requiredMetaFields:s,updateMeta:r,form:i,formState:a}=e,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=s.includes(l.id);return I("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[I("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:h=>r(h,l.id),fieldCSSClasses:o,required:d,form:i.id},Ah):I("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:h=>r(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function hde(e){const{files:t,fileCardFor:s,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:h,canEditFile:u}=e,m=()=>typeof a=="function"?a(t[s]):a,p=t[s],j=m()??[],y=u(p),g={};j.forEach(C=>{g[C.id]=p.meta[C.id]??""});const[f,b]=vg(g),x=gie(C=>{C.preventDefault(),i(f,s)},[i,f,s]),w=(C,k)=>{b({...f,[k]:C})},S=()=>{r(!1)},[N]=vg(()=>{const C=document.createElement("form");return C.setAttribute("tabindex","-1"),C.id=NL(),C});return jb(()=>(document.body.appendChild(N),N.addEventListener("submit",x),()=>{N.removeEventListener("submit",x),document.body.removeChild(N)}),[N,x]),I("div",{className:Xr("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:p.meta?p.meta.name:p.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",form:N.id,title:c("finishEditingFile"),onClick:S,children:c("cancel")})]}),I("div",{className:"uppy-Dashboard-FileCard-inner",children:[I("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:kN(p.type).color},children:[I(CL,{file:p}),y&&I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:C=>{x(C),l(p)},children:c("editImage")})]}),I("div",{className:"uppy-Dashboard-FileCard-info",children:I(ude,{computedMetaFields:j,requiredMetaFields:o,updateMeta:w,form:N,formState:f})}),I("div",{className:"uppy-Dashboard-FileCard-actions",children:[I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:N.id,children:c("saveChanges")}),I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:S,form:N.id,children:c("cancel")})]})]})]})}function mde(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),r=Object.keys(t),i=s.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=s[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function pde(e,t="Copy the URL below"){return new Promise(s=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(t,e),s()};try{return document.execCommand("copy")?(document.body.removeChild(r),s()):i()}catch{return document.body.removeChild(r),i()}})}function fde({file:e,uploadInProgressOrComplete:t,metaFields:s,canEditFile:r,i18n:i,onClick:a}){return!t&&s&&s.length>0||!t&&r(e)?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:e.meta.name}),title:i("editFileWithFilename",{file:e.meta.name}),onClick:()=>a(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:I("g",{fillRule:"evenodd",children:[I("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),I("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),I("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function gde({i18n:e,onClick:t,file:s}){return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:s.meta.name}),title:e("removeFile",{file:s.meta.name}),onClick:()=>t(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[I("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),I("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function xde({file:e,uppy:t,i18n:s}){const r=i=>{pde(e.uploadURL,s("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(s("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>i.target.focus({preventScroll:!0}))};return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":s("copyLink"),title:s("copyLink"),onClick:i=>r(i),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:I("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function yde(e){const{uppy:t,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:h}=e;return I("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[I(fde,{i18n:c,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,s.id):h(s)}}),o&&s.uploadURL?I(xde,{file:s,uppy:t,i18n:c}):null,l?I(gde,{i18n:c,file:s,onClick:()=>t.removeFile(s.id)}):null]})}const cv="...";function kL(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=cv.length+1)return`${e.slice(0,t-1)}…`;const s=t-cv.length,r=Math.ceil(s/2),i=Math.floor(s/2);return e.slice(0,r)+cv+e.slice(-i)}const vde=(e,t)=>(typeof t=="function"?t():t).filter(i=>i.id===e)[0].name;function _L(e){const{file:t,toggleFileCard:s,i18n:r,metaFields:i}=e,{missingRequiredMetaFields:a}=t;if(!(a!=null&&a.length))return null;const o=a.map(l=>vde(l,i)).join(", ");return I("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",I("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>s(!0,t.id),children:r("editFile")})]})}const bde=e=>{const{author:t,name:s}=e.file.meta;function r(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return I("div",{className:"uppy-Dashboard-Item-name",title:s,children:kL(s,r())})},jde=e=>{var i;const{author:t}=e.file.meta,s=(i=e.file.remote)==null?void 0:i.providerName,r="·";return t?I("div",{className:"uppy-Dashboard-Item-author",children:[I("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:kL(t.name,13)}),s?I(zr,{children:[` ${r} `,s,` ${r} `]}):null]}):null},wde=e=>e.file.size&&I("div",{className:"uppy-Dashboard-Item-statusSize",children:Uo(e.file.size)}),Nde=e=>e.file.isGhost&&I("span",{children:[" • ",I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),Sde=({file:e,onClick:t})=>e.error?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function Cde(e){const{file:t,i18n:s,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=e;return I("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[I("div",{className:"uppy-Dashboard-Item-fileName",children:[bde({file:t,isSingleFile:o,containerHeight:l,containerWidth:c}),I(Sde,{file:t,onClick:()=>alert(t.error)})]}),I("div",{className:"uppy-Dashboard-Item-status",children:[jde({file:t}),wde({file:t}),Nde({file:t,toggleAddFilesPanel:a,i18n:s})]}),I(_L,{file:t,i18n:s,toggleFileCard:r,metaFields:i})]})}function kde(e){const{file:t,i18n:s,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":kN(t.type).color;return I("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&t.uploadURL&&I("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:I("span",{hidden:!0,children:t.meta.name})}),I(CL,{file:t}),I(_L,{file:t,i18n:s,toggleFileCard:r,metaFields:i})]})}function _de(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function gk(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function dv(e){return I("div",{className:"uppy-Dashboard-Item-progress",children:I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":gk(e),title:gk(e),onClick:()=>_de(e),children:e.children})})}function jp({children:e}){return I("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function uv({progress:e}){const t=2*Math.PI*15;return I("g",{children:[I("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),I("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function Tde(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(jp,{children:[I("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),I("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?I(dv,{...e,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[I("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),I("path",{d:"M7.9 3H10v2H7.9z"}),I("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),I("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?I(dv,{...e,children:I(jp,{children:[I(uv,{progress:e.file.progress.percentage}),e.file.isPaused?I("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):I("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[I("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),I("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?I(dv,{...e,children:I(jp,{children:[I(uv,{progress:e.file.progress.percentage}),I("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(jp,{children:I(uv,{progress:e.file.progress.percentage})})})})}class Pde extends Fn{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!mde(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,s=t.progress.preprocess||t.progress.postprocess,r=!!t.progress.uploadComplete&&!s&&!t.error,i=!!t.progress.uploadStarted||!!s,a=t.progress.uploadStarted&&!t.progress.uploadComplete||s,o=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Xr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":s,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return I("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[I("div",{className:"uppy-Dashboard-Item-preview",children:[I(kde,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),I(Tde,{uppy:this.props.uppy,file:t,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),I("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[I(Cde,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),I(yde,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Ede(e,t){const s=[];let r=[];return e.forEach(i=>{r.length<t?r.push(i):(s.push(r),r=[i])}),r.length&&s.push(r),s}function Ade({id:e,i18n:t,uppy:s,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:u,toggleFileCard:m,handleRequestThumbnail:p,handleCancelThumbnail:j,recoveredState:y,individualCancellation:g,itemsPerRow:f,openFileEditor:b,canEditFile:x,toggleAddFilesPanel:w,containerWidth:S,containerHeight:N}){const C=f===1?71:200,k=vN(()=>{const D=(M,X)=>Number(r[X].isGhost)-Number(r[M].isGhost),P=Object.keys(r);return y&&P.sort(D),Ede(P,f)},[r,f,y]),T=D=>I("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:D.map(P=>I(Pde,{uppy:s,id:e,i18n:t,resumableUploads:i,individualCancellation:g,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:y,isSingleFile:u,containerWidth:S,containerHeight:N,toggleFileCard:m,handleRequestThumbnail:p,handleCancelThumbnail:j,role:"listitem",openFileEditor:b,canEditFile:x,toggleAddFilesPanel:w,file:r[P]},P))},D[0]);return u?I("div",{class:"uppy-Dashboard-files",children:T(k[0])}):I(ale,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:T,rowHeight:C})}function Dde({activePickerPanel:e,className:t,hideAllPanels:s,i18n:r,state:i,uppy:a}){const o=Yp(null);return I("div",{className:Xr("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:e.name})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:r("cancel")})]}),I("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(e.id).render(i,o.current)})]})}const ni={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Mde(e,t,s,r={}){if(e)return ni.STATE_ERROR;if(t)return ni.STATE_COMPLETE;if(s)return ni.STATE_PAUSED;let i=ni.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ni.STATE_UPLOADING;l.preprocess&&i!==ni.STATE_UPLOADING&&(i=ni.STATE_PREPROCESSING),l.postprocess&&i!==ni.STATE_UPLOADING&&i!==ni.STATE_PREPROCESSING&&(i=ni.STATE_POSTPROCESSING)}return i}function Ide({files:e,i18n:t,isAllComplete:s,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Mde(r,s,i,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:o.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function Rde(e){const{i18n:t,isAllComplete:s,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=e;let{allowNewUpload:l}=e;return l&&i&&(l=e.totalFileCount<e.maxNumberOfFiles),I("div",{className:"uppy-DashboardContent-bar",children:[!s&&!r?I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:t("cancel")}):I("div",{}),I("div",{className:"uppy-DashboardContent-title",children:I(Ide,{...e})}),l?I("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>a(!0),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:I("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),I("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):I("div",{})]})}const Ol="uppy-transition-slideDownUp",xk=250;function wp({children:e}){const[t,s]=vg(null),[r,i]=vg(""),a=Yp(),o=Yp(),l=Yp(),c=()=>{i(`${Ol}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-enter ${Ol}-enter-active`),a.current=setTimeout(()=>{i("")},xk)})},d=()=>{i(`${Ol}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-leave ${Ol}-leave-active`),o.current=setTimeout(()=>{s(null),i("")},xk)})};return jb(()=>{const h=Fr(e)[0];t!==h&&(h&&!t?c():t&&!h&&!o.current&&d(),s(h))},[e,t]),jb(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),t?LO(t,{className:Xr(r,t.props.className)}):null}const yk=900,vk=700,hv=576,bk=330;function Fde(e){const t=e.totalFileCount===0,s=e.totalFileCount===1,r=e.containerWidth>hv,i=e.containerHeight>bk,a=Xr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>hv,"uppy-size--lg":e.containerWidth>vk,"uppy-size--xl":e.containerWidth>yk,"uppy-size--height-md":e.containerHeight>bk,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&s&&i});let o=1;e.containerWidth>yk?o=5:e.containerWidth>vk?o=4:e.containerWidth>hv&&(o=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(m=>e.files[m].isGhost).length:0,h=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return I("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&tde(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[I("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),I("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:I("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:I("span",{"aria-hidden":"true",children:"×"})}),I("div",{className:"uppy-Dashboard-innerWrap",children:[I("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&I(Rde,{...e}),c&&I("div",{className:"uppy-Dashboard-serviceMsg",children:[I("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:I("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[I("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),I("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),I("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),I("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),I("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?I(Ade,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:s,itemsPerRow:o,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):I(SL,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),I(wp,{children:e.showAddFilesPanel?I(sde,{...e,isSizeMD:r},"AddFiles"):null}),I(wp,{children:e.fileCardFor?I(hde,{...e},"FileCard"):null}),I(wp,{children:e.activePickerPanel?I(Dde,{...e},"Picker"):null}),I(wp,{children:e.showFileEditor?I(nde,{...e},"Editor"):null}),I("div",{className:"uppy-Dashboard-progressindicators",children:e.progressindicators.map(m=>e.uppy.getPlugin(m.id).render(e.state))})]})]})]})}const Ode={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},TL=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function PL(e,t){if(t){const s=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(s)return s}return e}function Lde(){let e=!1;return Kae((s,r)=>{const i=PL(s,r),a=i.contains(document.activeElement);if(a&&e)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const l=i.querySelector(TL);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function jk(e,t){const s=t[0];s&&(s.focus(),e.preventDefault())}function $de(e,t){const s=t[t.length-1];s&&(s.focus(),e.preventDefault())}function Ude(e){return e.contains(document.activeElement)}function EL(e,t,s){const r=PL(s,t),i=Lu(r.querySelectorAll(TL)),a=i.indexOf(document.activeElement);Ude(r)?e.shiftKey&&a===0?$de(e,i):!e.shiftKey&&a===i.length-1&&jk(e,i):jk(e,i)}function Bde(e,t,s){t===null||EL(e,t,s)}const wk=9,zde=27;function Nk(){const e={};return e.promise=new Promise((t,s)=>{e.resolve=t,e.reject=s}),e}const Vde={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:ole,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var fv,Fc,Zo,Hh,Oc,_g,Tg,Pg,Jo,Eg,Ag,Lc,qs,Fb,Ob,AL,Lb,$b,DL;let qde=(fv=class extends wd{constructor(s,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(s,{...Vde,...r,autoOpen:i});K(this,qs);K(this,Fc);A(this,"modalName",`uppy-Dashboard-${NL()}`);A(this,"superFocus",Lde());A(this,"ifFocusedOnUppyRecently",!1);A(this,"dashboardIsDisabled");A(this,"savedScrollPosition");A(this,"savedActiveElement");A(this,"resizeObserver");A(this,"darkModeMediaQuery");A(this,"makeDashboardInsidesVisibleAnywayTimeout");A(this,"removeTarget",s=>{const i=this.getPluginState().targets.filter(a=>a.id!==s.id);this.setPluginState({targets:i})});A(this,"addTarget",s=>{const r=s.id||s.constructor.name,i=s.title||r,a=s.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});A(this,"hideAllPanels",()=>{var i;const s=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===r.activePickerPanel&&s.showAddFilesPanel===r.showAddFilesPanel&&s.showFileEditor===r.showFileEditor&&s.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=s.activePickerPanel)==null?void 0:i.id))});A(this,"showPanel",s=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===s);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)});A(this,"canEditFile",s=>{const{targets:r}=this.getPluginState();return _(this,Jo).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(s))});A(this,"openFileEditor",s=>{const{targets:r}=this.getPluginState(),i=_(this,Jo).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(s)})});A(this,"closeFileEditor",()=>{const{metaFields:s}=this.getPluginState();s&&s.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});A(this,"saveFileEditor",()=>{const{targets:s}=this.getPluginState();_(this,Jo).call(this,s).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});A(this,"openModal",()=>{const{promise:s,resolve:r}=Nk();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s});A(this,"closeModal",s=>{var c;const r=(s==null?void 0:s.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=Nk();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});A(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);A(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());A(this,"setDarkModeCapability",s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:s}})});A(this,"handleSystemDarkModeChange",s=>{const r=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});A(this,"toggleFileCard",(s,r)=>{const i=this.uppy.getFile(r);s?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:s?r:null,activeOverlayType:s?"FileCard":null})});A(this,"toggleAddFilesPanel",s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})});A(this,"addFiles",s=>{const r=s.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});A(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(s=>{const r=s[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),r=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});A(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});A(this,"recordIfFocusedOnUppyRecently",s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});A(this,"disableInteractiveElements",s=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=_(this,Fc)??Lu(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",s):a.disabled=s;s?te(this,Fc,i):te(this,Fc,null),this.dashboardIsDisabled=s});A(this,"updateBrowserHistory",()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});A(this,"handlePopState",s=>{var r;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=s.state)!=null&&r[this.modalName])&&history.back()});A(this,"handleKeyDownInModal",s=>{s.keyCode===zde&&this.requestCloseModal(),s.keyCode===wk&&EL(s,this.getPluginState().activeOverlayType,this.el)});A(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});A(this,"handlePaste",s=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,s))});const r=Lu(s.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});A(this,"handleInputChange",s=>{s.preventDefault();const r=Lu(s.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});A(this,"handleDragOver",s=>{s.preventDefault(),s.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,s)&&(l=!0)}),l},i=()=>{const{types:l}=s.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none";return}s.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(s)});A(this,"handleDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(s)});A(this,"handleDrop",async s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,s))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await Fce(s.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(s)});A(this,"handleRequestThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)});A(this,"handleCancelThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)});A(this,"handleKeyDownInInline",s=>{s.keyCode===wk&&Bde(s,this.getPluginState().activeOverlayType,this.el)});A(this,"handlePasteOnBody",s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)});A(this,"handleComplete",({failed:s})=>{this.opts.closeAfterFinish&&!(s!=null&&s.length)&&this.requestCloseModal()});A(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});K(this,Zo,()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:s});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});K(this,Hh,s=>{const r=s[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});A(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const s=fk(this.opts.trigger);s?s.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_(this,Lc)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_(this,Zo)),this.uppy.on("file-removed",_(this,Zo)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",_(this,Hh))});A(this,"removeEvents",()=>{const s=fk(this.opts.trigger);!this.opts.inline&&s&&s.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_(this,Lc)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_(this,Zo)),this.uppy.off("file-removed",_(this,Zo)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",_(this,Hh))});A(this,"superFocusOnEachUpdate",()=>{const s=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||s||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});A(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});A(this,"saveFileCard",(s,r)=>{this.uppy.setFileMeta(r,s),this.toggleFileCard(!1,r)});K(this,Oc,s=>{const r=this.uppy.getPlugin(s.id);return{...s,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});K(this,_g,s=>{const r=this.uppy.getPlugin(s.id);return typeof r.isSupported!="function"?!0:r.isSupported()});K(this,Tg,s=>s.filter(r=>r.type==="acquirer"&&_(this,_g).call(this,r)).map(_(this,Oc)));K(this,Pg,s=>s.filter(r=>r.type==="progressindicator").map(_(this,Oc)));K(this,Jo,s=>s.filter(r=>r.type==="editor").map(_(this,Oc)));A(this,"render",s=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=s,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:p,isUploadStarted:j,isAllComplete:y,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),f=_(this,Tg).call(this,r.targets),b=_(this,Pg).call(this,r.targets),x=_(this,Jo).call(this,r.targets);let w;return this.opts.theme==="auto"?w=a.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Fde({state:s,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:p,isUploadStarted:j,isAllComplete:y,isAllPaused:g,totalFileCount:Object.keys(i).length,totalProgress:s.totalProgress,allowNewUpload:o,acquirers:f,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:b,editors:x,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});K(this,Eg,()=>{const{plugins:s}=this.opts;s.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});K(this,Ag,()=>{this.uppy.iteratePlugins(_(this,Lc))});K(this,Lc,s=>{var i;const r=["acquirer","editor"];s&&!((i=s.opts)!=null&&i.target)&&r.includes(s.type)&&(this.getPluginState().targets.some(o=>s.id===o.id)||s.mount(this,s))});A(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:r}=this.opts;if(s&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(Wle,{id:ne(this,qs,Lb).call(this),target:this,...ne(this,qs,Fb).call(this)}),this.opts.disableInformer||this.uppy.use(aL,{id:ne(this,qs,DL).call(this),target:this,...ne(this,qs,AL).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(vL,{id:ne(this,qs,$b).call(this),...ne(this,qs,Ob).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),_(this,Eg).call(this),_(this,Ag).call(this),this.initEvents()});A(this,"uninstall",()=>{var r;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:s}=this.opts;s.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Ode,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(s){var r,i;super.setOptions(s),(r=this.uppy.getPlugin(ne(this,qs,Lb).call(this)))==null||r.setOptions(ne(this,qs,Fb).call(this)),(i=this.uppy.getPlugin(ne(this,qs,$b).call(this)))==null||i.setOptions(ne(this,qs,Ob).call(this))}},Fc=new WeakMap,Zo=new WeakMap,Hh=new WeakMap,Oc=new WeakMap,_g=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,Jo=new WeakMap,Eg=new WeakMap,Ag=new WeakMap,Lc=new WeakMap,qs=new WeakSet,Fb=function(){const{hideUploadButton:s,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:s,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Ob=function(){const{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},AL=function(){return{}},Lb=function(){return`${this.id}:StatusBar`},$b=function(){return`${this.id}:ThumbnailGenerator`},DL=function(){return`${this.id}:Informer`},A(fv,"VERSION",ede.version),fv);const Hde=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wde=/^(aria-|data-)/,ML=e=>Object.fromEntries(Object.entries(e).filter(([t])=>Wde.test(t)||Hde.includes(t)));function Gde(e,t){const s=ML(e);return Object.keys(e).some(r=>!Object.hasOwn(s,r)&&e[r]!==t[r])}class IL extends v.Component{constructor(){super(...arguments);A(this,"container");A(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(s){const{uppy:r,open:i,onRequestClose:a}=this.props;if(s.uppy!==r)this.uninstallPlugin(s),this.installPlugin();else if(Gde(this.props,s)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}s.open&&!i?this.plugin.closeModal():!s.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:s=this.container,open:r,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:s,open:r,onRequestCloseModal:i};a.use(qde,l),this.plugin=a.getPlugin(l.id),r&&this.plugin.openModal()}uninstallPlugin(s=this.props){const{uppy:r}=s;r.removePlugin(this.plugin)}render(){return v.createElement("div",{className:"uppy-Container",ref:s=>{this.container=s},...ML(this.props)})}}A(IL,"defaultProps",{open:void 0,onRequestClose:void 0});v.createContext({uppy:void 0,status:"init",progress:0});function RL(e,t){return Object.hasOwn(e,t)}class Kde extends Error{constructor(s,r){super(s);A(this,"isNetworkError");A(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&RL(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Qde extends Error{constructor(s,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");A(this,"cause");A(this,"isNetworkError");A(this,"request");this.cause=s,this.isNetworkError=!0,this.request=r}}function Yde(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new Qde(t)})}function Xde(e){var i;const s=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:i[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${s}`}class Zde extends Error{constructor(){super(...arguments);A(this,"name","UserFacingApiError")}}var FL={};function xr(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Jde=xr;xr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};xr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};xr.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0};xr.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};xr.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};xr.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};xr.prototype.start=xr.prototype.try;xr.prototype.errors=function(){return this._errors};xr.prototype.attempts=function(){return this._attempts};xr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,s=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=s&&(t=i,s=o)}return t};(function(e){var t=Jde;e.operation=function(s){var r=e.timeouts(s);return new t(r,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},e.timeouts=function(s){if(s instanceof Array)return[].concat(s);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in s)r[i]=s[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return s&&s.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},e.createTimeout=function(s,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,s));return a=Math.min(a,r.maxTimeout),a},e.wrap=function(s,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in s)typeof s[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=s[l];s[l]=(function(h){var u=e.operation(r),m=Array.prototype.slice.call(arguments,1),p=m.pop();m.push(function(j){u.retry(j)||(j&&(arguments[0]=u.mainError()),p.apply(this,arguments))}),u.attempt(function(){h.apply(s,m)})}).bind(s,c),s[l].options=r}}})(FL);var eue=FL;const tue=Di(eue),sue=Object.prototype.toString,nue=e=>sue.call(e)==="[object Error]",rue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function iue(e){return e&&nue(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:rue.has(e.message):!1}class Ub extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Sk=(e,t,s)=>{const r=s.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function Ck(e,t){return new Promise((s,r)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const i=tue.operation(t),a=()=>{var l;i.stop(),r((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await e(l);o(),s(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Ub)throw c.originalError;if(c instanceof TypeError&&!iue(c))throw c;if(Sk(c,l,t),await t.shouldRetry(c)||(i.stop(),r(c)),await t.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){Sk(d,l,t),o(),r(d)}}})})}const aue="@uppy/companion-client",oue="Client library for communication with Companion. Intended for use in Uppy plugins.",lue="4.5.2",cue="MIT",due="lib/index.js",uue="module",hue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},mue=["file uploader","uppy","uppy-plugin","companion","provider"],pue="https://uppy.io",fue={url:"https://github.com/transloadit/uppy/issues"},gue={type:"git",url:"git+https://github.com/transloadit/uppy.git"},xue=["src","lib","dist","CHANGELOG.md"],yue={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},vue={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},bue={"@uppy/core":"^4.5.2"},jue={name:aue,description:oue,version:lue,license:cue,main:due,type:uue,scripts:hue,keywords:mue,homepage:pue,bugs:fue,repository:gue,files:xue,dependencies:yue,devDependencies:vue,peerDependencies:bue};class wue extends Error{constructor(){super("Authorization required");A(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Nue(e){return e.replace(/\/$/,"")}const kk=10,Sue=5*60*1e3,Cue=401;class kue extends Error{constructor({statusCode:s,message:r}){super(r);A(this,"statusCode");this.name="HttpError",this.statusCode=s}}async function _ue(e){if(e.status===Cue)throw new wue;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,s;try{s=await e.json(),s.message&&(t=`${t} message: ${s.message}`),s.requestId&&(t=`${t} request-Id: ${s.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&s.message?new Zde(s.message):new kue({statusCode:e.status,message:t})}function Tue(e,t,s){const{progress:r,bytesUploaded:i,bytesTotal:a}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",s,{uploadStarted:s.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var el,bo,Bb,Dg,zb;class OL{constructor(t,s){K(this,bo);K(this,el);A(this,"uppy");A(this,"opts");K(this,Dg,async({file:t,postBody:s,signal:r})=>{var a;if(((a=t.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...s},{signal:r})).token});this.uppy=t,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),te(this,el,s.companionHeaders)}setCompanionHeaders(t){te(this,el,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return _(this,el)}get hostname(){const{companion:t}=this.uppy.getState(),s=this.opts.companionUrl;return Nue(t!=null&&t[s]?t[s]:s)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},..._(this,el)}}onReceiveResponse(t){const{headers:s}=t,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;s.has("i-am")&&s.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:s.get("i-am")}})}async request({path:t,method:s="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await Yde(ne(this,bo,Bb).call(this,t),{method:s,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await _ue(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new Kde(`Could not ${s} ${ne(this,bo,Bb).call(this,t)}`,{cause:o})}}async get(t,s){return this.request({...s,path:t})}async post(t,s,r){return this.request({...r,path:t,method:"POST",data:s})}async delete(t,s,r){return this.request({...r,path:t,method:"DELETE",data:s})}async uploadRemoteFile(t,s,r){try{const{signal:i,getQueue:a}=r||{};return await Ck(async()=>{var d;const o=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),ne(this,bo,zb).call(this,{file:t,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...h)=>{try{return await _(this,Dg).call(this,...h)}catch(u){if(u.isAuthError)throw new Ub(u);if(u.cause==null)throw u;const m=u.cause,p=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!p()?new Ub(m):m}},{priority:-1})({file:t,postBody:s,signal:i}).abortOn(i);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),ne(this,bo,zb).call(this,{file:this.uppy.getFile(t.id),queue:a(),signal:i})},{retries:kk,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",t,i),i}}}el=new WeakMap,bo=new WeakSet,Bb=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},Dg=new WeakMap,zb=async function({file:t,queue:s,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=t.serverToken,d=Xde(t.remote.companionUrl);let h,u,m,{isPaused:p}=t;const j=(C,k)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${C}" to socket ${t.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:C,payload:k??{}}))};function y(){a.resumableUploads&&j(p?"pause":"resume")}const g=async()=>{u&&u.abort(),u=new AbortController;const C=T=>{var D;this.uppy.setFileState(t.id,{serverToken:null}),(D=u==null?void 0:u.abort)==null||D.call(u),l(T)};function k(){clearTimeout(m),!p&&(m=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),Sue))}try{await s.wrapPromiseFunction(async()=>{await Ck(async()=>new Promise((D,P)=>{h=new WebSocket(`${d}/api/${c}`),k(),h.addEventListener("close",()=>{h=void 0,P(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",X=>{this.uppy.log(`Companion socket error ${JSON.stringify(X)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{y()}),h.addEventListener("message",X=>{var ee,F,re;k();try{const{action:fe,payload:V}=JSON.parse(X.data);switch(fe){case"progress":{Tue(this,V,this.uppy.getFile(t.id));break}case"success":{const L=(ee=V.response)==null?void 0:ee.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:V.url,status:((F=V.response)==null?void 0:F.status)??200,body:L?JSON.parse(L):void 0}),(re=u==null?void 0:u.abort)==null||re.call(u),o();break}case"error":{const{message:L}=V.error;throw Object.assign(new Error(L),{cause:V.error})}default:this.uppy.log(`Companion socket unknown action ${fe}`,"warning")}}catch(fe){C(fe)}});const M=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(m),h&&h.close(),h=void 0};u.signal.addEventListener("abort",()=>{M()})}),{retries:kk,signal:u.signal,onFailedAttempt:()=>{u.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(u.signal)}catch(T){if(u.signal.aborted)return;C(T)}},f=C=>{a.resumableUploads&&(p=C,h&&y())},b=C=>{var k;a.individualCancellation&&C.id===t.id&&(j("cancel"),(k=u==null?void 0:u.abort)==null||k.call(u),this.uppy.log(`upload ${t.id} was removed`),o())},x=()=>{var C;j("cancel"),(C=u==null?void 0:u.abort)==null||C.call(u),this.uppy.log(`upload ${t.id} was canceled`),o()},w=(C,k)=>{(C==null?void 0:C.id)===t.id&&f(k)},S=()=>f(!0),N=()=>f(!1);this.uppy.on("file-removed",b),this.uppy.on("cancel-all",x),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",S),this.uppy.on("resume-all",N),i=()=>{this.uppy.off("file-removed",b),this.uppy.off("cancel-all",x),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",S),this.uppy.off("resume-all",N)},r.addEventListener("abort",()=>{u==null||u.abort()}),g()})}finally{i==null||i()}},A(OL,"VERSION",jue.version);var di,Wh;class Pue{constructor(t){K(this,di);K(this,Wh,[]);te(this,di,t)}on(t,s){return _(this,Wh).push([t,s]),_(this,di).on(t,s)}remove(){for(const[t,s]of _(this,Wh).splice(0))_(this,di).off(t,s)}onFilePause(t,s){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&s(i)})}onFileRemove(t,s){this.on("file-removed",r=>{t===r.id&&s(r.id)})}onPause(t,s){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&s(i)})}onRetry(t,s){this.on("upload-retry",r=>{t===(r==null?void 0:r.id)&&s()})}onRetryAll(t,s){this.on("retry-all",()=>{_(this,di).getFile(t)&&s()})}onPauseAll(t,s){this.on("pause-all",()=>{_(this,di).getFile(t)&&s()})}onCancelAll(t,s){this.on("cancel-all",(...r)=>{_(this,di).getFile(t)&&s(...r)})}onResumeAll(t,s){this.on("resume-all",()=>{_(this,di).getFile(t)&&s()})}}di=new WeakMap,Wh=new WeakMap;const{AbortController:mv}=globalThis,LL=(e="Aborted",t)=>{const s=new DOMException(e,"AbortError");return t!=null&&RL(t,"cause")&&Object.defineProperty(s,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),s};function Eue(e){const t=s=>"error"in s&&!!s.error;return e.filter(s=>!t(s))}function Aue(e){return e.filter(t=>{var s;return!((s=t.progress)!=null&&s.uploadStarted)||!t.isRestored})}function _k(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function Due(e){return new Error("Cancelled",{cause:e})}function Tk(e){var t;if(e!=null){const s=()=>this.abort(e.reason);e.addEventListener("abort",s,{once:!0});const r=()=>{e.removeEventListener("abort",s)};(t=this.then)==null||t.call(this,r,r)}return this}var Wi,ui,Gi,$c,hi,Uc,tl,an,Vb,bu,$L,UL,BL,Mg,Bc;class Mue{constructor(t){K(this,an);K(this,Wi,0);K(this,ui,[]);K(this,Gi,!1);K(this,$c);K(this,hi,1);K(this,Uc);K(this,tl);A(this,"limit");K(this,Mg,()=>this.resume());K(this,Bc,()=>{if(_(this,Gi)){te(this,tl,setTimeout(_(this,Bc),0));return}te(this,hi,this.limit),this.limit=Math.ceil((_(this,Uc)+_(this,hi))/2);for(let t=_(this,hi);t<=this.limit;t++)ne(this,an,bu).call(this);_(this,Uc)-_(this,hi)>3?te(this,tl,setTimeout(_(this,Bc),2e3)):te(this,hi,Math.floor(_(this,hi)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,s){return!_(this,Gi)&&_(this,Wi)<this.limit?ne(this,an,Vb).call(this,t):ne(this,an,UL).call(this,t,s)}wrapSyncFunction(t,s){return(...r)=>{const i=this.run(()=>(t(...r),queueMicrotask(()=>i.done()),()=>{}),s);return{abortOn:Tk,abort(){i.abort()}}}}wrapPromiseFunction(t,s){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(t(...r))}catch(h){d=Promise.reject(h)}return d.then(h=>{c?l(c):(i.done(),o(h))},h=>{c?l(c):(i.done(),l(h))}),h=>{c=Due(h)}},s)});return a.abort=o=>{i.abort(o)},a.abortOn=Tk,a}}resume(){te(this,Gi,!1),clearTimeout(_(this,$c));for(let t=0;t<this.limit;t++)ne(this,an,bu).call(this)}pause(t=null){te(this,Gi,!0),clearTimeout(_(this,$c)),t!=null&&te(this,$c,setTimeout(_(this,Mg),t))}rateLimit(t){clearTimeout(_(this,tl)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(te(this,Uc,this.limit-1),this.limit=_(this,hi),te(this,tl,setTimeout(_(this,Bc),t)))}get isPaused(){return _(this,Gi)}}Wi=new WeakMap,ui=new WeakMap,Gi=new WeakMap,$c=new WeakMap,hi=new WeakMap,Uc=new WeakMap,tl=new WeakMap,an=new WeakSet,Vb=function(t){te(this,Wi,_(this,Wi)+1);let s=!1,r;try{r=t()}catch(i){throw te(this,Wi,_(this,Wi)-1),i}return{abort:i=>{s||(s=!0,te(this,Wi,_(this,Wi)-1),r==null||r(i),ne(this,an,bu).call(this))},done:()=>{s||(s=!0,te(this,Wi,_(this,Wi)-1),ne(this,an,bu).call(this))}}},bu=function(){queueMicrotask(()=>ne(this,an,$L).call(this))},$L=function(){if(_(this,Gi)||_(this,Wi)>=this.limit||_(this,ui).length===0)return;const t=_(this,ui).shift();if(t==null)throw new Error("Invariant violation: next is null");const s=ne(this,an,Vb).call(this,t.fn);t.abort=s.abort,t.done=s.done},UL=function(t,s){const r={fn:t,priority:(s==null?void 0:s.priority)||0,abort:()=>{ne(this,an,BL).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=_(this,ui).findIndex(a=>r.priority>a.priority);return i===-1?_(this,ui).push(r):_(this,ui).splice(i,0,r),r},BL=function(t){const s=_(this,ui).indexOf(t);s!==-1&&_(this,ui).splice(s,1)},Mg=new WeakMap,Bc=new WeakMap;const Iue="@uppy/aws-s3",Rue="Upload to Amazon S3 with Uppy",Fue="4.3.2",Oue="MIT",Lue="lib/index.js",$ue="module",Uue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Bue=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],zue="https://uppy.io",Vue={url:"https://github.com/transloadit/uppy/issues"},que={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Hue=["src","lib","dist","CHANGELOG.md"],Wue={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Gue={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Kue={"@uppy/core":"^4.5.2"},Que={name:Iue,description:Rue,version:Fue,license:Oue,main:Lue,type:$ue,scripts:Uue,keywords:Bue,homepage:zue,bugs:Vue,repository:que,files:Hue,dependencies:Wue,devDependencies:Gue,peerDependencies:Kue};function Yue({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:s="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[e,t,s,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const _N=new TextEncoder,TN={name:"HMAC",hash:"SHA-256"};async function Xue(e){const{subtle:t}=globalThis.crypto;return t.digest(TN.hash,_N.encode(e))}async function Zue(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?_N.encode(e):e,TN,!1,["sign"])}function Pk(e){const t=new Uint8Array(e);let s="";for(let r=0;r<t.length;r++)s+=t[r].toString(16).padStart(2,"0");return s}async function lu(e,t){const{subtle:s}=globalThis.crypto;return s.sign(TN,await Zue(e),_N.encode(t))}async function Jue({accountKey:e,accountSecret:t,sessionToken:s,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",h=`${d}.${a}.amazonaws.com`,u=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",p=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=p.slice(0,8),y=`${j}/${a}/${d}/aws4_request`,g=new URL(`https://${h}${u}`);g.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),g.searchParams.set("X-Amz-Content-Sha256",m),g.searchParams.set("X-Amz-Credential",`${e}/${y}`),g.searchParams.set("X-Amz-Date",p),g.searchParams.set("X-Amz-Expires",o),g.searchParams.set("X-Amz-Security-Token",s),g.searchParams.set("X-Amz-SignedHeaders","host"),c&&g.searchParams.set("partNumber",c),l&&g.searchParams.set("uploadId",l),g.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const f=Yue({CanonicalUri:u,CanonicalQueryString:g.search.slice(1),SignedHeaders:{host:h},HashedPayload:m}),b=Pk(await Xue(f)),x=["AWS4-HMAC-SHA256",p,y,b].join(`
`),w=await lu(`AWS4${t}`,j),S=await lu(w,a),N=await lu(S,d),C=await lu(N,"aws4_request"),k=Pk(await lu(C,x));return g.searchParams.set("X-Amz-Signature",k),g}const ehe=1024*1024,Ek={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function the(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const Jp=Symbol("pausing upload, not an actual error");var kr,ir,mi,Ki,Qi,Gh,Kh,zc,sl,Vc,Qh,qc,Yh,Zr,zL,VL,qb,Xh,Zh,qL;class she{constructor(t,s){K(this,Zr);A(this,"options");K(this,kr,new mv);K(this,ir,[]);K(this,mi,[]);K(this,Ki);K(this,Qi);K(this,Gh,!1);K(this,Kh);K(this,zc);K(this,sl);K(this,Vc);K(this,Qh,t=>(t==null?void 0:t.cause)===Jp?null:_(this,Kh).call(this,t));K(this,qc,1e4);K(this,Yh,5*ehe);K(this,Xh,t=>s=>{if(!s.lengthComputable)return;_(this,mi)[t].uploaded=the(s.loaded);const r=_(this,mi).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,_(this,Ki).size)});K(this,Zh,t=>s=>{_(this,ir)[t]=null,_(this,mi)[t].etag=s,_(this,mi)[t].done=!0;const r={PartNumber:t+1,ETag:s};this.options.onPartComplete(r)});var r;this.options={...Ek,...s},(r=this.options).getChunkSize??(r.getChunkSize=Ek.getChunkSize),te(this,Ki,t),te(this,Qi,s.file),te(this,zc,this.options.onSuccess),te(this,Kh,this.options.onError),te(this,sl,this.options.shouldUseMultipart),te(this,Vc,s.uploadId&&s.key),ne(this,Zr,zL).call(this)}start(){_(this,Gh)?(_(this,kr).signal.aborted||_(this,kr).abort(Jp),te(this,kr,new mv),ne(this,Zr,qb).call(this)):_(this,Vc)?(this.options.companionComm.restoreUploadFile(_(this,Qi),{uploadId:this.options.uploadId,key:this.options.key}),ne(this,Zr,qb).call(this)):ne(this,Zr,VL).call(this)}pause(){_(this,kr).abort(Jp),te(this,kr,new mv)}abort(t){t!=null&&t.really?ne(this,Zr,qL).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return _(this,mi)}}kr=new WeakMap,ir=new WeakMap,mi=new WeakMap,Ki=new WeakMap,Qi=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,zc=new WeakMap,sl=new WeakMap,Vc=new WeakMap,Qh=new WeakMap,qc=new WeakMap,Yh=new WeakMap,Zr=new WeakSet,zL=function(){const t=_(this,Ki).size,s=typeof _(this,sl)=="function"?_(this,sl).call(this,_(this,Qi)):!!_(this,sl);if(s&&t>_(this,Yh)){let r=Math.max(this.options.getChunkSize(_(this,Ki)),_(this,Yh)),i=Math.floor(t/r);i>_(this,qc)&&(i=_(this,qc),r=t/_(this,qc)),te(this,ir,Array(i));for(let a=0,o=0;a<t;a+=r,o++){const l=Math.min(t,a+r),c=()=>{const d=a;return _(this,Ki).slice(d,l)};if(_(this,ir)[o]={getData:c,onProgress:_(this,Xh).call(this,o),onComplete:_(this,Zh).call(this,o),shouldUseMultipart:s},_(this,Vc)){const d=a+r>t?t-a:r;_(this,ir)[o].setAsUploaded=()=>{_(this,ir)[o]=null,_(this,mi)[o].uploaded=d}}}}else te(this,ir,[{getData:()=>_(this,Ki),onProgress:_(this,Xh).call(this,0),onComplete:_(this,Zh).call(this,0),shouldUseMultipart:s}]);te(this,mi,_(this,ir).map(()=>({uploaded:0})))},VL=function(){this.options.companionComm.uploadFile(_(this,Qi),_(this,ir),_(this,kr).signal).then(_(this,zc),_(this,Qh)),te(this,Gh,!0)},qb=function(){this.options.companionComm.resumeUploadFile(_(this,Qi),_(this,ir),_(this,kr).signal).then(_(this,zc),_(this,Qh))},Xh=new WeakMap,Zh=new WeakMap,qL=function(){_(this,kr).abort(),this.options.companionComm.abortFileUpload(_(this,Qi)).catch(t=>this.options.log(t))};function nn(e){if(e!=null&&e.aborted)throw LL("The operation was aborted",{cause:e.reason})}function nhe(e){const t=new URL(e);return t.search="",t.hash="",t.href}var Jh,_r,em,tm,sm,nm,Hc,Wc,Gc,Kc,nl,Qc,Tr,_l,HL,Hb;class rhe{constructor(t,s,r,i){K(this,_l);K(this,Jh);K(this,_r,new WeakMap);K(this,em);K(this,tm);K(this,sm);K(this,nm);K(this,Hc);K(this,Wc);K(this,Gc);K(this,Kc);K(this,nl);K(this,Qc);K(this,Tr);te(this,Wc,t),te(this,nl,r),te(this,Tr,i),this.setOptions(s)}setOptions(t){const s=_(this,Wc);"abortMultipartUpload"in t&&te(this,Jh,s.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&te(this,em,s.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&te(this,tm,s.wrapPromiseFunction(t.signPart)),"listParts"in t&&te(this,nm,s.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&te(this,Kc,s.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&te(this,Gc,t.retryDelays??[]),"uploadPartBytes"in t&&te(this,Qc,s.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&te(this,sm,s.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,s){let r;for(;r=_(this,_r).get(t.data),r!=null;)try{return await r}catch{}const i=_(this,em).call(this,_(this,Tr).call(this,t),s),a=()=>{i.abort(s.reason),_(this,_r).delete(t.data)};return s.addEventListener("abort",a,{once:!0}),_(this,_r).set(t.data,i),i.then(async o=>{s.removeEventListener("abort",a),_(this,nl).call(this,t,o),_(this,_r).set(t.data,o)},()=>{s.removeEventListener("abort",a),_(this,_r).delete(t.data)}),i}async abortFileUpload(t){const s=_(this,_r).get(t.data);if(s==null)return;_(this,_r).delete(t.data),_(this,nl).call(this,t,Object.create(null));let r;try{r=await s}catch{return}await _(this,Jh).call(this,_(this,Tr).call(this,t),r)}async uploadFile(t,s,r){if(nn(r),s.length===1&&!s[0].shouldUseMultipart)return ne(this,_l,Hb).call(this,t,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);nn(r);try{const o=await Promise.all(s.map((l,c)=>this.uploadChunk(t,c+1,l,r)));return nn(r),await _(this,Kc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==Jp&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(t),o}}restoreUploadFile(t,s){_(this,_r).set(t.data,s)}async resumeUploadFile(t,s,r){if(nn(r),s.length===1&&s[0]!=null&&!s[0].shouldUseMultipart)return ne(this,_l,Hb).call(this,t,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);nn(r);const o=await _(this,nm).call(this,_(this,Tr).call(this,t),{uploadId:i,key:a,signal:r},r).abortOn(r);nn(r);const l=await Promise.all(s.map((c,d)=>{var m;const h=d+1,u=o.find(({PartNumber:p})=>p===h);return u==null?this.uploadChunk(t,h,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:h,ETag:u.ETag})}));return nn(r),_(this,Kc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(t,s,r,i){nn(i);const{uploadId:a,key:o}=await this.getUploadId(t,i),l=_(this,Gc).values(),c=_(this,Gc).values(),d=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){nn(i);const h=r.getData(),{onProgress:u,onComplete:m}=r;let p;try{p=await _(this,tm).call(this,_(this,Tr).call(this,t),{uploadId:a,key:o,partNumber:s,body:h,signal:i}).abortOn(i)}catch(j){const y=d();if(y==null||i.aborted)throw j;await new Promise(g=>setTimeout(g,y));continue}nn(i);try{return{PartNumber:s,...await _(this,Qc).call(this,{signature:p,body:h,size:h.size,onProgress:u,onComplete:m,signal:i}).abortOn(i)}}catch(j){if(!await ne(this,_l,HL).call(this,j,c))throw j}}}}Jh=new WeakMap,_r=new WeakMap,em=new WeakMap,tm=new WeakMap,sm=new WeakMap,nm=new WeakMap,Hc=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,nl=new WeakMap,Qc=new WeakMap,Tr=new WeakMap,_l=new WeakSet,HL=async function(t,s){var a;const r=_(this,Wc),i=(a=t==null?void 0:t.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&t.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||_(this,Hc)==null){const o=s.next();if(o==null||o.done)return!1;te(this,Hc,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,_(this,Hc)))}}else if(i===429){if(!r.isPaused){const o=s.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=s.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Hb=async function(t,s,r){const{method:i="POST",url:a,fields:o,headers:l}=await _(this,sm).call(this,_(this,Tr).call(this,t),{signal:r}).abortOn(r);let c;const d=s.getData();if(i.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([y,g])=>j.set(y,g)),j.set("file",d),c=j}else c=d;const{onProgress:h,onComplete:u}=s,m=await _(this,Qc).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:h,onComplete:u,signal:r}).abortOn(r),p=o==null?void 0:o.key;return _(this,nl).call(this,t,{key:p}),{...m,location:m.location??nhe(a),bucket:o==null?void 0:o.bucket,key:p}};function Ll(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function Ak(e){const t=e.Expiration;if(t){const s=Math.floor((new Date(t)-Date.now())/1e3);if(s>9)return s}}function Dk({meta:e,allowedMetaFields:t,querify:s=!1}){const r=t??Object.keys(e);return e?Object.fromEntries(r.filter(i=>e[i]!=null).map(i=>{const a=s?`metadata[${i}]`:i,o=String(e[i]);return[a,o]})):{}}const ihe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Yc,xn,As,Gb,Na,Pr,WL,Ig,Xc,GL,KL,rm,Zc,rl,im;const Rg=class Rg extends SO{constructor(s,r){super(s,{...ihe,uploadPartBytes:Rg.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});K(this,As);K(this,Yc);K(this,xn);A(this,"requests");A(this,"uploaderEvents");A(this,"uploaders");K(this,Pr);K(this,Ig,(s,{key:r,uploadId:i})=>{const a=this.uppy.getFile(s.id);a!=null&&this.uppy.setFileState(s.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});K(this,Xc,s=>this.uppy.getFile(s.id)||s);K(this,rm,async s=>{if(s.length===0)return;const r=this.uppy.getFilesByIds(s),i=Eue(r),a=Aue(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;_(this,rl).call(this,!1);const h=new AbortController,u=p=>{p.id===c.id&&h.abort()};this.uppy.on("file-removed",u);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ne(this,As,KL).call(this,c),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",u)},{priority:-1})(),m}return ne(this,As,GL).call(this,c)}),l=await Promise.allSettled(o);return _(this,rl).call(this,!0),l});K(this,Zc,()=>{var s;(s=_(this,xn))==null||s.setCompanionHeaders(this.opts.headers)});K(this,rl,s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:s}})});K(this,im,()=>{_(this,rl).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ne(this,As,Gb).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Mue(this.opts.limit),te(this,Yc,new rhe(this.requests,this.opts,_(this,Ig),_(this,Xc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return _(this,xn)}setOptions(s){_(this,Yc).setOptions(s),super.setOptions(s),ne(this,As,Gb).call(this,s)}resetUploaderReferences(s,r){this.uploaders[s]&&(this.uploaders[s].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[s]=null),this.uploaderEvents[s]&&(this.uploaderEvents[s].remove(),this.uploaderEvents[s]=null)}createMultipartUpload(s,r){ne(this,As,Na).call(this,"createMultipartUpload"),nn(r);const i=_k(this.opts.allowedMetaFields,s.meta),a=Dk({meta:s.meta,allowedMetaFields:i});return _(this,xn).post("s3/multipart",{filename:s.name,type:s.type,metadata:a},{signal:r}).then(Ll)}listParts(s,{key:r,uploadId:i,signal:a},o){a??(a=o),ne(this,As,Na).call(this,"listParts"),nn(a);const l=encodeURIComponent(r);return _(this,xn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Ll)}completeMultipartUpload(s,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),ne(this,As,Na).call(this,"completeMultipartUpload"),nn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return _(this,xn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:h,PartNumber:u})=>({ETag:h,PartNumber:u}))},{signal:o}).then(Ll)}async createSignedURL(s,r){const i=await ne(this,As,WL).call(this,r),a=Ak(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Jue({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${s.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":s.type}}}signPart(s,{uploadId:r,key:i,partNumber:a,signal:o}){if(ne(this,As,Na).call(this,"signPart"),nn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return _(this,xn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Ll)}abortMultipartUpload(s,{key:r,uploadId:i,signal:a}){ne(this,As,Na).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return _(this,xn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Ll)}getUploadParameters(s,r){ne(this,As,Na).call(this,"getUploadParameters");const{meta:i}=s,{type:a,name:o}=i,l=_k(this.opts.allowedMetaFields,s.meta),c=Dk({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return _(this,xn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:s,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:h}){if(nn(h),s==null)throw new Error("Cannot upload to an undefined URL");return new Promise((u,m)=>{const p=new XMLHttpRequest;p.open(a,s,!0),i&&Object.keys(i).forEach(g=>{p.setRequestHeader(g,i[g])}),p.responseType="text",typeof r=="number"&&(p.timeout=r*1e3);function j(){p.abort()}function y(){h==null||h.removeEventListener("abort",j)}h==null||h.addEventListener("abort",j),p.upload.addEventListener("progress",g=>{c(g)}),p.addEventListener("abort",()=>{y(),m(LL())}),p.addEventListener("timeout",()=>{y();const g=new Error("Request has expired");g.source={status:403},m(g)}),p.addEventListener("load",()=>{if(y(),p.status===403&&p.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=p,m(w);return}if(p.status<200||p.status>=300){const w=new Error("Non 2xx");w.source=p,m(w);return}c==null||c({loaded:l,lengthComputable:!0});const g=p.getAllResponseHeaders().trim().split(/[\r\n]+/),f={__proto__:null};for(const w of g){const S=w.split(": "),N=S.shift(),C=S.join(": ");f[N]=C}const{etag:b,location:x}=f;if(a.toUpperCase()==="POST"&&x==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),b==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(b),u({...f,ETag:b})}),p.addEventListener("error",g=>{y();const f=new Error("Unknown error");f.source=g.target,m(f)}),p.send(o)})}install(){_(this,rl).call(this,!0),this.uppy.addPreProcessor(_(this,Zc)),this.uppy.addUploader(_(this,rm)),this.uppy.on("cancel-all",_(this,im))}uninstall(){this.uppy.removePreProcessor(_(this,Zc)),this.uppy.removeUploader(_(this,rm)),this.uppy.off("cancel-all",_(this,im))}};Yc=new WeakMap,xn=new WeakMap,As=new WeakSet,Gb=function(s){s==null||!("endpoint"in s||"companionUrl"in s||"headers"in s||"companionHeaders"in s||"cookiesRule"in s||"companionCookiesRule"in s)||("companionUrl"in s&&!("endpoint"in s)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in s&&!("headers"in s)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in s&&!("cookiesRule"in s)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in s?te(this,xn,new OL(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in s&&_(this,Zc).call(this),"cookiesRule"in s&&(_(this,xn).opts.companionCookiesRule=s.cookiesRule)))},Na=function(s){if(!_(this,xn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${s}\` implementation.`)},Pr=new WeakMap,WL=async function(s){if(nn(s==null?void 0:s.signal),_(this,Pr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(ne(this,As,Na).call(this,"getTemporarySecurityCredentials"),te(this,Pr,_(this,xn).get("s3/sts",s).then(Ll))):te(this,Pr,r(s)),te(this,Pr,await _(this,Pr)),setTimeout(()=>{te(this,Pr,null)},(Ak(_(this,Pr).credentials)||0)*500)}return _(this,Pr)},Ig=new WeakMap,Xc=new WeakMap,GL=function(s){return new Promise((r,i)=>{const a=(h,u)=>{const m=this.uppy.getFile(s.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:u})},o=h=>{this.uppy.log(h),this.uppy.emit("upload-error",s,h),this.resetUploaderReferences(s.id),i(h)},l=h=>{const u={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(s.id),this.uppy.emit("upload-success",_(this,Xc).call(this,s),u),h.location&&this.uppy.log(`Download ${s.name} from ${h.location}`),r(void 0)},c=new she(s.data,{companionComm:_(this,Yc),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",_(this,Xc).call(this,s),h)},file:s,shouldUseMultipart:this.opts.shouldUseMultipart,...s.s3Multipart});this.uploaders[s.id]=c;const d=new Pue(this.uppy);this.uploaderEvents[s.id]=d,d.onFileRemove(s.id,h=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${h} was removed`)}),d.onCancelAll(s.id,()=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${s.id} was canceled`)}),d.onFilePause(s.id,h=>{h?c.pause():c.start()}),d.onPauseAll(s.id,()=>{c.pause()}),d.onResumeAll(s.id,()=>{c.start()}),c.start()})},KL=function(s){var r;return{...(r=s.remote)==null?void 0:r.body,protocol:"s3-multipart",size:s.data.size,metadata:s.meta}},rm=new WeakMap,Zc=new WeakMap,rl=new WeakMap,im=new WeakMap,A(Rg,"VERSION",Que.version);let Wb=Rg;function ahe({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:s,onComplete:r,buttonClassName:i,children:a}){const[o,l]=v.useState(!1),[c]=v.useState(()=>new Nb({restrictions:{maxNumberOfFiles:e,maxFileSize:t,allowedFileTypes:["image/*"]},autoProceed:!1}).use(Wb,{shouldUseMultipart:!1,getUploadParameters:s}).on("complete",d=>{r==null||r(d),l(!1)}));return n.jsxs("div",{children:[n.jsx(E,{type:"button",onClick:()=>l(!0),className:i,variant:"outline",children:a}),n.jsx(IL,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}const Mk=[{value:"insurance",label:"Insurance",icon:is},{value:"medical",label:"Medical",icon:ot},{value:"vehicle",label:"Vehicle",icon:M0},{value:"financial",label:"Financial",icon:uo},{value:"personal",label:"Personal",icon:Ff},{value:"emergency",label:"Emergency",icon:Xt}];function ohe(){const[e,t]=v.useState(!1),[s,r]=v.useState("text"),[i,a]=v.useState(""),{toast:o}=ut(),l=Jt(),{data:c=[],isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/personal-documents"],staleTime:0,gcTime:0,queryFn:async()=>{console.log("=== FRONTEND: Fetching documents ===");const f=await fetch("/api/personal-documents",{credentials:"include"});if(!f.ok)throw console.error("=== FRONTEND: Fetch error ===",f.status,f.statusText),new Error(`${f.status}: ${f.statusText}`);const b=await f.json();return console.log("=== FRONTEND: Raw API response ===",b),b}});console.log("=== FRONTEND: Documents state ===",{documents:c,length:(c==null?void 0:c.length)||0,isLoading:d,error:u==null?void 0:u.message});const m=Ce({mutationFn:async f=>{console.log("=== FRONTEND: Creating document ===",f);try{const x=await(await ve("POST","/api/personal-documents",f)).json();return console.log("=== FRONTEND: API Response ===",x),x}catch(b){throw console.error("=== FRONTEND: API Error ===",b),b}},onSuccess:f=>{console.log("=== FRONTEND: Success callback ===",f),l.invalidateQueries({queryKey:["/api/personal-documents"]}),l.removeQueries({queryKey:["/api/personal-documents"]}),t(!1),p.reset(),r("text"),a(""),o({title:"Success",description:"Document saved successfully!"}),setTimeout(()=>{h()},100)},onError:f=>{console.error("=== FRONTEND: Error callback ===",f),o({title:"Error",description:`Failed to save document: ${f.message}`,variant:"destructive"})}}),p=Ut({resolver:zt(Dee),defaultValues:{title:"",category:"personal",description:"",documentType:"text",content:"",imageUrl:"",linkUrl:"",tags:[],isImportant:!1}}),j=f=>{console.log("=== FRONTEND: Form submission started ===",f),console.log("=== FRONTEND: Form errors ===",p.formState.errors),console.log("=== FRONTEND: Form is valid ===",p.formState.isValid);const b={...f,description:f.description||"",tags:f.tags||[],documentType:s,imageUrl:s==="image"?i:"",linkUrl:s==="link"?f.linkUrl:"",content:s==="text"?f.content:s==="image"?`Image: ${f.title}`:s==="link"?`Link: ${f.linkUrl}`:f.content||""};console.log("=== FRONTEND: Processed data ===",b),m.mutate(b)},y=async f=>{try{if(f.successful&&f.successful.length>0){const b=f.successful[0].uploadURL;a(b||""),await ve("PUT","/api/personal-documents/set-image",{imageURL:b}),o({title:"Success",description:"Image uploaded successfully!"})}}catch(b){console.error("Error handling image upload:",b),o({title:"Error",description:"Failed to process image upload",variant:"destructive"})}},g=async()=>{try{return{method:"PUT",url:(await(await ve("POST","/api/personal-documents/upload")).json()).uploadURL}}catch(f){throw console.error("Error getting upload parameters:",f),f}};return d?n.jsx("div",{className:"p-6",children:"Loading..."}):n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Personal Documents"}),n.jsx("p",{className:"text-gray-600",children:"Store important information you need to remember"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Document"]})}),n.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Document"})}),n.jsx(Bt,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(j),className:"space-y-4",children:[n.jsx(Z,{control:p.control,name:"title",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Title *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Document title...",...f})}),n.jsx(se,{})]})}),n.jsx(Z,{control:p.control,name:"category",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category *"}),n.jsxs(Ge,{onValueChange:f.onChange,defaultValue:f.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsx(We,{children:Mk.map(b=>n.jsx(B,{value:b.value,children:b.label},b.value))})]}),n.jsx(se,{})]})}),n.jsxs(Y,{children:[n.jsx(Q,{children:"Document Type *"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{type:"button",variant:s==="text"?"default":"outline",size:"sm",onClick:()=>r("text"),children:[n.jsx(ol,{className:"w-4 h-4 mr-2"}),"Text"]}),n.jsxs(E,{type:"button",variant:s==="image"?"default":"outline",size:"sm",onClick:()=>r("image"),children:[n.jsx(ih,{className:"w-4 h-4 mr-2"}),"Image"]}),n.jsxs(E,{type:"button",variant:s==="link"?"default":"outline",size:"sm",onClick:()=>r("link"),children:[n.jsx(v9,{className:"w-4 h-4 mr-2"}),"Link"]})]})]}),s==="text"&&n.jsx(Z,{control:p.control,name:"content",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Information *"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Enter the information you want to save...",className:"min-h-[100px]",...f})}),n.jsx(se,{})]})}),s==="image"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Q,{children:"Upload Image"}),n.jsxs("div",{className:"mt-2",children:[n.jsxs(ahe,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:g,onComplete:y,buttonClassName:"w-full",children:[n.jsx(ih,{className:"w-4 h-4 mr-2"}),i?"Change Image":"Upload Image"]}),i&&n.jsx("p",{className:"text-sm text-green-600 mt-2",children:"✓ Image uploaded successfully"})]})]}),n.jsx(Z,{control:p.control,name:"content",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Add a description for this image...",className:"min-h-[60px]",...f})}),n.jsx(se,{})]})})]}),s==="link"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z,{control:p.control,name:"linkUrl",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website URL *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://example.com",type:"url",...f})}),n.jsx(se,{})]})}),n.jsx(Z,{control:p.control,name:"content",render:({field:f})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"Add a description for this link...",className:"min-h-[60px]",...f})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:p.control,name:"isImportant",render:({field:f})=>n.jsxs(Y,{className:"flex flex-row items-center space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx("input",{type:"checkbox",checked:f.value,onChange:f.onChange,className:"h-4 w-4"})}),n.jsx(Q,{children:"Mark as Important"}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:m.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",onClick:f=>{if(console.log("=== FRONTEND: Save button clicked ==="),console.log("=== FRONTEND: Form valid? ===",p.formState.isValid),console.log("=== FRONTEND: Form values ===",p.getValues()),console.log("=== FRONTEND: Form errors ===",p.formState.errors),!p.formState.isValid){console.log("=== FRONTEND: Forcing submission despite validation errors ===");const b=p.getValues();j(b),f.preventDefault()}},children:m.isPending?"Saving...":"Save Document"})]})]})})]})]})]}),n.jsx("div",{className:"grid gap-4",children:c.length===0?n.jsx($,{className:"text-center py-12",children:n.jsxs(H,{children:[n.jsx(ol,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No documents yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first personal document to get started"})]})}):c.map(f=>{const b=Mk.find(w=>w.value===f.category),x=(b==null?void 0:b.icon)||ol;return n.jsxs($,{children:[n.jsx(le,{children:n.jsx(ce,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(x,{className:"w-5 h-5 mr-2"}),f.title,f.isImportant&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Important"})]})})}),n.jsxs(H,{children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Category: ",(b==null?void 0:b.label)||f.category]}),f.documentType==="image"&&f.imageUrl&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:f.imageUrl,alt:f.title,className:"max-w-full h-auto rounded border",style:{maxHeight:"200px"}}),f.content&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("p",{className:"text-sm",children:f.content})})]}),f.documentType==="link"&&f.linkUrl&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:f.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 underline",children:[n.jsx(hx,{className:"w-4 h-4 mr-1"}),"Open Link"]}),f.content&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("p",{className:"text-sm",children:f.content})})]}),f.documentType==="text"&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:f.content})})]})]},f.id)})})]})}const Ik=[{value:"privilege",label:"Privilege",icon:Ht,color:"bg-yellow-100 text-yellow-800"},{value:"item",label:"Item/Purchase",icon:E9,color:"bg-blue-100 text-blue-800"},{value:"activity",label:"Activity/Experience",icon:Xs,color:"bg-green-100 text-green-800"},{value:"money",label:"Money/Allowance",icon:Ti,color:"bg-purple-100 text-purple-800"},{value:"special",label:"Special Treat",icon:ot,color:"bg-pink-100 text-pink-800"}],lhe=[{value:"immediate",label:"Immediate"},{value:"delayed",label:"Delayed"},{value:"recurring",label:"Recurring"}],che=ws({userId:Bs(),title:Ae().min(1,"Title is required"),description:Ae().min(1,"Description is required"),pointsRequired:Bs().min(1,"Points must be at least 1"),category:Ae().min(1,"Category is required"),rewardType:Ae().min(1,"Type is required"),value:Ae().optional(),maxRedemptions:Bs().optional(),iconName:Ae().default("gift"),color:Ae().default("#3b82f6")});function dhe(){const{toast:e}=ut(),t=Jt(),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),{data:c,isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/rewards"],queryFn:async()=>{console.log("=== CUSTOM QUERY FUNCTION ===");const C=await fetch("/api/rewards",{credentials:"include",headers:{"Cache-Control":"no-cache"}});if(console.log("Custom query response status:",C.status),!C.ok){const T=await C.text();throw console.error("Custom query failed:",C.status,T),new Error(`${C.status}: ${T}`)}const k=await C.json();return console.log("Custom query response data:",k),console.log("Data is array:",Array.isArray(k)),console.log("Data length:",k==null?void 0:k.length),k},staleTime:0,gcTime:0,refetchOnMount:"always",retry:!1}),m=Array.isArray(c)?c:[];console.log("=== FRONTEND REWARDS DEBUG ==="),console.log("Query isLoading:",d),console.log("Query error:",u),console.log("Rewards data from API:",c),console.log("Processed rewards array:",m),console.log("Rewards array length:",m.length),v.useEffect(()=>{!d&&!c&&!u&&(console.log("Force refetching rewards - no data, no error, not loading"),h())},[d,c,u,h]);const{data:p,isLoading:j}=xe({queryKey:["/api/points/balance"]}),{data:y=[],isLoading:g}=xe({queryKey:["/api/points/transactions"]}),f=Ce({mutationFn:async C=>await ve("POST","/api/rewards",C),onSuccess:async C=>{console.log("Reward created successfully:",C),t.removeQueries({queryKey:["/api/rewards"]}),await t.refetchQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/rewards"]}),r(!1),x.reset(),e({title:"Success",description:"Reward created successfully!"})},onError:C=>{console.error("Reward creation error:",C),e({title:"Error",description:"Failed to create reward",variant:"destructive"})}}),b=Ce({mutationFn:async C=>await ve("POST","/api/rewards/redeem",C),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/points/balance"]}),t.invalidateQueries({queryKey:["/api/points/transactions"]}),a(!1),l(null),e({title:"Success",description:"Reward redeemed! Waiting for caregiver approval."})},onError:C=>{e({title:"Error",description:"Failed to redeem reward",variant:"destructive"})}}),x=Ut({resolver:zt(che),defaultValues:{userId:1,title:"",description:"",pointsRequired:10,category:"",rewardType:"immediate",value:"",maxRedemptions:void 0,iconName:"gift",color:"#3b82f6"}}),w=C=>{f.mutate(C)},S=C=>{if(!p||p.availablePoints<C.pointsRequired){e({title:"Not enough points",description:`You need ${C.pointsRequired} points but only have ${(p==null?void 0:p.availablePoints)||0}.`,variant:"destructive"});return}l(C),a(!0)},N=()=>{o&&b.mutate({rewardId:o.id,pointsSpent:o.pointsRequired,status:"pending"})};return d||j?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(C=>n.jsx("div",{className:"h-48 bg-gray-200 rounded"},C))})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(po,{className:"w-8 h-8 text-yellow-500"}),"Rewards & Points"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Earn points and redeem amazing rewards!"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx($,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fS,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-90",children:"Available Points"}),n.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.availablePoints)||0})]})]})})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Reward"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto","aria-describedby":"create-reward-description",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create New Reward"}),n.jsx("p",{id:"create-reward-description",className:"text-sm text-gray-600",children:"Set up a new reward for users to earn with their points"})]}),n.jsx(Bt,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(w),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:x.control,name:"title",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Reward Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Extra screen time",...C})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"description",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(lt,{placeholder:"30 minutes of extra screen time on weekends",...C})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:x.control,name:"pointsRequired",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Points Required"}),n.jsx(J,{children:n.jsx(q,{type:"number",...C,onChange:k=>C.onChange(parseInt(k.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"category",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:C.onChange,defaultValue:C.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsx(We,{children:Ik.map(k=>n.jsx(B,{value:k.value,children:k.label},k.value))})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:x.control,name:"rewardType",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Type"}),n.jsxs(Ge,{onValueChange:C.onChange,defaultValue:C.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select type"})})}),n.jsx(We,{children:lhe.map(k=>n.jsx(B,{value:k.value,children:k.label},k.value))})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"value",render:({field:C})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Value (optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"$10 or 30 minutes",...C})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:f.isPending,className:"bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:f.isPending?"Creating...":"Create Reward"})]})]})})]})]})})]})]}),n.jsxs(Cn,{defaultValue:"rewards",className:"w-full",children:[n.jsxs(dn,{className:"grid w-full grid-cols-3",children:[n.jsx(Ve,{value:"rewards",children:"Available Rewards"}),n.jsx(Ve,{value:"progress",children:"My Progress"}),n.jsx(Ve,{value:"history",children:"Point History"})]}),n.jsx(qe,{value:"rewards",className:"space-y-4",children:m.length===0?n.jsx($,{className:"text-center py-12",children:n.jsxs(H,{children:[n.jsx(yS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No rewards available yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Ask your caregiver to create some exciting rewards for you!"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(C=>{const k=Ik.find(P=>P.value===C.category),T=(k==null?void 0:k.icon)||yS,D=((p==null?void 0:p.availablePoints)||0)>=C.pointsRequired;return n.jsxs($,{className:`relative ${D?"ring-2 ring-green-200":"opacity-75"}`,children:[n.jsx(le,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{className:"w-5 h-5",style:{color:C.color}}),n.jsx(ce,{className:"text-lg",children:C.title})]}),k&&n.jsx(me,{variant:"secondary",className:k.color,children:k.label})]})}),n.jsxs(H,{className:"space-y-3",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:C.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(fS,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{className:"font-semibold",children:C.pointsRequired}),n.jsx("span",{className:"text-sm text-gray-500",children:"points"})]}),C.value&&n.jsxs("span",{className:"text-sm text-gray-500",children:["Value: ",C.value]})]}),n.jsx(E,{onClick:()=>S(C),disabled:!D||b.isPending,className:"w-full",variant:D?"default":"secondary",children:D?"Redeem":"Not enough points"})]})]},C.id)})})}),n.jsx(qe,{value:"progress",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"w-5 h-5 text-yellow-500"}),"Points Summary"]})}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Earned:"}),n.jsx("span",{className:"font-semibold",children:(p==null?void 0:p.totalEarned)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Spent:"}),n.jsx("span",{className:"font-semibold",children:(p==null?void 0:p.totalSpent)||0})]}),n.jsxs("div",{className:"flex justify-between text-lg",children:[n.jsx("span",{children:"Available:"}),n.jsx("span",{className:"font-bold text-green-600",children:(p==null?void 0:p.availablePoints)||0})]})]})]}),n.jsxs($,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-5 h-5 text-blue-500"}),"Next Milestone"]})}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold",children:"100 Points"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Special Achievement Badge"})]}),n.jsx(Dn,{value:((p==null?void 0:p.totalEarned)||0)%100,className:"w-full"}),n.jsxs("p",{className:"text-sm text-center text-gray-500",children:[100-((p==null?void 0:p.totalEarned)||0)%100," points to go!"]})]})]})]})}),n.jsx(qe,{value:"history",className:"space-y-4",children:g?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(C=>n.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},C))}):y.length===0?n.jsx($,{className:"text-center py-12",children:n.jsxs(H,{children:[n.jsx(js,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No point history yet"}),n.jsx("p",{className:"text-gray-600",children:"Start completing tasks to earn your first points!"})]})}):n.jsx("div",{className:"space-y-2",children:y.map(C=>n.jsx($,{children:n.jsx(H,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:C.description}),n.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(C.createdAt).toLocaleDateString()," • Source: ",C.source]})]}),n.jsxs("div",{className:`text-lg font-bold ${C.points>0?"text-green-600":"text-red-600"}`,children:[C.points>0?"+":"",C.points]})]})})},C.id))})})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto","aria-describedby":"redeem-reward-description",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Confirm Reward Redemption"}),n.jsx("p",{id:"redeem-reward-description",className:"text-sm text-gray-600",children:"Review and confirm your reward redemption details"})]}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:o.title}),n.jsx("p",{className:"text-gray-600",children:o.description})]}),n.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Cost:"})," ",o.pointsRequired," points",n.jsx("br",{}),n.jsx("strong",{children:"Your balance after:"})," ",((p==null?void 0:p.availablePoints)||0)-o.pointsRequired," points"]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(E,{onClick:N,disabled:b.isPending,children:b.isPending?"Redeeming...":"Confirm Redemption"})]})]})]})})]})}if(typeof window<"u"){const e=he;if(e&&e.useRef){const t=e.useRef;he.useRef=function(s){try{return t(s)}catch{return{current:s}}}}}const uhe=console.error;console.error=(...e)=>{const t=e.join(" ");if(t.includes("Failed to load Stripe")||t.includes("stripe")||t.includes("Cannot read properties of null (reading 'useRef')")||t.includes("useRef")){console.warn("Runtime error suppressed:",t);return}uhe.apply(console,e)};window.addEventListener("error",e=>{var t,s,r,i,a;if((t=e.message)!=null&&t.includes("Failed to load Stripe")||(s=e.message)!=null&&s.includes("stripe")||(r=e.message)!=null&&r.includes("Cannot read properties of null (reading 'useRef')")||(i=e.message)!=null&&i.includes("useRef")||(a=e.filename)!=null&&a.includes("stripe"))return e.stopImmediatePropagation(),e.preventDefault(),!1});window.addEventListener("unhandledrejection",e=>{if(String(e.reason).includes("Stripe")||String(e.reason).includes("stripe")||String(e.reason).includes("useRef")||String(e.reason).includes("Cannot read properties of null"))return e.stopImmediatePropagation(),e.preventDefault(),!1});function hhe(){const[e]=Ln();return Ri(),n.jsx(sie,{children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100",children:[!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&n.jsx(jV,{}),n.jsxs(bV,{children:[n.jsx(Nt,{path:"/",component:Zy}),n.jsx(Nt,{path:"/landing",component:Zy}),n.jsx(Nt,{path:"/debug-landing.html",component:Zy}),n.jsx(Nt,{path:"/login",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n.jsx(hse,{}):n.jsx(Jre,{})}),n.jsx(Nt,{path:"/register",component:eie}),n.jsx(Nt,{path:"/demo",component:Z2}),n.jsx(Nt,{path:"/dashboard",children:n.jsx(cs,{children:n.jsx(Z2,{})})}),n.jsx(Nt,{path:"/subscription",children:n.jsx(cs,{children:n.jsx(bC,{})})}),n.jsx(Nt,{path:"/direct-payment",children:n.jsx(cs,{children:n.jsx(Zre,{})})}),n.jsx(Nt,{path:"/daily-tasks",children:n.jsx(cs,{children:n.jsx(zte,{})})}),n.jsx(Nt,{path:"/task-reminders",component:()=>n.jsx(cs,{children:n.jsx(he.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:he.createElement(he.lazy(()=>SS(()=>import("./task-reminders-DjptzItt.js"),[])))})})}),n.jsx(Nt,{path:"/financial",children:n.jsx(cs,{children:n.jsx(Gte,{})})}),n.jsx(Nt,{path:"/mood-tracking",children:n.jsx(cs,{children:n.jsx(Kte,{})})}),n.jsx(Nt,{path:"/calendar",children:n.jsx(cs,{children:n.jsx(dre,{})})}),n.jsx(Nt,{path:"/medical",children:n.jsx(cs,{children:n.jsx(Ine,{})})}),n.jsx(Nt,{path:"/meal-shopping",children:n.jsx(cs,{children:n.jsx(Lne,{})})}),n.jsx(Nt,{path:"/pharmacy",children:n.jsx(cs,{children:n.jsx($ne,{})})}),n.jsx(Nt,{path:"/academic-planner",children:n.jsx(cs,{children:n.jsx(Une,{})})}),n.jsx(Nt,{path:"/skills-milestones",children:n.jsx(cs,{children:n.jsx(Bne,{})})}),n.jsx(Nt,{path:"/task-builder",component:()=>n.jsx(cs,{children:n.jsx(he.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:he.createElement(he.lazy(()=>SS(()=>import("./task-builder-C9e_2If2.js"),[])))})})}),n.jsx(Nt,{path:"/rewards",component:()=>n.jsx(cs,{children:n.jsx(he.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:n.jsx(dhe,{})})})}),n.jsx(Nt,{path:"/resources",children:n.jsx(cs,{children:n.jsx(ese,{})})}),n.jsx(Nt,{path:"/caregiver",children:n.jsx(cs,{children:n.jsx(nse,{})})}),n.jsx(Nt,{path:"/caregiver-setup",children:n.jsx(cs,{children:n.jsx(ase,{})})}),n.jsx(Nt,{path:"/invite",component:mse}),n.jsx(Nt,{path:"/accept-invitation",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n.jsx(use,{}):n.jsx(dse,{})}),n.jsx(Nt,{path:"/caregiver-dashboard",children:n.jsx(cs,{children:n.jsx(qne,{})})}),n.jsx(Nt,{path:"/admin",children:n.jsx(jC,{children:n.jsx(hC,{})})}),n.jsx(Nt,{path:"/admin-dashboard",children:n.jsx(jC,{children:n.jsx(hC,{})})}),n.jsx(Nt,{path:"/settings",children:n.jsx(cs,{children:n.jsx(cre,{})})}),n.jsx(Nt,{path:"/features",children:n.jsx(ure,{})}),n.jsx(Nt,{path:"/subscription",children:n.jsx(cs,{children:n.jsx(bC,{})})}),n.jsx(Nt,{path:"/personal-documents",component:()=>n.jsx(cs,{children:n.jsx(he.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:n.jsx(ohe,{})})})}),n.jsx(Nt,{path:"*",component:CV})]}),!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&n.jsx(NV,{}),n.jsx(tie,{})]})})}console.log("Starting Adaptalyfe app...");console.log("React version:",he.version);console.log("Current URL:",window.location.href);console.log("User agent:",navigator.userAgent);console.log("Screen size:",screen.width,"x",screen.height);const QL=document.getElementById("root");if(!QL)throw new Error("Failed to find the root element");const ef=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Mobile device detected:",ef);!window.URLSearchParams&&window.URL&&(console.log("Adding URLSearchParams polyfill for mobile"),window.URLSearchParams=function(e){const t={};return e&&e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(s,r,i){return t[r]=decodeURIComponent(i),s}),this.get=function(s){return t[s]||null},this});try{const e=BA(QL);if(console.log("Creating React root and rendering app..."),ef){console.log("Applying mobile-specific optimizations");const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")}e.render(n.jsx(H7,{client:gs,children:n.jsxs(G5,{children:[n.jsx(hhe,{}),n.jsx(U9,{})]})})),console.log("App rendered successfully")}catch(e){console.error("Error rendering app:",e);const t=e instanceof Error?e.message:String(e),s=ef?`Mobile device: ${navigator.userAgent}. Error: ${t}`:`Desktop device. Error: ${t}`;document.body.innerHTML=`
    <div style="min-height: 100vh; background: linear-gradient(to bottom right, #e0f2fe, #f3e8ff, #f0fdfa); display: flex; align-items: center; justify-content: center; padding: 1rem;">
      <div style="text-align: center; background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); max-width: 90vw; width: 28rem;">
        <h2 style="font-size: 1.5rem; font-weight: bold; color: #dc2626; margin-bottom: 1rem;">App Loading Error</h2>
        <p style="color: #4b5563; margin-bottom: 1rem;">Failed to start the application on ${ef?"mobile":"desktop"} device.</p>
        <div style="background: #f3f4f6; padding: 1rem; border-radius: 0.25rem; margin-bottom: 1rem; font-size: 0.875rem; text-align: left; overflow-wrap: break-word;">
          ${s}
        </div>
        <button onclick="window.location.reload()" style="background: #2563eb; color: white; padding: 0.75rem 1.5rem; border-radius: 0.25rem; border: none; cursor: pointer; font-size: 1rem;">
          Reload Page
        </button>
      </div>
    </div>
  `}export{cd as A,E as B,$ as C,Du as L,mo as S,Cn as T,xe as a,Ce as b,le as c,ce as d,at as e,H as f,Ls as g,js as h,Lt as i,n as j,h9 as k,me as l,ve as m,ae as n,is as o,dn as p,gs as q,v as r,Ve as s,qe as t,ut as u,uw as v,Hr as w,A9 as x,uc as y};
