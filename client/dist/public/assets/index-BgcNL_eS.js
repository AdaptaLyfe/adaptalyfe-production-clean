var n8=Object.defineProperty;var RN=e=>{throw TypeError(e)};var r8=(e,t,n)=>t in e?n8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>r8(e,typeof t!="symbol"?t+"":t,n),Bx=(e,t,n)=>t.has(e)||RN("Cannot "+n);var _=(e,t,n)=>(Bx(e,t,"read from private field"),n?n.call(e):t.get(e)),K=(e,t,n)=>t.has(e)?RN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),te=(e,t,n,r)=>(Bx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ne=(e,t,n)=>(Bx(e,t,"access private method"),n);var Am=(e,t,n,r)=>({set _(i){te(e,t,i,n)},get _(){return _(e,t,r)}});function i8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A4={exports:{}},Og={},D4={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),a8=Symbol.for("react.portal"),o8=Symbol.for("react.fragment"),l8=Symbol.for("react.strict_mode"),c8=Symbol.for("react.profiler"),d8=Symbol.for("react.provider"),u8=Symbol.for("react.context"),h8=Symbol.for("react.forward_ref"),m8=Symbol.for("react.suspense"),p8=Symbol.for("react.memo"),f8=Symbol.for("react.lazy"),FN=Symbol.iterator;function g8(e){return e===null||typeof e!="object"?null:(e=FN&&e[FN]||e["@@iterator"],typeof e=="function"?e:null)}var M4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I4=Object.assign,R4={};function Sd(e,t,n){this.props=e,this.context=t,this.refs=R4,this.updater=n||M4}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F4(){}F4.prototype=Sd.prototype;function Qb(e,t,n){this.props=e,this.context=t,this.refs=R4,this.updater=n||M4}var Yb=Qb.prototype=new F4;Yb.constructor=Qb;I4(Yb,Sd.prototype);Yb.isPureReactComponent=!0;var ON=Array.isArray,O4=Object.prototype.hasOwnProperty,Xb={current:null},L4={key:!0,ref:!0,__self:!0,__source:!0};function $4(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)O4.call(t,r)&&!L4.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:om,type:e,key:a,ref:o,props:i,_owner:Xb.current}}function x8(e,t){return{$$typeof:om,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zb(e){return typeof e=="object"&&e!==null&&e.$$typeof===om}function y8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LN=/\/+/g;function zx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y8(""+e.key):t.toString(36)}function Cp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case om:case a8:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+zx(o,0):r,ON(i)?(n="",e!=null&&(n=e.replace(LN,"$&/")+"/"),Cp(i,t,n,"",function(d){return d})):i!=null&&(Zb(i)&&(i=x8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(LN,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ON(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+zx(a,l);o+=Cp(a,t,n,c,i)}else if(c=g8(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+zx(a,l++),o+=Cp(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mm(e,t,n){if(e==null)return e;var r=[],i=0;return Cp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function v8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},kp={transition:null},b8={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:kp,ReactCurrentOwner:Xb};function U4(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Mm,forEach:function(e,t,n){Mm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mm(e,function(){t++}),t},toArray:function(e){return Mm(e,function(t){return t})||[]},only:function(e){if(!Zb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Sd;jt.Fragment=o8;jt.Profiler=c8;jt.PureComponent=Qb;jt.StrictMode=l8;jt.Suspense=m8;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b8;jt.act=U4;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=I4({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Xb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O4.call(t,c)&&!L4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:om,type:e.type,key:i,ref:a,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:u8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d8,_context:e},e.Consumer=e};jt.createElement=$4;jt.createFactory=function(e){var t=$4.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:h8,render:e}};jt.isValidElement=Zb;jt.lazy=function(e){return{$$typeof:f8,_payload:{_status:-1,_result:e},_init:v8}};jt.memo=function(e,t){return{$$typeof:p8,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=kp.transition;kp.transition={};try{e()}finally{kp.transition=t}};jt.unstable_act=U4;jt.useCallback=function(e,t){return Cn.current.useCallback(e,t)};jt.useContext=function(e){return Cn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Cn.current.useEffect(e,t)};jt.useId=function(){return Cn.current.useId()};jt.useImperativeHandle=function(e,t,n){return Cn.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Cn.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return Cn.current.useReducer(e,t,n)};jt.useRef=function(e){return Cn.current.useRef(e)};jt.useState=function(e){return Cn.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return Cn.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return Cn.current.useTransition()};jt.version="18.3.1";D4.exports=jt;var b=D4.exports;const me=Mi(b),B4=i8({__proto__:null,default:me},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8=b,w8=Symbol.for("react.element"),N8=Symbol.for("react.fragment"),S8=Object.prototype.hasOwnProperty,C8=j8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k8={key:!0,ref:!0,__self:!0,__source:!0};function z4(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)S8.call(t,r)&&!k8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:w8,type:e,key:a,ref:o,props:i,_owner:C8.current}}Og.Fragment=N8;Og.jsx=z4;Og.jsxs=z4;A4.exports=Og;var s=A4.exports,V4={exports:{}},tr={},q4={exports:{}},H4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,$){var oe=H.length;H.push($);e:for(;0<oe;){var be=oe-1>>>1,st=H[be];if(0<i(st,$))H[be]=$,H[oe]=st,oe=be;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],oe=H.pop();if(oe!==$){H[0]=oe;e:for(var be=0,st=H.length,_t=st>>>1;be<_t;){var Ft=2*(be+1)-1,ps=H[Ft],Xt=Ft+1,Be=H[Xt];if(0>i(ps,oe))Xt<st&&0>i(Be,ps)?(H[be]=Be,H[Xt]=oe,be=Xt):(H[be]=ps,H[Ft]=oe,be=Ft);else if(Xt<st&&0>i(Be,oe))H[be]=Be,H[Xt]=oe,be=Xt;else break e}}return $}function i(H,$){var oe=H.sortIndex-$.sortIndex;return oe!==0?oe:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,m=3,f=!1,j=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=H)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(d)}}function w(H){if(x=!1,v(H),!j)if(n(c)!==null)j=!0,re(C);else{var $=n(d);$!==null&&fe(w,$.startTime-H)}}function C(H,$){j=!1,x&&(x=!1,p(k),k=-1),f=!0;var oe=m;try{for(v($),u=n(c);u!==null&&(!(u.expirationTime>$)||H&&!P());){var be=u.callback;if(typeof be=="function"){u.callback=null,m=u.priorityLevel;var st=be(u.expirationTime<=$);$=e.unstable_now(),typeof st=="function"?u.callback=st:u===n(c)&&r(c),v($)}else r(c);u=n(c)}if(u!==null)var _t=!0;else{var Ft=n(d);Ft!==null&&fe(w,Ft.startTime-$),_t=!1}return _t}finally{u=null,m=oe,f=!1}}var N=!1,S=null,k=-1,T=5,D=-1;function P(){return!(e.unstable_now()-D<T)}function M(){if(S!==null){var H=e.unstable_now();D=H;var $=!0;try{$=S(!0,H)}finally{$?X():(N=!1,S=null)}}else N=!1}var X;if(typeof y=="function")X=function(){y(M)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=M,X=function(){F.postMessage(null)}}else X=function(){g(M,0)};function re(H){S=H,N||(N=!0,X())}function fe(H,$){k=g(function(){H(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||f||(j=!0,re(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var oe=m;m=$;try{return H()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=m;m=H;try{return $()}finally{m=oe}},e.unstable_scheduleCallback=function(H,$,oe){var be=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,H){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=oe+st,H={id:h++,callback:$,priorityLevel:H,startTime:oe,expirationTime:st,sortIndex:-1},oe>be?(H.sortIndex=oe,t(d,H),n(c)===null&&H===n(d)&&(x?(p(k),k=-1):x=!0,fe(w,oe-be))):(H.sortIndex=st,t(c,H),j||f||(j=!0,re(C))),H},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(H){var $=m;return function(){var oe=m;m=$;try{return H.apply(this,arguments)}finally{m=oe}}}})(H4);q4.exports=H4;var _8=q4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8=b,er=_8;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W4=new Set,Uu={};function Tl(e,t){ed(e,t),ed(e+"Capture",t)}function ed(e,t){for(Uu[e]=t,e=0;e<t.length;e++)W4.add(t[e])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xv=Object.prototype.hasOwnProperty,P8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$N={},UN={};function E8(e){return xv.call(UN,e)?!0:xv.call($N,e)?!1:P8.test(e)?UN[e]=!0:($N[e]=!0,!1)}function A8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D8(e,t,n,r){if(t===null||typeof t>"u"||A8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Js[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Js[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Js[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Js[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Js[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Js[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Js[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Js[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Js[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jb=/[\-:]([a-z])/g;function ej(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jb,ej);Js[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jb,ej);Js[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jb,ej);Js[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Js[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});Js.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Js[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function tj(e,t,n,r){var i=Js.hasOwnProperty(t)?Js[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D8(t,n,i,r)&&(n=null),r||i===null?E8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ha=T8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Im=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),sj=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),G4=Symbol.for("react.provider"),K4=Symbol.for("react.context"),nj=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),bv=Symbol.for("react.suspense_list"),rj=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),Q4=Symbol.for("react.offscreen"),BN=Symbol.iterator;function Bd(e){return e===null||typeof e!="object"?null:(e=BN&&e[BN]||e["@@iterator"],typeof e=="function"?e:null)}var ds=Object.assign,Vx;function du(e){if(Vx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vx=t&&t[1]||""}return`
`+Vx+e}var qx=!1;function Hx(e,t){if(!e||qx)return"";qx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?du(e):""}function M8(e){switch(e.tag){case 5:return du(e.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return e=Hx(e.type,!1),e;case 11:return e=Hx(e.type.render,!1),e;case 1:return e=Hx(e.type,!0),e;default:return""}}function jv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bl:return"Fragment";case Ul:return"Portal";case yv:return"Profiler";case sj:return"StrictMode";case vv:return"Suspense";case bv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K4:return(e.displayName||"Context")+".Consumer";case G4:return(e._context.displayName||"Context")+".Provider";case nj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rj:return t=e.displayName||null,t!==null?t:jv(e.type)||"Memo";case Sa:t=e._payload,e=e._init;try{return jv(e(t))}catch{}}return null}function I8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jv(t);case 8:return t===sj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R8(e){var t=Y4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rm(e){e._valueTracker||(e._valueTracker=R8(e))}function X4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wv(e,t){var n=t.checked;return ds({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=io(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z4(e,t){t=t.checked,t!=null&&tj(e,"checked",t,!1)}function Nv(e,t){Z4(e,t);var n=io(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sv(e,t.type,io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sv(e,t,n){(t!=="number"||sf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uu=Array.isArray;function sc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+io(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ds({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ge(92));if(uu(n)){if(1<n.length)throw Error(ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:io(n)}}function J4(e,t){var n=io(t.value),r=io(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function HN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fm,tE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fm=Fm||document.createElement("div"),Fm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F8=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(e){F8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wu[t]=wu[e]})});function sE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wu.hasOwnProperty(e)&&wu[e]?(""+t).trim():t+"px"}function nE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var O8=ds({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _v(e,t){if(t){if(O8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Tv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pv=null;function ij(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ev=null,nc=null,rc=null;function WN(e){if(e=dm(e)){if(typeof Ev!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=zg(t),Ev(e.stateNode,e.type,t))}}function rE(e){nc?rc?rc.push(e):rc=[e]:nc=e}function iE(){if(nc){var e=nc,t=rc;if(rc=nc=null,WN(e),t)for(e=0;e<t.length;e++)WN(t[e])}}function aE(e,t){return e(t)}function oE(){}var Wx=!1;function lE(e,t,n){if(Wx)return e(t,n);Wx=!0;try{return aE(e,t,n)}finally{Wx=!1,(nc!==null||rc!==null)&&(oE(),iE())}}function zu(e,t){var n=e.stateNode;if(n===null)return null;var r=zg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ge(231,t,typeof n));return n}var Av=!1;if(na)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){Av=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Av=!1}function L8(e,t,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Nu=!1,nf=null,rf=!1,Dv=null,$8={onError:function(e){Nu=!0,nf=e}};function U8(e,t,n,r,i,a,o,l,c){Nu=!1,nf=null,L8.apply($8,arguments)}function B8(e,t,n,r,i,a,o,l,c){if(U8.apply(this,arguments),Nu){if(Nu){var d=nf;Nu=!1,nf=null}else throw Error(ge(198));rf||(rf=!0,Dv=d)}}function Pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GN(e){if(Pl(e)!==e)throw Error(ge(188))}function z8(e){var t=e.alternate;if(!t){if(t=Pl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return GN(i),e;if(a===r)return GN(i),t;a=a.sibling}throw Error(ge(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?e:t}function dE(e){return e=z8(e),e!==null?uE(e):null}function uE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uE(e);if(t!==null)return t;e=e.sibling}return null}var hE=er.unstable_scheduleCallback,KN=er.unstable_cancelCallback,V8=er.unstable_shouldYield,q8=er.unstable_requestPaint,vs=er.unstable_now,H8=er.unstable_getCurrentPriorityLevel,aj=er.unstable_ImmediatePriority,mE=er.unstable_UserBlockingPriority,af=er.unstable_NormalPriority,W8=er.unstable_LowPriority,pE=er.unstable_IdlePriority,Lg=null,bi=null;function G8(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Lg,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Y8,K8=Math.log,Q8=Math.LN2;function Y8(e){return e>>>=0,e===0?32:31-(K8(e)/Q8|0)|0}var Om=64,Lm=4194304;function hu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function of(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=hu(l):(a&=o,a!==0&&(r=hu(a)))}else o=n&~i,o!==0?r=hu(o):a!==0&&(r=hu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vr(t),i=1<<n,r|=e[n],t&=~i;return r}function X8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vr(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=X8(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Mv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fE(){var e=Om;return Om<<=1,!(Om&4194240)&&(Om=64),e}function Gx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=n}function J8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function oj(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ut=0;function gE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xE,lj,yE,vE,bE,Iv=!1,$m=[],Ga=null,Ka=null,Qa=null,Vu=new Map,qu=new Map,Ta=[],e$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QN(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(t.pointerId)}}function Vd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=dm(t),t!==null&&lj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function t$(e,t,n,r,i){switch(t){case"focusin":return Ga=Vd(Ga,e,t,n,r,i),!0;case"dragenter":return Ka=Vd(Ka,e,t,n,r,i),!0;case"mouseover":return Qa=Vd(Qa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Vu.set(a,Vd(Vu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qu.set(a,Vd(qu.get(a)||null,e,t,n,r,i)),!0}return!1}function jE(e){var t=Fo(e.target);if(t!==null){var n=Pl(t);if(n!==null){if(t=n.tag,t===13){if(t=cE(n),t!==null){e.blockedOn=t,bE(e.priority,function(){yE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _p(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pv=r,n.target.dispatchEvent(r),Pv=null}else return t=dm(n),t!==null&&lj(t),e.blockedOn=n,!1;t.shift()}return!0}function YN(e,t,n){_p(e)&&n.delete(t)}function s$(){Iv=!1,Ga!==null&&_p(Ga)&&(Ga=null),Ka!==null&&_p(Ka)&&(Ka=null),Qa!==null&&_p(Qa)&&(Qa=null),Vu.forEach(YN),qu.forEach(YN)}function qd(e,t){e.blockedOn===t&&(e.blockedOn=null,Iv||(Iv=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,s$)))}function Hu(e){function t(i){return qd(i,e)}if(0<$m.length){qd($m[0],e);for(var n=1;n<$m.length;n++){var r=$m[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ga!==null&&qd(Ga,e),Ka!==null&&qd(Ka,e),Qa!==null&&qd(Qa,e),Vu.forEach(t),qu.forEach(t),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)jE(n),n.blockedOn===null&&Ta.shift()}var ic=ha.ReactCurrentBatchConfig,lf=!0;function n$(e,t,n,r){var i=Ut,a=ic.transition;ic.transition=null;try{Ut=1,cj(e,t,n,r)}finally{Ut=i,ic.transition=a}}function r$(e,t,n,r){var i=Ut,a=ic.transition;ic.transition=null;try{Ut=4,cj(e,t,n,r)}finally{Ut=i,ic.transition=a}}function cj(e,t,n,r){if(lf){var i=Rv(e,t,n,r);if(i===null)ny(e,t,r,cf,n),QN(e,r);else if(t$(i,e,t,n,r))r.stopPropagation();else if(QN(e,r),t&4&&-1<e$.indexOf(e)){for(;i!==null;){var a=dm(i);if(a!==null&&xE(a),a=Rv(e,t,n,r),a===null&&ny(e,t,r,cf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ny(e,t,r,null,n)}}var cf=null;function Rv(e,t,n,r){if(cf=null,e=ij(r),e=Fo(e),e!==null)if(t=Pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cf=e,null}function wE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H8()){case aj:return 1;case mE:return 4;case af:case W8:return 16;case pE:return 536870912;default:return 16}default:return 16}}var Va=null,dj=null,Tp=null;function NE(){if(Tp)return Tp;var e,t=dj,n=t.length,r,i="value"in Va?Va.value:Va.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Tp=i.slice(e,1<r?1-r:void 0)}function Pp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Um(){return!0}function XN(){return!1}function sr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Um:XN,this.isPropagationStopped=XN,this}return ds(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Um)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Um)},persist:function(){},isPersistent:Um}),t}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uj=sr(Cd),cm=ds({},Cd,{view:0,detail:0}),i$=sr(cm),Kx,Qx,Hd,$g=ds({},cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hd&&(Hd&&e.type==="mousemove"?(Kx=e.screenX-Hd.screenX,Qx=e.screenY-Hd.screenY):Qx=Kx=0,Hd=e),Kx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),ZN=sr($g),a$=ds({},$g,{dataTransfer:0}),o$=sr(a$),l$=ds({},cm,{relatedTarget:0}),Yx=sr(l$),c$=ds({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),d$=sr(c$),u$=ds({},Cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h$=sr(u$),m$=ds({},Cd,{data:0}),JN=sr(m$),p$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g$[e])?!!t[e]:!1}function hj(){return x$}var y$=ds({},cm,{key:function(e){if(e.key){var t=p$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hj,charCode:function(e){return e.type==="keypress"?Pp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v$=sr(y$),b$=ds({},$g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e1=sr(b$),j$=ds({},cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hj}),w$=sr(j$),N$=ds({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),S$=sr(N$),C$=ds({},$g,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k$=sr(C$),_$=[9,13,27,32],mj=na&&"CompositionEvent"in window,Su=null;na&&"documentMode"in document&&(Su=document.documentMode);var T$=na&&"TextEvent"in window&&!Su,SE=na&&(!mj||Su&&8<Su&&11>=Su),t1=" ",s1=!1;function CE(e,t){switch(e){case"keyup":return _$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function P$(e,t){switch(e){case"compositionend":return kE(t);case"keypress":return t.which!==32?null:(s1=!0,t1);case"textInput":return e=t.data,e===t1&&s1?null:e;default:return null}}function E$(e,t){if(zl)return e==="compositionend"||!mj&&CE(e,t)?(e=NE(),Tp=dj=Va=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SE&&t.locale!=="ko"?null:t.data;default:return null}}var A$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A$[e.type]:t==="textarea"}function _E(e,t,n,r){rE(r),t=df(t,"onChange"),0<t.length&&(n=new uj("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cu=null,Wu=null;function D$(e){LE(e,0)}function Ug(e){var t=Hl(e);if(X4(t))return e}function M$(e,t){if(e==="change")return t}var TE=!1;if(na){var Xx;if(na){var Zx="oninput"in document;if(!Zx){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Zx=typeof r1.oninput=="function"}Xx=Zx}else Xx=!1;TE=Xx&&(!document.documentMode||9<document.documentMode)}function i1(){Cu&&(Cu.detachEvent("onpropertychange",PE),Wu=Cu=null)}function PE(e){if(e.propertyName==="value"&&Ug(Wu)){var t=[];_E(t,Wu,e,ij(e)),lE(D$,t)}}function I$(e,t,n){e==="focusin"?(i1(),Cu=t,Wu=n,Cu.attachEvent("onpropertychange",PE)):e==="focusout"&&i1()}function R$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ug(Wu)}function F$(e,t){if(e==="click")return Ug(t)}function O$(e,t){if(e==="input"||e==="change")return Ug(t)}function L$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:L$;function Gu(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xv.call(t,i)||!Gr(e[i],t[i]))return!1}return!0}function a1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o1(e,t){var n=a1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a1(n)}}function EE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AE(){for(var e=window,t=sf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sf(e.document)}return t}function pj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $$(e){var t=AE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&EE(n.ownerDocument.documentElement,n)){if(r!==null&&pj(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=o1(n,a);var o=o1(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U$=na&&"documentMode"in document&&11>=document.documentMode,Vl=null,Fv=null,ku=null,Ov=!1;function l1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ov||Vl==null||Vl!==sf(r)||(r=Vl,"selectionStart"in r&&pj(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ku&&Gu(ku,r)||(ku=r,r=df(Fv,"onSelect"),0<r.length&&(t=new uj("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vl)))}function Bm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ql={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},Jx={},DE={};na&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Bg(e){if(Jx[e])return Jx[e];if(!ql[e])return e;var t=ql[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in DE)return Jx[e]=t[n];return e}var ME=Bg("animationend"),IE=Bg("animationiteration"),RE=Bg("animationstart"),FE=Bg("transitionend"),OE=new Map,c1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){OE.set(e,t),Tl(t,[e])}for(var ey=0;ey<c1.length;ey++){var ty=c1[ey],B$=ty.toLowerCase(),z$=ty[0].toUpperCase()+ty.slice(1);jo(B$,"on"+z$)}jo(ME,"onAnimationEnd");jo(IE,"onAnimationIteration");jo(RE,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(FE,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V$=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function d1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,B8(r,t,void 0,e),e.currentTarget=null}function LE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;d1(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;d1(i,l,d),a=c}}}if(rf)throw e=Dv,rf=!1,Dv=null,e}function Kt(e,t){var n=t[zv];n===void 0&&(n=t[zv]=new Set);var r=e+"__bubble";n.has(r)||($E(t,e,2,!1),n.add(r))}function sy(e,t,n){var r=0;t&&(r|=4),$E(n,e,r,t)}var zm="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[zm]){e[zm]=!0,W4.forEach(function(n){n!=="selectionchange"&&(V$.has(n)||sy(n,!1,e),sy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zm]||(t[zm]=!0,sy("selectionchange",!1,t))}}function $E(e,t,n,r){switch(wE(t)){case 1:var i=n$;break;case 4:i=r$;break;default:i=cj}n=i.bind(null,t,n,e),i=void 0,!Av||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ny(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Fo(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}lE(function(){var d=a,h=ij(n),u=[];e:{var m=OE.get(e);if(m!==void 0){var f=uj,j=e;switch(e){case"keypress":if(Pp(n)===0)break e;case"keydown":case"keyup":f=v$;break;case"focusin":j="focus",f=Yx;break;case"focusout":j="blur",f=Yx;break;case"beforeblur":case"afterblur":f=Yx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ZN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=o$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=w$;break;case ME:case IE:case RE:f=d$;break;case FE:f=S$;break;case"scroll":f=i$;break;case"wheel":f=k$;break;case"copy":case"cut":case"paste":f=h$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=e1}var x=(t&4)!==0,g=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var y=d,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=zu(y,p),w!=null&&x.push(Qu(y,w,v)))),g)break;y=y.return}0<x.length&&(m=new f(m,j,null,n,h),u.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&n!==Pv&&(j=n.relatedTarget||n.fromElement)&&(Fo(j)||j[ra]))break e;if((f||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,f?(j=n.relatedTarget||n.toElement,f=d,j=j?Fo(j):null,j!==null&&(g=Pl(j),j!==g||j.tag!==5&&j.tag!==6)&&(j=null)):(f=null,j=d),f!==j)){if(x=ZN,w="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=e1,w="onPointerLeave",p="onPointerEnter",y="pointer"),g=f==null?m:Hl(f),v=j==null?m:Hl(j),m=new x(w,y+"leave",f,n,h),m.target=g,m.relatedTarget=v,w=null,Fo(h)===d&&(x=new x(p,y+"enter",j,n,h),x.target=v,x.relatedTarget=g,w=x),g=w,f&&j)t:{for(x=f,p=j,y=0,v=x;v;v=El(v))y++;for(v=0,w=p;w;w=El(w))v++;for(;0<y-v;)x=El(x),y--;for(;0<v-y;)p=El(p),v--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=El(x),p=El(p)}x=null}else x=null;f!==null&&u1(u,m,f,x,!1),j!==null&&g!==null&&u1(u,g,j,x,!0)}}e:{if(m=d?Hl(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var C=M$;else if(n1(m))if(TE)C=O$;else{C=R$;var N=I$}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=F$);if(C&&(C=C(e,d))){_E(u,C,n,h);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Sv(m,"number",m.value)}switch(N=d?Hl(d):window,e){case"focusin":(n1(N)||N.contentEditable==="true")&&(Vl=N,Fv=d,ku=null);break;case"focusout":ku=Fv=Vl=null;break;case"mousedown":Ov=!0;break;case"contextmenu":case"mouseup":case"dragend":Ov=!1,l1(u,n,h);break;case"selectionchange":if(U$)break;case"keydown":case"keyup":l1(u,n,h)}var S;if(mj)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zl?CE(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(SE&&n.locale!=="ko"&&(zl||k!=="onCompositionStart"?k==="onCompositionEnd"&&zl&&(S=NE()):(Va=h,dj="value"in Va?Va.value:Va.textContent,zl=!0)),N=df(d,k),0<N.length&&(k=new JN(k,e,null,n,h),u.push({event:k,listeners:N}),S?k.data=S:(S=kE(n),S!==null&&(k.data=S)))),(S=T$?P$(e,n):E$(e,n))&&(d=df(d,"onBeforeInput"),0<d.length&&(h=new JN("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:d}),h.data=S))}LE(u,t)})}function Qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function df(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zu(e,n),a!=null&&r.unshift(Qu(e,a,i)),a=zu(e,t),a!=null&&r.push(Qu(e,a,i))),e=e.return}return r}function El(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u1(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=zu(n,a),c!=null&&o.unshift(Qu(n,c,l))):i||(c=zu(n,a),c!=null&&o.push(Qu(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var q$=/\r\n?/g,H$=/\u0000|\uFFFD/g;function h1(e){return(typeof e=="string"?e:""+e).replace(q$,`
`).replace(H$,"")}function Vm(e,t,n){if(t=h1(t),h1(e)!==t&&n)throw Error(ge(425))}function uf(){}var Lv=null,$v=null;function Uv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bv=typeof setTimeout=="function"?setTimeout:void 0,W$=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,G$=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(e){return m1.resolve(null).then(e).catch(K$)}:Bv;function K$(e){setTimeout(function(){throw e})}function ry(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hu(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kd=Math.random().toString(36).slice(2),pi="__reactFiber$"+kd,Yu="__reactProps$"+kd,ra="__reactContainer$"+kd,zv="__reactEvents$"+kd,Q$="__reactListeners$"+kd,Y$="__reactHandles$"+kd;function Fo(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ra]||n[pi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p1(e);e!==null;){if(n=e[pi])return n;e=p1(e)}return t}e=n,n=e.parentNode}return null}function dm(e){return e=e[pi]||e[ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function zg(e){return e[Yu]||null}var Vv=[],Wl=-1;function wo(e){return{current:e}}function Qt(e){0>Wl||(e.current=Vv[Wl],Vv[Wl]=null,Wl--)}function Wt(e,t){Wl++,Vv[Wl]=e.current,e.current=t}var ao={},dn=wo(ao),Dn=wo(!1),hl=ao;function td(e,t){var n=e.type.contextTypes;if(!n)return ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(e){return e=e.childContextTypes,e!=null}function hf(){Qt(Dn),Qt(dn)}function f1(e,t,n){if(dn.current!==ao)throw Error(ge(168));Wt(dn,t),Wt(Dn,n)}function UE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ge(108,I8(e)||"Unknown",i));return ds({},n,r)}function mf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,hl=dn.current,Wt(dn,e),Wt(Dn,Dn.current),!0}function g1(e,t,n){var r=e.stateNode;if(!r)throw Error(ge(169));n?(e=UE(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,Qt(Dn),Qt(dn),Wt(dn,e)):Qt(Dn),Wt(Dn,n)}var Vi=null,Vg=!1,iy=!1;function BE(e){Vi===null?Vi=[e]:Vi.push(e)}function X$(e){Vg=!0,BE(e)}function No(){if(!iy&&Vi!==null){iy=!0;var e=0,t=Ut;try{var n=Vi;for(Ut=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vi=null,Vg=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(e+1)),hE(aj,No),i}finally{Ut=t,iy=!1}}return null}var Gl=[],Kl=0,pf=null,ff=0,lr=[],cr=0,ml=null,Xi=1,Zi="";function Po(e,t){Gl[Kl++]=ff,Gl[Kl++]=pf,pf=e,ff=t}function zE(e,t,n){lr[cr++]=Xi,lr[cr++]=Zi,lr[cr++]=ml,ml=e;var r=Xi;e=Zi;var i=32-Vr(r)-1;r&=~(1<<i),n+=1;var a=32-Vr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-Vr(t)+i|n<<i|r,Zi=a+e}else Xi=1<<a|n<<i|r,Zi=e}function fj(e){e.return!==null&&(Po(e,1),zE(e,1,0))}function gj(e){for(;e===pf;)pf=Gl[--Kl],Gl[Kl]=null,ff=Gl[--Kl],Gl[Kl]=null;for(;e===ml;)ml=lr[--cr],lr[cr]=null,Zi=lr[--cr],lr[cr]=null,Xi=lr[--cr],lr[cr]=null}var Qn=null,Gn=null,Zt=!1,Mr=null;function VE(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function x1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ml!==null?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qn=e,Gn=null,!0):!1;default:return!1}}function qv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hv(e){if(Zt){var t=Gn;if(t){var n=t;if(!x1(e,t)){if(qv(e))throw Error(ge(418));t=Ya(n.nextSibling);var r=Qn;t&&x1(e,t)?VE(r,n):(e.flags=e.flags&-4097|2,Zt=!1,Qn=e)}}else{if(qv(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Zt=!1,Qn=e}}}function y1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function qm(e){if(e!==Qn)return!1;if(!Zt)return y1(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uv(e.type,e.memoizedProps)),t&&(t=Gn)){if(qv(e))throw qE(),Error(ge(418));for(;t;)VE(e,t),t=Ya(t.nextSibling)}if(y1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gn=Ya(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Qn?Ya(e.stateNode.nextSibling):null;return!0}function qE(){for(var e=Gn;e;)e=Ya(e.nextSibling)}function sd(){Gn=Qn=null,Zt=!1}function xj(e){Mr===null?Mr=[e]:Mr.push(e)}var Z$=ha.ReactCurrentBatchConfig;function Wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,e))}return e}function Hm(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v1(e){var t=e._init;return t(e._payload)}function HE(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=eo(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=2,y):v):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,v,w){return y===null||y.tag!==6?(y=hy(v,p.mode,w),y.return=p,y):(y=i(y,v),y.return=p,y)}function c(p,y,v,w){var C=v.type;return C===Bl?h(p,y,v.props.children,w,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sa&&v1(C)===y.type)?(w=i(y,v.props),w.ref=Wd(p,y,v),w.return=p,w):(w=Fp(v.type,v.key,v.props,null,p.mode,w),w.ref=Wd(p,y,v),w.return=p,w)}function d(p,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=my(v,p.mode,w),y.return=p,y):(y=i(y,v.children||[]),y.return=p,y)}function h(p,y,v,w,C){return y===null||y.tag!==7?(y=al(v,p.mode,w,C),y.return=p,y):(y=i(y,v),y.return=p,y)}function u(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hy(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Im:return v=Fp(y.type,y.key,y.props,null,p.mode,v),v.ref=Wd(p,null,y),v.return=p,v;case Ul:return y=my(y,p.mode,v),y.return=p,y;case Sa:var w=y._init;return u(p,w(y._payload),v)}if(uu(y)||Bd(y))return y=al(y,p.mode,v,null),y.return=p,y;Hm(p,y)}return null}function m(p,y,v,w){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Im:return v.key===C?c(p,y,v,w):null;case Ul:return v.key===C?d(p,y,v,w):null;case Sa:return C=v._init,m(p,y,C(v._payload),w)}if(uu(v)||Bd(v))return C!==null?null:h(p,y,v,w,null);Hm(p,v)}return null}function f(p,y,v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,l(y,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Im:return p=p.get(w.key===null?v:w.key)||null,c(y,p,w,C);case Ul:return p=p.get(w.key===null?v:w.key)||null,d(y,p,w,C);case Sa:var N=w._init;return f(p,y,v,N(w._payload),C)}if(uu(w)||Bd(w))return p=p.get(v)||null,h(y,p,w,C,null);Hm(y,w)}return null}function j(p,y,v,w){for(var C=null,N=null,S=y,k=y=0,T=null;S!==null&&k<v.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var D=m(p,S,v[k],w);if(D===null){S===null&&(S=T);break}e&&S&&D.alternate===null&&t(p,S),y=a(D,y,k),N===null?C=D:N.sibling=D,N=D,S=T}if(k===v.length)return n(p,S),Zt&&Po(p,k),C;if(S===null){for(;k<v.length;k++)S=u(p,v[k],w),S!==null&&(y=a(S,y,k),N===null?C=S:N.sibling=S,N=S);return Zt&&Po(p,k),C}for(S=r(p,S);k<v.length;k++)T=f(S,p,k,v[k],w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),y=a(T,y,k),N===null?C=T:N.sibling=T,N=T);return e&&S.forEach(function(P){return t(p,P)}),Zt&&Po(p,k),C}function x(p,y,v,w){var C=Bd(v);if(typeof C!="function")throw Error(ge(150));if(v=C.call(v),v==null)throw Error(ge(151));for(var N=C=null,S=y,k=y=0,T=null,D=v.next();S!==null&&!D.done;k++,D=v.next()){S.index>k?(T=S,S=null):T=S.sibling;var P=m(p,S,D.value,w);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(p,S),y=a(P,y,k),N===null?C=P:N.sibling=P,N=P,S=T}if(D.done)return n(p,S),Zt&&Po(p,k),C;if(S===null){for(;!D.done;k++,D=v.next())D=u(p,D.value,w),D!==null&&(y=a(D,y,k),N===null?C=D:N.sibling=D,N=D);return Zt&&Po(p,k),C}for(S=r(p,S);!D.done;k++,D=v.next())D=f(S,p,k,D.value,w),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?k:D.key),y=a(D,y,k),N===null?C=D:N.sibling=D,N=D);return e&&S.forEach(function(M){return t(p,M)}),Zt&&Po(p,k),C}function g(p,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Bl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Im:e:{for(var C=v.key,N=y;N!==null;){if(N.key===C){if(C=v.type,C===Bl){if(N.tag===7){n(p,N.sibling),y=i(N,v.props.children),y.return=p,p=y;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sa&&v1(C)===N.type){n(p,N.sibling),y=i(N,v.props),y.ref=Wd(p,N,v),y.return=p,p=y;break e}n(p,N);break}else t(p,N);N=N.sibling}v.type===Bl?(y=al(v.props.children,p.mode,w,v.key),y.return=p,p=y):(w=Fp(v.type,v.key,v.props,null,p.mode,w),w.ref=Wd(p,y,v),w.return=p,p=w)}return o(p);case Ul:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),y=i(y,v.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=my(v,p.mode,w),y.return=p,p=y}return o(p);case Sa:return N=v._init,g(p,y,N(v._payload),w)}if(uu(v))return j(p,y,v,w);if(Bd(v))return x(p,y,v,w);Hm(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,v),y.return=p,p=y):(n(p,y),y=hy(v,p.mode,w),y.return=p,p=y),o(p)):n(p,y)}return g}var nd=HE(!0),WE=HE(!1),gf=wo(null),xf=null,Ql=null,yj=null;function vj(){yj=Ql=xf=null}function bj(e){var t=gf.current;Qt(gf),e._currentValue=t}function Wv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ac(e,t){xf=e,yj=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(yj!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(xf===null)throw Error(ge(308));Ql=e,xf.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var Oo=null;function jj(e){Oo===null?Oo=[e]:Oo.push(e)}function GE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jj(t)):(n.next=i.next,i.next=n),t.interleaved=n,ia(e,r)}function ia(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ca=!1;function wj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ia(e,n)}return i=r.interleaved,i===null?(t.next=t,jj(r)):(t.next=i.next,i.next=t),r.interleaved=t,ia(e,n)}function Ep(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oj(e,n)}}function b1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yf(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,x=l;switch(m=t,f=n,x.tag){case 1:if(j=x.payload,typeof j=="function"){u=j.call(f,u,m);break e}u=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,m=typeof j=="function"?j.call(f,u,m):j,m==null)break e;u=ds({},u,m);break e;case 2:Ca=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=f,c=u):h=h.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=u),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fl|=o,e.lanes=o,e.memoizedState=u}}function j1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var um={},ji=wo(um),Xu=wo(um),Zu=wo(um);function Lo(e){if(e===um)throw Error(ge(174));return e}function Nj(e,t){switch(Wt(Zu,t),Wt(Xu,e),Wt(ji,um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kv(t,e)}Qt(ji),Wt(ji,t)}function rd(){Qt(ji),Qt(Xu),Qt(Zu)}function QE(e){Lo(Zu.current);var t=Lo(ji.current),n=kv(t,e.type);t!==n&&(Wt(Xu,e),Wt(ji,n))}function Sj(e){Xu.current===e&&(Qt(ji),Qt(Xu))}var as=wo(0);function vf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ay=[];function Cj(){for(var e=0;e<ay.length;e++)ay[e]._workInProgressVersionPrimary=null;ay.length=0}var Ap=ha.ReactCurrentDispatcher,oy=ha.ReactCurrentBatchConfig,pl=0,cs=null,Es=null,Os=null,bf=!1,_u=!1,Ju=0,J$=0;function tn(){throw Error(ge(321))}function kj(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gr(e[n],t[n]))return!1;return!0}function _j(e,t,n,r,i,a){if(pl=a,cs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ap.current=e===null||e.memoizedState===null?n7:r7,e=n(r,i),_u){a=0;do{if(_u=!1,Ju=0,25<=a)throw Error(ge(301));a+=1,Os=Es=null,t.updateQueue=null,Ap.current=i7,e=n(r,i)}while(_u)}if(Ap.current=jf,t=Es!==null&&Es.next!==null,pl=0,Os=Es=cs=null,bf=!1,t)throw Error(ge(300));return e}function Tj(){var e=Ju!==0;return Ju=0,e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?cs.memoizedState=Os=e:Os=Os.next=e,Os}function gr(){if(Es===null){var e=cs.alternate;e=e!==null?e.memoizedState:null}else e=Es.next;var t=Os===null?cs.memoizedState:Os.next;if(t!==null)Os=t,Es=e;else{if(e===null)throw Error(ge(310));Es=e,e={memoizedState:Es.memoizedState,baseState:Es.baseState,baseQueue:Es.baseQueue,queue:Es.queue,next:null},Os===null?cs.memoizedState=Os=e:Os=Os.next=e}return Os}function eh(e,t){return typeof t=="function"?t(e):t}function ly(e){var t=gr(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=Es,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((pl&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=r):c=c.next=u,cs.lanes|=h,fl|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Gr(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,cs.lanes|=a,fl|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cy(e){var t=gr(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Gr(a,t.memoizedState)||(An=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function YE(){}function XE(e,t){var n=cs,r=gr(),i=t(),a=!Gr(r.memoizedState,i);if(a&&(r.memoizedState=i,An=!0),r=r.queue,Pj(eA.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Os!==null&&Os.memoizedState.tag&1){if(n.flags|=2048,th(9,JE.bind(null,n,r,i,t),void 0,null),$s===null)throw Error(ge(349));pl&30||ZE(n,t,i)}return i}function ZE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=cs.updateQueue,t===null?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JE(e,t,n,r){t.value=n,t.getSnapshot=r,tA(t)&&sA(e)}function eA(e,t,n){return n(function(){tA(t)&&sA(e)})}function tA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gr(e,n)}catch{return!0}}function sA(e){var t=ia(e,1);t!==null&&qr(t,e,1,-1)}function w1(e){var t=ri();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:e},t.queue=e,e=e.dispatch=s7.bind(null,cs,e),[t.memoizedState,e]}function th(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=cs.updateQueue,t===null?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nA(){return gr().memoizedState}function Dp(e,t,n,r){var i=ri();cs.flags|=e,i.memoizedState=th(1|t,n,void 0,r===void 0?null:r)}function qg(e,t,n,r){var i=gr();r=r===void 0?null:r;var a=void 0;if(Es!==null){var o=Es.memoizedState;if(a=o.destroy,r!==null&&kj(r,o.deps)){i.memoizedState=th(t,n,a,r);return}}cs.flags|=e,i.memoizedState=th(1|t,n,a,r)}function N1(e,t){return Dp(8390656,8,e,t)}function Pj(e,t){return qg(2048,8,e,t)}function rA(e,t){return qg(4,2,e,t)}function iA(e,t){return qg(4,4,e,t)}function aA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oA(e,t,n){return n=n!=null?n.concat([e]):null,qg(4,4,aA.bind(null,t,e),n)}function Ej(){}function lA(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kj(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cA(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kj(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dA(e,t,n){return pl&21?(Gr(n,t)||(n=fE(),cs.lanes|=n,fl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function e7(e,t){var n=Ut;Ut=n!==0&&4>n?n:4,e(!0);var r=oy.transition;oy.transition={};try{e(!1),t()}finally{Ut=n,oy.transition=r}}function uA(){return gr().memoizedState}function t7(e,t,n){var r=Ja(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hA(e))mA(t,n);else if(n=GE(e,t,n,r),n!==null){var i=Nn();qr(n,e,r,i),pA(n,t,r)}}function s7(e,t,n){var r=Ja(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hA(e))mA(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,o)){var c=t.interleaved;c===null?(i.next=i,jj(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=GE(e,t,i,r),n!==null&&(i=Nn(),qr(n,e,r,i),pA(n,t,r))}}function hA(e){var t=e.alternate;return e===cs||t!==null&&t===cs}function mA(e,t){_u=bf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oj(e,n)}}var jf={readContext:fr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},n7={readContext:fr,useCallback:function(e,t){return ri().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:N1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dp(4194308,4,aA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dp(4,2,e,t)},useMemo:function(e,t){var n=ri();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ri();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=t7.bind(null,cs,e),[r.memoizedState,e]},useRef:function(e){var t=ri();return e={current:e},t.memoizedState=e},useState:w1,useDebugValue:Ej,useDeferredValue:function(e){return ri().memoizedState=e},useTransition:function(){var e=w1(!1),t=e[0];return e=e7.bind(null,e[1]),ri().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cs,i=ri();if(Zt){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=t(),$s===null)throw Error(ge(349));pl&30||ZE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,N1(eA.bind(null,r,a,e),[e]),r.flags|=2048,th(9,JE.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ri(),t=$s.identifierPrefix;if(Zt){var n=Zi,r=Xi;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ju++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=J$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r7={readContext:fr,useCallback:lA,useContext:fr,useEffect:Pj,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:cA,useReducer:ly,useRef:nA,useState:function(){return ly(eh)},useDebugValue:Ej,useDeferredValue:function(e){var t=gr();return dA(t,Es.memoizedState,e)},useTransition:function(){var e=ly(eh)[0],t=gr().memoizedState;return[e,t]},useMutableSource:YE,useSyncExternalStore:XE,useId:uA,unstable_isNewReconciler:!1},i7={readContext:fr,useCallback:lA,useContext:fr,useEffect:Pj,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:cA,useReducer:cy,useRef:nA,useState:function(){return cy(eh)},useDebugValue:Ej,useDeferredValue:function(e){var t=gr();return Es===null?t.memoizedState=e:dA(t,Es.memoizedState,e)},useTransition:function(){var e=cy(eh)[0],t=gr().memoizedState;return[e,t]},useMutableSource:YE,useSyncExternalStore:XE,useId:uA,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=ds({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ds({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hg={isMounted:function(e){return(e=e._reactInternals)?Pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Ja(e),a=Ji(r,i);a.payload=t,n!=null&&(a.callback=n),t=Xa(e,a,i),t!==null&&(qr(t,e,i,r),Ep(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Ja(e),a=Ji(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Xa(e,a,i),t!==null&&(qr(t,e,i,r),Ep(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),r=Ja(e),i=Ji(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xa(e,i,r),t!==null&&(qr(t,e,r,n),Ep(t,e,r))}};function S1(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,a):!0}function fA(e,t,n){var r=!1,i=ao,a=t.contextType;return typeof a=="object"&&a!==null?a=fr(a):(i=Mn(t)?hl:dn.current,r=t.contextTypes,a=(r=r!=null)?td(e,i):ao),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function C1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hg.enqueueReplaceState(t,t.state,null)}function Kv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},wj(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fr(a):(a=Mn(t)?hl:dn.current,i.context=td(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gv(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hg.enqueueReplaceState(i,i.state,null),yf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function id(e,t){try{var n="",r=t;do n+=M8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function dy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var a7=typeof WeakMap=="function"?WeakMap:Map;function gA(e,t,n){n=Ji(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nf||(Nf=!0,i0=r),Qv(e,t)},n}function xA(e,t,n){n=Ji(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Qv(e,t),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function k1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new a7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=b7.bind(null,e,t,n),t.then(e,e))}function _1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ji(-1,1),t.tag=2,Xa(n,t,1))),n.lanes|=1),e)}var o7=ha.ReactCurrentOwner,An=!1;function jn(e,t,n,r){t.child=e===null?WE(t,null,n,r):nd(t,e.child,n,r)}function P1(e,t,n,r,i){n=n.render;var a=t.ref;return ac(t,i),r=_j(e,t,n,r,a,i),n=Tj(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Zt&&n&&fj(t),t.flags|=1,jn(e,t,r,i),t.child)}function E1(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Lj(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,yA(e,t,a,r,i)):(e=Fp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,e=eo(a,r),e.ref=t.ref,e.return=t,t.child=e}function yA(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Gu(a,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,aa(e,t,i)}return Yv(e,t,n,r,i)}function vA(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Xl,zn),zn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Xl,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wt(Xl,zn),zn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Wt(Xl,zn),zn|=r;return jn(e,t,i,n),t.child}function bA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yv(e,t,n,r,i){var a=Mn(n)?hl:dn.current;return a=td(t,a),ac(t,i),n=_j(e,t,n,r,a,i),r=Tj(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Zt&&r&&fj(t),t.flags|=1,jn(e,t,n,i),t.child)}function A1(e,t,n,r,i){if(Mn(n)){var a=!0;mf(t)}else a=!1;if(ac(t,i),t.stateNode===null)Mp(e,t),fA(t,n,r),Kv(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=fr(d):(d=Mn(n)?hl:dn.current,d=td(t,d));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&C1(t,o,r,d),Ca=!1;var m=t.memoizedState;o.state=m,yf(t,r,o,i),c=t.memoizedState,l!==r||m!==c||Dn.current||Ca?(typeof h=="function"&&(Gv(t,n,h,r),c=t.memoizedState),(l=Ca||S1(t,n,l,r,m,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,KE(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wr(t.type,l),o.props=d,u=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=Mn(n)?hl:dn.current,c=td(t,c));var f=n.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||m!==c)&&C1(t,o,r,c),Ca=!1,m=t.memoizedState,o.state=m,yf(t,r,o,i);var j=t.memoizedState;l!==u||m!==j||Dn.current||Ca?(typeof f=="function"&&(Gv(t,n,f,r),j=t.memoizedState),(d=Ca||S1(t,n,d,r,m,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Xv(e,t,n,r,a,i)}function Xv(e,t,n,r,i,a){bA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&g1(t,n,!1),aa(e,t,a);r=t.stateNode,o7.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=nd(t,e.child,null,a),t.child=nd(t,null,l,a)):jn(e,t,l,a),t.memoizedState=r.state,i&&g1(t,n,!0),t.child}function jA(e){var t=e.stateNode;t.pendingContext?f1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f1(e,t.context,!1),Nj(e,t.containerInfo)}function D1(e,t,n,r,i){return sd(),xj(i),t.flags|=256,jn(e,t,n,r),t.child}var Zv={dehydrated:null,treeContext:null,retryLane:0};function Jv(e){return{baseLanes:e,cachePool:null,transitions:null}}function wA(e,t,n){var r=t.pendingProps,i=as.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wt(as,i&1),e===null)return Hv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Kg(o,r,0,null),e=al(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Jv(n),t.memoizedState=Zv,e):Aj(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return l7(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=eo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=eo(l,a):(a=al(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Jv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Zv,r}return a=e.child,e=a.sibling,r=eo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Aj(e,t){return t=Kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wm(e,t,n,r){return r!==null&&xj(r),nd(t,e.child,null,n),e=Aj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l7(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=dy(Error(ge(422))),Wm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Kg({mode:"visible",children:r.children},i,0,null),a=al(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&nd(t,e.child,null,o),t.child.memoizedState=Jv(o),t.memoizedState=Zv,a);if(!(t.mode&1))return Wm(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ge(419)),r=dy(a,r,void 0),Wm(e,t,o,r)}if(l=(o&e.childLanes)!==0,An||l){if(r=$s,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ia(e,i),qr(r,e,i,-1))}return Oj(),r=dy(Error(ge(421))),Wm(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=j7.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gn=Ya(i.nextSibling),Qn=t,Zt=!0,Mr=null,e!==null&&(lr[cr++]=Xi,lr[cr++]=Zi,lr[cr++]=ml,Xi=e.id,Zi=e.overflow,ml=t),t=Aj(t,r.children),t.flags|=4096,t)}function M1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wv(e.return,t,n)}function uy(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function NA(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jn(e,t,r.children,n),r=as.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M1(e,n,t);else if(e.tag===19)M1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wt(as,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uy(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uy(t,!0,n,null,a);break;case"together":uy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,n=eo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=eo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function c7(e,t,n){switch(t.tag){case 3:jA(t),sd();break;case 5:QE(t);break;case 1:Mn(t.type)&&mf(t);break;case 4:Nj(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wt(gf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wt(as,as.current&1),t.flags|=128,null):n&t.child.childLanes?wA(e,t,n):(Wt(as,as.current&1),e=aa(e,t,n),e!==null?e.sibling:null);Wt(as,as.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NA(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(as,as.current),r)break;return null;case 22:case 23:return t.lanes=0,vA(e,t,n)}return aa(e,t,n)}var SA,e0,CA,kA;SA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e0=function(){};CA=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lo(ji.current);var a=null;switch(n){case"input":i=wv(e,i),r=wv(e,r),a=[];break;case"select":i=ds({},i,{value:void 0}),r=ds({},r,{value:void 0}),a=[];break;case"textarea":i=Cv(e,i),r=Cv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uf)}_v(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Uu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Kt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};kA=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gd(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function d7(e,t,n){var r=t.pendingProps;switch(gj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Mn(t.type)&&hf(),sn(t),null;case 3:return r=t.stateNode,rd(),Qt(Dn),Qt(dn),Cj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(l0(Mr),Mr=null))),e0(e,t),sn(t),null;case 5:Sj(t);var i=Lo(Zu.current);if(n=t.type,e!==null&&t.stateNode!=null)CA(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return sn(t),null}if(e=Lo(ji.current),qm(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[Yu]=a,e=(t.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)Kt(mu[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":zN(r,a),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kt("invalid",r);break;case"textarea":qN(r,a),Kt("invalid",r)}_v(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vm(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vm(r.textContent,l,e),i=["children",""+l]):Uu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Rm(r),VN(r,a,!0);break;case"textarea":Rm(r),HN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=uf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[pi]=t,e[Yu]=r,SA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tv(n,r),n){case"dialog":Kt("cancel",e),Kt("close",e),i=r;break;case"iframe":case"object":case"embed":Kt("load",e),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)Kt(mu[i],e);i=r;break;case"source":Kt("error",e),i=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),i=r;break;case"details":Kt("toggle",e),i=r;break;case"input":zN(e,r),i=wv(e,r),Kt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ds({},r,{value:void 0}),Kt("invalid",e);break;case"textarea":qN(e,r),i=Cv(e,r),Kt("invalid",e);break;default:i=r}_v(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?nE(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tE(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bu(e,c):typeof c=="number"&&Bu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Kt("scroll",e):c!=null&&tj(e,a,c,o))}switch(n){case"input":Rm(e),VN(e,r,!1);break;case"textarea":Rm(e),HN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+io(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?sc(e,!!r.multiple,a,!1):r.defaultValue!=null&&sc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)kA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(n=Lo(Zu.current),Lo(ji.current),qm(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&(e=Qn,e!==null))switch(e.tag){case 3:Vm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vm(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pi]=t,t.stateNode=r}return sn(t),null;case 13:if(Qt(as),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&Gn!==null&&t.mode&1&&!(t.flags&128))qE(),sd(),t.flags|=98560,a=!1;else if(a=qm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[pi]=t}else sd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),a=!1}else Mr!==null&&(l0(Mr),Mr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||as.current&1?Ms===0&&(Ms=3):Oj())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return rd(),e0(e,t),e===null&&Ku(t.stateNode.containerInfo),sn(t),null;case 10:return bj(t.type._context),sn(t),null;case 17:return Mn(t.type)&&hf(),sn(t),null;case 19:if(Qt(as),a=t.memoizedState,a===null)return sn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Gd(a,!1);else{if(Ms!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vf(e),o!==null){for(t.flags|=128,Gd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wt(as,as.current&1|2),t.child}e=e.sibling}a.tail!==null&&vs()>ad&&(t.flags|=128,r=!0,Gd(a,!1),t.lanes=4194304)}else{if(!r)if(e=vf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zt)return sn(t),null}else 2*vs()-a.renderingStartTime>ad&&n!==1073741824&&(t.flags|=128,r=!0,Gd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vs(),t.sibling=null,n=as.current,Wt(as,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return Fj(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function u7(e,t){switch(gj(t),t.tag){case 1:return Mn(t.type)&&hf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rd(),Qt(Dn),Qt(dn),Cj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sj(t),null;case 13:if(Qt(as),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));sd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(as),null;case 4:return rd(),null;case 10:return bj(t.type._context),null;case 22:case 23:return Fj(),null;case 24:return null;default:return null}}var Gm=!1,an=!1,h7=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hs(e,t,r)}else n.current=null}function t0(e,t,n){try{n()}catch(r){hs(e,t,r)}}var I1=!1;function m7(e,t){if(Lv=lf,e=AE(),pj(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,m=null;t:for(;;){for(var f;u!==n||i!==0&&u.nodeType!==3||(l=o+i),u!==a||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)m=u,u=f;for(;;){if(u===e)break t;if(m===n&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(f=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($v={focusedElem:e,selectionRange:n},lf=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,g=j.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:wr(t.type,x),g);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(w){hs(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return j=I1,I1=!1,j}function Tu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&t0(t,n,a)}i=i.next}while(i!==r)}}function Wg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function s0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _A(e){var t=e.alternate;t!==null&&(e.alternate=null,_A(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pi],delete t[Yu],delete t[zv],delete t[Q$],delete t[Y$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TA(e){return e.tag===5||e.tag===3||e.tag===4}function R1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uf));else if(r!==4&&(e=e.child,e!==null))for(n0(e,t,n),e=e.sibling;e!==null;)n0(e,t,n),e=e.sibling}function r0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(r0(e,t,n),e=e.sibling;e!==null;)r0(e,t,n),e=e.sibling}var Ks=null,Er=!1;function ga(e,t,n){for(n=n.child;n!==null;)PA(e,t,n),n=n.sibling}function PA(e,t,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 5:an||Yl(n,t);case 6:var r=Ks,i=Er;Ks=null,ga(e,t,n),Ks=r,Er=i,Ks!==null&&(Er?(e=Ks,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ks.removeChild(n.stateNode));break;case 18:Ks!==null&&(Er?(e=Ks,n=n.stateNode,e.nodeType===8?ry(e.parentNode,n):e.nodeType===1&&ry(e,n),Hu(e)):ry(Ks,n.stateNode));break;case 4:r=Ks,i=Er,Ks=n.stateNode.containerInfo,Er=!0,ga(e,t,n),Ks=r,Er=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&t0(n,t,o),i=i.next}while(i!==r)}ga(e,t,n);break;case 1:if(!an&&(Yl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){hs(n,t,l)}ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,ga(e,t,n),an=r):ga(e,t,n);break;default:ga(e,t,n)}}function F1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h7),t.forEach(function(r){var i=w7.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ks=l.stateNode,Er=!1;break e;case 3:Ks=l.stateNode.containerInfo,Er=!0;break e;case 4:Ks=l.stateNode.containerInfo,Er=!0;break e}l=l.return}if(Ks===null)throw Error(ge(160));PA(a,o,i),Ks=null,Er=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){hs(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EA(t,e),t=t.sibling}function EA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),si(e),r&4){try{Tu(3,e,e.return),Wg(3,e)}catch(x){hs(e,e.return,x)}try{Tu(5,e,e.return)}catch(x){hs(e,e.return,x)}}break;case 1:br(t,e),si(e),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(br(t,e),si(e),r&512&&n!==null&&Yl(n,n.return),e.flags&32){var i=e.stateNode;try{Bu(i,"")}catch(x){hs(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Z4(i,a),Tv(l,o);var d=Tv(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?nE(i,u):h==="dangerouslySetInnerHTML"?tE(i,u):h==="children"?Bu(i,u):tj(i,h,u,d)}switch(l){case"input":Nv(i,a);break;case"textarea":J4(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?sc(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?sc(i,!!a.multiple,a.defaultValue,!0):sc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yu]=a}catch(x){hs(e,e.return,x)}}break;case 6:if(br(t,e),si(e),r&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){hs(e,e.return,x)}}break;case 3:if(br(t,e),si(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hu(t.containerInfo)}catch(x){hs(e,e.return,x)}break;case 4:br(t,e),si(e);break;case 13:br(t,e),si(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ij=vs())),r&4&&F1(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(an=(d=an)||h,br(t,e),an=d):br(t,e),si(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Re=e,h=e.child;h!==null;){for(u=Re=h;Re!==null;){switch(m=Re,f=m.child,m.tag){case 0:case 11:case 14:case 15:Tu(4,m,m.return);break;case 1:Yl(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){hs(r,n,x)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){L1(u);continue}}f!==null?(f.return=m,Re=f):L1(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{i=u.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sE("display",o))}catch(x){hs(e,e.return,x)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){hs(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:br(t,e),si(e),r&4&&F1(e);break;case 21:break;default:br(t,e),si(e)}}function si(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TA(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bu(i,""),r.flags&=-33);var a=R1(e);r0(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=R1(e);n0(e,l,o);break;default:throw Error(ge(161))}}catch(c){hs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p7(e,t,n){Re=e,AA(e)}function AA(e,t,n){for(var r=(e.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||an;l=Gm;var d=an;if(Gm=o,(an=c)&&!d)for(Re=i;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?$1(i):c!==null?(c.return=o,Re=c):$1(i);for(;a!==null;)Re=a,AA(a),a=a.sibling;Re=i,Gm=l,an=d}O1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):O1(e)}}function O1(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Wg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&j1(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}j1(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Hu(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}an||t.flags&512&&s0(t)}catch(m){hs(t,t.return,m)}}if(t===e){Re=null;break}if(n=t.sibling,n!==null){n.return=t.return,Re=n;break}Re=t.return}}function L1(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Re=n;break}Re=t.return}}function $1(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wg(4,t)}catch(c){hs(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){hs(t,i,c)}}var a=t.return;try{s0(t)}catch(c){hs(t,a,c)}break;case 5:var o=t.return;try{s0(t)}catch(c){hs(t,o,c)}}}catch(c){hs(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var f7=Math.ceil,wf=ha.ReactCurrentDispatcher,Dj=ha.ReactCurrentOwner,hr=ha.ReactCurrentBatchConfig,Pt=0,$s=null,_s=null,Xs=0,zn=0,Xl=wo(0),Ms=0,sh=null,fl=0,Gg=0,Mj=0,Pu=null,En=null,Ij=0,ad=1/0,zi=null,Nf=!1,i0=null,Za=null,Km=!1,qa=null,Sf=0,Eu=0,a0=null,Ip=-1,Rp=0;function Nn(){return Pt&6?vs():Ip!==-1?Ip:Ip=vs()}function Ja(e){return e.mode&1?Pt&2&&Xs!==0?Xs&-Xs:Z$.transition!==null?(Rp===0&&(Rp=fE()),Rp):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:wE(e.type)),e):1}function qr(e,t,n,r){if(50<Eu)throw Eu=0,a0=null,Error(ge(185));lm(e,n,r),(!(Pt&2)||e!==$s)&&(e===$s&&(!(Pt&2)&&(Gg|=n),Ms===4&&Pa(e,Xs)),In(e,r),n===1&&Pt===0&&!(t.mode&1)&&(ad=vs()+500,Vg&&No()))}function In(e,t){var n=e.callbackNode;Z8(e,t);var r=of(e,e===$s?Xs:0);if(r===0)n!==null&&KN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&KN(n),t===1)e.tag===0?X$(U1.bind(null,e)):BE(U1.bind(null,e)),G$(function(){!(Pt&6)&&No()}),n=null;else{switch(gE(r)){case 1:n=aj;break;case 4:n=mE;break;case 16:n=af;break;case 536870912:n=pE;break;default:n=af}n=$A(n,DA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function DA(e,t){if(Ip=-1,Rp=0,Pt&6)throw Error(ge(327));var n=e.callbackNode;if(oc()&&e.callbackNode!==n)return null;var r=of(e,e===$s?Xs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cf(e,r);else{t=r;var i=Pt;Pt|=2;var a=IA();($s!==e||Xs!==t)&&(zi=null,ad=vs()+500,il(e,t));do try{y7();break}catch(l){MA(e,l)}while(!0);vj(),wf.current=a,Pt=i,_s!==null?t=0:($s=null,Xs=0,t=Ms)}if(t!==0){if(t===2&&(i=Mv(e),i!==0&&(r=i,t=o0(e,i))),t===1)throw n=sh,il(e,0),Pa(e,r),In(e,vs()),n;if(t===6)Pa(e,r);else{if(i=e.current.alternate,!(r&30)&&!g7(i)&&(t=Cf(e,r),t===2&&(a=Mv(e),a!==0&&(r=a,t=o0(e,a))),t===1))throw n=sh,il(e,0),Pa(e,r),In(e,vs()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Eo(e,En,zi);break;case 3:if(Pa(e,r),(r&130023424)===r&&(t=Ij+500-vs(),10<t)){if(of(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bv(Eo.bind(null,e,En,zi),t);break}Eo(e,En,zi);break;case 4:if(Pa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=vs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f7(r/1960))-r,10<r){e.timeoutHandle=Bv(Eo.bind(null,e,En,zi),r);break}Eo(e,En,zi);break;case 5:Eo(e,En,zi);break;default:throw Error(ge(329))}}}return In(e,vs()),e.callbackNode===n?DA.bind(null,e):null}function o0(e,t){var n=Pu;return e.current.memoizedState.isDehydrated&&(il(e,t).flags|=256),e=Cf(e,t),e!==2&&(t=En,En=n,t!==null&&l0(t)),e}function l0(e){En===null?En=e:En.push.apply(En,e)}function g7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t){for(t&=~Mj,t&=~Gg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function U1(e){if(Pt&6)throw Error(ge(327));oc();var t=of(e,0);if(!(t&1))return In(e,vs()),null;var n=Cf(e,t);if(e.tag!==0&&n===2){var r=Mv(e);r!==0&&(t=r,n=o0(e,r))}if(n===1)throw n=sh,il(e,0),Pa(e,t),In(e,vs()),n;if(n===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eo(e,En,zi),In(e,vs()),null}function Rj(e,t){var n=Pt;Pt|=1;try{return e(t)}finally{Pt=n,Pt===0&&(ad=vs()+500,Vg&&No())}}function gl(e){qa!==null&&qa.tag===0&&!(Pt&6)&&oc();var t=Pt;Pt|=1;var n=hr.transition,r=Ut;try{if(hr.transition=null,Ut=1,e)return e()}finally{Ut=r,hr.transition=n,Pt=t,!(Pt&6)&&No()}}function Fj(){zn=Xl.current,Qt(Xl)}function il(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,W$(n)),_s!==null)for(n=_s.return;n!==null;){var r=n;switch(gj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:rd(),Qt(Dn),Qt(dn),Cj();break;case 5:Sj(r);break;case 4:rd();break;case 13:Qt(as);break;case 19:Qt(as);break;case 10:bj(r.type._context);break;case 22:case 23:Fj()}n=n.return}if($s=e,_s=e=eo(e.current,null),Xs=zn=t,Ms=0,sh=null,Mj=Gg=fl=0,En=Pu=null,Oo!==null){for(t=0;t<Oo.length;t++)if(n=Oo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Oo=null}return e}function MA(e,t){do{var n=_s;try{if(vj(),Ap.current=jf,bf){for(var r=cs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bf=!1}if(pl=0,Os=Es=cs=null,_u=!1,Ju=0,Dj.current=null,n===null||n.return===null){Ms=1,sh=t,_s=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Xs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=_1(o);if(f!==null){f.flags&=-257,T1(f,o,l,a,t),f.mode&1&&k1(a,d,t),t=f,c=d;var j=t.updateQueue;if(j===null){var x=new Set;x.add(c),t.updateQueue=x}else j.add(c);break e}else{if(!(t&1)){k1(a,d,t),Oj();break e}c=Error(ge(426))}}else if(Zt&&l.mode&1){var g=_1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),T1(g,o,l,a,t),xj(id(c,l));break e}}a=c=id(c,l),Ms!==4&&(Ms=2),Pu===null?Pu=[a]:Pu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=gA(a,c,t);b1(a,p);break e;case 1:l=c;var y=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Za===null||!Za.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=xA(a,l,t);b1(a,w);break e}}a=a.return}while(a!==null)}FA(n)}catch(C){t=C,_s===n&&n!==null&&(_s=n=n.return);continue}break}while(!0)}function IA(){var e=wf.current;return wf.current=jf,e===null?jf:e}function Oj(){(Ms===0||Ms===3||Ms===2)&&(Ms=4),$s===null||!(fl&268435455)&&!(Gg&268435455)||Pa($s,Xs)}function Cf(e,t){var n=Pt;Pt|=2;var r=IA();($s!==e||Xs!==t)&&(zi=null,il(e,t));do try{x7();break}catch(i){MA(e,i)}while(!0);if(vj(),Pt=n,wf.current=r,_s!==null)throw Error(ge(261));return $s=null,Xs=0,Ms}function x7(){for(;_s!==null;)RA(_s)}function y7(){for(;_s!==null&&!V8();)RA(_s)}function RA(e){var t=LA(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?FA(e):_s=t,Dj.current=null}function FA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u7(n,t),n!==null){n.flags&=32767,_s=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ms=6,_s=null;return}}else if(n=d7(n,t,zn),n!==null){_s=n;return}if(t=t.sibling,t!==null){_s=t;return}_s=t=e}while(t!==null);Ms===0&&(Ms=5)}function Eo(e,t,n){var r=Ut,i=hr.transition;try{hr.transition=null,Ut=1,v7(e,t,n,r)}finally{hr.transition=i,Ut=r}return null}function v7(e,t,n,r){do oc();while(qa!==null);if(Pt&6)throw Error(ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(J8(e,a),e===$s&&(_s=$s=null,Xs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Km||(Km=!0,$A(af,function(){return oc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=hr.transition,hr.transition=null;var o=Ut;Ut=1;var l=Pt;Pt|=4,Dj.current=null,m7(e,n),EA(n,e),$$($v),lf=!!Lv,$v=Lv=null,e.current=n,p7(n),q8(),Pt=l,Ut=o,hr.transition=a}else e.current=n;if(Km&&(Km=!1,qa=e,Sf=i),a=e.pendingLanes,a===0&&(Za=null),G8(n.stateNode),In(e,vs()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nf)throw Nf=!1,e=i0,i0=null,e;return Sf&1&&e.tag!==0&&oc(),a=e.pendingLanes,a&1?e===a0?Eu++:(Eu=0,a0=e):Eu=0,No(),null}function oc(){if(qa!==null){var e=gE(Sf),t=hr.transition,n=Ut;try{if(hr.transition=null,Ut=16>e?16:e,qa===null)var r=!1;else{if(e=qa,qa=null,Sf=0,Pt&6)throw Error(ge(331));var i=Pt;for(Pt|=4,Re=e.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Re=d;Re!==null;){var h=Re;switch(h.tag){case 0:case 11:case 15:Tu(8,h,a)}var u=h.child;if(u!==null)u.return=h,Re=u;else for(;Re!==null;){h=Re;var m=h.sibling,f=h.return;if(_A(h),h===d){Re=null;break}if(m!==null){m.return=f,Re=m;break}Re=f}}}var j=a.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Tu(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Re=p;break e}Re=a.return}}var y=e.current;for(Re=y;Re!==null;){o=Re;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Re=v;else e:for(o=y;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wg(9,l)}}catch(C){hs(l,l.return,C)}if(l===o){Re=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Re=w;break e}Re=l.return}}if(Pt=i,No(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Lg,e)}catch{}r=!0}return r}finally{Ut=n,hr.transition=t}}return!1}function B1(e,t,n){t=id(n,t),t=gA(e,t,1),e=Xa(e,t,1),t=Nn(),e!==null&&(lm(e,1,t),In(e,t))}function hs(e,t,n){if(e.tag===3)B1(e,e,n);else for(;t!==null;){if(t.tag===3){B1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){e=id(n,e),e=xA(t,e,1),t=Xa(t,e,1),e=Nn(),t!==null&&(lm(t,1,e),In(t,e));break}}t=t.return}}function b7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,$s===e&&(Xs&n)===n&&(Ms===4||Ms===3&&(Xs&130023424)===Xs&&500>vs()-Ij?il(e,0):Mj|=n),In(e,t)}function OA(e,t){t===0&&(e.mode&1?(t=Lm,Lm<<=1,!(Lm&130023424)&&(Lm=4194304)):t=1);var n=Nn();e=ia(e,t),e!==null&&(lm(e,t,n),In(e,n))}function j7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),OA(e,n)}function w7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),OA(e,n)}var LA;LA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,c7(e,t,n);An=!!(e.flags&131072)}else An=!1,Zt&&t.flags&1048576&&zE(t,ff,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mp(e,t),e=t.pendingProps;var i=td(t,dn.current);ac(t,n),i=_j(null,t,r,e,i,n);var a=Tj();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(r)?(a=!0,mf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wj(t),i.updater=Hg,t.stateNode=i,i._reactInternals=t,Kv(t,r,e,n),t=Xv(null,t,r,!0,a,n)):(t.tag=0,Zt&&a&&fj(t),jn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=S7(r),e=wr(r,e),i){case 0:t=Yv(null,t,r,e,n);break e;case 1:t=A1(null,t,r,e,n);break e;case 11:t=P1(null,t,r,e,n);break e;case 14:t=E1(null,t,r,wr(r.type,e),n);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Yv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),A1(e,t,r,i,n);case 3:e:{if(jA(t),e===null)throw Error(ge(387));r=t.pendingProps,a=t.memoizedState,i=a.element,KE(e,t),yf(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=id(Error(ge(423)),t),t=D1(e,t,r,n,i);break e}else if(r!==i){i=id(Error(ge(424)),t),t=D1(e,t,r,n,i);break e}else for(Gn=Ya(t.stateNode.containerInfo.firstChild),Qn=t,Zt=!0,Mr=null,n=WE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sd(),r===i){t=aa(e,t,n);break e}jn(e,t,r,n)}t=t.child}return t;case 5:return QE(t),e===null&&Hv(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Uv(r,i)?o=null:a!==null&&Uv(r,a)&&(t.flags|=32),bA(e,t),jn(e,t,o,n),t.child;case 6:return e===null&&Hv(t),null;case 13:return wA(e,t,n);case 4:return Nj(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nd(t,null,r,n):jn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),P1(e,t,r,i,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Wt(gf,r._currentValue),r._currentValue=o,a!==null)if(Gr(a.value,o)){if(a.children===i.children&&!Dn.current){t=aa(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ji(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Wv(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wv(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ac(t,n),i=fr(i),r=r(i),t.flags|=1,jn(e,t,r,n),t.child;case 14:return r=t.type,i=wr(r,t.pendingProps),i=wr(r.type,i),E1(e,t,r,i,n);case 15:return yA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Mp(e,t),t.tag=1,Mn(r)?(e=!0,mf(t)):e=!1,ac(t,n),fA(t,r,i),Kv(t,r,i,n),Xv(null,t,r,!0,e,n);case 19:return NA(e,t,n);case 22:return vA(e,t,n)}throw Error(ge(156,t.tag))};function $A(e,t){return hE(e,t)}function N7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new N7(e,t,n,r)}function Lj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S7(e){if(typeof e=="function")return Lj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nj)return 11;if(e===rj)return 14}return 2}function eo(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fp(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Lj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bl:return al(n.children,i,a,t);case sj:o=8,i|=8;break;case yv:return e=dr(12,n,t,i|2),e.elementType=yv,e.lanes=a,e;case vv:return e=dr(13,n,t,i),e.elementType=vv,e.lanes=a,e;case bv:return e=dr(19,n,t,i),e.elementType=bv,e.lanes=a,e;case Q4:return Kg(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G4:o=10;break e;case K4:o=9;break e;case nj:o=11;break e;case rj:o=14;break e;case Sa:o=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=dr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function al(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function Kg(e,t,n,r){return e=dr(22,e,r,t),e.elementType=Q4,e.lanes=n,e.stateNode={isHidden:!1},e}function hy(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function my(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C7(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gx(0),this.expirationTimes=Gx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $j(e,t,n,r,i,a,o,l,c){return e=new C7(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wj(a),e}function k7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UA(e){if(!e)return ao;e=e._reactInternals;e:{if(Pl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var n=e.type;if(Mn(n))return UE(e,n,t)}return t}function BA(e,t,n,r,i,a,o,l,c){return e=$j(n,r,!0,e,i,a,o,l,c),e.context=UA(null),n=e.current,r=Nn(),i=Ja(n),a=Ji(r,i),a.callback=t??null,Xa(n,a,i),e.current.lanes=i,lm(e,i,r),In(e,r),e}function Qg(e,t,n,r){var i=t.current,a=Nn(),o=Ja(i);return n=UA(n),t.context===null?t.context=n:t.pendingContext=n,t=Ji(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xa(i,t,o),e!==null&&(qr(e,i,o,a),Ep(e,i,o)),o}function kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uj(e,t){z1(e,t),(e=e.alternate)&&z1(e,t)}function _7(){return null}var zA=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bj(e){this._internalRoot=e}Yg.prototype.render=Bj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Qg(e,t,null,null)};Yg.prototype.unmount=Bj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){Qg(null,e,null,null)}),t[ra]=null}};function Yg(e){this._internalRoot=e}Yg.prototype.unstable_scheduleHydration=function(e){if(e){var t=vE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ta.length&&t!==0&&t<Ta[n].priority;n++);Ta.splice(n,0,e),n===0&&jE(e)}};function zj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V1(){}function T7(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=kf(o);a.call(d)}}var o=BA(t,r,e,0,null,!1,!1,"",V1);return e._reactRootContainer=o,e[ra]=o.current,Ku(e.nodeType===8?e.parentNode:e),gl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=kf(c);l.call(d)}}var c=$j(e,0,!1,null,null,!1,!1,"",V1);return e._reactRootContainer=c,e[ra]=c.current,Ku(e.nodeType===8?e.parentNode:e),gl(function(){Qg(t,c,n,r)}),c}function Zg(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=kf(o);l.call(c)}}Qg(t,o,e,i)}else o=T7(n,t,e,i,r);return kf(o)}xE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hu(t.pendingLanes);n!==0&&(oj(t,n|1),In(t,vs()),!(Pt&6)&&(ad=vs()+500,No()))}break;case 13:gl(function(){var r=ia(e,1);if(r!==null){var i=Nn();qr(r,e,1,i)}}),Uj(e,1)}};lj=function(e){if(e.tag===13){var t=ia(e,134217728);if(t!==null){var n=Nn();qr(t,e,134217728,n)}Uj(e,134217728)}};yE=function(e){if(e.tag===13){var t=Ja(e),n=ia(e,t);if(n!==null){var r=Nn();qr(n,e,t,r)}Uj(e,t)}};vE=function(){return Ut};bE=function(e,t){var n=Ut;try{return Ut=e,t()}finally{Ut=n}};Ev=function(e,t,n){switch(t){case"input":if(Nv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zg(r);if(!i)throw Error(ge(90));X4(r),Nv(r,i)}}}break;case"textarea":J4(e,n);break;case"select":t=n.value,t!=null&&sc(e,!!n.multiple,t,!1)}};aE=Rj;oE=gl;var P7={usingClientEntryPoint:!1,Events:[dm,Hl,zg,rE,iE,Rj]},Kd={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E7={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dE(e),e===null?null:e.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||_7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{Lg=Qm.inject(E7),bi=Qm}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P7;tr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zj(t))throw Error(ge(200));return k7(e,t,null,n)};tr.createRoot=function(e,t){if(!zj(e))throw Error(ge(299));var n=!1,r="",i=zA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$j(e,1,!1,null,null,n,!1,r,i),e[ra]=t.current,Ku(e.nodeType===8?e.parentNode:e),new Bj(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=dE(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return gl(e)};tr.hydrate=function(e,t,n){if(!Xg(t))throw Error(ge(200));return Zg(null,e,t,!0,n)};tr.hydrateRoot=function(e,t,n){if(!zj(e))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=zA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=BA(t,null,e,1,n??null,i,!1,a,o),e[ra]=t.current,Ku(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yg(t)};tr.render=function(e,t,n){if(!Xg(t))throw Error(ge(200));return Zg(null,e,t,!1,n)};tr.unmountComponentAtNode=function(e){if(!Xg(e))throw Error(ge(40));return e._reactRootContainer?(gl(function(){Zg(null,null,e,!1,function(){e._reactRootContainer=null,e[ra]=null})}),!0):!1};tr.unstable_batchedUpdates=Rj;tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xg(n))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Zg(e,t,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function VA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VA)}catch(e){console.error(e)}}VA(),V4.exports=tr;var ma=V4.exports;const qA=Mi(ma);var HA,q1=ma;HA=q1.createRoot,q1.hydrateRoot;var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function ar(){}function A7(e,t){return typeof e=="function"?e(t):e}function c0(e){return typeof e=="number"&&e>=0&&e!==1/0}function WA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lc(e,t){return typeof e=="function"?e(t):e}function Ir(e,t){return typeof e=="function"?e(t):e}function H1(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Vj(o,t.options))return!1}else if(!nh(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function W1(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(yl(t.options.mutationKey)!==yl(a))return!1}else if(!nh(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Vj(e,t){return((t==null?void 0:t.queryKeyHashFn)||yl)(e)}function yl(e){return JSON.stringify(e,(t,n)=>d0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!nh(e[n],t[n])):!1}function GA(e,t){if(e===t)return e;const n=G1(e)&&G1(t);if(n||d0(e)&&d0(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=GA(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function _f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function G1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function d0(e){if(!K1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!K1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function K1(e){return Object.prototype.toString.call(e)==="[object Object]"}function D7(e){return new Promise(t=>{setTimeout(t,e)})}function u0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GA(e,t):t}function M7(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function I7(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qj=Symbol();function KA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bo,Aa,jc,$k,R7=($k=class extends _d{constructor(){super();K(this,Bo);K(this,Aa);K(this,jc);te(this,jc,t=>{if(!xl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,Aa)||this.setEventListener(_(this,jc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Aa))==null||t.call(this),te(this,Aa,void 0))}setEventListener(t){var n;te(this,jc,t),(n=_(this,Aa))==null||n.call(this),te(this,Aa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,Bo)!==t&&(te(this,Bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,Bo)=="boolean"?_(this,Bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bo=new WeakMap,Aa=new WeakMap,jc=new WeakMap,$k),Hj=new R7,wc,Da,Nc,Uk,F7=(Uk=class extends _d{constructor(){super();K(this,wc,!0);K(this,Da);K(this,Nc);te(this,Nc,t=>{if(!xl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Da)||this.setEventListener(_(this,Nc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Da))==null||t.call(this),te(this,Da,void 0))}setEventListener(t){var n;te(this,Nc,t),(n=_(this,Da))==null||n.call(this),te(this,Da,t(this.setOnline.bind(this)))}setOnline(t){_(this,wc)!==t&&(te(this,wc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,wc)}},wc=new WeakMap,Da=new WeakMap,Nc=new WeakMap,Uk),Tf=new F7;function h0(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function O7(e){return Math.min(1e3*2**e,3e4)}function QA(e){return(e??"online")==="online"?Tf.isOnline():!0}var YA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function py(e){return e instanceof YA}function XA(e){let t=!1,n=0,r=!1,i;const a=h0(),o=x=>{var g;r||(m(new YA(x)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Hj.isFocused()&&(e.networkMode==="always"||Tf.isOnline())&&e.canRun(),h=()=>QA(e.networkMode)&&e.canRun(),u=x=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,x),i==null||i(),a.resolve(x))},m=x=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,x),i==null||i(),a.reject(x))},f=()=>new Promise(x=>{var g;i=p=>{(r||d())&&x(p)},(g=e.onPause)==null||g.call(e)}).then(()=>{var x;i=void 0,r||(x=e.onContinue)==null||x.call(e)}),j=()=>{if(r)return;let x;const g=n===0?e.initialPromise:void 0;try{x=g??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(u).catch(p=>{var N;if(r)return;const y=e.retry??(xl?0:3),v=e.retryDelay??O7,w=typeof v=="function"?v(n,p):v,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(t||!C){m(p);return}n++,(N=e.onFail)==null||N.call(e,n,p),D7(w).then(()=>d()?void 0:f()).then(()=>{t?m(p):j()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?j():f().then(j),a)}}function L7(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ds=L7(),zo,Bk,ZA=(Bk=class{constructor(){K(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),c0(this.gcTime)&&te(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:5*60*1e3))}clearGcTimeout(){_(this,zo)&&(clearTimeout(_(this,zo)),te(this,zo,void 0))}},zo=new WeakMap,Bk),Sc,Cc,rr,nn,Fh,Vo,Nr,Ui,zk,$7=(zk=class extends ZA{constructor(t){super();K(this,Nr);K(this,Sc);K(this,Cc);K(this,rr);K(this,nn);K(this,Fh);K(this,Vo);te(this,Vo,!1),te(this,Fh,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,rr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Sc,U7(this.options)),this.state=t.state??_(this,Sc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,nn))==null?void 0:t.promise}setOptions(t){this.options={..._(this,Fh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,rr).remove(this)}setData(t,n){const r=u0(this.state.data,t,this.options);return ne(this,Nr,Ui).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ne(this,Nr,Ui).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=_(this,nn))==null?void 0:r.promise;return(i=_(this,nn))==null||i.cancel(t),n?n.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Sc))}isActive(){return this.observers.some(t=>Ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!WA(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,nn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,nn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,nn)&&(_(this,Vo)?_(this,nn).cancel({revert:!0}):_(this,nn).cancelRetry()),this.scheduleGc()),_(this,rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Nr,Ui).call(this,{type:"invalidate"})}fetch(t,n){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,nn))return _(this,nn).continueRetry(),_(this,nn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(te(this,Vo,!0),r.signal)})},a=()=>{const u=KA(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),te(this,Vo,!1),this.options.persister?this.options.persister(u,m,this):u(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),te(this,Cc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ne(this,Nr,Ui).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=u=>{var m,f,j,x;py(u)&&u.silent||ne(this,Nr,Ui).call(this,{type:"error",error:u}),py(u)||((f=(m=_(this,rr).config).onError)==null||f.call(m,u,this),(x=(j=_(this,rr).config).onSettled)==null||x.call(j,this.state.data,u,this)),this.scheduleGc()};return te(this,nn,XA({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var m,f,j,x;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(g){l(g);return}(f=(m=_(this,rr).config).onSuccess)==null||f.call(m,u,this),(x=(j=_(this,rr).config).onSettled)==null||x.call(j,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{ne(this,Nr,Ui).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{ne(this,Nr,Ui).call(this,{type:"pause"})},onContinue:()=>{ne(this,Nr,Ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,nn).start()}},Sc=new WeakMap,Cc=new WeakMap,rr=new WeakMap,nn=new WeakMap,Fh=new WeakMap,Vo=new WeakMap,Nr=new WeakSet,Ui=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JA(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return py(i)&&i.revert&&_(this,Cc)?{..._(this,Cc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ds.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,rr).notify({query:this,type:"updated",action:t})})},zk);function JA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function U7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ai,Vk,B7=(Vk=class extends _d{constructor(t={}){super();K(this,ai);this.config=t,te(this,ai,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Vj(i,n);let o=this.get(a);return o||(o=new $7({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,ai).has(t.queryHash)||(_(this,ai).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,ai).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,ai).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,ai).get(t)}getAll(){return[..._(this,ai).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>H1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>H1(t,r)):n}notify(t){Ds.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ai=new WeakMap,Vk),oi,xn,qo,li,ba,qk,z7=(qk=class extends ZA{constructor(t){super();K(this,li);K(this,oi);K(this,xn);K(this,qo);this.mutationId=t.mutationId,te(this,xn,t.mutationCache),te(this,oi,[]),this.state=t.state||e5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,oi).includes(t)||(_(this,oi).push(t),this.clearGcTimeout(),_(this,xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,oi,_(this,oi).filter(n=>n!==t)),this.scheduleGc(),_(this,xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,oi).length||(this.state.status==="pending"?this.scheduleGc():_(this,xn).remove(this))}continue(){var t;return((t=_(this,qo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,d,h,u,m,f,j,x,g,p,y,v,w,C,N,S;te(this,qo,XA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{ne(this,li,ba).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{ne(this,li,ba).call(this,{type:"pause"})},onContinue:()=>{ne(this,li,ba).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,xn).canRun(this)}));const n=this.state.status==="pending",r=!_(this,qo).canStart();try{if(!n){ne(this,li,ba).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=_(this,xn).config).onMutate)==null?void 0:a.call(i,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&ne(this,li,ba).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const k=await _(this,qo).start();return await((d=(c=_(this,xn).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,k,t,this.state.context)),await((f=(m=_(this,xn).config).onSettled)==null?void 0:f.call(m,k,null,this.state.variables,this.state.context,this)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,k,null,t,this.state.context)),ne(this,li,ba).call(this,{type:"success",data:k}),k}catch(k){try{throw await((p=(g=_(this,xn).config).onError)==null?void 0:p.call(g,k,t,this.state.context,this)),await((v=(y=this.options).onError)==null?void 0:v.call(y,k,t,this.state.context)),await((C=(w=_(this,xn).config).onSettled)==null?void 0:C.call(w,void 0,k,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,k,t,this.state.context)),k}finally{ne(this,li,ba).call(this,{type:"error",error:k})}}finally{_(this,xn).runNext(this)}}},oi=new WeakMap,xn=new WeakMap,qo=new WeakMap,li=new WeakSet,ba=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ds.batch(()=>{_(this,oi).forEach(r=>{r.onMutationUpdate(t)}),_(this,xn).notify({mutation:this,type:"updated",action:t})})},qk);function e5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Oh,Hk,V7=(Hk=class extends _d{constructor(t={}){super();K(this,Bn);K(this,Oh);this.config=t,te(this,Bn,new Map),te(this,Oh,Date.now())}build(t,n,r){const i=new z7({mutationCache:this,mutationId:++Am(this,Oh)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Ym(t),r=_(this,Bn).get(n)??[];r.push(t),_(this,Bn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ym(t);if(_(this,Bn).has(n)){const i=(r=_(this,Bn).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?_(this,Bn).delete(n):_(this,Bn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=_(this,Bn).get(Ym(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=_(this,Bn).get(Ym(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[..._(this,Bn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>W1(n,r))}findAll(t={}){return this.getAll().filter(n=>W1(t,n))}notify(t){Ds.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ds.batch(()=>Promise.all(t.map(n=>n.continue().catch(ar))))}},Bn=new WeakMap,Oh=new WeakMap,Hk);function Ym(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Q1(e){return{onFetch:(t,n)=>{var h,u,m,f,j;const r=t.options,i=(m=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=KA(t.options,t.fetchOptions),y=async(v,w,C)=>{if(x)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const N={queryKey:t.queryKey,pageParam:w,direction:C?"backward":"forward",meta:t.options.meta};g(N);const S=await p(N),{maxPages:k}=t.options,T=C?I7:M7;return{pages:T(v.pages,S,k),pageParams:T(v.pageParams,w,k)}};if(i&&a.length){const v=i==="backward",w=v?q7:Y1,C={pages:a,pageParams:o},N=w(r,C);l=await y(C,N,v)}else{const v=e??a.length;do{const w=c===0?o[0]??r.initialPageParam:Y1(r,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var x,g;return(g=(x=t.options).persister)==null?void 0:g.call(x,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Y1(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function q7(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var us,Ma,Ia,kc,_c,Ra,Tc,Pc,Wk,H7=(Wk=class{constructor(e={}){K(this,us);K(this,Ma);K(this,Ia);K(this,kc);K(this,_c);K(this,Ra);K(this,Tc);K(this,Pc);te(this,us,e.queryCache||new B7),te(this,Ma,e.mutationCache||new V7),te(this,Ia,e.defaultOptions||{}),te(this,kc,new Map),te(this,_c,new Map),te(this,Ra,0)}mount(){Am(this,Ra)._++,_(this,Ra)===1&&(te(this,Tc,Hj.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,us).onFocus())})),te(this,Pc,Tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,us).onOnline())})))}unmount(){var e,t;Am(this,Ra)._--,_(this,Ra)===0&&((e=_(this,Tc))==null||e.call(this),te(this,Tc,void 0),(t=_(this,Pc))==null||t.call(this),te(this,Pc,void 0))}isFetching(e){return _(this,us).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Ma).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,us).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=_(this,us).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(lc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return _(this,us).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=_(this,us).get(r.queryHash),a=i==null?void 0:i.state.data,o=A7(t,a);if(o!==void 0)return _(this,us).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ds.batch(()=>_(this,us).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,us).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,us);Ds.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,us),r={type:"active",...e};return Ds.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ds.batch(()=>_(this,us).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(e={},t={}){return Ds.batch(()=>{if(_(this,us).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ds.batch(()=>_(this,us).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ar)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,us).build(this,t);return n.isStaleByTime(lc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=Q1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=Q1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tf.isOnline()?_(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,us)}getMutationCache(){return _(this,Ma)}getDefaultOptions(){return _(this,Ia)}setDefaultOptions(e){te(this,Ia,e)}setQueryDefaults(e,t){_(this,kc).set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,kc).values()];let n={};return t.forEach(r=>{nh(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){_(this,_c).set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,_c).values()];let n={};return t.forEach(r=>{nh(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Ia).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===qj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Ia).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,us).clear(),_(this,Ma).clear()}},us=new WeakMap,Ma=new WeakMap,Ia=new WeakMap,kc=new WeakMap,_c=new WeakMap,Ra=new WeakMap,Tc=new WeakMap,Pc=new WeakMap,Wk),Tn,Nt,Lh,yn,Ho,Ec,Fa,ci,$h,Ac,Dc,Wo,Go,Oa,Mc,Rt,pu,m0,p0,f0,g0,x0,y0,v0,t5,Gk,W7=(Gk=class extends _d{constructor(t,n){super();K(this,Rt);K(this,Tn);K(this,Nt);K(this,Lh);K(this,yn);K(this,Ho);K(this,Ec);K(this,Fa);K(this,ci);K(this,$h);K(this,Ac);K(this,Dc);K(this,Wo);K(this,Go);K(this,Oa);K(this,Mc,new Set);this.options=n,te(this,Tn,t),te(this,ci,null),te(this,Fa,h0()),this.options.experimental_prefetchInRender||_(this,Fa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Nt).addObserver(this),X1(_(this,Nt),this.options)?ne(this,Rt,pu).call(this):this.updateResult(),ne(this,Rt,g0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b0(_(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b0(_(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,Rt,x0).call(this),ne(this,Rt,y0).call(this),_(this,Nt).removeObserver(this)}setOptions(t,n){const r=this.options,i=_(this,Nt);if(this.options=_(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,_(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,Rt,v0).call(this),_(this,Nt).setOptions(this.options),r._defaulted&&!_f(this.options,r)&&_(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Nt),observer:this});const a=this.hasListeners();a&&Z1(_(this,Nt),i,this.options,r)&&ne(this,Rt,pu).call(this),this.updateResult(n),a&&(_(this,Nt)!==i||Ir(this.options.enabled,_(this,Nt))!==Ir(r.enabled,_(this,Nt))||lc(this.options.staleTime,_(this,Nt))!==lc(r.staleTime,_(this,Nt)))&&ne(this,Rt,m0).call(this);const o=ne(this,Rt,p0).call(this);a&&(_(this,Nt)!==i||Ir(this.options.enabled,_(this,Nt))!==Ir(r.enabled,_(this,Nt))||o!==_(this,Oa))&&ne(this,Rt,f0).call(this,o)}getOptimisticResult(t){const n=_(this,Tn).getQueryCache().build(_(this,Tn),t),r=this.createResult(n,t);return K7(this,r)&&(te(this,yn,r),te(this,Ec,this.options),te(this,Ho,_(this,Nt).state)),r}getCurrentResult(){return _(this,yn)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){_(this,Mc).add(t)}getCurrentQuery(){return _(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_(this,Tn).defaultQueryOptions(t),r=_(this,Tn).getQueryCache().build(_(this,Tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ne(this,Rt,pu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,yn)))}createResult(t,n){var k;const r=_(this,Nt),i=this.options,a=_(this,yn),o=_(this,Ho),l=_(this,Ec),d=t!==r?t.state:_(this,Lh),{state:h}=t;let u={...h},m=!1,f;if(n._optimisticResults){const T=this.hasListeners(),D=!T&&X1(t,n),P=T&&Z1(t,r,n,i);(D||P)&&(u={...u,...JA(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:j,errorUpdatedAt:x,status:g}=u;if(n.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&n.select===_(this,$h))f=_(this,Ac);else try{te(this,$h,n.select),f=n.select(u.data),f=u0(a==null?void 0:a.data,f,n),te(this,Ac,f),te(this,ci,null)}catch(T){te(this,ci,T)}else f=u.data;if(n.placeholderData!==void 0&&f===void 0&&g==="pending"){let T;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))T=a.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((k=_(this,Dc))==null?void 0:k.state.data,_(this,Dc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),te(this,ci,null)}catch(D){te(this,ci,D)}T!==void 0&&(g="success",f=u0(a==null?void 0:a.data,T,n),m=!0)}_(this,ci)&&(j=_(this,ci),f=_(this,Ac),x=Date.now(),g="error");const p=u.fetchStatus==="fetching",y=g==="pending",v=g==="error",w=y&&p,C=f!==void 0,S={status:g,fetchStatus:u.fetchStatus,isPending:y,isSuccess:g==="success",isError:v,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:u.dataUpdatedAt,error:j,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:v&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:v&&C,isStale:Wj(t,n),refetch:this.refetch,promise:_(this,Fa)};if(this.options.experimental_prefetchInRender){const T=M=>{S.status==="error"?M.reject(S.error):S.data!==void 0&&M.resolve(S.data)},D=()=>{const M=te(this,Fa,S.promise=h0());T(M)},P=_(this,Fa);switch(P.status){case"pending":t.queryHash===r.queryHash&&T(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&D();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&D();break}}return S}updateResult(t){const n=_(this,yn),r=this.createResult(_(this,Nt),this.options);if(te(this,Ho,_(this,Nt).state),te(this,Ec,this.options),_(this,Ho).data!==void 0&&te(this,Dc,_(this,Nt)),_f(r,n))return;te(this,yn,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!_(this,Mc).size)return!0;const c=new Set(l??_(this,Mc));return this.options.throwOnError&&c.add("error"),Object.keys(_(this,yn)).some(d=>{const h=d;return _(this,yn)[h]!==n[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),ne(this,Rt,t5).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,Rt,g0).call(this)}},Tn=new WeakMap,Nt=new WeakMap,Lh=new WeakMap,yn=new WeakMap,Ho=new WeakMap,Ec=new WeakMap,Fa=new WeakMap,ci=new WeakMap,$h=new WeakMap,Ac=new WeakMap,Dc=new WeakMap,Wo=new WeakMap,Go=new WeakMap,Oa=new WeakMap,Mc=new WeakMap,Rt=new WeakSet,pu=function(t){ne(this,Rt,v0).call(this);let n=_(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ar)),n},m0=function(){ne(this,Rt,x0).call(this);const t=lc(this.options.staleTime,_(this,Nt));if(xl||_(this,yn).isStale||!c0(t))return;const r=WA(_(this,yn).dataUpdatedAt,t)+1;te(this,Wo,setTimeout(()=>{_(this,yn).isStale||this.updateResult()},r))},p0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Nt)):this.options.refetchInterval)??!1},f0=function(t){ne(this,Rt,y0).call(this),te(this,Oa,t),!(xl||Ir(this.options.enabled,_(this,Nt))===!1||!c0(_(this,Oa))||_(this,Oa)===0)&&te(this,Go,setInterval(()=>{(this.options.refetchIntervalInBackground||Hj.isFocused())&&ne(this,Rt,pu).call(this)},_(this,Oa)))},g0=function(){ne(this,Rt,m0).call(this),ne(this,Rt,f0).call(this,ne(this,Rt,p0).call(this))},x0=function(){_(this,Wo)&&(clearTimeout(_(this,Wo)),te(this,Wo,void 0))},y0=function(){_(this,Go)&&(clearInterval(_(this,Go)),te(this,Go,void 0))},v0=function(){const t=_(this,Tn).getQueryCache().build(_(this,Tn),this.options);if(t===_(this,Nt))return;const n=_(this,Nt);te(this,Nt,t),te(this,Lh,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},t5=function(t){Ds.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_(this,yn))}),_(this,Tn).getQueryCache().notify({query:_(this,Nt),type:"observerResultsUpdated"})})},Gk);function G7(e,t){return Ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function X1(e,t){return G7(e,t)||e.state.data!==void 0&&b0(e,t,t.refetchOnMount)}function b0(e,t,n){if(Ir(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wj(e,t)}return!1}function Z1(e,t,n,r){return(e!==t||Ir(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Wj(e,n)}function Wj(e,t){return Ir(t.enabled,e)!==!1&&e.isStaleByTime(lc(t.staleTime,e))}function K7(e,t){return!_f(e.getCurrentResult(),t)}var La,$a,Pn,Hi,sa,Op,j0,Kk,Q7=(Kk=class extends _d{constructor(n,r){super();K(this,sa);K(this,La);K(this,$a);K(this,Pn);K(this,Hi);te(this,La,n),this.setOptions(r),this.bindMethods(),ne(this,sa,Op).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=_(this,La).defaultMutationOptions(n),_f(this.options,r)||_(this,La).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yl(r.mutationKey)!==yl(this.options.mutationKey)?this.reset():((i=_(this,Pn))==null?void 0:i.state.status)==="pending"&&_(this,Pn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,Pn))==null||n.removeObserver(this)}onMutationUpdate(n){ne(this,sa,Op).call(this),ne(this,sa,j0).call(this,n)}getCurrentResult(){return _(this,$a)}reset(){var n;(n=_(this,Pn))==null||n.removeObserver(this),te(this,Pn,void 0),ne(this,sa,Op).call(this),ne(this,sa,j0).call(this)}mutate(n,r){var i;return te(this,Hi,r),(i=_(this,Pn))==null||i.removeObserver(this),te(this,Pn,_(this,La).getMutationCache().build(_(this,La),this.options)),_(this,Pn).addObserver(this),_(this,Pn).execute(n)}},La=new WeakMap,$a=new WeakMap,Pn=new WeakMap,Hi=new WeakMap,sa=new WeakSet,Op=function(){var r;const n=((r=_(this,Pn))==null?void 0:r.state)??e5();te(this,$a,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},j0=function(n){Ds.batch(()=>{var r,i,a,o,l,c,d,h;if(_(this,Hi)&&this.hasListeners()){const u=_(this,$a).variables,m=_(this,$a).context;(n==null?void 0:n.type)==="success"?((i=(r=_(this,Hi)).onSuccess)==null||i.call(r,n.data,u,m),(o=(a=_(this,Hi)).onSettled)==null||o.call(a,n.data,null,u,m)):(n==null?void 0:n.type)==="error"&&((c=(l=_(this,Hi)).onError)==null||c.call(l,n.error,u,m),(h=(d=_(this,Hi)).onSettled)==null||h.call(d,void 0,n.error,u,m))}this.listeners.forEach(u=>{u(_(this,$a))})})},Kk),s5=b.createContext(void 0),Yt=e=>{const t=b.useContext(s5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y7=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(s5.Provider,{value:e,children:t})),n5=b.createContext(!1),X7=()=>b.useContext(n5);n5.Provider;function Z7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var J7=b.createContext(Z7()),eU=()=>b.useContext(J7);function r5(e,t){return typeof e=="function"?e(...t):!!e}function w0(){}var tU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sU=e=>{b.useEffect(()=>{e.clearReset()},[e])},nU=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&r5(n,[e.error,r]),rU=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},iU=(e,t)=>e.isLoading&&e.isFetching&&!t,aU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,J1=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function oU(e,t,n){var h,u,m,f,j;const r=Yt(),i=X7(),a=eU(),o=r.defaultQueryOptions(e);(u=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",rU(o),tU(o,a),sU(a);const l=!r.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(x=>{const g=i?w0:c.subscribe(Ds.batchCalls(x));return c.updateResult(),g},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),aU(o,d))throw J1(o,c,a);if(nU({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((f=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,o,d),o.experimental_prefetchInRender&&!xl&&iU(d,i)){const x=l?J1(o,c,a):(j=r.getQueryCache().get(o.queryHash))==null?void 0:j.promise;x==null||x.catch(w0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xe(e,t){return oU(e,W7)}function Ce(e,t){const n=Yt(),[r]=b.useState(()=>new Q7(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const i=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Ds.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=b.useCallback((o,l)=>{r.mutate(o,l).catch(w0)},[r]);if(i.error&&r5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function eS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i5(...e){return t=>{let n=!1;const r=e.map(i=>{const a=eS(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():eS(e[i],null)}}}}function xt(...e){return b.useCallback(i5(...e),e)}function lU(e,t){const n=b.createContext(t),r=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Fn(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];const d=u=>{var p;const{scope:m,children:f,...j}=u,x=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,g=b.useMemo(()=>j,Object.values(j));return s.jsx(x.Provider,{value:g,children:f})};d.displayName=a+"Provider";function h(u,m){var x;const f=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,j=b.useContext(f);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,cU(i,...t)]}function cU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function od(e){const t=dU(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(hU);if(c){const d=c.props.children,h=l.map(u=>u===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:u);return s.jsx(t,{...o,ref:i,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var a5=od("Slot");function dU(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=pU(i),l=mU(a,i.props);return i.type!==b.Fragment&&(l.ref=r?i5(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o5=Symbol("radix.slottable");function uU(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=o5,t}function hU(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o5}function mU(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function pU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=fU.reduce((e,t)=>{const n=od(`Primitive.${t}`),r=b.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l5(e,t){e&&ma.flushSync(()=>e.dispatchEvent(t))}function ms(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function gU(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var xU="DismissableLayer",N0="dismissableLayer.update",yU="dismissableLayer.pointerDownOutside",vU="dismissableLayer.focusOutside",tS,c5=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hm=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=b.useContext(c5),[h,u]=b.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=b.useState({}),j=xt(t,S=>u(S)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(g),y=h?x.indexOf(h):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,w=y>=p,C=jU(S=>{const k=S.target,T=[...d.branches].some(D=>D.contains(k));!w||T||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),N=wU(S=>{const k=S.target;[...d.branches].some(D=>D.contains(k))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return gU(S=>{y===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),b.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),sS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=tS)}},[h,m,n,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),sS())},[h,d]),b.useEffect(()=>{const S=()=>f({});return document.addEventListener(N0,S),()=>document.removeEventListener(N0,S)},[]),s.jsx(Ve.div,{...c,ref:j,style:{pointerEvents:v?w?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,C.onPointerDownCapture)})});hm.displayName=xU;var bU="DismissableLayerBranch",d5=b.forwardRef((e,t)=>{const n=b.useContext(c5),r=b.useRef(null),i=xt(t,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ve.div,{...e,ref:i})});d5.displayName=bU;function jU(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){u5(yU,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function wU(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e),r=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!r.current&&u5(vU,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sS(){const e=new CustomEvent(N0);document.dispatchEvent(e)}function u5(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?l5(i,a):i.dispatchEvent(a)}var NU=hm,SU=d5,Ts=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},CU=B4[" useId ".trim().toString()]||(()=>{}),kU=0;function ea(e){const[t,n]=b.useState(CU());return Ts(()=>{e||n(r=>r??String(kU++))},[e]),e||(t?`radix-${t}`:"")}const _U=["top","right","bottom","left"],oo=Math.min,qn=Math.max,Pf=Math.round,Xm=Math.floor,wi=e=>({x:e,y:e}),TU={left:"right",right:"left",bottom:"top",top:"bottom"},PU={start:"end",end:"start"};function S0(e,t,n){return qn(e,oo(t,n))}function oa(e,t){return typeof e=="function"?e(t):e}function la(e){return e.split("-")[0]}function Td(e){return e.split("-")[1]}function Gj(e){return e==="x"?"y":"x"}function Kj(e){return e==="y"?"height":"width"}function lo(e){return["top","bottom"].includes(la(e))?"y":"x"}function Qj(e){return Gj(lo(e))}function EU(e,t,n){n===void 0&&(n=!1);const r=Td(e),i=Qj(e),a=Kj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ef(o)),[o,Ef(o)]}function AU(e){const t=Ef(e);return[C0(e),t,C0(t)]}function C0(e){return e.replace(/start|end/g,t=>PU[t])}function DU(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function MU(e,t,n,r){const i=Td(e);let a=DU(la(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(C0)))),a}function Ef(e){return e.replace(/left|right|bottom|top/g,t=>TU[t])}function IU(e){return{top:0,right:0,bottom:0,left:0,...e}}function h5(e){return typeof e!="number"?IU(e):{top:e,right:e,bottom:e,left:e}}function Af(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function nS(e,t,n){let{reference:r,floating:i}=e;const a=lo(t),o=Qj(t),l=Kj(o),c=la(t),d=a==="y",h=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let f;switch(c){case"top":f={x:h,y:r.y-i.height};break;case"bottom":f={x:h,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(Td(t)){case"start":f[o]-=m*(n&&d?-1:1);break;case"end":f[o]+=m*(n&&d?-1:1);break}return f}const RU=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:u}=nS(d,r,c),m=r,f={},j=0;for(let x=0;x<l.length;x++){const{name:g,fn:p}=l[x],{x:y,y:v,data:w,reset:C}=await p({x:h,y:u,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});h=y??h,u=v??u,f={...f,[g]:{...f[g],...w}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:h,y:u}=nS(d,m,c)),x=-1)}return{x:h,y:u,placement:m,strategy:i,middlewareData:f}};async function rh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:m=!1,padding:f=0}=oa(t,e),j=h5(f),g=l[m?u==="floating"?"reference":"floating":u],p=Af(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Af(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(p.top-C.top+j.top)/w.y,bottom:(C.bottom-p.bottom+j.bottom)/w.y,left:(p.left-C.left+j.left)/w.x,right:(C.right-p.right+j.right)/w.x}}const FU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=oa(e,t)||{};if(d==null)return{};const u=h5(h),m={x:n,y:r},f=Qj(i),j=Kj(f),x=await o.getDimensions(d),g=f==="y",p=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",w=a.reference[j]+a.reference[f]-m[f]-a.floating[j],C=m[f]-a.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=N?N[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[v]||a.floating[j]);const k=w/2-C/2,T=S/2-x[j]/2-1,D=oo(u[p],T),P=oo(u[y],T),M=D,X=S-x[j]-P,ee=S/2-x[j]/2+k,F=S0(M,ee,X),re=!c.arrow&&Td(i)!=null&&ee!==F&&a.reference[j]/2-(ee<M?D:P)-x[j]/2<0,fe=re?ee<M?ee-M:ee-X:0;return{[f]:m[f]+fe,data:{[f]:F,centerOffset:ee-F-fe,...re&&{alignmentOffset:fe}},reset:re}}}),OU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...g}=oa(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=la(i),y=lo(l),v=la(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(v||!x?[Ef(l)]:AU(l)),N=j!=="none";!m&&N&&C.push(...MU(l,x,j,w));const S=[l,...C],k=await rh(t,g),T=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&T.push(k[p]),u){const ee=EU(i,o,w);T.push(k[ee[0]],k[ee[1]])}if(D=[...D,{placement:i,overflows:T}],!T.every(ee=>ee<=0)){var P,M;const ee=(((P=a.flip)==null?void 0:P.index)||0)+1,F=S[ee];if(F)return{data:{index:ee,overflows:D},reset:{placement:F}};let re=(M=D.filter(fe=>fe.overflows[0]<=0).sort((fe,H)=>fe.overflows[1]-H.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(f){case"bestFit":{var X;const fe=(X=D.filter(H=>{if(N){const $=lo(H.placement);return $===y||$==="y"}return!0}).map(H=>[H.placement,H.overflows.filter($=>$>0).reduce(($,oe)=>$+oe,0)]).sort((H,$)=>H[1]-$[1])[0])==null?void 0:X[0];fe&&(re=fe);break}case"initialPlacement":re=l;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function rS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iS(e){return _U.some(t=>e[t]>=0)}const LU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=oa(e,t);switch(r){case"referenceHidden":{const a=await rh(t,{...i,elementContext:"reference"}),o=rS(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iS(o)}}}case"escaped":{const a=await rh(t,{...i,altBoundary:!0}),o=rS(a,n.floating);return{data:{escapedOffsets:o,escaped:iS(o)}}}default:return{}}}}};async function $U(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=la(n),l=Td(n),c=lo(n)==="y",d=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,u=oa(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:j}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof j=="number"&&(f=l==="end"?j*-1:j),c?{x:f*h,y:m*d}:{x:m*d,y:f*h}}const UU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await $U(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},BU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:p,y}=g;return{x:p,y}}},...c}=oa(e,t),d={x:n,y:r},h=await rh(t,c),u=lo(la(i)),m=Gj(u);let f=d[m],j=d[u];if(a){const g=m==="y"?"top":"left",p=m==="y"?"bottom":"right",y=f+h[g],v=f-h[p];f=S0(y,f,v)}if(o){const g=u==="y"?"top":"left",p=u==="y"?"bottom":"right",y=j+h[g],v=j-h[p];j=S0(y,j,v)}const x=l.fn({...t,[m]:f,[u]:j});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[u]:o}}}}}},zU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=oa(e,t),h={x:n,y:r},u=lo(i),m=Gj(u);let f=h[m],j=h[u];const x=oa(l,t),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",w=a.reference[m]-a.floating[v]+g.mainAxis,C=a.reference[m]+a.reference[v]-g.mainAxis;f<w?f=w:f>C&&(f=C)}if(d){var p,y;const v=m==="y"?"width":"height",w=["top","left"].includes(la(i)),C=a.reference[u]-a.floating[v]+(w&&((p=o.offset)==null?void 0:p[u])||0)+(w?0:g.crossAxis),N=a.reference[u]+a.reference[v]+(w?0:((y=o.offset)==null?void 0:y[u])||0)-(w?g.crossAxis:0);j<C?j=C:j>N&&(j=N)}return{[m]:f,[u]:j}}}},VU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=oa(e,t),h=await rh(t,d),u=la(i),m=Td(i),f=lo(i)==="y",{width:j,height:x}=a.floating;let g,p;u==="top"||u==="bottom"?(g=u,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=u,g=m==="end"?"top":"bottom");const y=x-h.top-h.bottom,v=j-h.left-h.right,w=oo(x-h[g],y),C=oo(j-h[p],v),N=!t.middlewareData.shift;let S=w,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),N&&!m){const D=qn(h.left,0),P=qn(h.right,0),M=qn(h.top,0),X=qn(h.bottom,0);f?k=j-2*(D!==0||P!==0?D+P:qn(h.left,h.right)):S=x-2*(M!==0||X!==0?M+X:qn(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:S});const T=await o.getDimensions(l.floating);return j!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Jg(){return typeof window<"u"}function Pd(e){return m5(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ii(e){var t;return(t=(m5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m5(e){return Jg()?e instanceof Node||e instanceof Yn(e).Node:!1}function Kr(e){return Jg()?e instanceof Element||e instanceof Yn(e).Element:!1}function ki(e){return Jg()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function aS(e){return!Jg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}function mm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function qU(e){return["table","td","th"].includes(Pd(e))}function ex(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Yj(e){const t=Xj(),n=Kr(e)?Qr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HU(e){let t=co(e);for(;ki(t)&&!ld(t);){if(Yj(t))return t;if(ex(t))return null;t=co(t)}return null}function Xj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ld(e){return["html","body","#document"].includes(Pd(e))}function Qr(e){return Yn(e).getComputedStyle(e)}function tx(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aS(e)&&e.host||Ii(e);return aS(t)?t.host:t}function p5(e){const t=co(e);return ld(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&mm(t)?t:p5(t)}function ih(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=p5(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Yn(i);if(a){const l=k0(o);return t.concat(o,o.visualViewport||[],mm(i)?i:[],l&&n?ih(l):[])}return t.concat(i,ih(i,[],n))}function k0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f5(e){const t=Qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ki(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Pf(n)!==a||Pf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Zj(e){return Kr(e)?e:e.contextElement}function cc(e){const t=Zj(e);if(!ki(t))return wi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=f5(t);let o=(a?Pf(n.width):n.width)/r,l=(a?Pf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const WU=wi(0);function g5(e){const t=Yn(e);return!Xj()||!t.visualViewport?WU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yn(e)?!1:t}function vl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Zj(e);let o=wi(1);t&&(r?Kr(r)&&(o=cc(r)):o=cc(e));const l=GU(a,n,r)?g5(a):wi(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,u=i.height/o.y;if(a){const m=Yn(a),f=r&&Kr(r)?Yn(r):r;let j=m,x=k0(j);for(;x&&r&&f!==j;){const g=cc(x),p=x.getBoundingClientRect(),y=Qr(x),v=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*g.x,w=p.top+(x.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,h*=g.x,u*=g.y,c+=v,d+=w,j=Yn(x),x=k0(j)}}return Af({width:h,height:u,x:c,y:d})}function Jj(e,t){const n=tx(e).scrollLeft;return t?t.left+n:vl(Ii(e)).left+n}function x5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Jj(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function KU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Ii(r),l=t?ex(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=wi(1);const h=wi(0),u=ki(r);if((u||!u&&!a)&&((Pd(r)!=="body"||mm(o))&&(c=tx(r)),ki(r))){const f=vl(r);d=cc(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}const m=o&&!u&&!a?x5(o,c,!0):wi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function QU(e){return Array.from(e.getClientRects())}function YU(e){const t=Ii(e),n=tx(e),r=e.ownerDocument.body,i=qn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=qn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jj(e);const l=-n.scrollTop;return Qr(r).direction==="rtl"&&(o+=qn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function XU(e,t){const n=Yn(e),r=Ii(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=Xj();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function ZU(e,t){const n=vl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=ki(e)?cc(e):wi(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function oS(e,t,n){let r;if(t==="viewport")r=XU(e,n);else if(t==="document")r=YU(Ii(e));else if(Kr(t))r=ZU(t,n);else{const i=g5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Af(r)}function y5(e,t){const n=co(e);return n===t||!Kr(n)||ld(n)?!1:Qr(n).position==="fixed"||y5(n,t)}function JU(e,t){const n=t.get(e);if(n)return n;let r=ih(e,[],!1).filter(l=>Kr(l)&&Pd(l)!=="body"),i=null;const a=Qr(e).position==="fixed";let o=a?co(e):e;for(;Kr(o)&&!ld(o);){const l=Qr(o),c=Yj(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mm(o)&&!c&&y5(e,o))?r=r.filter(h=>h!==o):i=l,o=co(o)}return t.set(e,r),r}function eB(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?ex(t)?[]:JU(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const u=oS(t,h,i);return d.top=qn(u.top,d.top),d.right=oo(u.right,d.right),d.bottom=oo(u.bottom,d.bottom),d.left=qn(u.left,d.left),d},oS(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tB(e){const{width:t,height:n}=f5(e);return{width:t,height:n}}function sB(e,t,n){const r=ki(t),i=Ii(t),a=n==="fixed",o=vl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=wi(0);if(r||!r&&!a)if((Pd(t)!=="body"||mm(i))&&(l=tx(t)),r){const m=vl(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=Jj(i));const d=i&&!r&&!a?x5(i,l):wi(0),h=o.left+l.scrollLeft-c.x-d.x,u=o.top+l.scrollTop-c.y-d.y;return{x:h,y:u,width:o.width,height:o.height}}function fy(e){return Qr(e).position==="static"}function lS(e,t){if(!ki(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ii(e)===n&&(n=n.ownerDocument.body),n}function v5(e,t){const n=Yn(e);if(ex(e))return n;if(!ki(e)){let i=co(e);for(;i&&!ld(i);){if(Kr(i)&&!fy(i))return i;i=co(i)}return n}let r=lS(e,t);for(;r&&qU(r)&&fy(r);)r=lS(r,t);return r&&ld(r)&&fy(r)&&!Yj(r)?n:r||HU(e)||n}const nB=async function(e){const t=this.getOffsetParent||v5,n=this.getDimensions,r=await n(e.floating);return{reference:sB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rB(e){return Qr(e).direction==="rtl"}const iB={convertOffsetParentRelativeRectToViewportRelativeRect:KU,getDocumentElement:Ii,getClippingRect:eB,getOffsetParent:v5,getElementRects:nB,getClientRects:QU,getDimensions:tB,getScale:cc,isElement:Kr,isRTL:rB};function b5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aB(e,t){let n=null,r;const i=Ii(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:u,width:m,height:f}=d;if(l||t(),!m||!f)return;const j=Xm(u),x=Xm(i.clientWidth-(h+m)),g=Xm(i.clientHeight-(u+f)),p=Xm(h),v={rootMargin:-j+"px "+-x+"px "+-g+"px "+-p+"px",threshold:qn(0,oo(1,c))||1};let w=!0;function C(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!b5(d,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(C,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(e)}return o(!0),a}function oB(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Zj(e),h=i||a?[...d?ih(d):[],...ih(t)]:[];h.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const u=d&&l?aB(d,n):null;let m=-1,f=null;o&&(f=new ResizeObserver(p=>{let[y]=p;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let j,x=c?vl(e):null;c&&g();function g(){const p=vl(e);x&&!b5(x,p)&&n(),x=p,j=requestAnimationFrame(g)}return n(),()=>{var p;h.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),u==null||u(),(p=f)==null||p.disconnect(),f=null,c&&cancelAnimationFrame(j)}}const lB=UU,cB=BU,dB=OU,uB=VU,hB=LU,cS=FU,mB=zU,pB=(e,t,n)=>{const r=new Map,i={platform:iB,...n},a={...i.platform,_c:r};return RU(e,t,{...i,platform:a})};var Lp=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Df(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Df(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Df(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function j5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dS(e,t){const n=j5(e);return Math.round(t*n)/n}function gy(e){const t=b.useRef(e);return Lp(()=>{t.current=e}),t}function fB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=b.useState(r);Df(m,r)||f(r);const[j,x]=b.useState(null),[g,p]=b.useState(null),y=b.useCallback(H=>{H!==N.current&&(N.current=H,x(H))},[]),v=b.useCallback(H=>{H!==S.current&&(S.current=H,p(H))},[]),w=a||j,C=o||g,N=b.useRef(null),S=b.useRef(null),k=b.useRef(h),T=c!=null,D=gy(c),P=gy(i),M=gy(d),X=b.useCallback(()=>{if(!N.current||!S.current)return;const H={placement:t,strategy:n,middleware:m};P.current&&(H.platform=P.current),pB(N.current,S.current,H).then($=>{const oe={...$,isPositioned:M.current!==!1};ee.current&&!Df(k.current,oe)&&(k.current=oe,ma.flushSync(()=>{u(oe)}))})},[m,t,n,P,M]);Lp(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(H=>({...H,isPositioned:!1})))},[d]);const ee=b.useRef(!1);Lp(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Lp(()=>{if(w&&(N.current=w),C&&(S.current=C),w&&C){if(D.current)return D.current(w,C,X);X()}},[w,C,X,D,T]);const F=b.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:v}),[y,v]),re=b.useMemo(()=>({reference:w,floating:C}),[w,C]),fe=b.useMemo(()=>{const H={position:n,left:0,top:0};if(!re.floating)return H;const $=dS(re.floating,h.x),oe=dS(re.floating,h.y);return l?{...H,transform:"translate("+$+"px, "+oe+"px)",...j5(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:oe}},[n,l,re.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:X,refs:F,elements:re,floatingStyles:fe}),[h,X,F,re,fe])}const gB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?cS({element:r.current,padding:i}).fn(n):{}:r?cS({element:r,padding:i}).fn(n):{}}}},xB=(e,t)=>({...lB(e),options:[e,t]}),yB=(e,t)=>({...cB(e),options:[e,t]}),vB=(e,t)=>({...mB(e),options:[e,t]}),bB=(e,t)=>({...dB(e),options:[e,t]}),jB=(e,t)=>({...uB(e),options:[e,t]}),wB=(e,t)=>({...hB(e),options:[e,t]}),NB=(e,t)=>({...gB(e),options:[e,t]});var SB="Arrow",w5=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(Ve.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});w5.displayName=SB;var CB=w5;function sx(e){const[t,n]=b.useState(void 0);return Ts(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ew="Popper",[N5,nx]=Fn(ew),[kB,S5]=N5(ew),C5=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return s.jsx(kB,{scope:t,anchor:r,onAnchorChange:i,children:n})};C5.displayName=ew;var k5="PopperAnchor",_5=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=S5(k5,n),o=b.useRef(null),l=xt(t,o);return b.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Ve.div,{...i,ref:l})});_5.displayName=k5;var tw="PopperContent",[_B,TB]=N5(tw),T5=b.forwardRef((e,t)=>{var Be,yt,Et,vt,bt,rt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:j,...x}=e,g=S5(tw,n),[p,y]=b.useState(null),v=xt(t,ts=>y(ts)),[w,C]=b.useState(null),N=sx(w),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],M=P.length>0,X={padding:D,boundary:P.filter(EB),altBoundary:M},{refs:ee,floatingStyles:F,placement:re,isPositioned:fe,middlewareData:H}=fB({strategy:"fixed",placement:T,whileElementsMounted:(...ts)=>oB(...ts,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[xB({mainAxis:i+k,alignmentAxis:o}),c&&yB({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?vB():void 0,...X}),c&&bB({...X}),jB({...X,apply:({elements:ts,rects:mn,availableWidth:Oi,availableHeight:ei})=>{const{width:ti,height:$d}=mn.reference,fa=ts.floating.style;fa.setProperty("--radix-popper-available-width",`${Oi}px`),fa.setProperty("--radix-popper-available-height",`${ei}px`),fa.setProperty("--radix-popper-anchor-width",`${ti}px`),fa.setProperty("--radix-popper-anchor-height",`${$d}px`)}}),w&&NB({element:w,padding:l}),AB({arrowWidth:S,arrowHeight:k}),m&&wB({strategy:"referenceHidden",...X})]}),[$,oe]=A5(re),be=ms(j);Ts(()=>{fe&&(be==null||be())},[fe,be]);const st=(Be=H.arrow)==null?void 0:Be.x,_t=(yt=H.arrow)==null?void 0:yt.y,Ft=((Et=H.arrow)==null?void 0:Et.centerOffset)!==0,[ps,Xt]=b.useState();return Ts(()=>{p&&Xt(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:fe?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ps,"--radix-popper-transform-origin":[(vt=H.transformOrigin)==null?void 0:vt.x,(bt=H.transformOrigin)==null?void 0:bt.y].join(" "),...((rt=H.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(_B,{scope:n,placedSide:$,onArrowChange:C,arrowX:st,arrowY:_t,shouldHideArrow:Ft,children:s.jsx(Ve.div,{"data-side":$,"data-align":oe,...x,ref:v,style:{...x.style,animation:fe?void 0:"none"}})})})});T5.displayName=tw;var P5="PopperArrow",PB={top:"bottom",right:"left",bottom:"top",left:"right"},E5=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=TB(P5,r),o=PB[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(CB,{...i,ref:n,style:{...i.style,display:"block"}})})});E5.displayName=P5;function EB(e){return e!==null}var AB=e=>({name:"transformOrigin",options:e,fn(t){var g,p,y;const{placement:n,rects:r,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=A5(n),u={start:"0%",center:"50%",end:"100%"}[h],m=(((p=i.arrow)==null?void 0:p.x)??0)+l/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let j="",x="";return d==="bottom"?(j=o?u:`${m}px`,x=`${-c}px`):d==="top"?(j=o?u:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(j=`${-c}px`,x=o?u:`${f}px`):d==="left"&&(j=`${r.floating.width+c}px`,x=o?u:`${f}px`),{data:{x:j,y:x}}}});function A5(e){const[t,n="center"]=e.split("-");return[t,n]}var D5=C5,M5=_5,I5=T5,R5=E5,DB="Portal",rx=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=b.useState(!1);Ts(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qA.createPortal(s.jsx(Ve.div,{...r,ref:t}),o):null});rx.displayName=DB;function MB(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var yr=e=>{const{present:t,children:n}=e,r=IB(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=xt(r.ref,RB(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:a}):null};yr.displayName="Presence";function IB(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=MB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Zm(r.current);a.current=l==="mounted"?d:"none"},[l]),Ts(()=>{const d=r.current,h=i.current;if(h!==e){const m=a.current,f=Zm(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ts(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=f=>{const x=Zm(r.current).includes(f.animationName);if(f.target===t&&x&&(c("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=f=>{f.target===t&&(a.current=Zm(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Zm(e){return(e==null?void 0:e.animationName)||"none"}function RB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _i({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=FB({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=ms(n),c=b.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else i(d)},[a,e,i,l]);return[o,c]}function FB({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,i=b.useRef(r),a=ms(t);return b.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var OB="VisuallyHidden",pm=b.forwardRef((e,t)=>s.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pm.displayName=OB;var LB=pm,[ix,Nhe]=Fn("Tooltip",[nx]),ax=nx(),F5="TooltipProvider",$B=700,_0="tooltip.open",[UB,sw]=ix(F5),O5=e=>{const{__scopeTooltip:t,delayDuration:n=$B,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(UB,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};O5.displayName=F5;var ox="Tooltip",[BB,lx]=ix(ox),L5=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=sw(ox,e.__scopeTooltip),d=ax(t),[h,u]=b.useState(null),m=ea(),f=b.useRef(0),j=o??c.disableHoverableContent,x=l??c.delayDuration,g=b.useRef(!1),[p=!1,y]=_i({prop:r,defaultProp:i,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(_0))):c.onClose(),a==null||a(S)}}),v=b.useMemo(()=>p?g.current?"delayed-open":"instant-open":"closed",[p]),w=b.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,y(!0)},[y]),C=b.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),N=b.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,y(!0),f.current=0},x)},[x,y]);return b.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),s.jsx(D5,{...d,children:s.jsx(BB,{scope:t,contentId:m,open:p,stateAttribute:v,trigger:h,onTriggerChange:u,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?N():w()},[c.isOpenDelayedRef,N,w]),onTriggerLeave:b.useCallback(()=>{j?C():(window.clearTimeout(f.current),f.current=0)},[C,j]),onOpen:w,onClose:C,disableHoverableContent:j,children:n})})};L5.displayName=ox;var T0="TooltipTrigger",$5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=lx(T0,n),a=sw(T0,n),o=ax(n),l=b.useRef(null),c=xt(t,l,i.onTriggerChange),d=b.useRef(!1),h=b.useRef(!1),u=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),s.jsx(M5,{asChild:!0,...o,children:s.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Fe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Fe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Fe(e.onBlur,i.onClose),onClick:Fe(e.onClick,i.onClose)})})});$5.displayName=T0;var zB="TooltipPortal",[She,VB]=ix(zB,{forceMount:void 0}),cd="TooltipContent",U5=b.forwardRef((e,t)=>{const n=VB(cd,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=lx(cd,e.__scopeTooltip);return s.jsx(yr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(B5,{side:i,...a,ref:t}):s.jsx(qB,{side:i,...a,ref:t})})}),qB=b.forwardRef((e,t)=>{const n=lx(cd,e.__scopeTooltip),r=sw(cd,e.__scopeTooltip),i=b.useRef(null),a=xt(t,i),[o,l]=b.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:u}=r,m=b.useCallback(()=>{l(null),u(!1)},[u]),f=b.useCallback((j,x)=>{const g=j.currentTarget,p={x:j.clientX,y:j.clientY},y=QB(p,g.getBoundingClientRect()),v=YB(p,y),w=XB(x.getBoundingClientRect()),C=JB([...v,...w]);l(C),u(!0)},[u]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&h){const j=g=>f(g,h),x=g=>f(g,c);return c.addEventListener("pointerleave",j),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",x)}}},[c,h,f,m]),b.useEffect(()=>{if(o){const j=x=>{const g=x.target,p={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(g))||(h==null?void 0:h.contains(g)),v=!ZB(p,o);y?m():v&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,h,o,d,m]),s.jsx(B5,{...e,ref:a})}),[HB,WB]=ix(ox,{isInside:!1}),GB=uU("TooltipContent"),B5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=lx(cd,n),d=ax(n),{onClose:h}=c;return b.useEffect(()=>(document.addEventListener(_0,h),()=>document.removeEventListener(_0,h)),[h]),b.useEffect(()=>{if(c.trigger){const u=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,h]),s.jsx(hm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:s.jsxs(I5,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(GB,{children:r}),s.jsx(HB,{scope:n,isInside:!0,children:s.jsx(LB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});U5.displayName=cd;var z5="TooltipArrow",KB=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ax(n);return WB(z5,n).isInside?null:s.jsx(R5,{...i,...r,ref:t})});KB.displayName=z5;function QB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function XB(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function ZB(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,h=t[o].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function JB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ez(t)}function ez(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var tz=O5,sz=L5,nz=$5,V5=U5;function q5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=q5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function H5(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=q5(e))&&(r&&(r+=" "),r+=t);return r}const nw="-",rz=e=>{const t=az(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(nw);return l[0]===""&&l.length!==1&&l.shift(),W5(l,t)||iz(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},W5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?W5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(nw);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},uS=/^\[(.+)\]$/,iz=e=>{if(uS.test(e)){const t=uS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},az=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return lz(Object.entries(e.classGroups),n).forEach(([a,o])=>{P0(o,r,a,t)}),r},P0=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:hS(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(oz(i)){P0(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{P0(o,hS(t,a),n,r)})})},hS=(e,t)=>{let n=e;return t.split(nw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oz=e=>e.isThemeGetter,lz=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,cz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},G5="!",dz=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,h=0,u;for(let g=0;g<l.length;g++){let p=l[g];if(d===0){if(p===i&&(r||l.slice(g,g+a)===t)){c.push(l.slice(h,g)),h=g+a;continue}if(p==="/"){u=g;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(h),f=m.startsWith(G5),j=f?m.substring(1):m,x=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:j,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},uz=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},hz=e=>({cache:cz(e.cacheSize),parseClassName:dz(e),...rz(e)}),mz=/\s+/,pz=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(mz);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=n(d);let j=!!f,x=r(j?m.substring(0,f):m);if(!x){if(!j){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}j=!1}const g=uz(h).join(":"),p=u?g+G5:g,y=p+x;if(a.includes(y))continue;a.push(y);const v=i(x,j);for(let w=0;w<v.length;++w){const C=v[w];a.push(p+C)}l=d+(l.length>0?" "+l:l)}return l};function fz(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=K5(t))&&(r&&(r+=" "),r+=n);return r}const K5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=K5(e[r]))&&(n&&(n+=" "),n+=t);return n};function gz(e,...t){let n,r,i,a=o;function o(c){const d=t.reduce((h,u)=>u(h),e());return n=hz(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=pz(c,n);return i(c,h),h}return function(){return a(fz.apply(null,arguments))}}const Gt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Q5=/^\[(?:([a-z-]+):)?(.+)\]$/i,xz=/^\d+\/\d+$/,yz=new Set(["px","full","screen"]),vz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>dc(e)||yz.has(e)||xz.test(e),xa=e=>Ed(e,"length",Az),dc=e=>!!e&&!Number.isNaN(Number(e)),xy=e=>Ed(e,"number",dc),Qd=e=>!!e&&Number.isInteger(Number(e)),Sz=e=>e.endsWith("%")&&dc(e.slice(0,-1)),mt=e=>Q5.test(e),ya=e=>vz.test(e),Cz=new Set(["length","size","percentage"]),kz=e=>Ed(e,Cz,Y5),_z=e=>Ed(e,"position",Y5),Tz=new Set(["image","url"]),Pz=e=>Ed(e,Tz,Mz),Ez=e=>Ed(e,"",Dz),Yd=()=>!0,Ed=(e,t,n)=>{const r=Q5.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Az=e=>bz.test(e)&&!jz.test(e),Y5=()=>!1,Dz=e=>wz.test(e),Mz=e=>Nz.test(e),Iz=()=>{const e=Gt("colors"),t=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),a=Gt("borderRadius"),o=Gt("borderSpacing"),l=Gt("borderWidth"),c=Gt("contrast"),d=Gt("grayscale"),h=Gt("hueRotate"),u=Gt("invert"),m=Gt("gap"),f=Gt("gradientColorStops"),j=Gt("gradientColorStopPositions"),x=Gt("inset"),g=Gt("margin"),p=Gt("opacity"),y=Gt("padding"),v=Gt("saturate"),w=Gt("scale"),C=Gt("sepia"),N=Gt("skew"),S=Gt("space"),k=Gt("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",mt,t],M=()=>[mt,t],X=()=>["",Li,xa],ee=()=>["auto",dc,mt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",mt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[dc,mt];return{cacheSize:500,separator:":",theme:{colors:[Yd],spacing:[Li,xa],blur:["none","",ya,mt],brightness:be(),borderColor:[e],borderRadius:["none","","full",ya,mt],borderSpacing:M(),borderWidth:X(),contrast:be(),grayscale:$(),hueRotate:be(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[Sz,xa],inset:P(),margin:P(),opacity:be(),padding:M(),saturate:be(),scale:be(),sepia:$(),skew:be(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[ya]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),mt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qd,mt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Qd,mt]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:["full",Qd,mt]},mt]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[Qd,mt]},mt]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[ya]},ya]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ya,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xy]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",dc,xy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,xa]}],"underline-offset":[{"underline-offset":["auto",Li,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),_z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Li,mt]}],"outline-w":[{outline:[Li,xa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Li,xa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ya,Ez]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ya,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Qd,mt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,xa,xy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rz=gz(Iz);function Oe(...e){return Rz(H5(e))}function Ti(e){const n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<1?"Just now":r<24?`${r} hour${r>1?"s":""} ago`:`${i} day${i>1?"s":""} ago`}function Fs(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function $p(e){const t=new Date,n=t.getDate(),r=t.getMonth(),i=t.getFullYear();let a=new Date(i,r,e);e<n&&(a=new Date(i,r+1,e));const o=a.getTime()-t.getTime();return Math.ceil(o/(1e3*60*60*24))}function Fz(){const e=[{quote:"Every small step forward is a victory worth celebrating.",author:"Unknown"},{quote:"You are braver than you believe, stronger than you seem, and smarter than you think.",author:"A.A. Milne"},{quote:"Progress, not perfection, is the goal.",author:"Unknown"},{quote:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{quote:"Your pace doesn't matter. Forward is forward.",author:"Unknown"},{quote:"Every expert was once a beginner.",author:"Helen Hayes"},{quote:"You don't have to be great to get started, but you have to get started to be great.",author:"Les Brown"},{quote:"The journey of a thousand miles begins with one step.",author:"Lao Tzu"},{quote:"You are capable of amazing things.",author:"Unknown"},{quote:"Independence comes from understanding your own strength.",author:"Unknown"},{quote:"Each day is a fresh start and a new opportunity to grow.",author:"Unknown"},{quote:"Your potential is endless.",author:"Unknown"},{quote:"Small daily improvements lead to stunning yearly results.",author:"Robin Sharma"},{quote:"Believe in yourself and all that you are.",author:"Christian D. Larson"},{quote:"You have the power to create the life you want.",author:"Unknown"},{quote:"Every challenge you face today makes you stronger for tomorrow.",author:"Unknown"},{quote:"Your independence is your superpower.",author:"Unknown"},{quote:"Growth happens outside of your comfort zone.",author:"Unknown"},{quote:"You are writing your own success story, one day at a time.",author:"Unknown"},{quote:"The skills you build today will serve you for a lifetime.",author:"Unknown"}],t=new Date,r=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24))%e.length;return e[r]}const X5=tz,Oz=sz,Lz=nz,Z5=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(V5,{ref:r,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Z5.displayName=V5.displayName;const $z=1,Uz=1e6;let yy=0;function Bz(){return yy=(yy+1)%Number.MAX_SAFE_INTEGER,yy.toString()}const vy=new Map,mS=e=>{if(vy.has(e))return;const t=setTimeout(()=>{vy.delete(e),Au({type:"REMOVE_TOAST",toastId:e})},Uz);vy.set(e,t)},zz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$z)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mS(n):e.toasts.forEach(r=>{mS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Up=[];let Bp={toasts:[]};function Au(e){Bp=zz(Bp,e),Up.forEach(t=>{t(Bp)})}function ja({...e}){const t=Bz(),n=i=>Au({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Au({type:"DISMISS_TOAST",toastId:t});return Au({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function dt(){const[e,t]=b.useState(Bp);return b.useEffect(()=>(Up.push(t),()=>{const n=Up.indexOf(t);n>-1&&Up.splice(n,1)}),[e]),{...e,toast:ja,dismiss:n=>Au({type:"DISMISS_TOAST",toastId:n})}}function cx(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:p}=x,y=me.useRef(null),v=me.useRef(new Map).current;return s.jsx(i,{scope:g,itemMap:v,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=od(l),d=me.forwardRef((x,g)=>{const{scope:p,children:y}=x,v=a(l,p),w=xt(g,v.collectionRef);return s.jsx(c,{ref:w,children:y})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",m=od(h),f=me.forwardRef((x,g)=>{const{scope:p,children:y,...v}=x,w=me.useRef(null),C=xt(g,w),N=a(h,p);return me.useEffect(()=>(N.itemMap.set(w,{ref:w,...v}),()=>void N.itemMap.delete(w))),s.jsx(m,{[u]:"",ref:C,children:y})});f.displayName=h;function j(x){const g=a(e+"CollectionConsumer",x);return me.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,S)=>v.indexOf(N.ref.current)-v.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},j,r]}var rw="ToastProvider",[iw,Vz,qz]=cx("Toast"),[J5,Che]=Fn("Toast",[qz]),[Hz,dx]=J5(rw),eD=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[d,h]=b.useState(0),u=b.useRef(!1),m=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rw}\`. Expected non-empty \`string\`.`),s.jsx(iw.Provider,{scope:t,children:s.jsx(Hz,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>h(f=>f+1),[]),onToastRemove:b.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:o})})};eD.displayName=rw;var tD="ToastViewport",Wz=["F8"],E0="toast.viewportPause",A0="toast.viewportResume",sD=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Wz,label:i="Notifications ({hotkey})",...a}=e,o=dx(tD,n),l=Vz(n),c=b.useRef(null),d=b.useRef(null),h=b.useRef(null),u=b.useRef(null),m=xt(t,u,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;b.useEffect(()=>{const g=p=>{var v;r.length!==0&&r.every(w=>p[w]||p.code===w)&&((v=u.current)==null||v.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),b.useEffect(()=>{const g=c.current,p=u.current;if(j&&g&&p){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(E0);p.dispatchEvent(N),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(A0);p.dispatchEvent(N),o.isClosePausedRef.current=!1}},w=N=>{!g.contains(N.relatedTarget)&&v()},C=()=>{g.contains(document.activeElement)||v()};return g.addEventListener("focusin",y),g.addEventListener("focusout",w),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[j,o.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:g})=>{const y=l().map(v=>{const w=v.ref.current,C=[w,...i9(w)];return g==="forwards"?C:C.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const g=u.current;if(g){const p=y=>{var C,N,S;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const k=document.activeElement,T=y.shiftKey;if(y.target===g&&T){(C=d.current)==null||C.focus();return}const M=x({tabbingDirection:T?"backwards":"forwards"}),X=M.findIndex(ee=>ee===k);by(M.slice(X+1))?y.preventDefault():T?(N=d.current)==null||N.focus():(S=h.current)==null||S.focus()}};return g.addEventListener("keydown",p),()=>g.removeEventListener("keydown",p)}},[l,x]),s.jsxs(SU,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(D0,{ref:d,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"forwards"});by(g)}}),s.jsx(iw.Slot,{scope:n,children:s.jsx(Ve.ol,{tabIndex:-1,...a,ref:m})}),j&&s.jsx(D0,{ref:h,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"backwards"});by(g)}})]})});sD.displayName=tD;var nD="ToastFocusProxy",D0=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=dx(nD,n);return s.jsx(pm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});D0.displayName=nD;var ux="Toast",Gz="toast.swipeStart",Kz="toast.swipeMove",Qz="toast.swipeCancel",Yz="toast.swipeEnd",rD=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=_i({prop:r,defaultProp:i,onChange:a});return s.jsx(yr,{present:n||l,children:s.jsx(Jz,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ms(e.onPause),onResume:ms(e.onResume),onSwipeStart:Fe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});rD.displayName=ux;var[Xz,Zz]=J5(ux,{onClose(){}}),Jz=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:f,...j}=e,x=dx(ux,n),[g,p]=b.useState(null),y=xt(t,ee=>p(ee)),v=b.useRef(null),w=b.useRef(null),C=i||x.duration,N=b.useRef(0),S=b.useRef(C),k=b.useRef(0),{onToastAdd:T,onToastRemove:D}=x,P=ms(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),o()}),M=b.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(P,ee))},[P]);b.useEffect(()=>{const ee=x.viewport;if(ee){const F=()=>{M(S.current),d==null||d()},re=()=>{const fe=new Date().getTime()-N.current;S.current=S.current-fe,window.clearTimeout(k.current),c==null||c()};return ee.addEventListener(E0,re),ee.addEventListener(A0,F),()=>{ee.removeEventListener(E0,re),ee.removeEventListener(A0,F)}}},[x.viewport,C,c,d,M]),b.useEffect(()=>{a&&!x.isClosePausedRef.current&&M(C)},[a,C,x.isClosePausedRef,M]),b.useEffect(()=>(T(),()=>D()),[T,D]);const X=b.useMemo(()=>g?uD(g):null,[g]);return x.viewport?s.jsxs(s.Fragment,{children:[X&&s.jsx(e9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),s.jsx(Xz,{scope:n,onClose:P,children:ma.createPortal(s.jsx(iw.ItemSlot,{scope:n,children:s.jsx(NU,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,ee=>{ee.key==="Escape"&&(l==null||l(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Fe(e.onPointerDown,ee=>{ee.button===0&&(v.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Fe(e.onPointerMove,ee=>{if(!v.current)return;const F=ee.clientX-v.current.x,re=ee.clientY-v.current.y,fe=!!w.current,H=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,oe=H?$(0,F):0,be=H?0:$(0,re),st=ee.pointerType==="touch"?10:2,_t={x:oe,y:be},Ft={originalEvent:ee,delta:_t};fe?(w.current=_t,Jm(Kz,u,Ft,{discrete:!1})):pS(_t,x.swipeDirection,st)?(w.current=_t,Jm(Gz,h,Ft,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(F)>st||Math.abs(re)>st)&&(v.current=null)}),onPointerUp:Fe(e.onPointerUp,ee=>{const F=w.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),w.current=null,v.current=null,F){const fe=ee.currentTarget,H={originalEvent:ee,delta:F};pS(F,x.swipeDirection,x.swipeThreshold)?Jm(Yz,f,H,{discrete:!0}):Jm(Qz,m,H,{discrete:!0}),fe.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),e9=e=>{const{__scopeToast:t,children:n,...r}=e,i=dx(ux,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return n9(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(rx,{asChild:!0,children:s.jsx(pm,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},t9="ToastTitle",iD=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ve.div,{...r,ref:t})});iD.displayName=t9;var s9="ToastDescription",aD=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ve.div,{...r,ref:t})});aD.displayName=s9;var oD="ToastAction",lD=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(dD,{altText:n,asChild:!0,children:s.jsx(aw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${oD}\`. Expected non-empty \`string\`.`),null)});lD.displayName=oD;var cD="ToastClose",aw=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Zz(cD,n);return s.jsx(dD,{asChild:!0,children:s.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,i.onClose)})})});aw.displayName=cD;var dD=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function uD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),r9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...uD(r))}}),t}function Jm(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?l5(i,a):i.dispatchEvent(a)}var pS=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function n9(e=()=>{}){const t=ms(e);Ts(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function r9(e){return e.nodeType===e.ELEMENT_NODE}function i9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function by(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var a9=eD,hD=sD,mD=rD,pD=iD,fD=aD,gD=lD,xD=aw;const fS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gS=H5,fm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],u=a==null?void 0:a[d];if(h===null)return null;const m=fS(h)||fS(u);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:u,className:m,...f}=h;return Object.entries(f).every(j=>{let[x,g]=j;return Array.isArray(g)?g.includes({...a,...l}[x]):{...a,...l}[x]===g})?[...d,u,m]:d},[]);return gS(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yD=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...l9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yD("lucide",i),...l},[...o.map(([d,h])=>b.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(c9,{ref:a,iconNode:t,className:yD(`lucide-${o9(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=ae("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ae("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ae("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ae("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ae("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ae("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ae("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ae("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ae("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),B9=a9,ED=b.forwardRef(({className:e,...t},n)=>s.jsx(hD,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ED.displayName=hD.displayName;const z9=fm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border-2 p-6 pr-8 shadow-2xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-green-500 bg-white text-gray-900 shadow-green-200",destructive:"destructive group border-red-500 bg-red-50 text-red-900 shadow-red-200"}},defaultVariants:{variant:"default"}}),AD=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(mD,{ref:r,className:Oe(z9({variant:t}),e),...n}));AD.displayName=mD.displayName;const V9=b.forwardRef(({className:e,...t},n)=>s.jsx(gD,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));V9.displayName=gD.displayName;const DD=b.forwardRef(({className:e,...t},n)=>s.jsx(xD,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-gray-600 opacity-100 transition-opacity hover:text-gray-900 hover:bg-gray-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-800 group-[.destructive]:hover:bg-red-100 group-[.destructive]:focus:ring-red-400",e),"toast-close":"",...t,children:s.jsx(Ad,{className:"h-4 w-4"})}));DD.displayName=xD.displayName;const MD=b.forwardRef(({className:e,...t},n)=>s.jsx(pD,{ref:n,className:Oe("text-base font-bold text-gray-900",e),...t}));MD.displayName=pD.displayName;const ID=b.forwardRef(({className:e,...t},n)=>s.jsx(fD,{ref:n,className:Oe("text-sm text-gray-700 font-medium",e),...t}));ID.displayName=fD.displayName;function q9(){const{toasts:e}=dt();return s.jsxs(B9,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(AD,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(MD,{children:n}),r&&s.jsx(ID,{children:r})]}),i,s.jsx(DD,{})]},t)}),s.jsx(ED,{})]})}const pw={baseURL:typeof window<"u"&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")&&!window.location.hostname.includes("replit.dev")?"https://f0feebb6-5db0-4265-92fd-0ed04d7aec9a-00-tpbqabot0m1.spock.replit.dev":"",credentials:"include"};function RD(e){const t=pw.baseURL;return t?`${t}${e}`:e}async function H9(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ye(e,t,n){const r=RD(t),i=await fetch(r,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:pw.credentials});return await H9(i),i}const W9=({on401:e})=>async({queryKey:t})=>{console.log("Making query to:",t[0]);try{const n=RD(t[0]),r=await fetch(n,{credentials:pw.credentials});if(console.log("Query response status:",r.status),console.log("Query response headers:",Object.fromEntries(r.headers.entries())),e==="returnNull"&&r.status===401)return console.log("Returning null due to 401"),null;if(!r.ok){const a=await r.text();throw console.error("Query failed:",r.status,a),new Error(`${r.status}: ${a}`)}const i=await r.json();return console.log("Query response data:",i),i}catch(n){throw console.error("Query error:",n),n}},xs=new H7({defaultOptions:{queries:{queryFn:W9({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0,retry:1,refetchOnMount:"always",retryDelay:500},mutations:{retry:!1}}}),G9="modulepreload",K9=function(e){return"/"+e},kS={},_S=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=K9(c),c in kS)return;kS[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":G9,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Q9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var FD={exports:{}},OD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=b;function Y9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X9=typeof Object.is=="function"?Object.is:Y9,Z9=ud.useState,J9=ud.useEffect,eV=ud.useLayoutEffect,tV=ud.useDebugValue;function sV(e,t){var n=t(),r=Z9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return eV(function(){i.value=n,i.getSnapshot=t,Ny(i)&&a({inst:i})},[e,n,t]),J9(function(){return Ny(i)&&a({inst:i}),e(function(){Ny(i)&&a({inst:i})})},[e]),tV(n),n}function Ny(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!X9(e,n)}catch{return!0}}function nV(e,t){return t()}var rV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nV:sV;OD.useSyncExternalStore=ud.useSyncExternalStore!==void 0?ud.useSyncExternalStore:rV;FD.exports=OD;var iV=FD.exports;const aV=B4.useInsertionEffect,oV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lV=oV?b.useLayoutEffect:b.useEffect,cV=aV||lV,LD=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return cV(()=>{t[0]=e}),t[1]},dV="popstate",fw="pushState",gw="replaceState",uV="hashchange",TS=[dV,fw,gw,uV],hV=e=>{for(const t of TS)addEventListener(t,e);return()=>{for(const t of TS)removeEventListener(t,e)}},$D=(e,t)=>iV.useSyncExternalStore(hV,e,t),mV=()=>location.search,pV=({ssrSearch:e=""}={})=>$D(mV,()=>e),PS=()=>location.pathname,fV=({ssrPath:e}={})=>$D(PS,e?()=>e:PS),gV=(e,{replace:t=!1,state:n=null}={})=>history[t?gw:fw](n,"",e),xV=(e={})=>[fV(e),gV],ES=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ES]>"u"){for(const e of[fw,gw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ES,{value:!0})}const yV=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",UD=(e="")=>e==="/"?"":e,vV=(e,t)=>e[0]==="~"?e.slice(1):UD(t)+e,bV=(e="",t)=>yV(AS(UD(e)),AS(t)),AS=e=>{try{return decodeURI(e)}catch{return e}},BD={hook:xV,searchHook:pV,parser:Q9,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},zD=b.createContext(BD),xm=()=>b.useContext(zD),VD={},qD=b.createContext(VD),jV=()=>b.useContext(qD),fx=e=>{const[t,n]=e.hook(e);return[bV(e.base,t),LD((r,i)=>n(vV(r,e.base),i))]},On=()=>fx(xm()),HD=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((u,m)=>[u,c[m]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},wV=({children:e,...t})=>{var h,u;const n=xm(),r=t.hook?BD:n;let i=r;const[a,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=b.useRef({}),c=l.current,d=c;for(let m in r){const f=m==="base"?r[m]+(t[m]||""):t[m]||r[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,f!==r[m]&&(i=d)}return b.createElement(zD.Provider,{value:i,children:e})},DS=({children:e,component:t},n)=>t?b.createElement(t,{params:n}):typeof e=="function"?e(n):e,NV=e=>{let t=b.useRef(VD),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},wt=({path:e,nest:t,match:n,...r})=>{const i=xm(),[a]=fx(i),[o,l,c]=n??HD(i.parser,e,a,t),d=NV({...jV(),...l});if(!o)return null;const h=c?b.createElement(wV,{base:c},DS(r,d)):DS(r,d);return b.createElement(qD.Provider,{value:d,children:h})},Le=b.forwardRef((e,t)=>{const n=xm(),[r,i]=fx(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:u,state:m,...f}=e,j=LD(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),i(o,e)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&b.isValidElement(d)?b.cloneElement(d,{onClick:j,href:x}):b.createElement("a",{...f,onClick:j,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:t})}),WD=e=>Array.isArray(e)?e.flatMap(t=>WD(t&&t.type===b.Fragment?t.props.children:t)):[e],SV=({children:e,location:t})=>{const n=xm(),[r]=fx(n);for(const i of WD(e)){let a=0;if(b.isValidElement(i)&&(a=HD(n.parser,i.props.path,t||r,i.props.nest))[0])return b.cloneElement(i,{match:a})}return null},MS={isAuthenticated(){return!!localStorage.getItem("authToken")||!!sessionStorage.getItem("authToken")},getCurrentUser(){try{const e=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}},setAuthToken(e,t=!1){t?localStorage.setItem("authToken",e):sessionStorage.setItem("authToken",e)},setCurrentUser(e,t=!1){const n=JSON.stringify(e);t?localStorage.setItem("currentUser",n):sessionStorage.setItem("currentUser",n)},clearAuth(){localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("currentUser")},getAuthHeaders(){const e=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}},logout(){this.clearAuth(),typeof window<"u"&&!window.location.href.includes("capacitor://")&&(window.location.href="/login")},isMobileApp(){return typeof window<"u"&&(window.location.href.includes("capacitor://")||window.location.href.includes("file://")||navigator.userAgent.includes("Adaptalyfe"))},handleMobileAuth(e,t){return this.isMobileApp()&&e&&t?(this.setAuthToken(e,!0),this.setCurrentUser(t,!0),!0):!1}};function CV(){const[e,t]=b.useState(!1),[,n]=On(),r=b.useRef(null),{data:i}=xe({queryKey:["/api/user"]});return b.useEffect(()=>{function a(o){r.current&&!r.current.contains(o.target)&&t(!1)}return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]),s.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:async a=>{a.preventDefault(),console.log("Logo clicked - checking session and navigating"),MS.isMobileDevice()?await MS.ensureSessionPersistence()?n("/dashboard"):(console.warn("Session lost, redirecting to login"),n("/login")):n("/dashboard")},children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"AdaptaLyfe"})]}),s.jsxs("div",{className:"hidden xl:flex items-center gap-2",children:[s.jsx(Le,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Home"}),s.jsx(Le,{href:"/daily-tasks",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Tasks"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-600",children:s.jsx("span",{className:"hidden lg:block",children:(i==null?void 0:i.name)||"User"})}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors shadow-sm",children:[e?s.jsx(Ad,{className:"h-5 w-5"}):s.jsx(wD,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:block text-xs font-medium",children:"Menu"})]})})]})]}),e&&s.jsx("div",{ref:r,className:"absolute right-0 top-16 w-80 max-w-[90vw] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mr-4",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Access to All Features"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Le,{href:"/dashboard",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(lw,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Dashboard"})]})}),s.jsx(Le,{href:"/daily-tasks",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(mw,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Daily Tasks"})]})}),s.jsx(Le,{href:"/financial",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(Pi,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Financial"})]})}),s.jsx(Le,{href:"/mood-tracking",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(mr,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Mood Tracking"})]})}),s.jsx(Le,{href:"/sleep-tracking",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(Zl,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Sleep Tracking"})]})}),s.jsx(Le,{href:"/medical",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(TD,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Medical Info"})]})}),s.jsx(Le,{href:"/pharmacy",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(cw,{className:"w-4 h-4 text-pink-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Pharmacy"})]})}),s.jsx(Le,{href:"/meal-shopping",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(ll,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Meals & Shopping"})]})}),s.jsx(Le,{href:"/calendar",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(Ht,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Calendar"})]})}),s.jsx(Le,{href:"/academic-planner",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(px,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Student Planner"})]})}),s.jsx(Le,{href:"/skills-milestones",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(Us,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Life Skills"})]})}),s.jsx(Le,{href:"/personal-documents",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(ol,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Personal Documents"})]})}),s.jsx(Le,{href:"/caregiver",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(Of,{className:"w-4 h-4 text-teal-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Support Network"})]})}),s.jsx(Le,{href:"/caregiver-dashboard",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(os,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-xs font-medium",children:" Caregiver Dashboard"})]})}),s.jsx(Le,{href:"/caregiver-setup",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[s.jsx(ta,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-medium",children:" Caregiver Setup"})]})}),s.jsx(Le,{href:"/resources",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[s.jsx(ho,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Resources"})]})}),s.jsx(Le,{href:"/rewards",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-yellow-50 bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[s.jsx(po,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-xs font-bold text-yellow-700",children:" Rewards"})]})})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[s.jsx(Le,{href:"/resources",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md bg-red-600 hover:bg-red-700 text-white mb-2 flex items-center space-x-2",onClick:()=>t(!1),children:[s.jsx(Jt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Emergency Contacts"})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Le,{href:"/settings",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-gray-200 hover:bg-gray-50 flex items-center space-x-2",onClick:()=>t(!1),children:[s.jsx(mo,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Settings"})]})}),s.jsx(Le,{href:"/features",children:s.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-blue-200 bg-blue-50 hover:bg-blue-100 flex items-center space-x-2",onClick:()=>t(!1),children:[s.jsx(ca,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium",children:"Features"})]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg p-3 mt-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(Of,{className:"text-white",size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.name)||"Loading..."}),s.jsx("div",{className:"text-xs text-gray-500",children:(i==null?void 0:i.email)||""})]}),s.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Demo"})]})]})})]})})}const kV=fm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?a5:"button";return s.jsx(o,{className:Oe(kV({variant:t,size:n,className:e})),ref:a,...i})});E.displayName="Button";function _V(){const[e]=On(),[t,n]=b.useState(!1),r=[{name:"Home",href:"/",icon:lw,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Tasks",href:"/daily-tasks",icon:mw,activeColor:"text-green-600",activeBg:"bg-green-100"},{name:"Money",href:"/financial",icon:Pi,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Mood",href:"/mood-tracking",icon:lt,activeColor:"text-purple-600",activeBg:"bg-purple-100"}],i=[{name:"Meals & Shopping",href:"/meal-shopping",icon:ll},{name:"Calendar",href:"/calendar",icon:Ht},{name:"Skills",href:"/skills-milestones",icon:Us},{name:"Medical",href:"/medical",icon:lt},{name:"Resources",href:"/resources",icon:lt},{name:"Support",href:"/caregiver",icon:lt}],a=o=>o==="/"?e==="/":e.startsWith(o);return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>n(!1),children:s.jsx("div",{className:"absolute bottom-16 left-0 right-0 bg-white border-t border-gray-200 rounded-t-xl p-4",children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(o=>{const l=o.icon;return s.jsx(Le,{href:o.href,children:s.jsxs(E,{variant:"ghost",className:`w-full h-16 flex flex-col items-center justify-center gap-1 ${a(o.href)?"bg-blue-100 text-blue-600":"text-gray-600"}`,onClick:()=>n(!1),children:[s.jsx(l,{size:20}),s.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)})})})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30 md:hidden",children:s.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[r.map(o=>{const l=o.icon,c=a(o.href);return s.jsx(Le,{href:o.href,children:s.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${c?`${o.activeBg} ${o.activeColor}`:"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(l,{size:18}),s.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)}),s.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${t?"bg-gray-100 text-gray-900":"text-gray-600 hover:text-gray-900"}`,onClick:()=>n(!t),children:[s.jsx(wD,{size:18}),s.jsx("span",{className:"text-xs font-medium",children:"More"})]})]})}),s.jsx("div",{className:"h-16 md:hidden"})]})}const L=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));L.displayName="Card";const le=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const ce=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const at=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));at.displayName="CardDescription";const V=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("p-6 pt-0",e),...t}));V.displayName="CardContent";const TV=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",e),...t}));TV.displayName="CardFooter";function PV(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(L,{className:"w-full max-w-md mx-4",children:s.jsxs(V,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(x9,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EV=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=EV,Sy=()=>Math.random().toString(36).substring(7).split("").join("."),AV={INIT:`@@redux/INIT${Sy()}`,REPLACE:`@@redux/REPLACE${Sy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sy()}`},RS=AV;function DV(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GD(e,t,n){if(typeof e!="function")throw new Error(gn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gn(1));return n(GD)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,c=!1;function d(){o===a&&(o=new Map,a.forEach((g,p)=>{o.set(p,g)}))}function h(){if(c)throw new Error(gn(3));return i}function u(g){if(typeof g!="function")throw new Error(gn(4));if(c)throw new Error(gn(5));let p=!0;d();const y=l++;return o.set(y,g),function(){if(p){if(c)throw new Error(gn(6));p=!1,d(),o.delete(y),a=null}}}function m(g){if(!DV(g))throw new Error(gn(7));if(typeof g.type>"u")throw new Error(gn(8));if(typeof g.type!="string")throw new Error(gn(17));if(c)throw new Error(gn(9));try{c=!0,i=r(i,g)}finally{c=!1}return(a=o).forEach(y=>{y()}),g}function f(g){if(typeof g!="function")throw new Error(gn(10));r=g,m({type:RS.REPLACE})}function j(){const g=u;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(gn(11));function y(){const w=p;w.next&&w.next(h())}return y(),{unsubscribe:g(y)}},[IS](){return this}}}return m({type:RS.INIT}),{dispatch:m,subscribe:u,getState:h,replaceReducer:f,[IS]:j}}function FS(e,t){return function(...n){return t(e.apply(this,n))}}function OS(e,t){if(typeof e=="function")return FS(e,t);if(typeof e!="object"||e===null)throw new Error(gn(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=FS(i,t))}return n}function KD(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function MV(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(gn(15))};const o={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=e.map(c=>c(o));return a=KD(...l)(i.dispatch),{...i,dispatch:a}}}var IV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=b;function RV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FV=typeof Object.is=="function"?Object.is:RV,OV=ym.useSyncExternalStore,LV=ym.useRef,$V=ym.useEffect,UV=ym.useMemo,BV=ym.useDebugValue;IV.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=LV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=UV(function(){function c(f){if(!d){if(d=!0,h=f,f=r(f),i!==void 0&&o.hasValue){var j=o.value;if(i(j,f))return u=j}return u=f}if(j=u,FV(h,f))return j;var x=r(f);return i!==void 0&&i(j,x)?(h=f,j):(h=f,u=x)}var d=!1,h,u,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=OV(e,a[0],a[1]);return $V(function(){o.hasValue=!0,o.value=l},[l]),BV(l),l};var zV=b.version.startsWith("19"),VV=Symbol.for(zV?"react.transitional.element":"react.element"),qV=Symbol.for("react.portal"),HV=Symbol.for("react.fragment"),WV=Symbol.for("react.strict_mode"),GV=Symbol.for("react.profiler"),KV=Symbol.for("react.consumer"),QV=Symbol.for("react.context"),QD=Symbol.for("react.forward_ref"),YV=Symbol.for("react.suspense"),XV=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),ZV=Symbol.for("react.lazy"),JV=QD,eq=xw;function tq(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case VV:switch(e=e.type,e){case HV:case GV:case WV:case YV:case XV:return e;default:switch(e=e&&e.$$typeof,e){case QV:case QD:case ZV:case xw:return e;case KV:return e;default:return t}}case qV:return t}}}function sq(e){return tq(e)===xw}function nq(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,c,d,h,u,m;function f(y,v){return c=y,d=v,h=e(c,d),u=t(r,d),m=n(h,u,d),l=!0,m}function j(){return h=e(c,d),t.dependsOnOwnProps&&(u=t(r,d)),m=n(h,u,d),m}function x(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(u=t(r,d)),m=n(h,u,d),m}function g(){const y=e(c,d),v=!o(y,h);return h=y,v&&(m=n(h,u,d)),m}function p(y,v){const w=!a(v,d),C=!i(y,c,v,d);return c=y,d=v,w&&C?j():w?x():C?g():m}return function(v,w){return l?p(v,w):f(v,w)}}function rq(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return nq(a,o,l,e,i)}function iq(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function O0(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function LS(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function YD(e,t){return function(r,{displayName:i}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=LS(e);let d=a(l,c);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=LS(d),d=a(l,c)),d},a}}function yw(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function aq(e){return e&&typeof e=="object"?O0(t=>iq(e,t)):e?typeof e=="function"?YD(e):yw(e,"mapDispatchToProps"):O0(t=>({dispatch:t}))}function oq(e){return e?typeof e=="function"?YD(e):yw(e,"mapStateToProps"):O0(()=>({}))}function lq(e,t,n){return{...n,...e,...t}}function cq(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(c,d,h){const u=e(c,d,h);return a?i(u,o)||(o=u):(a=!0,o=u),o}}}function dq(e){return e?typeof e=="function"?cq(e):yw(e,"mergeProps"):()=>lq}function uq(e){e()}function hq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uq(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $S={notify(){},get:()=>[]};function XD(e,t){let n,r=$S,i=0,a=!1;function o(x){h();const g=r.subscribe(x);let p=!1;return()=>{p||(p=!0,g(),u())}}function l(){r.notify()}function c(){j.onStateChange&&j.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=hq())}function u(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$S)}function m(){a||(a=!0,h())}function f(){a&&(a=!1,u())}const j={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>r};return j}var mq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pq=mq(),fq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gq=fq(),xq=()=>pq||gq?b.useLayoutEffect:b.useEffect,Lf=xq();function US(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cy(e,t){if(US(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!US(e[n[i]],t[n[i]]))return!1;return!0}var yq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jq={[JV]:bq,[eq]:ZD};function BS(e){return sq(e)?ZD:jq[e.$$typeof]||yq}var wq=Object.defineProperty,Nq=Object.getOwnPropertyNames,zS=Object.getOwnPropertySymbols,Sq=Object.getOwnPropertyDescriptor,Cq=Object.getPrototypeOf,VS=Object.prototype;function L0(e,t){if(typeof t!="string"){if(VS){const a=Cq(t);a&&a!==VS&&L0(e,a)}let n=Nq(t);zS&&(n=n.concat(zS(t)));const r=BS(e),i=BS(t);for(let a=0;a<n.length;++a){const o=n[a];if(!vq[o]&&!(i&&i[o])&&!(r&&r[o])){const l=Sq(t,o);try{wq(e,o,l)}catch{}}}}return e}var ky=Symbol.for("react-redux-context"),_y=typeof globalThis<"u"?globalThis:{};function kq(){if(!b.createContext)return{};const e=_y[ky]??(_y[ky]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var JD=kq(),_q=[null,null];function Tq(e,t,n){Lf(()=>e(...t),n)}function Pq(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Eq(e,t,n,r,i,a,o,l,c,d,h){if(!e)return()=>{};let u=!1,m=null;const f=()=>{if(u||!l.current)return;const x=t.getState();let g,p;try{g=r(x,i.current)}catch(y){p=y,m=y}p||(m=null),g===a.current?o.current||d():(a.current=g,c.current=g,o.current=!0,h())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function Aq(e,t){return e===t}function Dq(e,t,n,{pure:r,areStatesEqual:i=Aq,areOwnPropsEqual:a=Cy,areStatePropsEqual:o=Cy,areMergedPropsEqual:l=Cy,forwardRef:c=!1,context:d=JD}={}){const h=d,u=oq(e),m=aq(t),f=dq(n),j=!!e;return g=>{const p=g.displayName||g.name||"Component",y=`Connect(${p})`,v={shouldHandleStateChanges:j,displayName:y,wrappedComponentName:p,WrappedComponent:g,initMapStateToProps:u,initMapDispatchToProps:m,initMergeProps:f,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function w(S){const[k,T,D]=b.useMemo(()=>{const{reactReduxForwardedRef:rt,...ts}=S;return[S.context,rt,ts]},[S]),P=b.useMemo(()=>{let rt=h;return k!=null&&k.Consumer,rt},[k,h]),M=b.useContext(P),X=!!S.store&&!!S.store.getState&&!!S.store.dispatch,ee=!!M&&!!M.store,F=X?S.store:M.store,re=ee?M.getServerState:F.getState,fe=b.useMemo(()=>rq(F.dispatch,v),[F]),[H,$]=b.useMemo(()=>{if(!j)return _q;const rt=XD(F,X?void 0:M.subscription),ts=rt.notifyNestedSubs.bind(rt);return[rt,ts]},[F,X,M]),oe=b.useMemo(()=>X?M:{...M,subscription:H},[X,M,H]),be=b.useRef(void 0),st=b.useRef(D),_t=b.useRef(void 0),Ft=b.useRef(!1),ps=b.useRef(!1),Xt=b.useRef(void 0);Lf(()=>(ps.current=!0,()=>{ps.current=!1}),[]);const Be=b.useMemo(()=>()=>_t.current&&D===st.current?_t.current:fe(F.getState(),D),[F,D]),yt=b.useMemo(()=>ts=>H?Eq(j,F,H,fe,st,be,Ft,ps,_t,$,ts):()=>{},[H]);Tq(Pq,[st,be,Ft,D,_t,$]);let Et;try{Et=b.useSyncExternalStore(yt,Be,re?()=>fe(re(),D):Be)}catch(rt){throw Xt.current&&(rt.message+=`
The error may be correlated with this previous error:
${Xt.current.stack}

`),rt}Lf(()=>{Xt.current=void 0,_t.current=void 0,be.current=Et});const vt=b.useMemo(()=>b.createElement(g,{...Et,ref:T}),[T,g,Et]);return b.useMemo(()=>j?b.createElement(P.Provider,{value:oe},vt):vt,[P,vt,oe])}const N=b.memo(w);if(N.WrappedComponent=g,N.displayName=w.displayName=y,c){const k=b.forwardRef(function(D,P){return b.createElement(N,{...D,reactReduxForwardedRef:P})});return k.displayName=y,k.WrappedComponent=g,L0(k,g)}return L0(N,g)}}var e6=Dq;function Mq(e){const{children:t,context:n,serverState:r,store:i}=e,a=b.useMemo(()=>{const c=XD(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=b.useMemo(()=>i.getState(),[i]);Lf(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||JD;return b.createElement(l.Provider,{value:a},t)}var Iq=Mq,Rq="Invariant failed";function Fq(e,t){throw new Error(Rq)}var Ur=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,c={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return c},vw=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},qS=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Oq=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ty={top:0,right:0,bottom:0,left:0},bw=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Ty:r,a=t.border,o=a===void 0?Ty:a,l=t.padding,c=l===void 0?Ty:l,d=Ur(vw(n,i)),h=Ur(qS(n,o)),u=Ur(qS(h,c));return{marginBox:d,borderBox:Ur(n),paddingBox:h,contentBox:u,margin:i,border:o,padding:c}},nr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Fq(),i},Lq=function(){return{x:window.pageXOffset,y:window.pageYOffset}},$f=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=Oq(r,n);return bw({borderBox:l,border:i,margin:a,padding:o})},Uf=function(t,n){return n===void 0&&(n=Lq()),$f(t,n)},t6=function(t,n){var r={top:nr(n.marginTop),right:nr(n.marginRight),bottom:nr(n.marginBottom),left:nr(n.marginLeft)},i={top:nr(n.paddingTop),right:nr(n.paddingRight),bottom:nr(n.paddingBottom),left:nr(n.paddingLeft)},a={top:nr(n.borderTopWidth),right:nr(n.borderRightWidth),bottom:nr(n.borderBottomWidth),left:nr(n.borderLeftWidth)};return bw({borderBox:t,margin:r,padding:i,border:a})},s6=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return t6(n,r)},lh=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(null,arguments)}function n6(e,t){}n6.bind(null,"warn");n6.bind(null,"error");function so(){}function $q(e,t){return{...e,...t}}function ur(e,t,n){const r=t.map(i=>{const a=$q(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const Uq="Invariant failed";class zf extends Error{}zf.prototype.toString=function(){return this.message};function we(e,t){throw new zf(Uq)}class Bq extends me.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=so,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof zf&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ur(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof zf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const zq=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Vf=e=>e+1,Vq=e=>`
  You have lifted an item in position ${Vf(e.source.index)}
`,r6=(e,t)=>{const n=e.droppableId===t.droppableId,r=Vf(e.index),i=Vf(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},i6=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,qq=e=>{const t=e.destination;if(t)return r6(e.source,t);const n=e.combine;return n?i6(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},HS=e=>`
  The item has returned to its starting position
  of ${Vf(e.index)}
`,Hq=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${HS(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${r6(e.source,t)}
    `:n?`
      You have dropped the item.
      ${i6(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${HS(e.source)}
  `},qp={dragHandleUsageInstructions:zq,onDragStart:Vq,onDragUpdate:qq,onDragEnd:Hq};function Wq(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function a6(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Wq(e[n],t[n]))return!1;return!0}function St(e,t){const n=b.useState(()=>({inputs:t,result:e()}))[0],r=b.useRef(!0),i=b.useRef(n),o=r.current||!!(t&&i.current.inputs&&a6(t,i.current.inputs))?i.current:{inputs:t,result:e()};return b.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function qe(e,t){return St(()=>e,t)}const qs={x:0,y:0},Ys=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Kn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),no=(e,t)=>e.x===t.x&&e.y===t.y,Dd=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),bl=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},ch=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),WS=(e,t)=>Math.min(...t.map(n=>ch(e,n))),o6=e=>t=>({x:e(t.x),y:e(t.y)});var Gq=(e,t)=>{const n=Ur({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const vm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),GS=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Kq={top:0,right:0,bottom:0,left:0},Qq=(e,t)=>t?vm(e,t.scroll.diff.displacement):e,Yq=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Xq=(e,t)=>t&&t.shouldClipSubject?Gq(t.pageMarginBox,e):Ur(e);var hd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=Qq(e.marginBox,r),a=Yq(i,n,t),o=Xq(a,r);return{page:e,withPlaceholder:t,active:o}},jw=(e,t)=>{e.frame||we();const n=e.frame,r=Kn(t,n.scroll.initial),i=Dd(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=hd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function Bs(e,t=a6){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const l6=Bs(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),c6=Bs(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),gx=Bs(e=>Object.values(e)),Zq=Bs(e=>Object.values(e));var Md=Bs((e,t)=>Zq(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function ww(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function xx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var yx=Bs((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Jq=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!ww(i))return null;function o(f){const j={type:"COMBINE",combine:{draggableId:f,droppableId:n.descriptor.id}};return{...i,at:j}}const l=i.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=yx(t,r);if(!c){if(!d.length)return null;const f=d[d.length-1];return o(f.descriptor.id)}const h=d.findIndex(f=>f.descriptor.id===c);h===-1&&we();const u=h-1;if(u<0)return null;const m=d[u];return o(m.descriptor.id)},Id=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const d6={point:qs,value:0},dh={invisible:{},visible:{},all:[]},eH={displaced:dh,displacedBy:d6,at:null};var pr=(e,t)=>n=>e<=n&&n<=t,u6=e=>{const t=pr(e.top,e.bottom),n=pr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&o||d&&a}},tH=e=>{const t=pr(e.top,e.bottom),n=pr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Nw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},h6={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var sH=e=>t=>{const n=pr(t.top,t.bottom),r=pr(t.left,t.right);return i=>e===Nw?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const nH=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:qs;return vm(e,n)},rH=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,iH=(e,t,n)=>n(t)(e),Sw=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?nH(e,t):e;return rH(a,t,i)&&iH(a,n,i)},aH=e=>Sw({...e,isVisibleThroughFrameFn:u6}),m6=e=>Sw({...e,isVisibleThroughFrameFn:tH}),oH=e=>Sw({...e,isVisibleThroughFrameFn:sH(e.destination.axis)}),lH=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function cH(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ur(vw(n,r))}function uh({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,c){const d=cH(c,n),h=c.descriptor.id;if(l.all.push(h),!aH({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=lH(h,a,i),f={draggableId:h,shouldAnimate:m};return l.visible[h]=f,l},{all:[],visible:{},invisible:{}})}function dH(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function KS({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=dH(e,{inHomeList:t});return{displaced:dh,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function qf({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const c=Id(e,n);if(o==null)return KS({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const d=t.find(j=>j.descriptor.index===o);if(!d)return KS({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const h=yx(e,t),u=t.indexOf(d),m=h.slice(u);return{displaced:uh({afterDragging:m,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function fo(e,t){return!!t.effected[e]}var uH=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return fo(a,i)?e?l:l-1:e?l+1:l},hH=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return a<o||a>c?null:a},mH=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||we(),d.type==="REORDER"){const u=hH({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return u==null?null:qf({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}const h=uH({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:qf({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},pH=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return fo(n,t)?i?qs:Dd(r.point):i?r.point:qs},fH=({afterCritical:e,impact:t,draggables:n})=>{const r=xx(t);r||we();const i=r.draggableId,a=n[i].page.borderBox.center,o=pH({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Ys(a,o)};const p6=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,gH=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Cw=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,QS=({axis:e,moveRelativeTo:t,isMoving:n})=>bl(e.line,t.marginBox[e.end]+p6(e,n),Cw(e,t.marginBox,n)),YS=({axis:e,moveRelativeTo:t,isMoving:n})=>bl(e.line,t.marginBox[e.start]-gH(e,n),Cw(e,t.marginBox,n)),xH=({axis:e,moveInto:t,isMoving:n})=>bl(e.line,t.contentBox[e.start]+p6(e,n),Cw(e,t.contentBox,n));var yH=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Md(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return xH({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:d}=e,h=c.all[0];if(h){const m=n[h];if(fo(h,i))return YS({axis:l,moveRelativeTo:m.page,isMoving:o});const f=$f(m.page,d.point);return YS({axis:l,moveRelativeTo:f,isMoving:o})}const u=a[a.length-1];if(u.descriptor.id===t.descriptor.id)return o.borderBox.center;if(fo(u.descriptor.id,i)){const m=$f(u.page,Dd(i.displacedBy.point));return QS({axis:l,moveRelativeTo:m,isMoving:o})}return QS({axis:l,moveRelativeTo:u.page,isMoving:o})},$0=(e,t)=>{const n=e.frame;return n?Ys(t,n.scroll.diff.displacement):t};const vH=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?yH({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):fH({impact:e,draggables:r,afterCritical:i})};var vx=e=>{const t=vH(e),n=e.droppable;return n?$0(n,t):t},f6=(e,t)=>{const n=Kn(t,e.scroll.initial),r=Dd(n);return{frame:Ur({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function XS(e,t){return e.map(n=>t[n])}function bH(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var jH=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=f6(t,Ys(t.scroll.current,i)),o=n.frame?jw(n,Ys(n.frame.scroll.current,i)):n,l=e.displaced,c=uh({afterDragging:XS(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=uh({afterDragging:XS(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},u={},m=[l,c,d];return l.all.forEach(j=>{const x=bH(j,m);if(x){u[j]=x;return}h[j]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:u}}},wH=(e,t)=>Ys(e.scroll.diff.displacement,t),kw=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=wH(n,e),i=Kn(r,t.page.borderBox.center);return Ys(t.client.borderBox.center,i)},g6=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Kn(n,e.page.borderBox.center),c={target:vm(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?oH(c):m6(c)},NH=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const d=Md(n.descriptor.id,r),h=Id(t,n),u=Jq({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||mH({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:c});if(!u)return null;const m=vx({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:c});if(g6({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:kw({pageBorderBoxCenter:m,draggable:t,viewport:a}),impact:u,scrollJumpRequest:null};const j=Kn(m,o),x=jH({impact:u,viewport:a,destination:n,draggables:r,maxScrollChange:j});return{clientSelection:l,impact:x,scrollJumpRequest:j}};const pn=e=>{const t=e.subject.active;return t||we(),t};var SH=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=pr(a[o.start],a[o.end]),c=gx(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>u6(i.frame)(pn(h))).filter(h=>{const u=pn(h);return e?a[o.crossAxisEnd]<u[o.crossAxisEnd]:u[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const u=pn(h),m=pr(u[o.start],u[o.end]);return l(u[o.start])||l(u[o.end])||m(a[o.start])||m(a[o.end])}).sort((h,u)=>{const m=pn(h)[o.crossAxisStart],f=pn(u)[o.crossAxisStart];return e?m-f:f-m}).filter((h,u,m)=>pn(h)[o.crossAxisStart]===pn(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>pr(pn(h)[o.start],pn(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,u)=>pn(h)[o.start]-pn(u)[o.start])[0]:c.sort((h,u)=>{const m=WS(t,GS(pn(h))),f=WS(t,GS(pn(u)));return m!==f?m-f:pn(h)[o.start]-pn(u)[o.start]})[0]};const ZS=(e,t)=>{const n=e.page.borderBox.center;return fo(e.descriptor.id,t)?Kn(n,t.displacedBy.point):n},CH=(e,t)=>{const n=e.page.borderBox;return fo(e.descriptor.id,t)?vm(n,Dd(t.displacedBy.point)):n};var kH=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>m6({target:CH(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=ch(e,$0(n,ZS(o,i))),d=ch(e,$0(n,ZS(l,i)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,bm=Bs(function(t,n){const r=n[t.line];return{value:r,point:bl(t.line,r)}});const _H=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return bl(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=Md(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:bl(r.line,c)},x6=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),y6=(e,t,n)=>{const r=e.frame;Id(t,e)&&we(),e.subject.withPlaceholder&&we();const i=bm(e.axis,t.displaceBy).point,a=_H(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Ys(r.scroll.max,a):r.scroll.max,c=x6(r,l),d=hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},TH=e=>{const t=e.subject.withPlaceholder;t||we();const n=e.frame;if(!n){const o=hd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||we();const i=x6(n,r),a=hd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var PH=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const u={displaced:dh,displacedBy:d6,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=vx({impact:u,draggable:r,droppable:a,draggables:i,afterCritical:l}),f=Id(r,a)?a:y6(a,r,i);return g6({draggable:r,destination:f,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?u:u+1})(),h=bm(a.axis,r.displaceBy);return qf({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:dh,index:d})},EH=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const c=SH({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!c)return null;const d=Md(c.descriptor.id,i),h=kH({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),u=PH({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!u)return null;const m=vx({impact:u,draggable:n,droppable:c,draggables:i,afterCritical:l});return{clientSelection:kw({pageBorderBoxCenter:m,draggable:n,viewport:o}),impact:u,scrollJumpRequest:null}},Xn=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const AH=(e,t)=>{const n=Xn(e);return n?t[n]:null};var DH=({state:e,type:t})=>{const n=AH(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return l?NH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):EH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Ao(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function v6(e){const t=pr(e.top,e.bottom),n=pr(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function MH(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function IH({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=bl(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:ch(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function RH({pageBorderBox:e,draggable:t,droppables:n}){const r=gx(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!MH(e,a))return!1;if(v6(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=pr(a[o.crossAxisStart],a[o.crossAxisEnd]),u=h(c),m=h(d);return!u&&!m?!0:u?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:IH({pageBorderBox:e,draggable:t,candidates:r}):null}const b6=(e,t)=>Ur(vm(e,t));var FH=(e,t)=>{const n=e.frame;return n?b6(t,n.scroll.diff.value):t};function j6({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function OH({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var LH=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,c=bm(n.axis,t.displaceBy),d=c.value,h=e[l.start],u=e[l.end],f=yx(t,r).find(x=>{const g=x.descriptor.id,p=x.page.borderBox.center[l.line],y=fo(g,o),v=j6({displaced:i,id:g});return y?v?u<=p:h<p-d:v?u<=p+d:h<p})||null,j=OH({draggable:t,closest:f,inHomeList:Id(t,n)});return qf({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:c,index:j})};const $H=4;var UH=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=bm(r.axis,e.displaceBy),c=l.value,d=t[o.start],h=t[o.end],m=yx(e,i).find(j=>{const x=j.descriptor.id,g=j.page.borderBox,y=g[o.size]/$H,v=fo(x,a),w=j6({displaced:n.displaced,id:x});return v?w?h>g[o.start]+y&&h<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:w?h>g[o.start]+c+y&&h<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},w6=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=b6(t.page.borderBox,e),c=RH({pageBorderBox:l,draggable:t,droppables:r});if(!c)return eH;const d=r[c],h=Md(d.descriptor.id,n),u=FH(d,l);return UH({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||LH({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},_w=(e,t)=>({...e,[t.descriptor.id]:t});const BH=({previousImpact:e,impact:t,droppables:n})=>{const r=Xn(e),i=Xn(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=TH(a);return _w(n,o)};var zH=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=BH({previousImpact:r,impact:i,droppables:n}),o=Xn(i);if(!o)return a;const l=n[o];if(Id(e,l)||l.subject.withPlaceholder)return a;const c=y6(l,e,t);return _w(a,c)},Iu=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,d=Kn(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:Ys(e.initial.client.borderBoxCenter,d)},u={selection:Ys(h.selection,o.scroll.current),borderBoxCenter:Ys(h.borderBoxCenter,o.scroll.current),offset:Ys(h.offset,o.scroll.diff.value)},m={client:h,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const f=l.draggables[e.critical.draggable.id],j=i||w6({pageOffset:u.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),x=zH({draggable:f,impact:j,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:x},impact:j,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function VH(e,t){return e.map(n=>t[n])}var N6=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=VH(a.all,n),l=uh({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},S6=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=vx({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return kw({pageBorderBoxCenter:o,draggable:t,viewport:i})},C6=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&we();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,c=o[e.critical.draggable.id],d=Xn(r);d||we();const h=l[d],u=N6({impact:r,viewport:i,destination:h,draggables:o}),m=S6({impact:u,draggable:c,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Iu({impact:u,clientSelection:m,state:e,dimensions:a,viewport:i})},qH=e=>({index:e.index,droppableId:e.droppableId}),k6=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=bm(t.axis,e.displaceBy),a=Md(t.descriptor.id,n),o=a.indexOf(e);o===-1&&we();const l=a.slice(o+1),c=l.reduce((m,f)=>(m[f.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:uh({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:qH(e.descriptor)}},afterCritical:d}},HH=(e,t)=>({draggables:e.draggables,droppables:_w(e.droppables,t)}),WH=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=$f(e.client,t),i=Uf(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},GH=e=>{const t=e.frame;return t||we(),t},KH=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],c=GH(o).scroll.diff.value,d=Ys(r,c);return WH({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},QH=({state:e,published:t})=>{const n=t.modified.map(p=>{const y=e.dimensions.droppables[p.droppableId];return jw(y,p.scroll)}),r={...e.dimensions.droppables,...l6(n)},i=c6(KH({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(p=>{delete a[p]});const o={droppables:r,draggables:a},l=Xn(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=k6({draggable:d,home:h,draggables:a,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:u,j=w6({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:f,viewport:e.viewport,afterCritical:m}),x={...e,phase:"DRAGGING",impact:j,onLiftImpact:u,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const U0=e=>e.movementMode==="SNAP",Py=(e,t,n)=>{const r=HH(e.dimensions,t);return!U0(e)||n?Iu({state:e,dimensions:r}):C6({state:e,dimensions:r})};function Ey(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const JS={phase:"IDLE",completed:null,shouldFlush:!1};var YH=(e=JS,t)=>{if(t.type==="FLUSH")return{...JS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&we();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:qs},h={client:d,page:{selection:Ys(d.selection,i.scroll.initial),borderBoxCenter:Ys(d.selection,i.scroll.initial),offset:Ys(d.selection,i.scroll.diff.value)}},u=gx(a.droppables).every(x=>!x.isFixedOnPage),{impact:m,afterCritical:f}=k6({draggable:l,home:c,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:u,impact:m,afterCritical:f,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&we(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||we(),QH({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{client:n}=t.payload;return no(n,e.current.client.selection)?e:Iu({state:e,clientSelection:n,impact:U0(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ey(e);Ao(e)||we();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=jw(i,r);return Py(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||we(),i.isEnabled===r&&we();const a={...i,isEnabled:r};return Py(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||we(),i.isCombineEnabled===r&&we();const a={...i,isCombineEnabled:r};return Py(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ao(e)||we(),e.isWindowScrollAllowed||we();const n=t.payload.newScroll;if(no(e.viewport.scroll.current,n))return Ey(e);const r=f6(e.viewport,n);return U0(e)?C6({state:e,viewport:r}):Iu({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ao(e))return e;const n=t.payload.maxScroll;if(no(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&we();const n=DH({state:e,type:t.type});return n?Iu({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&we(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||we(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const XH=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ZH=e=>({type:"LIFT",payload:e}),JH=e=>({type:"INITIAL_PUBLISH",payload:e}),eW=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),tW=()=>({type:"COLLECTION_STARTING",payload:null}),sW=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),nW=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),rW=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),_6=e=>({type:"MOVE",payload:e}),iW=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),aW=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),oW=()=>({type:"MOVE_UP",payload:null}),lW=()=>({type:"MOVE_DOWN",payload:null}),cW=()=>({type:"MOVE_RIGHT",payload:null}),dW=()=>({type:"MOVE_LEFT",payload:null}),Tw=()=>({type:"FLUSH",payload:null}),uW=e=>({type:"DROP_ANIMATE",payload:e}),Pw=e=>({type:"DROP_COMPLETE",payload:e}),T6=e=>({type:"DROP",payload:e}),hW=e=>({type:"DROP_PENDING",payload:e}),P6=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var mW=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Pw({completed:c.completed})),t().phase!=="IDLE"&&we(),n(Tw()),n(XH({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:m,viewport:f}=e.startPublishing(h);n(JH({critical:u,dimensions:m,clientSelection:o,movementMode:l,viewport:f}))},pW=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Ew={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},hh={opacity:{drop:0,combining:.7},scale:{drop:.75}},E6={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_o=`${E6.outOfTheWay}s ${Ew.outOfTheWay}`,Ru={fluid:`opacity ${_o}`,snap:`transform ${_o}, opacity ${_o}`,drop:e=>{const t=`${e}s ${Ew.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${_o}`,placeholder:`height ${_o}, width ${_o}, margin ${_o}`},e2=e=>no(e,qs)?void 0:`translate(${e.x}px, ${e.y}px)`,B0={moveTo:e2,drop:(e,t)=>{const n=e2(e);if(n)return t?`${n} scale(${hh.scale.drop})`:n}},{minDropTime:z0,maxDropTime:A6}=E6,fW=A6-z0,t2=1500,gW=.6;var xW=({current:e,destination:t,reason:n})=>{const r=ch(e,t);if(r<=0)return z0;if(r>=t2)return A6;const i=r/t2,a=z0+fW*i,o=n==="CANCEL"?a*gW:a;return Number(o.toFixed(2))},yW=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Xn(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],h=S6({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:c||d,viewport:r});return Kn(h,t.client.borderBox.center)},vW=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:N6({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:dh},didDropInsideDroppable:!0};const bW=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(hW({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&we(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||we();const l=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:u}=vW({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=u?ww(h):null,f=u?xx(h):null,j={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:j,reason:a,mode:i.movementMode,destination:m,combine:f},g=yW({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),p={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h};if(!(!no(i.current.client.offset,g)||!!x.combine)){t(Pw({completed:p}));return}const v=xW({current:i.current.client.offset,destination:g,reason:a});t(uW({newHomeClientOffset:g,dropDuration:v,completed:p}))};var D6=()=>({x:window.pageXOffset,y:window.pageYOffset});function jW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function wW({onWindowScroll:e}){function t(){e(D6())}const n=lh(t),r=jW(n);let i=so;function a(){return i!==so}function o(){a()&&we(),i=ur(window,[r])}function l(){a()||we(),n.cancel(),i(),i=so}return{start:o,stop:l,isActive:a}}const NW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),SW=e=>{const t=wW({onWindowScroll:n=>{e.dispatch(iW({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&NW(r)&&t.stop(),n(r)}};var CW=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},kW=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&we();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const _W=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,TW=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,PW=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Xd=(e,t)=>{t()},ep=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Ay(e,t,n,r){if(!e){n(r(t));return}const i=CW(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var EW=(e,t)=>{const n=kW();let r=null;const i=(u,m)=>{r&&we(),Xd("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:u,mode:m})})},a=(u,m)=>{r&&we(),Xd("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(ep(u,m))})},o=(u,m)=>{r&&we();const f=ep(u,m);r={mode:m,lastCritical:u,lastLocation:f.source,lastCombine:null},n.add(()=>{Xd("onDragStart",()=>Ay(e().onDragStart,f,t,qp.onDragStart))})},l=(u,m)=>{const f=ww(m),j=xx(m);r||we();const x=!PW(u,r.lastCritical);x&&(r.lastCritical=u);const g=!_W(r.lastLocation,f);g&&(r.lastLocation=f);const p=!TW(r.lastCombine,j);if(p&&(r.lastCombine=j),!x&&!g&&!p)return;const y={...ep(u,r.mode),combine:j,destination:f};n.add(()=>{Xd("onDragUpdate",()=>Ay(e().onDragUpdate,y,t,qp.onDragUpdate))})},c=()=>{r||we(),n.flush()},d=u=>{r||we(),r=null,Xd("onDragEnd",()=>Ay(e().onDragEnd,u,t,qp.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:c,drop:d,abort:()=>{if(!r)return;const u={...ep(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},AW=(e,t)=>{const n=EW(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const DW=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&we(),e.dispatch(Pw({completed:r.completed}))},MW=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(P6())}};n=requestAnimationFrame(()=>{n=null,t=ur(window,[o])})}};var IW=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},RW=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const FW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var OW=e=>t=>n=>r=>{if(FW(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&we(),e.start(i);return}n(r),e.scroll(t.getState())};const LW=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(T6({reason:r.reason})))},$W=KD;var UW=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>GD(YH,$W(MV(pW(n),IW(e),mW(e),bW,DW,MW,LW,OW(a),SW,RW(t),AW(r,i))));const Dy=()=>({additions:{},removals:{},modified:{}});function BW({registry:e,callbacks:t}){let n=Dy(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=n,u=Object.keys(c).map(j=>e.draggable.getById(j).getDimension(qs)).sort((j,x)=>j.descriptor.index-x.descriptor.index),m=Object.keys(h).map(j=>{const g=e.droppable.getById(j).callbacks.getScrollWhileDragging();return{droppableId:j,scroll:g}}),f={additions:u,removals:Object.keys(d),modified:m};n=Dy(),t.publish(f)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Dy())}}}var M6=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Kn({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},I6=()=>{const e=document.documentElement;return e||we(),e},R6=()=>{const e=I6();return M6({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},zW=()=>{const e=D6(),t=R6(),n=e.y,r=e.x,i=I6(),a=i.clientWidth,o=i.clientHeight,l=r+a,c=n+o;return{frame:Ur({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:qs,displacement:qs}}}},VW=({critical:e,scrollOptions:t,registry:n})=>{const r=zW(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:c6(l),droppables:l6(o)},critical:e,viewport:r}};function s2(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var qW=(e,t)=>{let n=null;const r=BW({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,f)=>{e.droppable.exists(m)||we(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:f})},a=(m,f)=>{n&&(e.droppable.exists(m)||we(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:f}))},o=(m,f)=>{n&&(e.droppable.exists(m)||we(),t.updateDroppableScroll({id:m,newScroll:f}))},l=(m,f)=>{n&&e.droppable.getById(m).callbacks.scroll(f)},c=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(f=>f.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||we();const f=n.critical.draggable;m.type==="ADDITION"&&s2(e,f,m.value)&&r.add(m.value),m.type==="REMOVAL"&&s2(e,f,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{n&&we();const f=e.draggable.getById(m.draggableId),j=e.droppable.getById(f.descriptor.droppableId),x={draggable:f.descriptor,droppable:j.descriptor},g=e.subscribe(d);return n={critical:x,unsubscribe:g},VW({critical:x,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},F6=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",HW=e=>{window.scrollBy(e.x,e.y)};const WW=Bs(e=>gx(e).filter(t=>!(!t.isEnabled||!t.frame))),GW=(e,t)=>WW(t).find(r=>(r.frame||we(),v6(r.frame.pageMarginBox)(e)))||null;var KW=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return GW(e,n)};const mh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var QW=(e,t,n=()=>mh)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},O6=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Aw=1,YW=(e,t,n=()=>mh)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Aw;const a=1-O6({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},XW=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return Aw;const h=O6({startOfRange:i,endOfRange:l,current:d}),u=e*r.ease(h);return Math.ceil(u)},n2=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=YW(e,t,i);return a===0?0:r?Math.max(XW(a,n,i),Aw):a},r2=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=QW(e,r,a);return t[r.end]<t[r.start]?n2({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*n2({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},ZW=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const JW=o6(e=>e===0?0:e);var L6=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=r2({container:t,distanceToEdges:o,dragStartTime:e,axis:Nw,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=r2({container:t,distanceToEdges:o,dragStartTime:e,axis:h6,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=JW({x:c,y:l});if(no(d,qs))return null;const h=ZW({container:t,subject:n,proposedScroll:d});return h?no(h,qs)?null:h:null};const eG=o6(e=>e===0?0:e>0?1:-1),Dw=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Ys(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return no(a,qs)?null:a}})(),$6=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=eG(n),a=Dw({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Mw=(e,t)=>$6({current:e.scroll.current,max:e.scroll.max,change:t}),tG=(e,t)=>{if(!Mw(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Dw({current:r,max:n,change:t})},Iw=(e,t)=>{const n=e.frame;return n?$6({current:n.scroll.current,max:n.scroll.max,change:t}):!1},sG=(e,t)=>{const n=e.frame;return!n||!Iw(e,t)?null:Dw({current:n.scroll.current,max:n.scroll.max,change:t})};var nG=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=L6({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&Mw(e,o)?o:null},rG=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=L6({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Iw(e,l)?l:null},i2=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=nG({dragStartTime:t,viewport:u,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(m){r(m);return}}const d=KW({center:o,destination:Xn(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=rG({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},iG=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>mh})=>{const r=lh(e),i=lh(t);let a=null;const o=d=>{a||we();const{shouldUseTimeDampening:h,dragStartTime:u}=a;i2({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:u,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&we();const h=Date.now();let u=!1;const m=()=>{u=!0};i2({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:u},u&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},aG=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const d=Ys(l.current.client.selection,c);e({client:d})},i=(l,c)=>{if(!Iw(l,c))return c;const d=sG(l,c);if(!d)return t(l.descriptor.id,c),null;const h=Kn(c,d);return t(l.descriptor.id,h),Kn(c,h)},a=(l,c,d)=>{if(!l||!Mw(c,d))return d;const h=tG(c,d);if(!h)return n(d),null;const u=Kn(d,h);return n(u),Kn(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Xn(l.impact);d||we();const h=i(l.dimensions.droppables[d],c);if(!h)return;const u=l.viewport,m=a(l.isWindowScrollAllowed,u,h);m&&r(l,m)}},oG=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=iG({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=aG({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:i.start,stop:i.stop}};const md="data-rfd",pd=(()=>{const e=`${md}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),V0=(()=>{const e=`${md}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),lG=(()=>{const e=`${md}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),a2={contextId:`${md}-scroll-container-context-id`},cG=e=>t=>`[${t}="${e}"]`,Zd=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),dG="pointer-events: none;";var uG=e=>{const t=cG(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(pd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:dG,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Ru.outOfTheWay};
    `;return{selector:t(V0.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(lG.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zd(o,"always"),resting:Zd(o,"resting"),dragging:Zd(o,"dragging"),dropAnimating:Zd(o,"dropAnimating"),userCancel:Zd(o,"userCancel")}};const Zn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,My=()=>{const e=document.querySelector("head");return e||we(),e},o2=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function hG(e,t){const n=St(()=>uG(e),[e]),r=b.useRef(null),i=b.useRef(null),a=qe(Bs(u=>{const m=i.current;m||we(),m.textContent=u}),[]),o=qe(u=>{const m=r.current;m||we(),m.textContent=u},[]);Zn(()=>{!r.current&&!i.current||we();const u=o2(t),m=o2(t);return r.current=u,i.current=m,u.setAttribute(`${md}-always`,e),m.setAttribute(`${md}-dynamic`,e),My().appendChild(u),My().appendChild(m),o(n.always),a(n.resting),()=>{const f=j=>{const x=j.current;x||we(),My().removeChild(x),j.current=null};f(r),f(i)}},[t,o,a,n.always,n.resting,e]);const l=qe(()=>a(n.dragging),[a,n.dragging]),c=qe(u=>{if(u==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=qe(()=>{i.current&&a(n.resting)},[a,n.resting]);return St(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function U6(e,t){return Array.from(e.querySelectorAll(t))}var B6=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function bx(e){return e instanceof B6(e).HTMLElement}function mG(e,t){const n=`[${pd.contextId}="${e}"]`,r=U6(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(pd.draggableId)===t);return!i||!bx(i)?null:i}function pG(e){const t=b.useRef({}),n=b.useRef(null),r=b.useRef(null),i=b.useRef(!1),a=qe(function(m,f){const j={id:m,focus:f};return t.current[m]=j,function(){const g=t.current;g[m]!==j&&delete g[m]}},[]),o=qe(function(m){const f=mG(e,m);f&&f!==document.activeElement&&f.focus()},[e]),l=qe(function(m,f){n.current===m&&(n.current=f)},[]),c=qe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&o(m)}))},[o]),d=qe(function(m){n.current=null;const f=document.activeElement;f&&f.getAttribute(pd.draggableId)===m&&(n.current=m)},[]);return Zn(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),St(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,d,c,l])}function fG(){const e={draggables:{},droppables:{}},t=[];function n(u){return t.push(u),function(){const f=t.indexOf(u);f!==-1&&t.splice(f,1)}}function r(u){t.length&&t.forEach(m=>m(u))}function i(u){return e.draggables[u]||null}function a(u){const m=i(u);return m||we(),m}const o={register:u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,m)=>{const f=e.draggables[m.descriptor.id];f&&f.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,f=i(m);f&&u.uniqueId===f.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:a,findById:i,exists:u=>!!i(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const m=l(u);return m||we(),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function gG(){const e=St(fG,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var Rw=me.createContext(null),Hf=()=>{const e=document.body;return e||we(),e};const xG={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},yG=e=>`rfd-announcement-${e}`;function vG(e){const t=St(()=>yG(e),[e]),n=b.useRef(null);return b.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Bf(a.style,xG),Hf().appendChild(a),function(){setTimeout(function(){const c=Hf();c.contains(a)&&c.removeChild(a),a===n.current&&(n.current=null)})}},[t]),qe(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const bG={separator:"::"};function Fw(e,t=bG){const n=me.useId();return St(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function jG({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function wG({contextId:e,text:t}){const n=Fw("hidden-text",{separator:"-"}),r=St(()=>jG({contextId:e,uniqueId:n}),[n,e]);return b.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Hf().appendChild(a),function(){const l=Hf();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var jx=me.createContext(null);function z6(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function NG(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&we();const l={abandon:o};return e=l,l}function i(){e||we(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function ph(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const SG=9,CG=13,Ow=27,V6=32,kG=33,_G=34,TG=35,PG=36,EG=37,AG=38,DG=39,MG=40,IG={[CG]:!0,[SG]:!0};var q6=e=>{IG[e.keyCode]&&e.preventDefault()};const wx=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),H6=0,l2=5;function RG(e,t){return Math.abs(t.x-e.x)>=l2||Math.abs(t.y-e.y)>=l2}const c2={type:"IDLE"};function FG({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==H6)return;const c={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&we();const h=d.point;if(!RG(h,c))return;i.preventDefault();const u=d.actions.fluidLift(c);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Ow){i.preventDefault(),e();return}q6(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&we(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:wx,fn:e}]}function OG(e){const t=b.useRef(c2),n=b.useRef(so),r=St(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==H6||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const f=e.tryGetLock(m,o,{sourceEvent:u});if(!f)return;u.preventDefault();const j={x:u.clientX,y:u.clientY};n.current(),d(f,j)}}),[e]),i=St(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const u=e.findClosestDraggableId(h);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&h.preventDefault())}}),[e]),a=qe(function(){const u={passive:!1,capture:!0};n.current=ur(window,[i,r],u)},[i,r]),o=qe(()=>{t.current.type!=="IDLE"&&(t.current=c2,n.current(),a())},[a]),l=qe(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=qe(function(){const u={capture:!0,passive:!1},m=FG({cancel:l,completed:o,getPhase:()=>t.current,setPhase:f=>{t.current=f}});n.current=ur(window,m,u)},[l,o]),d=qe(function(u,m){t.current.type!=="IDLE"&&we(),t.current={type:"PENDING",point:m,actions:u},c()},[c]);Zn(function(){return a(),function(){n.current()}},[a])}function LG(){}const $G={[_G]:!0,[kG]:!0,[PG]:!0,[TG]:!0};function UG(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Ow){i.preventDefault(),n();return}if(i.keyCode===V6){i.preventDefault(),r();return}if(i.keyCode===MG){i.preventDefault(),e.moveDown();return}if(i.keyCode===AG){i.preventDefault(),e.moveUp();return}if(i.keyCode===DG){i.preventDefault(),e.moveRight();return}if(i.keyCode===EG){i.preventDefault(),e.moveLeft();return}if($G[i.keyCode]){i.preventDefault();return}q6(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:wx,fn:n}]}function BG(e){const t=b.useRef(LG),n=St(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==V6)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const d=l.snapLift();t.current();function h(){c||we(),c=!1,t.current(),r()}t.current=ur(window,UG(d,h),{capture:!0,passive:!1})}}),[e]),r=qe(function(){const a={passive:!1,capture:!0};t.current=ur(window,[n],a)},[n]);Zn(function(){return r(),function(){t.current()}},[r])}const Iy={type:"IDLE"},zG=120,VG=.15;function qG({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ow&&n.preventDefault(),e()}},{eventName:wx,fn:e}]}function HG({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&we();const a=r.touches[0];if(!a||!(a.force>=VG))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:wx,fn:e}]}function WG(e){const t=b.useRef(Iy),n=b.useRef(so),r=qe(function(){return t.current},[]),i=qe(function(f){t.current=f},[]),a=St(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const j=e.findClosestDraggableId(f);if(!j)return;const x=e.tryGetLock(j,l,{sourceEvent:f});if(!x)return;const g=f.touches[0],{clientX:p,clientY:y}=g,v={x:p,y};n.current(),u(x,v)}}),[e]),o=qe(function(){const f={capture:!0,passive:!1};n.current=ur(window,[a],f)},[a]),l=qe(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Iy),n.current(),o())},[o,i]),c=qe(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=qe(function(){const f={capture:!0,passive:!1},j={cancel:c,completed:l,getPhase:r},x=ur(window,HG(j),f),g=ur(window,qG(j),f);n.current=function(){x(),g()}},[c,r,l]),h=qe(function(){const f=r();f.type!=="PENDING"&&we();const j=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:j,hasMoved:!1})},[r,i]),u=qe(function(f,j){r().type!=="IDLE"&&we();const x=setTimeout(h,zG);i({type:"PENDING",point:j,actions:f,longPressTimerId:x}),d()},[d,r,i,h]);Zn(function(){return o(),function(){n.current();const j=r();j.type==="PENDING"&&(clearTimeout(j.longPressTimerId),i(Iy))}},[r,o,i]),Zn(function(){return ur(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const GG=["input","button","textarea","select","option","optgroup","video","audio"];function W6(e,t){if(t==null)return!1;if(GG.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:W6(e,t.parentElement)}function KG(e,t){const n=t.target;return bx(n)?W6(e,n):!1}var QG=e=>Ur(e.getBoundingClientRect()).center;function YG(e){return e instanceof B6(e).Element}const XG=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function G6(e,t){return e==null?null:e[XG](t)?e:G6(e.parentElement,t)}function ZG(e,t){return e.closest?e.closest(t):G6(e,t)}function JG(e){return`[${pd.contextId}="${e}"]`}function eK(e,t){const n=t.target;if(!YG(n))return null;const r=JG(e),i=ZG(n,r);return!i||!bx(i)?null:i}function tK(e,t){const n=eK(e,t);return n?n.getAttribute(pd.draggableId):null}function sK(e,t){const n=`[${V0.contextId}="${e}"]`,i=U6(document,n).find(a=>a.getAttribute(V0.id)===t);return!i||!bx(i)?null:i}function nK(e){e.preventDefault()}function tp({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function K6({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!F6(t.getState(),r))}function rK({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!K6({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=sK(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&KG(d,o))return null;const h=e.claim(a||so);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function f(){return e.isActive(h)}function j(C,N){tp({expected:C,phase:u,isLockActive:f,shouldWarn:!0})&&n.dispatch(N())}const x=j.bind(null,"DRAGGING");function g(C){function N(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(N(),we()),n.dispatch(ZH(C.liftActionArgs)),u="DRAGGING";function S(k,T={shouldBlockNextClick:!1}){if(C.cleanup(),T.shouldBlockNextClick){const D=ur(window,[{eventName:"click",fn:nK,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}N(),n.dispatch(T6({reason:k}))}return{isActive:()=>tp({expected:"DRAGGING",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,drop:k=>S("DROP",k),cancel:k=>S("CANCEL",k),...C.actions}}function p(C){const N=lh(k=>{x(()=>_6({client:k}))});return{...g({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function y(){const C={moveUp:()=>x(oW),moveRight:()=>x(cW),moveDown:()=>x(lW),moveLeft:()=>x(dW)};return g({liftActionArgs:{id:i,clientSelection:QG(d),movementMode:"SNAP"},cleanup:so,actions:C})}function v(){tp({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>tp({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:p,snapLift:y,abort:v}}const iK=[OG,BG,WG];function aK({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?iK:[],...r||[]],o=b.useState(()=>NG())[0],l=qe(function(g,p){ph(g)&&!ph(p)&&o.tryAbandon()},[o]);Zn(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Zn(()=>o.tryAbandon,[o.tryAbandon]);const c=qe(x=>K6({lockAPI:o,registry:n,store:t,draggableId:x}),[o,n,t]),d=qe((x,g,p)=>rK({lockAPI:o,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:g||null,sourceEvent:p&&p.sourceEvent?p.sourceEvent:null}),[e,o,n,t]),h=qe(x=>tK(e,x),[e]),u=qe(x=>{const g=n.draggable.findById(x);return g?g.options:null},[n.draggable]),m=qe(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Tw()))},[o,t]),f=qe(()=>o.isClaimed(),[o]),j=St(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:f}),[c,d,h,u,m,f]);for(let x=0;x<a.length;x++)a[x](j)}const oK=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ma.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),lK=e=>({...mh,...e.autoScrollerOptions,durationDampening:{...mh.durationDampening,...e.autoScrollerOptions}});function Jd(e){return e.current||we(),e.current}function cK(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=b.useRef(null),l=z6(e),c=qe(()=>oK(l.current),[l]),d=qe(()=>lK(l.current),[l]),h=vG(t),u=wG({contextId:t,text:a}),m=hG(t,i),f=qe(D=>{Jd(o).dispatch(D)},[]),j=St(()=>OS({publishWhileDragging:eW,updateDroppableScroll:sW,updateDroppableIsEnabled:nW,updateDroppableIsCombineEnabled:rW,collectionStarting:tW},f),[f]),x=gG(),g=St(()=>qW(x,j),[x,j]),p=St(()=>oG({scrollWindow:HW,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...OS({move:_6},f)}),[g.scrollDroppable,f,d]),y=pG(t),v=St(()=>UW({announce:h,autoScroller:p,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[h,p,g,y,c,m]);o.current=v;const w=qe(()=>{const D=Jd(o);D.getState().phase!=="IDLE"&&D.dispatch(Tw())},[]),C=qe(()=>{const D=Jd(o).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),N=St(()=>({isDragging:C,tryAbort:w}),[C,w]);n(N);const S=qe(D=>F6(Jd(o).getState(),D),[]),k=qe(()=>Ao(Jd(o).getState()),[]),T=St(()=>({marshal:g,focus:y,contextId:t,canLift:S,isMovementAllowed:k,dragHandleUsageInstructionsId:u,registry:x}),[t,g,u,y,S,k,x]);return aK({contextId:t,store:v,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>w,[w]),me.createElement(jx.Provider,{value:T},me.createElement(Iq,{context:Rw,store:v},e.children))}function dK(){return me.useId()}function q0(e){const t=dK(),n=e.dragHandleUsageInstructions||qp.dragHandleUsageInstructions;return me.createElement(Bq,null,r=>me.createElement(cK,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const d2={dragging:5e3,dropAnimating:4500},uK=(e,t)=>t?Ru.drop(t.duration):e?Ru.snap:Ru.fluid,hK=(e,t)=>{if(e)return t?hh.opacity.drop:hh.opacity.combining},mK=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function pK(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=mK(e),c=!!a,d=c?B0.drop(r,o):B0.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:uK(l,a),transform:d,opacity:hK(o,c),zIndex:c?d2.dropAnimating:d2.dragging,pointerEvents:"none"}}function fK(e){return{transform:B0.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function gK(e){return e.type==="DRAGGING"?pK(e):fK(e)}function xK(e,t,n=qs){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=t6(i,r),o=Uf(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:o}}function yK(e){const t=Fw("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=St(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=qe(f=>{const j=i();return j||we(),xK(n,j,f)},[n,i]),h=St(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),u=b.useRef(h),m=b.useRef(!0);Zn(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),Zn(()=>{if(m.current){m.current=!1;return}const f=u.current;u.current=h,r.draggable.update(h,f)},[h,r.draggable])}var Lw=me.createContext(null);function Wf(e){const t=b.useContext(e);return t||we(),t}function vK(e){e.preventDefault()}const bK=e=>{const t=b.useRef(null),n=qe((N=null)=>{t.current=N},[]),r=qe(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Wf(jx),{type:l,droppableId:c}=Wf(Lw),d=St(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:h,draggableId:u,isEnabled:m,shouldRespectForcePress:f,canDragInteractiveElements:j,isClone:x,mapped:g,dropAnimationFinished:p}=e;if(!x){const N=St(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:j,shouldRespectForcePress:f,isEnabled:m}),[d,o,r,j,f,m]);yK(N)}const y=St(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:vK}:null,[i,a,u,m]),v=qe(N=>{g.type==="DRAGGING"&&g.dropping&&N.propertyName==="transform"&&ma.flushSync(p)},[p,g]),w=St(()=>{const N=gK(g),S=g.type==="DRAGGING"&&g.dropping?v:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":u,style:N,onTransitionEnd:S},dragHandleProps:y}},[i,y,u,g,v,n]),C=St(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return me.createElement(me.Fragment,null,h(w,g.snapshot,C))};var Q6=(e,t)=>e===t,Y6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const jK=e=>e.combine?e.combine.draggableId:null,wK=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function NK(){const e=Bs((i,a)=>({x:i,y:a})),t=Bs((i,a,o=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=Bs((i,a,o,l,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,c,d,null)}}));return(i,a)=>{if(ph(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],c=Xn(i.impact),d=wK(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,u=Y6(d),m=jK(d),j={duration:i.dropDuration,curve:Ew.drop,moveTo:i.newHomeClientOffset,opacity:m?hh.opacity.drop:null,scale:m?hh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:j,draggingOver:u,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:t(h,l,u,m,j)}}}return null}}function X6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const SK={mapped:{type:"SECONDARY",offset:qs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:X6(null)}};function CK(){const e=Bs((o,l)=>({x:o,y:l})),t=Bs(X6),n=Bs((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o=>o?n(qs,o,!0):null,i=(o,l,c,d)=>{const h=c.displaced.visible[o],u=!!(d.inVirtualList&&d.effected[o]),m=xx(c),f=m&&m.draggableId===o?l:null;if(!h){if(!u)return r(f);if(c.displaced.invisible[o])return null;const g=Dd(d.displacedBy.point),p=e(g.x,g.y);return n(p,f,!0)}if(u)return r(f);const j=c.displacedBy.point,x=e(j.x,j.y);return n(x,f,h.shouldAnimate)};return(o,l)=>{if(ph(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const kK=()=>{const e=NK(),t=CK();return(r,i)=>e(r,i)||t(r,i)||SK},_K={dropAnimationFinished:P6},TK=e6(kK,_K,null,{context:Rw,areStatePropsEqual:Q6})(bK);function Z6(e){return Wf(Lw).isUsingCloneFor===e.draggableId&&!e.isClone?null:me.createElement(TK,e)}function H0(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return me.createElement(Z6,Bf({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const J6=e=>t=>e===t,PK=J6("scroll"),EK=J6("auto"),u2=(e,t)=>t(e.overflowX)||t(e.overflowY),AK=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return u2(n,PK)||u2(n,EK)},DK=()=>!1,eM=e=>e==null?null:e===document.body?DK()?e:null:e===document.documentElement?null:AK(e)?e:eM(e.parentElement);var W0=e=>({x:e.scrollLeft,y:e.scrollTop});const tM=e=>e?window.getComputedStyle(e).position==="fixed"?!0:tM(e.parentElement):!1;var MK=e=>{const t=eM(e),n=tM(e);return{closestScrollable:t,isFixedOnPage:n}},IK=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:f}=l,j=M6({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:j,diff:{value:qs,displacement:qs}}}})(),d=i==="vertical"?Nw:h6,h=hd({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:c,subject:h}};const RK=(e,t)=>{const n=s6(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,c=vw({top:r,right:o,bottom:a,left:i},n.border);return bw({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var FK=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const c=n.closestScrollable,d=RK(e,c),h=Uf(d,r),u=(()=>{if(!c)return null;const f=s6(c),j={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:Uf(f,r),scroll:W0(c),scrollSize:j,shouldClipSubject:l}})();return IK({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:u})};const OK={passive:!1},LK={passive:!0};var h2=e=>e.shouldPublishImmediately?OK:LK;const sp=e=>e&&e.env.closestScrollable||null;function $K(e){const t=b.useRef(null),n=Wf(jx),r=Fw("droppable"),{registry:i,marshal:a}=n,o=z6(e),l=St(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=b.useRef(l),d=St(()=>Bs((w,C)=>{t.current||we();const N={x:w,y:C};a.updateDroppableScroll(l.id,N)}),[l.id,a]),h=qe(()=>{const w=t.current;return!w||!w.env.closestScrollable?qs:W0(w.env.closestScrollable)},[]),u=qe(()=>{const w=h();d(w.x,w.y)},[h,d]),m=St(()=>lh(u),[u]),f=qe(()=>{const w=t.current,C=sp(w);if(w&&C||we(),w.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),j=qe((w,C)=>{t.current&&we();const N=o.current,S=N.getDroppableRef();S||we();const k=MK(S),T={ref:S,descriptor:l,env:k,scrollOptions:C};t.current=T;const D=FK({ref:S,descriptor:l,env:k,windowScroll:w,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),P=k.closestScrollable;return P&&(P.setAttribute(a2.contextId,n.contextId),P.addEventListener("scroll",f,h2(T.scrollOptions))),D},[n.contextId,l,f,o]),x=qe(()=>{const w=t.current,C=sp(w);return w&&C||we(),W0(C)},[]),g=qe(()=>{const w=t.current;w||we();const C=sp(w);t.current=null,C&&(m.cancel(),C.removeAttribute(a2.contextId),C.removeEventListener("scroll",f,h2(w.scrollOptions)))},[f,m]),p=qe(w=>{const C=t.current;C||we();const N=sp(C);N||we(),N.scrollTop+=w.y,N.scrollLeft+=w.x},[]),y=St(()=>({getDimensionAndWatchScroll:j,getScrollWhileDragging:x,dragStopped:g,scroll:p}),[g,j,x,p]),v=St(()=>({uniqueId:r,descriptor:l,callbacks:y}),[y,l,r]);Zn(()=>(c.current=v.descriptor,i.droppable.register(v),()=>{t.current&&g(),i.droppable.unregister(v)}),[y,l,g,v,a,i.droppable]),Zn(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Zn(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Ry(){}const m2={width:0,height:0,margin:Kq},UK=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?m2:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},BK=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=UK({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ru.placeholder:null}},zK=e=>{const t=b.useRef(null),n=qe(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,c]=b.useState(e.animate==="open");b.useEffect(()=>l?r!=="open"?(n(),c(!1),Ry):t.current?Ry:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Ry,[r,l,n]);const d=qe(u=>{u.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=BK({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return me.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var VK=me.memo(zK);class qK extends me.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const HK=e=>{const t=b.useContext(jx);t||we();const{contextId:n,isMovementAllowed:r}=t,i=b.useRef(null),a=b.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:h,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:f,snapshot:j,useClone:x,updateViewportMaxScroll:g,getContainerForClone:p}=e,y=qe(()=>i.current,[]),v=qe((P=null)=>{i.current=P},[]);qe(()=>a.current,[]);const w=qe((P=null)=>{a.current=P},[]),C=qe(()=>{r()&&g({maxScroll:R6()})},[r,g]);$K({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:u,getDroppableRef:y});const N=St(()=>me.createElement(qK,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:P,data:M,animate:X})=>me.createElement(VK,{placeholder:M,onClose:P,innerRef:w,animate:X,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,w]),S=St(()=>({innerRef:v,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,N,v]),k=x?x.dragging.draggableId:null,T=St(()=>({droppableId:l,type:c,isUsingCloneFor:k}),[l,k,c]);function D(){if(!x)return null;const{dragging:P,render:M}=x,X=me.createElement(Z6,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,F)=>M(ee,F,P));return qA.createPortal(X,p())}return me.createElement(Lw.Provider,{value:T},o(S,j),D())};function WK(){return document.body||we(),document.body}const p2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:WK},sM=e=>{let t={...e},n;for(n in p2)e[n]===void 0&&(t={...t,[n]:p2[n]});return t},Fy=(e,t)=>e===t.droppable.type,f2=(e,t)=>t.draggables[e.draggable.id],GK=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Bs(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Bs((a,o,l,c,d,h)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===a){const j=h?{render:h,dragging:n(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:j}}if(!o)return t;if(!c)return e;const f={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(a,o)=>{const l=sM(o),c=l.droppableId,d=l.type,h=!l.isDropDisabled,u=l.renderClone;if(ph(a)){const m=a.critical;if(!Fy(d,m))return t;const f=f2(m,a.dimensions),j=Xn(a.impact)===c;return r(c,h,j,j,f,u)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!Fy(d,m.critical))return t;const f=f2(m.critical,a.dimensions);return r(c,h,Y6(m.result)===c,Xn(m.impact)===c,f,u)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!Fy(d,m.critical))return t;const f=Xn(m.impact)===c,j=!!(m.impact.at&&m.impact.at.type==="COMBINE"),x=m.critical.droppable.id===c;return f?j?e:t:x?e:t}return t}},KK={updateViewportMaxScroll:aW},G0=e6(GK,KK,(e,t,n)=>({...sM(n),...e,...t}),{context:Rw,areStatePropsEqual:Q6})(HK),np=[{id:"daily-summary",name:"Daily Summary",component:"DailySummary",enabled:!0,order:0},{id:"daily-tasks",name:"Task Management",component:"DailyTasksModule",enabled:!0,order:1},{id:"mood",name:"Mood & Wellbeing",component:"MoodModule",enabled:!0,order:2},{id:"financial",name:"Financial Tracker",component:"FinancialModule",enabled:!1,order:3},{id:"appointments",name:"Appointments",component:"AppointmentsModule",enabled:!1,order:4},{id:"pharmacy",name:"Pharmacy & Medications",component:"PharmacyModule",enabled:!1,order:5},{id:"safety-transportation",name:"Safety & Transportation (Premium)",component:"SafetyTransportationModule",enabled:!1,order:6},{id:"location-safety",name:"Location & Safety (Premium)",component:"LocationSafetyModule",enabled:!1,order:7},{id:"achievements",name:"Achievements",component:"AchievementsModule",enabled:!1,order:8},{id:"caregiver",name:"Support Network",component:"CaregiverModule",enabled:!1,order:9},{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:10},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:11},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:12},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:13}];function QK(){const[e,t]=b.useState([]),[n,r]=b.useState(!1);b.useEffect(()=>{const f=localStorage.getItem("dashboard-layout");if(f)try{const j=JSON.parse(f),x=j.map(v=>v.id),g=np.filter(v=>!x.includes(v.id)),p=[...j,...g],y=p.filter((v,w)=>p.findIndex(C=>C.id===v.id)===w);t(y)}catch(j){console.error("Failed to parse saved layout:",j),t(np)}else t(np)},[]),b.useEffect(()=>{e.length>0&&localStorage.setItem("dashboard-layout",JSON.stringify(e))},[e]);const i=(f,j)=>{const x=Array.from(e),[g]=x.splice(f,1);x.splice(j,0,g);const p=x.map((y,v)=>({...y,order:v}));t(p)},a=f=>{t(j=>j.map(x=>x.id===f?{...x,enabled:!x.enabled}:x))},o=()=>{t(np),localStorage.removeItem("dashboard-layout")},l=()=>{const f=[{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:7},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:8},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:9},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:10}];t(j=>{const x=j.map(p=>p.id),g=f.filter(p=>!x.includes(p.id));return[...j,...g]})},c=f=>{const j=e.findIndex(x=>x.id===f);j>0&&i(j,j-1)},d=f=>{const j=e.findIndex(x=>x.id===f);j<e.length-1&&i(j,j+1)},h=e.filter(f=>f.enabled).sort((f,j)=>f.order-j.order),u=e.filter(f=>f.enabled),m=e.filter(f=>!f.enabled);return{modules:h,allModules:e,enabledModules:u,disabledModules:m,isCustomizing:n,setIsCustomizing:r,reorderModules:i,toggleModule:a,resetToDefault:o,moveModuleUp:c,moveModuleDown:d,addEnhancedFeatures:l}}function YK(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),{data:i,isLoading:a}=xe({queryKey:["/api/mood-entries/today"]});return b.useEffect(()=>{if(a)return;const d=new Date().toDateString(),h=localStorage.getItem("mood-check-date");if(console.log("Mood check - todayMood:",i,"lastCheck:",h,"today:",d),i){console.log("Mood exists, hiding modal"),r(!0),t(!1);return}!i&&h!==d&&!e&&(console.log("Mood check available via navigation"),r(!1))},[i,a]),{showMoodModal:e,closeMoodModal:()=>{console.log("closeMoodModal called"),t(!1),r(!0);const d=new Date().toDateString();localStorage.setItem("mood-check-date",d),console.log("Modal closed successfully")},isMoodRequired:!i&&!a,shouldBlockNavigation:!1,moodData:i}}const XK=fm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...n}){return s.jsx("div",{className:Oe(XK({variant:t}),e),...n})}function ZK(){var c;const[e,t]=b.useState(!1),{data:n}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]}),i=(n==null?void 0:n.accountType)==="admin"||(n==null?void 0:n.username)==="admin"||((c=n==null?void 0:n.name)==null?void 0:c.toLowerCase().includes("admin"));if(e||!n||!r||r.status==="active"||i)return null;const a=r.trialDaysLeft||0,o=a===0,l=a<=2&&a>0;return!o&&!l?null:s.jsx(L,{className:`mx-4 mb-4 border-2 ${o?"border-red-300 bg-red-50":"border-yellow-300 bg-yellow-50"}`,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${o?"bg-red-100":"bg-yellow-100"}`,children:o?s.jsx(Jt,{className:"w-5 h-5 text-red-600"}):s.jsx(ws,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:`font-semibold ${o?"text-red-800":"text-yellow-800"}`,children:o?"Free Trial Expired":"Trial Ending Soon"}),s.jsx(ue,{variant:o?"destructive":"secondary",children:o?"Action Required":`${a} days left`})]}),s.jsx("p",{className:`text-sm mb-3 ${o?"text-red-700":"text-yellow-700"}`,children:o?"Your free trial has ended. Subscribe now to continue using Adaptalyfe features.":`Your free trial ends in ${a} ${a===1?"day":"days"}. Subscribe now to avoid interruption.`}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Le,{href:"/subscription",children:s.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold shadow-md border border-white/20",children:[s.jsx(qt,{className:"w-4 h-4 mr-1"}),"View Plans"]})}),!o&&s.jsx(E,{variant:"outline",size:"sm",onClick:()=>t(!0),className:"text-gray-600 hover:text-gray-800",children:"Remind Me Later"})]})]})]}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"h-6 w-6 p-0 hover:bg-transparent",children:s.jsx(Ad,{className:"w-4 h-4"})})]})})})}const JK="/adaptalyfe-icon.png";function eQ(){const{data:e}=xe({queryKey:["/api/user"]}),{data:t}=xe({queryKey:["/api/daily-tasks"]}),n=(t==null?void 0:t.filter(o=>o.isCompleted).length)||0,r=(t==null?void 0:t.length)||0,i=r>0?Math.round(n/r*100):0,a=()=>{const o=new Date().getHours();return o<12?"Good morning":o<17?"Good afternoon":"Good evening"};return Fz(),e?s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("img",{src:JK,alt:"Adaptalyfe",className:"w-6 h-6 rounded shadow-sm"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-teal-400",children:"Adaptalyfe"}),s.jsx("p",{className:"text-sm text-white/90",children:"Grow with Guidance. Thrive with Confidence."})]})]}),s.jsxs("h2",{className:"text-2xl font-bold mb-2 text-white flex items-center gap-2",children:[a(),", ",e==null?void 0:e.name,"!",s.jsx("span",{className:"text-teal-400 text-2xl",children:""})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[s.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Today's Progress"}),s.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[i,"%"]})]}),s.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[s.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Current Streak"}),s.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[(e==null?void 0:e.streakDays)||0," days"]})]})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("div",{className:"w-16 h-16 bg-gray-800/50 border border-teal-400/40 rounded-full flex items-center justify-center",children:s.jsx(D9,{size:32,className:"text-teal-400"})})})]})})}):s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-48 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded w-64 mb-4"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"}),s.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"})]})]})})})}var Oy="focusScope.autoFocusOnMount",Ly="focusScope.autoFocusOnUnmount",g2={bubbles:!1,cancelable:!0},tQ="FocusScope",$w=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),d=ms(i),h=ms(a),u=b.useRef(null),m=xt(t,x=>c(x)),f=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let x=function(v){if(f.paused||!l)return;const w=v.target;l.contains(w)?u.current=w:wa(u.current,{select:!0})},g=function(v){if(f.paused||!l)return;const w=v.relatedTarget;w!==null&&(l.contains(w)||wa(u.current,{select:!0}))},p=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&wa(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[r,l,f.paused]),b.useEffect(()=>{if(l){y2.add(f);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Oy,g2);l.addEventListener(Oy,d),l.dispatchEvent(p),p.defaultPrevented||(sQ(oQ(nM(l)),{select:!0}),document.activeElement===x&&wa(l))}return()=>{l.removeEventListener(Oy,d),setTimeout(()=>{const p=new CustomEvent(Ly,g2);l.addEventListener(Ly,h),l.dispatchEvent(p),p.defaultPrevented||wa(x??document.body,{select:!0}),l.removeEventListener(Ly,h),y2.remove(f)},0)}}},[l,d,h,f]);const j=b.useCallback(x=>{if(!n&&!r||f.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(g&&p){const y=x.currentTarget,[v,w]=nQ(y);v&&w?!x.shiftKey&&p===w?(x.preventDefault(),n&&wa(v,{select:!0})):x.shiftKey&&p===v&&(x.preventDefault(),n&&wa(w,{select:!0})):p===y&&x.preventDefault()}},[n,r,f.paused]);return s.jsx(Ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});$w.displayName=tQ;function sQ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wa(r,{select:t}),document.activeElement!==n)return}function nQ(e){const t=nM(e),n=x2(t,e),r=x2(t.reverse(),e);return[n,r]}function nM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function x2(e,t){for(const n of e)if(!rQ(n,{upTo:t}))return n}function rQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iQ(e){return e instanceof HTMLInputElement&&"select"in e}function wa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iQ(e)&&t&&e.select()}}var y2=aQ();function aQ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=v2(e,t),e.unshift(t)},remove(t){var n;e=v2(e,t),(n=e[0])==null||n.resume()}}}function v2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oQ(e){return e.filter(t=>t.tagName!=="A")}var $y=0;function rM(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b2()),document.body.insertAdjacentElement("beforeend",e[1]??b2()),$y++,()=>{$y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$y--}},[])}function b2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gi=function(){return gi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gi.apply(this,arguments)};function iM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function lQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Hp="right-scroll-bar-position",Wp="width-before-scroll-bar",cQ="with-scroll-bars-hidden",dQ="--removed-body-scroll-bar-size";function Uy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uQ(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var hQ=typeof window<"u"?b.useLayoutEffect:b.useEffect,j2=new WeakMap;function mQ(e,t){var n=uQ(null,function(r){return e.forEach(function(i){return Uy(i,r)})});return hQ(function(){var r=j2.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Uy(l,null)}),a.forEach(function(l){i.has(l)||Uy(l,o)})}j2.set(n,e)},[e]),n}function pQ(e){return e}function fQ(e,t){t===void 0&&(t=pQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function gQ(e){e===void 0&&(e={});var t=fQ(null);return t.options=gi({async:!0,ssr:!1},e),t}var aM=function(e){var t=e.sideCar,n=iM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,gi({},n))};aM.isSideCarExport=!0;function xQ(e,t){return e.useMedium(t),aM}var oM=gQ(),By=function(){},Nx=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:By,onWheelCapture:By,onTouchMoveCapture:By}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,m=e.sideCar,f=e.noIsolation,j=e.inert,x=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,y=e.gapMode,v=iM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,C=mQ([n,t]),N=gi(gi({},v),i);return b.createElement(b.Fragment,null,h&&b.createElement(w,{sideCar:oM,removeScrollBar:d,shards:u,noIsolation:f,inert:j,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:y}),o?b.cloneElement(b.Children.only(l),gi(gi({},N),{ref:C})):b.createElement(p,gi({},N,{className:c,ref:C}),l))});Nx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nx.classNames={fullWidth:Wp,zeroRight:Hp};var yQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yQ();return t&&e.setAttribute("nonce",t),e}function bQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vQ())&&(bQ(t,n),jQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NQ=function(){var e=wQ();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},lM=function(){var e=NQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},SQ={left:0,top:0,right:0,gap:0},zy=function(e){return parseInt(e||"",10)||0},CQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zy(n),zy(r),zy(i)]},kQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SQ;var t=CQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_Q=lM(),fc="data-scroll-locked",TQ=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Wp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Hp," .").concat(Hp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wp," .").concat(Wp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(dQ,": ").concat(l,`px;
  }
`)},w2=function(){var e=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(e)?e:0},PQ=function(){b.useEffect(function(){return document.body.setAttribute(fc,(w2()+1).toString()),function(){var e=w2()-1;e<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,e.toString())}},[])},EQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;PQ();var a=b.useMemo(function(){return kQ(i)},[i]);return b.createElement(_Q,{styles:TQ(a,!t,i,n?"":"!important")})},K0=!1;if(typeof window<"u")try{var rp=Object.defineProperty({},"passive",{get:function(){return K0=!0,!0}});window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,rp)}catch{K0=!1}var Dl=K0?{passive:!1}:!1,AQ=function(e){return e.tagName==="TEXTAREA"},cM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!AQ(e)&&n[t]==="visible")},DQ=function(e){return cM(e,"overflowY")},MQ=function(e){return cM(e,"overflowX")},N2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dM(e,r);if(i){var a=uM(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dM=function(e,t){return e==="v"?DQ(t):MQ(t)},uM=function(e,t){return e==="v"?IQ(t):RQ(t)},FQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},OQ=function(e,t,n,r,i){var a=FQ(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,h=o>0,u=0,m=0;do{var f=uM(e,l),j=f[0],x=f[1],g=f[2],p=x-g-a*j;(j||p)&&dM(e,l)&&(u+=p,m+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(u)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(d=!0),d},ip=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S2=function(e){return[e.deltaX,e.deltaY]},C2=function(e){return e&&"current"in e?e.current:e},LQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$Q=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UQ=0,Ml=[];function BQ(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(UQ++)[0],a=b.useState(lM)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=lQ([e.lockRef.current],(e.shards||[]).map(C2),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=ip(x),y=n.current,v="deltaX"in x?x.deltaX:y[0]-p[0],w="deltaY"in x?x.deltaY:y[1]-p[1],C,N=x.target,S=Math.abs(v)>Math.abs(w)?"h":"v";if("touches"in x&&S==="h"&&N.type==="range")return!1;var k=N2(S,N);if(!k)return!0;if(k?C=S:(C=S==="v"?"h":"v",k=N2(S,N)),!k)return!1;if(!r.current&&"changedTouches"in x&&(v||w)&&(r.current=C),!C)return!0;var T=r.current||C;return OQ(T,g,x,T==="h"?v:w,!0)},[]),c=b.useCallback(function(x){var g=x;if(!(!Ml.length||Ml[Ml.length-1]!==a)){var p="deltaY"in g?S2(g):ip(g),y=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&LQ(C.delta,p)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var v=(o.current.shards||[]).map(C2).filter(Boolean).filter(function(C){return C.contains(g.target)}),w=v.length>0?l(g,v[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),d=b.useCallback(function(x,g,p,y){var v={name:x,delta:g,target:p,should:y,shadowParent:zQ(p)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(w){return w!==v})},1)},[]),h=b.useCallback(function(x){n.current=ip(x),r.current=void 0},[]),u=b.useCallback(function(x){d(x.type,S2(x),x.target,l(x,e.lockRef.current))},[]),m=b.useCallback(function(x){d(x.type,ip(x),x.target,l(x,e.lockRef.current))},[]);b.useEffect(function(){return Ml.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Dl),document.addEventListener("touchmove",c,Dl),document.addEventListener("touchstart",h,Dl),function(){Ml=Ml.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Dl),document.removeEventListener("touchmove",c,Dl),document.removeEventListener("touchstart",h,Dl)}},[]);var f=e.removeScrollBar,j=e.inert;return b.createElement(b.Fragment,null,j?b.createElement(a,{styles:$Q(i)}):null,f?b.createElement(EQ,{gapMode:e.gapMode}):null)}function zQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VQ=xQ(oM,BQ);var Uw=b.forwardRef(function(e,t){return b.createElement(Nx,gi({},e,{ref:t,sideCar:VQ}))});Uw.classNames=Nx.classNames;var qQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Il=new WeakMap,ap=new WeakMap,op={},Vy=0,hM=function(e){return e&&(e.host||hM(e.parentNode))},HQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},WQ=function(e,t,n,r){var i=HQ(t,Array.isArray(e)?e:[e]);op[n]||(op[n]=new WeakMap);var a=op[n],o=[],l=new Set,c=new Set(i),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};i.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))h(m);else try{var f=m.getAttribute(r),j=f!==null&&f!=="false",x=(Il.get(m)||0)+1,g=(a.get(m)||0)+1;Il.set(m,x),a.set(m,g),o.push(m),x===1&&j&&ap.set(m,!0),g===1&&m.setAttribute(n,"true"),j||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return h(t),l.clear(),Vy++,function(){o.forEach(function(u){var m=Il.get(u)-1,f=a.get(u)-1;Il.set(u,m),a.set(u,f),m||(ap.has(u)||u.removeAttribute(r),ap.delete(u)),f||u.removeAttribute(n)}),Vy--,Vy||(Il=new WeakMap,Il=new WeakMap,ap=new WeakMap,op={})}},mM=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=qQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),WQ(r,i,n,"aria-hidden")):function(){return null}},Bw="Dialog",[pM,khe]=Fn(Bw),[GQ,Jr]=pM(Bw),fM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[d=!1,h]=_i({prop:r,defaultProp:i,onChange:a});return s.jsx(GQ,{scope:t,triggerRef:l,contentRef:c,contentId:ea(),titleId:ea(),descriptionId:ea(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(u=>!u),[h]),modal:o,children:n})};fM.displayName=Bw;var gM="DialogTrigger",xM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jr(gM,n),a=xt(t,i.triggerRef);return s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qw(i.open),...r,ref:a,onClick:Fe(e.onClick,i.onOpenToggle)})});xM.displayName=gM;var zw="DialogPortal",[KQ,yM]=pM(zw,{forceMount:void 0}),vM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Jr(zw,t);return s.jsx(KQ,{scope:t,forceMount:n,children:b.Children.map(r,o=>s.jsx(yr,{present:n||a.open,children:s.jsx(rx,{asChild:!0,container:i,children:o})}))})};vM.displayName=zw;var Gf="DialogOverlay",bM=b.forwardRef((e,t)=>{const n=yM(Gf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Jr(Gf,e.__scopeDialog);return a.modal?s.jsx(yr,{present:r||a.open,children:s.jsx(YQ,{...i,ref:t})}):null});bM.displayName=Gf;var QQ=od("DialogOverlay.RemoveScroll"),YQ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jr(Gf,n);return s.jsx(Uw,{as:QQ,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ve.div,{"data-state":qw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jl="DialogContent",jM=b.forwardRef((e,t)=>{const n=yM(jl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Jr(jl,e.__scopeDialog);return s.jsx(yr,{present:r||a.open,children:a.modal?s.jsx(XQ,{...i,ref:t}):s.jsx(ZQ,{...i,ref:t})})});jM.displayName=jl;var XQ=b.forwardRef((e,t)=>{const n=Jr(jl,e.__scopeDialog),r=b.useRef(null),i=xt(t,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return mM(a)},[]),s.jsx(wM,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,a=>a.preventDefault())})}),ZQ=b.forwardRef((e,t)=>{const n=Jr(jl,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return s.jsx(wM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),wM=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Jr(jl,n),c=b.useRef(null),d=xt(t,c);return rM(),s.jsxs(s.Fragment,{children:[s.jsx($w,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(hm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(JQ,{titleId:l.titleId}),s.jsx(tY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vw="DialogTitle",NM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jr(Vw,n);return s.jsx(Ve.h2,{id:i.titleId,...r,ref:t})});NM.displayName=Vw;var SM="DialogDescription",CM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jr(SM,n);return s.jsx(Ve.p,{id:i.descriptionId,...r,ref:t})});CM.displayName=SM;var kM="DialogClose",_M=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Jr(kM,n);return s.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,()=>i.onOpenChange(!1))})});_M.displayName=kM;function qw(e){return e?"open":"closed"}var TM="DialogTitleWarning",[_he,PM]=lU(TM,{contentName:jl,titleName:Vw,docsSlug:"dialog"}),JQ=({titleId:e})=>{const t=PM(TM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eY="DialogDescriptionWarning",tY=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PM(eY).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},sY=fM,nY=xM,rY=vM,EM=bM,AM=jM,DM=NM,MM=CM,iY=_M;const et=sY,pt=nY,aY=rY,IM=b.forwardRef(({className:e,...t},n)=>s.jsx(EM,{ref:n,className:Oe("fixed inset-0 z-40 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IM.displayName=EM.displayName;const Ye=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(aY,{children:[s.jsx(IM,{}),s.jsxs(AM,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(iY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ad,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=AM.displayName;const Xe=({className:e,...t})=>s.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xe.displayName="DialogHeader";const Q0=({className:e,...t})=>s.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Q0.displayName="DialogFooter";const Ze=b.forwardRef(({className:e,...t},n)=>s.jsx(DM,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Ze.displayName=DM.displayName;const es=b.forwardRef(({className:e,...t},n)=>s.jsx(MM,{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));es.displayName=MM.displayName;const lp=[{key:"mood-tracking",label:"Mood Check-in",description:"How are you feeling?",icon:hw,color:"purple",route:"/mood-tracking"},{key:"daily-tasks",label:"Daily Tasks",description:"Complete activities",icon:mw,color:"green",route:"/daily-tasks"},{key:"financial",label:"Bill Reminders",description:"Manage payments",icon:Ht,color:"blue",route:"/financial"},{key:"caregiver",label:"Contact Support",description:"Reach out for help",icon:ls,color:"orange",route:"/caregiver"},{key:"pharmacy",label:"Medications",description:"Manage prescriptions",icon:cw,color:"red",route:"/pharmacy"},{key:"medical",label:"Medical Info",description:"Health records",icon:TD,color:"pink",route:"/medical"},{key:"personal-documents",label:"Personal Documents",description:"Access important documents",icon:ol,color:"blue",route:"/personal-documents"},{key:"meal-shopping",label:"Meals & Shopping",description:"Plan and shop",icon:ll,color:"yellow",route:"/meal-shopping"},{key:"calendar",label:"Calendar",description:"View schedule",icon:Ht,color:"indigo",route:"/calendar"},{key:"resources",label:"Resources",description:"Helpful tools",icon:Hr,color:"teal",route:"/resources"},{key:"achievements",label:"Achievements",description:"View progress",icon:qt,color:"amber",route:"/rewards"},{key:"academic-planner",label:"Academic Planner",description:"Manage classes & assignments",icon:px,color:"purple",route:"/academic-planner"},{key:"task-builder",label:"Life Skills Guide",description:"Step-by-step task tutorials",icon:Hr,color:"emerald",route:"/task-builder"}],cp={purple:{bg:"from-purple-500 to-pink-500",border:"border-purple-200",hover:"hover:border-purple-400"},green:{bg:"from-green-500 to-emerald-500",border:"border-green-200",hover:"hover:border-green-400"},emerald:{bg:"from-emerald-500 to-green-500",border:"border-emerald-200",hover:"hover:border-emerald-400"},blue:{bg:"from-blue-500 to-cyan-500",border:"border-blue-200",hover:"hover:border-blue-400"},orange:{bg:"from-orange-500 to-red-500",border:"border-orange-200",hover:"hover:border-orange-400"},red:{bg:"from-red-500 to-rose-500",border:"border-red-200",hover:"hover:border-red-400"},pink:{bg:"from-pink-500 to-rose-500",border:"border-pink-200",hover:"hover:border-pink-400"},yellow:{bg:"from-yellow-500 to-orange-500",border:"border-yellow-200",hover:"hover:border-yellow-400"},indigo:{bg:"from-indigo-500 to-blue-500",border:"border-indigo-200",hover:"hover:border-indigo-400"},teal:{bg:"from-teal-500 to-cyan-500",border:"border-teal-200",hover:"hover:border-teal-400"},amber:{bg:"from-amber-500 to-orange-500",border:"border-amber-200",hover:"hover:border-amber-400"}};function oY(){var y;const{toast:e}=dt(),t=Yt(),[n,r]=b.useState(!1),[i,a]=b.useState([]),[o,l]=b.useState(!1),{data:c,isLoading:d}=xe({queryKey:["/api/user-preferences"],queryFn:()=>ye("GET","/api/user-preferences").then(v=>v.json())}),h=((y=c==null?void 0:c.themeSettings)==null?void 0:y.quickActions)||["mood-tracking","daily-tasks","financial","caregiver"],u=Ce({mutationFn:v=>ye("PUT","/api/user-preferences",{themeSettings:{...(c==null?void 0:c.themeSettings)||{},quickActions:v}}).then(w=>w.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user-preferences"]}),e({title:"Quick Actions Updated",description:"Your personalized quick actions have been saved."}),r(!1)},onError:v=>{console.error("Failed to update quick actions:",v),e({title:"Error",description:"Failed to update quick actions. Please try again.",variant:"destructive"})}}),m=v=>{if(!v.destination)return;const w=Array.from(i),[C]=w.splice(v.source.index,1);w.splice(v.destination.index,0,C),a(w)},f=v=>{if(console.log("Drag ended:",v),!v.destination){console.log("No destination - drag cancelled");return}const w=Array.from(h),[C]=w.splice(v.source.index,1);w.splice(v.destination.index,0,C),console.log("New quick actions order:",w),e({title:"Quick Actions Reordered",description:"Your new order has been saved."}),u.mutate(w)},j=v=>{!i.includes(v)&&i.length<6&&a([...i,v])},x=v=>{a(i.filter(w=>w!==v))},g=()=>{u.mutate(i)},p=()=>{a([...h]),r(!0)};return d?s.jsxs("div",{className:"mb-6 sm:mb-8 w-full",children:[s.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded animate-pulse mb-4 sm:mb-6"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 sm:gap-6",children:[1,2,3,4].map(v=>s.jsx("div",{className:"h-24 sm:h-32 bg-gray-200 rounded-2xl animate-pulse"},v))})]}):s.jsxs("div",{className:"mb-6 sm:mb-8 w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-gray-800 drop-shadow-sm",children:"Quick Actions"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsxs(E,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),className:`${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg"} transition-all`,children:[s.jsx(Du,{className:"w-4 h-4 mr-2"}),o?"Exit Reorder":"Reorder"]}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"outline",size:"sm",onClick:p,className:"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg transition-all",children:[s.jsx(mo,{className:"w-4 h-4 mr-2"}),"Customize"]})}),s.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Customize Your Quick Actions"}),s.jsx(es,{children:"Choose up to 6 features you use most often. Drag to reorder them."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3",children:["Your Quick Actions (",i.length,"/6)"]}),s.jsx(q0,{onDragEnd:m,children:s.jsx(G0,{droppableId:"selected-actions",direction:"horizontal",children:v=>s.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"grid grid-cols-2 md:grid-cols-3 gap-3 min-h-[100px] p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[i.map((w,C)=>{const N=lp.find(T=>T.key===w);if(!N)return null;const S=N.icon,k=cp[N.color];return s.jsx(H0,{draggableId:w,index:C,children:(T,D)=>s.jsxs("div",{ref:T.innerRef,...T.draggableProps,...T.dragHandleProps,className:`relative bg-white rounded-xl p-4 shadow-md border-2 ${k.border} ${D.isDragging?"shadow-xl scale-105":""} transition-all cursor-move`,children:[s.jsx(E,{variant:"ghost",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0 bg-red-500 text-white hover:bg-red-600 rounded-full",onClick:()=>x(w),children:s.jsx(Ad,{className:"w-3 h-3"})}),s.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${k.bg} rounded-lg flex items-center justify-center mb-2`,children:s.jsx(S,{className:"text-white",size:16})}),s.jsx("h5",{className:"font-medium text-sm",children:N.label}),s.jsx("p",{className:"text-xs text-gray-600",children:N.description})]})},w)}),v.placeholder,i.length===0&&s.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"Choose your favorite features from below"})]})})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Available Features"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:lp.map(v=>{const w=v.icon,C=cp[v.color],N=i.includes(v.key),S=i.length<6;return s.jsx(L,{className:`cursor-pointer transition-all ${N?"opacity-50 cursor-not-allowed":S?"hover:shadow-md hover:scale-105":"opacity-30 cursor-not-allowed"}`,onClick:()=>!N&&S&&j(v.key),children:s.jsxs(V,{className:"p-4 text-center",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${C.bg} rounded-lg flex items-center justify-center mb-2 mx-auto`,children:s.jsx(w,{className:"text-white",size:20})}),s.jsx("h5",{className:"font-medium text-sm mb-1",children:v.label}),s.jsx("p",{className:"text-xs text-gray-600",children:v.description}),N&&s.jsx(ue,{variant:"secondary",className:"mt-2 text-xs",children:"Added"})]})},v.key)})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(E,{onClick:g,disabled:i.length===0||u.isPending,className:"border-2 border-blue-500 shadow-md",children:u.isPending?"Saving...":"Save Changes"})]})]})]})]})]})]}),o&&s.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx(Du,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Quick Action Reorder Mode Active"}),s.jsx("p",{className:"text-blue-600 text-sm",children:"Drag any quick action button to reorder them"})]})]}),o?s.jsx(q0,{onDragEnd:f,children:s.jsx(G0,{droppableId:"main-quick-actions",children:(v,w)=>s.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:`grid grid-cols-2 sm:flex sm:flex-wrap gap-3 sm:gap-6 justify-center md:justify-start ${w.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4":"p-2"}`,children:[h.slice(0,6).map((C,N)=>{const S=lp.find(D=>D.key===C);if(!S)return null;const k=S.icon,T=cp[S.color];return s.jsx(H0,{draggableId:C,index:N,children:(D,P)=>{var M;return s.jsx("div",{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,className:`w-32 ${P.isDragging?"opacity-75 transform scale-110 shadow-2xl z-50":""} transition-all duration-200`,style:{...D.draggableProps.style,...P.isDragging&&{transform:`${(M=D.draggableProps.style)==null?void 0:M.transform} rotate(5deg)`}},children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"bg-blue-500 text-white rounded-full p-1 shadow-lg flex items-center gap-1 text-xs px-2",children:[s.jsx(Du,{className:"w-3 h-3"}),"Drag"]})}),s.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-2xl p-2 hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border-2 ${T.border} ${T.hover} hover:shadow-2xl transition-all duration-300 h-auto flex flex-col items-center space-y-3 w-full cursor-move`,children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${T.bg} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(k,{className:"text-white",size:28})}),s.jsxs("div",{className:"text-center px-1",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-xs leading-tight",children:S.label}),s.jsx("p",{className:"text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:S.description})]})]})})]})})}},C)}),v.placeholder]})})}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-6 w-full",children:h.slice(0,6).map(v=>{const w=lp.find(S=>S.key===v);if(!w)return null;const C=w.icon,N=cp[w.color];return s.jsx(Le,{href:w.route,className:"w-full",children:s.jsxs(E,{variant:"outline",className:`bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-xl border-2 ${N.border} ${N.hover} hover:shadow-2xl transition-all duration-300 h-auto flex-col space-y-2 sm:space-y-3 w-full min-h-[120px] sm:min-h-[140px]`,children:[s.jsx("div",{className:`w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br ${N.bg} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(C,{className:"text-white",size:20})}),s.jsxs("div",{className:"text-center px-1",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm leading-tight",children:w.label}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:w.description})]})]})},v)})})]})}var lY=b.createContext(void 0);function jm(e){const t=b.useContext(lY);return e||t||"ltr"}var qy="rovingFocusGroup.onEntryFocus",cY={bubbles:!1,cancelable:!0},Sx="RovingFocusGroup",[Y0,RM,dY]=cx(Sx),[uY,FM]=Fn(Sx,[dY]),[hY,mY]=uY(Sx),OM=b.forwardRef((e,t)=>s.jsx(Y0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Y0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(pY,{...e,ref:t})})}));OM.displayName=Sx;var pY=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,m=b.useRef(null),f=xt(t,m),j=jm(a),[x=null,g]=_i({prop:o,defaultProp:l,onChange:c}),[p,y]=b.useState(!1),v=ms(d),w=RM(n),C=b.useRef(!1),[N,S]=b.useState(0);return b.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(qy,v),()=>k.removeEventListener(qy,v)},[v]),s.jsx(hY,{scope:n,orientation:r,dir:j,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(k=>g(k),[g]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:b.useCallback(()=>S(k=>k-1),[]),children:s.jsx(Ve.div,{tabIndex:p||N===0?-1:0,"data-orientation":r,...u,ref:f,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{C.current=!0}),onFocus:Fe(e.onFocus,k=>{const T=!C.current;if(k.target===k.currentTarget&&T&&!p){const D=new CustomEvent(qy,cY);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const P=w().filter(re=>re.focusable),M=P.find(re=>re.active),X=P.find(re=>re.id===x),F=[M,X,...P].filter(Boolean).map(re=>re.ref.current);UM(F,h)}}C.current=!1}),onBlur:Fe(e.onBlur,()=>y(!1))})})}),LM="RovingFocusGroupItem",$M=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,l=ea(),c=a||l,d=mY(LM,n),h=d.currentTabStopId===c,u=RM(n),{onFocusableItemAdd:m,onFocusableItemRemove:f}=d;return b.useEffect(()=>{if(r)return m(),()=>f()},[r,m,f]),s.jsx(Y0.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:s.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Fe(e.onMouseDown,j=>{r?d.onItemFocus(c):j.preventDefault()}),onFocus:Fe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Fe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=xY(j,d.orientation,d.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let p=u().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const y=p.indexOf(j.currentTarget);p=d.loop?yY(p,y+1):p.slice(y+1)}setTimeout(()=>UM(p))}})})})});$M.displayName=LM;var fY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xY(e,t,n){const r=gY(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fY[r]}function UM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vY=OM,bY=$M,Hw="Tabs",[jY,The]=Fn(Hw,[FM]),BM=FM(),[wY,Ww]=jY(Hw),zM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=jm(l),[u,m]=_i({prop:r,onChange:i,defaultProp:a});return s.jsx(wY,{scope:n,baseId:ea(),value:u,onValueChange:m,orientation:o,dir:h,activationMode:c,children:s.jsx(Ve.div,{dir:h,"data-orientation":o,...d,ref:t})})});zM.displayName=Hw;var VM="TabsList",qM=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Ww(VM,n),o=BM(n);return s.jsx(vY,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});qM.displayName=VM;var HM="TabsTrigger",WM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Ww(HM,n),l=BM(n),c=QM(o.baseId,r),d=YM(o.baseId,r),h=r===o.value;return s.jsx(bY,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Fe(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:Fe(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:Fe(e.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!i&&u&&o.onValueChange(r)})})})});WM.displayName=HM;var GM="TabsContent",KM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=Ww(GM,n),c=QM(l.baseId,r),d=YM(l.baseId,r),h=r===l.value,u=b.useRef(h);return b.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(yr,{present:i||h,children:({present:m})=>s.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&a})})});KM.displayName=GM;function QM(e,t){return`${e}-trigger-${t}`}function YM(e,t){return`${e}-content-${t}`}var NY=zM,XM=qM,ZM=WM,JM=KM;const hn=NY,en=b.forwardRef(({className:e,...t},n)=>s.jsx(XM,{ref:n,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));en.displayName=XM.displayName;const $e=b.forwardRef(({className:e,...t},n)=>s.jsx(ZM,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$e.displayName=ZM.displayName;const Ue=b.forwardRef(({className:e,...t},n)=>s.jsx(JM,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ue.displayName=JM.displayName;function SY(){const{toast:e}=dt(),{data:t=[],isLoading:n}=xe({queryKey:["/api/daily-tasks"]}),r=Ce({mutationFn:async({taskId:u,isCompleted:m})=>ye("PATCH",`/api/daily-tasks/${u}/complete`,{isCompleted:m}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),e({title:"Task updated",description:"Task completion status has been updated."})}}),i=u=>{r.mutate({taskId:u.id,isCompleted:!u.isCompleted})},a=t.filter(u=>u.frequency==="daily"||!u.frequency),o=t.filter(u=>u.frequency==="weekly"),l=t.filter(u=>u.frequency==="monthly"),c=u=>{switch(u){case"daily":return"bg-blue-100 text-blue-700";case"weekly":return"bg-purple-100 text-purple-700";case"monthly":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},d=u=>{if(!u)return null;const m=typeof u=="string"?new Date(u):u,f=new Date,j=Math.ceil((m.getTime()-f.getTime())/(1e3*60*60*24));return j<0?"Overdue":j===0?"Due today":j===1?"Due tomorrow":`Due in ${j} days`},h=(u,m=!1)=>{const f=u.filter(x=>x.isCompleted),j=u.filter(x=>!x.isCompleted);return s.jsxs("div",{className:"space-y-4",children:[j.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[s.jsx(mc,{className:"w-4 h-4 text-orange-500"}),"To Do (",j.length,")"]}),s.jsx("div",{className:"space-y-2",children:j.slice(0,3).map(x=>s.jsx("div",{className:"bg-white/70 p-3 rounded-lg border border-white/50 hover:bg-white/90 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("button",{onClick:()=>i(x),className:"text-green-500 hover:text-green-600 transition-colors mt-0.5",disabled:r.isPending,children:s.jsx(mc,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-800 text-sm",children:x.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(ue,{variant:"secondary",className:`text-xs px-2 py-0 ${c(x.frequency||"daily")}`,children:x.frequency||"daily"}),s.jsx("span",{className:"text-xs px-2 py-0 bg-gray-100 text-gray-600 rounded",children:x.category}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(ws,{className:"w-3 h-3"}),x.estimatedMinutes,"min"]}),m&&x.dueDate&&s.jsxs("span",{className:"text-xs text-amber-600 flex items-center gap-1",children:[s.jsx(Ht,{className:"w-3 h-3"}),d(x.dueDate)]})]})]})]})})},x.id))})]}),f.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-green-500"}),"Completed (",f.length,")"]}),s.jsx("div",{className:"space-y-2",children:f.slice(0,2).map(x=>s.jsx("div",{className:"bg-green-50/50 p-3 rounded-lg border border-green-100",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("button",{onClick:()=>i(x),className:"text-green-600 hover:text-gray-400 transition-colors mt-0.5",disabled:r.isPending,children:s.jsx($t,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 line-through text-sm",children:x.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(ue,{variant:"secondary",className:`text-xs px-2 py-0 ${c(x.frequency||"daily")}`,children:x.frequency||"daily"}),x.completedAt&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Completed ",Ti(new Date(x.completedAt))]})]})]})]})},x.id))})]}),u.length===0&&s.jsx("div",{className:"text-center py-6 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No tasks in this category yet."})})]})};return n?s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(NS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx("div",{className:"h-16 bg-white/50 rounded-lg animate-pulse"},u))})]}):s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(NS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),s.jsx(Le,{href:"/daily-tasks",children:s.jsx(E,{variant:"outline",size:"sm",children:"View All"})})]}),s.jsxs(hn,{defaultValue:"daily",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs($e,{value:"daily",className:"flex items-center gap-2",children:[s.jsx(mc,{className:"w-4 h-4"}),"Daily (",a.length,")"]}),s.jsxs($e,{value:"weekly",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-4 h-4"}),"Weekly (",o.length,")"]}),s.jsxs($e,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Monthly (",l.length,")"]})]}),s.jsx(Ue,{value:"daily",className:"space-y-4",children:h(a)}),s.jsx(Ue,{value:"weekly",className:"space-y-4",children:h(o,!0)}),s.jsx(Ue,{value:"monthly",className:"space-y-4",children:h(l,!0)})]})]})}function CY(){const{data:e=[],isLoading:t}=xe({queryKey:["/api/bills"]}),{data:n=[],isLoading:r}=xe({queryKey:["/api/budget-entries"]}),i=e.filter(c=>!c.isPaid).sort((c,d)=>$p(c.dueDate)-$p(d.dueDate)).slice(0,1),a=n.filter(c=>c.type==="expense").reduce((c,d)=>c+d.amount,0),o=n.filter(c=>c.type==="income").reduce((c,d)=>c+d.amount,0),l=o>0?a/o*100:0;return t||r?s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"h-20 bg-gray-200 rounded"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-bright-blue rounded-lg flex items-center justify-center",children:s.jsx(U9,{className:"text-white",size:20})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Management"})]}),s.jsx("span",{className:"bg-bright-blue text-white px-3 py-1 rounded-full text-sm font-medium",children:"Level 2"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Monthly Budget"}),s.jsx("span",{className:"text-sm text-blue-600 font-medium",children:l<80?"On track":l<100?"Watch spending":"Over budget"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full ${l<80?"bg-bright-blue":l<100?"bg-sunny-orange":"bg-red-500"}`,style:{width:`${Math.min(l,100)}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[Fs(a)," of ",Fs(o)," used this month"]})]}),i.length>0&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-sunny-orange rounded-full flex items-center justify-center",children:s.jsx(ws,{className:"text-white",size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Upcoming Bills"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[i[0].name," due in ",$p(i[0].dueDate)," days - ",Fs(i[0].amount)]})]}),s.jsx(Le,{href:"/financial",children:s.jsx(E,{variant:"ghost",size:"sm",className:"text-sunny-orange hover:text-orange-600",children:s.jsx(dd,{size:16})})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Le,{href:"/financial",children:s.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[s.jsx(px,{className:"text-bright-blue",size:20}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Budgeting Lesson"})]})}),s.jsx(Le,{href:"/financial?action=add-expense",children:s.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[s.jsx(ct,{className:"text-bright-blue",size:20}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add Expense"})]})})]})]})]})}function kY(){const{toast:e}=dt(),{data:t}=xe({queryKey:["/api/mood-entries/today"]}),n=[{value:1,emoji:"",label:"Sad"},{value:2,emoji:"",label:"Okay"},{value:3,emoji:"",label:"Good"},{value:4,emoji:"",label:"Great"},{value:5,emoji:"",label:"Amazing"}],r=Ce({mutationFn:async l=>ye("POST","/api/mood-entries",{mood:l}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/mood-entries"]}),e({title:"Mood recorded!",description:"Thanks for checking in today!"})}}),i=!t,a=i?"border-red-400":"border-happy-purple",o=i?"bg-red-50":"bg-white";return s.jsxs("div",{className:`mt-8 ${o} rounded-2xl shadow-lg p-6 border-t-4 ${a} ${i?"ring-2 ring-red-200":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 ${i?"bg-red-500":"bg-happy-purple"} rounded-lg flex items-center justify-center ${i?"animate-pulse":""}`,children:s.jsx(lt,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["Mood & Wellbeing",i&&s.jsx("span",{className:"text-red-500 text-sm font-medium bg-red-100 px-2 py-1 rounded-full",children:"Required"})]}),i&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Daily mood check-in is required to continue"})]})]}),s.jsx(Le,{href:"/mood-tracking",children:s.jsx(E,{className:`${i?"bg-red-500 hover:bg-red-600":"bg-happy-purple hover:bg-happy-purple"} text-white ${i?"animate-bounce":""}`,children:i?"Required Check-in":"Check In Now"})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"How are you feeling today?"}),s.jsx("div",{className:"flex justify-between items-center space-x-2",children:n.map(l=>s.jsx(E,{variant:"outline",className:`flex-1 p-3 border-2 ${(t==null?void 0:t.mood)===l.value?"border-happy-purple bg-purple-50":"border-gray-200 hover:border-happy-purple"} transition-colors`,onClick:()=>r.mutate(l.value),disabled:r.isPending,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl mb-1",children:l.emoji}),s.jsx("p",{className:"text-xs text-gray-600",children:l.label})]})},l.value))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Resources"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Le,{href:"/resources",children:s.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[s.jsx(PD,{className:"text-happy-purple",size:16}),s.jsx("span",{className:"font-medium text-gray-900",children:"Breathing Exercise"})]})}),s.jsx(Le,{href:"/resources",children:s.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[s.jsx(Mu,{className:"text-happy-purple",size:16}),s.jsx("span",{className:"font-medium text-gray-900",children:"Coping Strategies"})]})}),s.jsx(Le,{href:"/resources",children:s.jsxs(E,{variant:"outline",className:"w-full bg-red-50 border-red-200 hover:bg-red-100 justify-start space-x-3",children:[s.jsx(bs,{className:"text-red-500",size:16}),s.jsx("span",{className:"font-medium text-gray-900",children:"Emergency Support"})]})})]})]})]})]})}function _Y(){xe({queryKey:["/api/achievements"]});const{data:e}=xe({queryKey:["/api/user"]}),{data:t=[]}=xe({queryKey:["/api/daily-tasks"]}),n=t.filter(l=>l.isCompleted).length,r=5,i=Math.min(n,r),a=i/r*100,o=[{title:`${(e==null?void 0:e.streakDays)||0}-Day Streak!`,description:"Daily check-ins completed",icon:b9,gradient:"from-sunny-orange to-yellow-400"},{title:"Task Master",description:"50 tasks completed",icon:qt,gradient:"from-vibrant-green to-emerald-400"},{title:"Budget Pro",description:"Financial lesson completed",icon:px,gradient:"from-bright-blue to-blue-400"}];return s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-sunny-orange",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-lg flex items-center justify-center",children:s.jsx(po,{className:"text-white",size:20})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements & Progress"})]}),s.jsx(E,{variant:"ghost",className:"text-sunny-orange hover:text-orange-600 font-medium",children:"View All"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.map((l,c)=>{const d=l.icon;return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${l.gradient} rounded-full flex items-center justify-center mx-auto mb-3`,children:s.jsx(d,{className:"text-white",size:24})}),s.jsx("h4",{className:"font-bold text-gray-900",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600",children:l.description})]},c)})}),s.jsxs("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Weekly Goal Progress"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Complete ",r," daily routines"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold text-sunny-orange",children:[i,"/",r]}),s.jsx("p",{className:"text-xs text-gray-600",children:i===r?"Complete!":"Almost there!"})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:s.jsx("div",{className:"bg-sunny-orange h-2 rounded-full transition-all duration-300",style:{width:`${a}%`}})})]})]})}function TY(){const{data:e=[]}=xe({queryKey:["/api/caregivers"]}),{data:t=[]}=xe({queryKey:["/api/messages"]}),n=t.sort((r,i)=>new Date(i.sentAt).getTime()-new Date(r.sentAt).getTime()).slice(0,2);return s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-calm-teal",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-lg flex items-center justify-center",children:s.jsx(cl,{className:"text-white",size:20})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Support Network"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",children:[s.jsx(_D,{size:16,className:"mr-2"}),"Share Progress"]}),s.jsx(Le,{href:"/caregiver",children:s.jsx(E,{variant:"outline",className:"border-calm-teal text-calm-teal hover:bg-teal-50",children:"Request Help"})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Connected Caregivers"}),s.jsx("div",{className:"space-y-3",children:e.map(r=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:r.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:r.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.relationship==="therapist"?"Next session: Tomorrow 2 PM":"Last active: 2 hours ago"})]}),s.jsx(Le,{href:"/caregiver",children:s.jsx(E,{variant:"ghost",size:"sm",className:"text-calm-teal hover:text-teal-600",children:s.jsx(If,{size:16})})})]},r.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Messages"}),s.jsx("div",{className:"space-y-3",children:n.map(r=>{const i=e.find(a=>a.id===r.caregiverId);return s.jsxs("div",{className:`border rounded-lg p-3 ${r.fromUser?"bg-blue-50 border-blue-200":"bg-teal-50 border-teal-200"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:r.fromUser?"You":i==null?void 0:i.name}),s.jsx("span",{className:"text-xs text-gray-500",children:Ti(new Date(r.sentAt))})]}),s.jsx("p",{className:"text-sm text-gray-700",children:r.content})]},r.id)})}),s.jsx(Le,{href:"/caregiver",children:s.jsx(E,{variant:"outline",className:"w-full mt-4 border-calm-teal text-calm-teal hover:bg-teal-50",children:"View All Messages"})})]})]})]})}var wm=e=>e.type==="checkbox",$o=e=>e instanceof Date,wn=e=>e==null;const eI=e=>typeof e=="object";var js=e=>!wn(e)&&!Array.isArray(e)&&eI(e)&&!$o(e),tI=e=>js(e)&&e.target?wm(e.target)?e.target.checked:e.target.value:e,PY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sI=(e,t)=>e.has(PY(t)),EY=e=>{const t=e.constructor&&e.constructor.prototype;return js(t)&&t.hasOwnProperty("isPrototypeOf")},Gw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gs(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Gw&&(e instanceof Blob||r))&&(n||js(e)))if(t=n?[]:{},!n&&!EY(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Gs(e[i]));else return e;return t}var Cx=e=>Array.isArray(e)?e.filter(Boolean):[],gs=e=>e===void 0,Pe=(e,t,n)=>{if(!t||!js(e))return n;const r=Cx(t.split(/[,[\].]+?/)).reduce((i,a)=>wn(i)?i:i[a],e);return gs(r)||r===e?gs(e[t])?n:e[t]:r},Vn=e=>typeof e=="boolean",Kw=e=>/^\w*$/.test(e),nI=e=>Cx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(e,t,n)=>{let r=-1;const i=Kw(t)?[t]:nI(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=e[l];c=js(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Kf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rI=me.createContext(null),kx=()=>me.useContext(rI),AY=e=>{const{children:t,...n}=e;return me.createElement(rI.Provider,{value:n},t)};var iI=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Or.all&&(t._proxyFormState[o]=!r||Or.all),n&&(n[o]=!0),e[o]}});return i};function DY(e){const t=kx(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=me.useState(n._formState),c=me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=me.useRef(i);return d.current=i,me.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,a]),me.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),me.useMemo(()=>iI(o,n,c.current,!1),[o,n])}var yi=e=>typeof e=="string",aI=(e,t,n,r,i)=>yi(e)?(r&&t.watch.add(e),Pe(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Pe(n,a))):(r&&(t.watchAll=!0),n);function MY(e){const t=kx(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},l=me.useRef(r),c=me.useRef(i);l.current=r,me.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:u=>!a&&h(aI(l.current,n._names,u.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,h]=me.useState(n._getWatch(r,i));return me.useEffect(()=>n._removeUnmounted()),d}function IY(e){const t=kx(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=sI(i._names.array,n),l=MY({control:i,name:n,defaultValue:Pe(i._formValues,n,Pe(i._defaultValues,n,e.defaultValue)),exact:!0}),c=DY({control:i,name:n,exact:!0}),d=me.useRef(e),h=me.useRef(i.register(n,{...e.rules,value:l,...Vn(e.disabled)?{disabled:e.disabled}:{}})),u=me.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(c.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(c.errors,n)}}),[c,n]),m=me.useCallback(g=>h.current.onChange({target:{value:tI(g),name:n},type:Kf.CHANGE}),[n]),f=me.useCallback(()=>h.current.onBlur({target:{value:Pe(i._formValues,n),name:n},type:Kf.BLUR}),[n,i._formValues]),j=me.useCallback(g=>{const p=Pe(i._fields,n);p&&g&&(p._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:y=>g.setCustomValidity(y),reportValidity:()=>g.reportValidity()})},[i._fields,n]),x=me.useMemo(()=>({name:n,value:l,...Vn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:f,ref:j}),[n,r,c.disabled,m,f,j,l]);return me.useEffect(()=>{const g=i._options.shouldUnregister||a;i.register(n,{...d.current.rules,...Vn(d.current.disabled)?{disabled:d.current.disabled}:{}});const p=(y,v)=>{const w=Pe(i._fields,y);w&&w._f&&(w._f.mount=v)};if(p(n,!0),g){const y=Gs(Pe(i._options.defaultValues,n));At(i._defaultValues,n,y),gs(Pe(i._formValues,n))&&At(i._formValues,n,y)}return!o&&i.register(n),()=>{(o?g&&!i._state.action:g)?i.unregister(n):p(n,!1)}},[n,i,o,a]),me.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),me.useMemo(()=>({field:x,formState:c,fieldState:u}),[x,c,u])}const RY=e=>e.render(IY(e));var oI=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Fu=e=>Array.isArray(e)?e:[e],k2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},X0=e=>wn(e)||!eI(e);function Ea(e,t){if(X0(e)||X0(t))return e===t;if($o(e)&&$o(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if($o(a)&&$o(o)||js(a)&&js(o)||Array.isArray(a)&&Array.isArray(o)?!Ea(a,o):a!==o)return!1}}return!0}var bn=e=>js(e)&&!Object.keys(e).length,Qw=e=>e.type==="file",Lr=e=>typeof e=="function",Qf=e=>{if(!Gw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lI=e=>e.type==="select-multiple",Yw=e=>e.type==="radio",FY=e=>Yw(e)||wm(e),Hy=e=>Qf(e)&&e.isConnected;function OY(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=gs(e)?r++:e[t[r++]];return e}function LY(e){for(const t in e)if(e.hasOwnProperty(t)&&!gs(e[t]))return!1;return!0}function Ps(e,t){const n=Array.isArray(t)?t:Kw(t)?[t]:nI(t),r=n.length===1?e:OY(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(js(r)&&bn(r)||Array.isArray(r)&&LY(r))&&Ps(e,n.slice(0,-1)),e}var cI=e=>{for(const t in e)if(Lr(e[t]))return!0;return!1};function Yf(e,t={}){const n=Array.isArray(e);if(js(e)||n)for(const r in e)Array.isArray(e[r])||js(e[r])&&!cI(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Yf(e[r],t[r])):wn(e[r])||(t[r]=!0);return t}function dI(e,t,n){const r=Array.isArray(e);if(js(e)||r)for(const i in e)Array.isArray(e[i])||js(e[i])&&!cI(e[i])?gs(t)||X0(n[i])?n[i]=Array.isArray(e[i])?Yf(e[i],[]):{...Yf(e[i])}:dI(e[i],wn(t)?{}:t[i],n[i]):n[i]=!Ea(e[i],t[i]);return n}var eu=(e,t)=>dI(e,t,Yf(t));const _2={value:!1,isValid:!1},T2={value:!0,isValid:!0};var uI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gs(e[0].attributes.value)?gs(e[0].value)||e[0].value===""?T2:{value:e[0].value,isValid:!0}:T2:_2}return _2},hI=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>gs(e)?e:t?e===""?NaN:e&&+e:n&&yi(e)?new Date(e):r?r(e):e;const P2={isValid:!1,value:null};var mI=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,P2):P2;function E2(e){const t=e.ref;return Qw(t)?t.files:Yw(t)?mI(e.refs).value:lI(t)?[...t.selectedOptions].map(({value:n})=>n):wm(t)?uI(e.refs).value:hI(gs(t.value)?e.ref.value:t.value,e)}var $Y=(e,t,n,r)=>{const i={};for(const a of e){const o=Pe(t,a);o&&At(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Xf=e=>e instanceof RegExp,tu=e=>gs(e)?e:Xf(e)?e.source:js(e)?Xf(e.value)?e.value.source:e.value:e,A2=e=>({isOnSubmit:!e||e===Or.onSubmit,isOnBlur:e===Or.onBlur,isOnChange:e===Or.onChange,isOnAll:e===Or.all,isOnTouch:e===Or.onTouched});const D2="AsyncFunction";var UY=e=>!!e&&!!e.validate&&!!(Lr(e.validate)&&e.validate.constructor.name===D2||js(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===D2)),BY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),M2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ou=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=Pe(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Ou(l,t))break}else if(js(l)&&Ou(l,t))break}}};function I2(e,t,n){const r=Pe(e,n);if(r||Kw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Pe(t,a),l=Pe(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var zY=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return bn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Or.all))},VY=(e,t,n)=>!e||!t||e===t||Fu(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),qY=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,HY=(e,t)=>!Cx(Pe(e,t)).length&&Ps(e,t),WY=(e,t,n)=>{const r=Fu(Pe(e,n));return At(r,"root",t[n]),At(e,n,r),e},Gp=e=>yi(e);function R2(e,t,n="validate"){if(Gp(e)||Array.isArray(e)&&e.every(Gp)||Vn(e)&&!e)return{type:n,message:Gp(e)?e:"",ref:t}}var Rl=e=>js(e)&&!Xf(e)?e:{value:e,message:""},F2=async(e,t,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:u,max:m,pattern:f,validate:j,name:x,valueAsNumber:g,mount:p}=e._f,y=Pe(n,x);if(!p||t.has(x))return{};const v=l?l[0]:o,w=M=>{i&&v.reportValidity&&(v.setCustomValidity(Vn(M)?"":M||""),v.reportValidity())},C={},N=Yw(o),S=wm(o),k=N||S,T=(g||Qw(o))&&gs(o.value)&&gs(y)||Qf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,D=oI.bind(null,x,r,C),P=(M,X,ee,F=$i.maxLength,re=$i.minLength)=>{const fe=M?X:ee;C[x]={type:M?F:re,message:fe,ref:o,...D(M?F:re,fe)}};if(a?!Array.isArray(y)||!y.length:c&&(!k&&(T||wn(y))||Vn(y)&&!y||S&&!uI(l).isValid||N&&!mI(l).isValid)){const{value:M,message:X}=Gp(c)?{value:!!c,message:c}:Rl(c);if(M&&(C[x]={type:$i.required,message:X,ref:v,...D($i.required,X)},!r))return w(X),C}if(!T&&(!wn(u)||!wn(m))){let M,X;const ee=Rl(m),F=Rl(u);if(!wn(y)&&!isNaN(y)){const re=o.valueAsNumber||y&&+y;wn(ee.value)||(M=re>ee.value),wn(F.value)||(X=re<F.value)}else{const re=o.valueAsDate||new Date(y),fe=oe=>new Date(new Date().toDateString()+" "+oe),H=o.type=="time",$=o.type=="week";yi(ee.value)&&y&&(M=H?fe(y)>fe(ee.value):$?y>ee.value:re>new Date(ee.value)),yi(F.value)&&y&&(X=H?fe(y)<fe(F.value):$?y<F.value:re<new Date(F.value))}if((M||X)&&(P(!!M,ee.message,F.message,$i.max,$i.min),!r))return w(C[x].message),C}if((d||h)&&!T&&(yi(y)||a&&Array.isArray(y))){const M=Rl(d),X=Rl(h),ee=!wn(M.value)&&y.length>+M.value,F=!wn(X.value)&&y.length<+X.value;if((ee||F)&&(P(ee,M.message,X.message),!r))return w(C[x].message),C}if(f&&!T&&yi(y)){const{value:M,message:X}=Rl(f);if(Xf(M)&&!y.match(M)&&(C[x]={type:$i.pattern,message:X,ref:o,...D($i.pattern,X)},!r))return w(X),C}if(j){if(Lr(j)){const M=await j(y,n),X=R2(M,v);if(X&&(C[x]={...X,...D($i.validate,X.message)},!r))return w(X.message),C}else if(js(j)){let M={};for(const X in j){if(!bn(M)&&!r)break;const ee=R2(await j[X](y,n),v,X);ee&&(M={...ee,...D(X,ee.message)},w(ee.message),r&&(C[x]=M))}if(!bn(M)&&(C[x]={ref:v,...M},!r))return C}}return w(!0),C};const GY={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function KY(e={}){let t={...GY,...e},n={submitCount:0,isDirty:!1,isLoading:Lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=js(t.defaultValues)||js(t.values)?Gs(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Gs(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...h};const m={array:k2(),state:k2()},f=A2(t.mode),j=A2(t.reValidateMode),x=t.criteriaMode===Or.all,g=U=>G=>{clearTimeout(d),d=setTimeout(U,G)},p=async U=>{if(!t.disabled&&(h.isValid||u.isValid||U)){const G=t.resolver?bn((await T()).errors):await P(r,!0);G!==n.isValid&&m.state.next({isValid:G})}},y=(U,G)=>{!t.disabled&&(h.isValidating||h.validatingFields||u.isValidating||u.validatingFields)&&((U||Array.from(l.mount)).forEach(ie=>{ie&&(G?At(n.validatingFields,ie,G):Ps(n.validatingFields,ie))}),m.state.next({validatingFields:n.validatingFields,isValidating:!bn(n.validatingFields)}))},v=(U,G=[],ie,De,Te=!0,ve=!0)=>{if(De&&ie&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Pe(r,U))){const Ie=ie(Pe(r,U),De.argA,De.argB);Te&&At(r,U,Ie)}if(ve&&Array.isArray(Pe(n.errors,U))){const Ie=ie(Pe(n.errors,U),De.argA,De.argB);Te&&At(n.errors,U,Ie),HY(n.errors,U)}if((h.touchedFields||u.touchedFields)&&ve&&Array.isArray(Pe(n.touchedFields,U))){const Ie=ie(Pe(n.touchedFields,U),De.argA,De.argB);Te&&At(n.touchedFields,U,Ie)}(h.dirtyFields||u.dirtyFields)&&(n.dirtyFields=eu(i,a)),m.state.next({name:U,isDirty:X(U,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else At(a,U,G)},w=(U,G)=>{At(n.errors,U,G),m.state.next({errors:n.errors})},C=U=>{n.errors=U,m.state.next({errors:n.errors,isValid:!1})},N=(U,G,ie,De)=>{const Te=Pe(r,U);if(Te){const ve=Pe(a,U,gs(ie)?Pe(i,U):ie);gs(ve)||De&&De.defaultChecked||G?At(a,U,G?ve:E2(Te._f)):re(U,ve),o.mount&&p()}},S=(U,G,ie,De,Te)=>{let ve=!1,Ie=!1;const O={name:U};if(!t.disabled){if(!ie||De){(h.isDirty||u.isDirty)&&(Ie=n.isDirty,n.isDirty=O.isDirty=X(),ve=Ie!==O.isDirty);const it=Ea(Pe(i,U),G);Ie=!!Pe(n.dirtyFields,U),it?Ps(n.dirtyFields,U):At(n.dirtyFields,U,!0),O.dirtyFields=n.dirtyFields,ve=ve||(h.dirtyFields||u.dirtyFields)&&Ie!==!it}if(ie){const it=Pe(n.touchedFields,U);it||(At(n.touchedFields,U,ie),O.touchedFields=n.touchedFields,ve=ve||(h.touchedFields||u.touchedFields)&&it!==ie)}ve&&Te&&m.state.next(O)}return ve?O:{}},k=(U,G,ie,De)=>{const Te=Pe(n.errors,U),ve=(h.isValid||u.isValid)&&Vn(G)&&n.isValid!==G;if(t.delayError&&ie?(c=g(()=>w(U,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?At(n.errors,U,ie):Ps(n.errors,U)),(ie?!Ea(Te,ie):Te)||!bn(De)||ve){const Ie={...De,...ve&&Vn(G)?{isValid:G}:{},errors:n.errors,name:U};n={...n,...Ie},m.state.next(Ie)}},T=async U=>{y(U,!0);const G=await t.resolver(a,t.context,$Y(U||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(U),G},D=async U=>{const{errors:G}=await T(U);if(U)for(const ie of U){const De=Pe(G,ie);De?At(n.errors,ie,De):Ps(n.errors,ie)}else n.errors=G;return G},P=async(U,G,ie={valid:!0})=>{for(const De in U){const Te=U[De];if(Te){const{_f:ve,...Ie}=Te;if(ve){const O=l.array.has(ve.name),it=Te._f&&UY(Te._f);it&&h.validatingFields&&y([De],!0);const Tt=await F2(Te,l.disabled,a,x,t.shouldUseNativeValidation&&!G,O);if(it&&h.validatingFields&&y([De]),Tt[ve.name]&&(ie.valid=!1,G))break;!G&&(Pe(Tt,ve.name)?O?WY(n.errors,Tt,ve.name):At(n.errors,ve.name,Tt[ve.name]):Ps(n.errors,ve.name))}!bn(Ie)&&await P(Ie,G,ie)}}return ie.valid},M=()=>{for(const U of l.unMount){const G=Pe(r,U);G&&(G._f.refs?G._f.refs.every(ie=>!Hy(ie)):!Hy(G._f.ref))&&Et(U)}l.unMount=new Set},X=(U,G)=>!t.disabled&&(U&&G&&At(a,U,G),!Ea(st(),i)),ee=(U,G,ie)=>aI(U,l,{...o.mount?a:gs(G)?i:yi(U)?{[U]:G}:G},ie,G),F=U=>Cx(Pe(o.mount?a:i,U,t.shouldUnregister?Pe(i,U,[]):[])),re=(U,G,ie={})=>{const De=Pe(r,U);let Te=G;if(De){const ve=De._f;ve&&(!ve.disabled&&At(a,U,hI(G,ve)),Te=Qf(ve.ref)&&wn(G)?"":G,lI(ve.ref)?[...ve.ref.options].forEach(Ie=>Ie.selected=Te.includes(Ie.value)):ve.refs?wm(ve.ref)?ve.refs.length>1?ve.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Te)?!!Te.find(O=>O===Ie.value):Te===Ie.value)):ve.refs[0]&&(ve.refs[0].checked=!!Te):ve.refs.forEach(Ie=>Ie.checked=Ie.value===Te):Qw(ve.ref)?ve.ref.value="":(ve.ref.value=Te,ve.ref.type||m.state.next({name:U,values:Gs(a)})))}(ie.shouldDirty||ie.shouldTouch)&&S(U,Te,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&be(U)},fe=(U,G,ie)=>{for(const De in G){const Te=G[De],ve=`${U}.${De}`,Ie=Pe(r,ve);(l.array.has(U)||js(Te)||Ie&&!Ie._f)&&!$o(Te)?fe(ve,Te,ie):re(ve,Te,ie)}},H=(U,G,ie={})=>{const De=Pe(r,U),Te=l.array.has(U),ve=Gs(G);At(a,U,ve),Te?(m.array.next({name:U,values:Gs(a)}),(h.isDirty||h.dirtyFields||u.isDirty||u.dirtyFields)&&ie.shouldDirty&&m.state.next({name:U,dirtyFields:eu(i,a),isDirty:X(U,ve)})):De&&!De._f&&!wn(ve)?fe(U,ve,ie):re(U,ve,ie),M2(U,l)&&m.state.next({...n}),m.state.next({name:o.mount?U:void 0,values:Gs(a)})},$=async U=>{o.mount=!0;const G=U.target;let ie=G.name,De=!0;const Te=Pe(r,ie),ve=Ie=>{De=Number.isNaN(Ie)||$o(Ie)&&isNaN(Ie.getTime())||Ea(Ie,Pe(a,ie,Ie))};if(Te){let Ie,O;const it=G.type?E2(Te._f):tI(U),Tt=U.type===Kf.BLUR||U.type===Kf.FOCUS_OUT,Ud=!BY(Te._f)&&!t.resolver&&!Pe(n.errors,ie)&&!Te._f.deps||qY(Tt,Pe(n.touchedFields,ie),n.isSubmitted,j,f),_n=M2(ie,l,Tt);At(a,ie,it),Tt?(Te._f.onBlur&&Te._f.onBlur(U),c&&c(0)):Te._f.onChange&&Te._f.onChange(U);const Ux=S(ie,it,Tt),t8=!bn(Ux)||_n;if(!Tt&&m.state.next({name:ie,type:U.type,values:Gs(a)}),Ud)return(h.isValid||u.isValid)&&(t.mode==="onBlur"?Tt&&p():Tt||p()),t8&&m.state.next({name:ie,..._n?{}:Ux});if(!Tt&&_n&&m.state.next({...n}),t.resolver){const{errors:MN}=await T([ie]);if(ve(it),De){const s8=I2(n.errors,r,ie),IN=I2(MN,r,s8.name||ie);Ie=IN.error,ie=IN.name,O=bn(MN)}}else y([ie],!0),Ie=(await F2(Te,l.disabled,a,x,t.shouldUseNativeValidation))[ie],y([ie]),ve(it),De&&(Ie?O=!1:(h.isValid||u.isValid)&&(O=await P(r,!0)));De&&(Te._f.deps&&be(Te._f.deps),k(ie,O,Ie,Ux))}},oe=(U,G)=>{if(Pe(n.errors,G)&&U.focus)return U.focus(),1},be=async(U,G={})=>{let ie,De;const Te=Fu(U);if(t.resolver){const ve=await D(gs(U)?U:Te);ie=bn(ve),De=U?!Te.some(Ie=>Pe(ve,Ie)):ie}else U?(De=(await Promise.all(Te.map(async ve=>{const Ie=Pe(r,ve);return await P(Ie&&Ie._f?{[ve]:Ie}:Ie)}))).every(Boolean),!(!De&&!n.isValid)&&p()):De=ie=await P(r);return m.state.next({...!yi(U)||(h.isValid||u.isValid)&&ie!==n.isValid?{}:{name:U},...t.resolver||!U?{isValid:ie}:{},errors:n.errors}),G.shouldFocus&&!De&&Ou(r,oe,U?Te:l.mount),De},st=U=>{const G={...o.mount?a:i};return gs(U)?G:yi(U)?Pe(G,U):U.map(ie=>Pe(G,ie))},_t=(U,G)=>({invalid:!!Pe((G||n).errors,U),isDirty:!!Pe((G||n).dirtyFields,U),error:Pe((G||n).errors,U),isValidating:!!Pe(n.validatingFields,U),isTouched:!!Pe((G||n).touchedFields,U)}),Ft=U=>{U&&Fu(U).forEach(G=>Ps(n.errors,G)),m.state.next({errors:U?n.errors:{}})},ps=(U,G,ie)=>{const De=(Pe(r,U,{_f:{}})._f||{}).ref,Te=Pe(n.errors,U)||{},{ref:ve,message:Ie,type:O,...it}=Te;At(n.errors,U,{...it,...G,ref:De}),m.state.next({name:U,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&De&&De.focus&&De.focus()},Xt=(U,G)=>Lr(U)?m.state.subscribe({next:ie=>U(ee(void 0,G),ie)}):ee(U,G,!0),Be=U=>m.state.subscribe({next:G=>{VY(U.name,G.name,U.exact)&&zY(G,U.formState||h,fa,U.reRenderRoot)&&U.callback({values:{...a},...n,...G})}}).unsubscribe,yt=U=>(o.mount=!0,u={...u,...U.formState},Be({...U,formState:u})),Et=(U,G={})=>{for(const ie of U?Fu(U):l.mount)l.mount.delete(ie),l.array.delete(ie),G.keepValue||(Ps(r,ie),Ps(a,ie)),!G.keepError&&Ps(n.errors,ie),!G.keepDirty&&Ps(n.dirtyFields,ie),!G.keepTouched&&Ps(n.touchedFields,ie),!G.keepIsValidating&&Ps(n.validatingFields,ie),!t.shouldUnregister&&!G.keepDefaultValue&&Ps(i,ie);m.state.next({values:Gs(a)}),m.state.next({...n,...G.keepDirty?{isDirty:X()}:{}}),!G.keepIsValid&&p()},vt=({disabled:U,name:G})=>{(Vn(U)&&o.mount||U||l.disabled.has(G))&&(U?l.disabled.add(G):l.disabled.delete(G))},bt=(U,G={})=>{let ie=Pe(r,U);const De=Vn(G.disabled)||Vn(t.disabled);return At(r,U,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:U}},name:U,mount:!0,...G}}),l.mount.add(U),ie?vt({disabled:Vn(G.disabled)?G.disabled:t.disabled,name:U}):N(U,!0,G.value),{...De?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:tu(G.min),max:tu(G.max),minLength:tu(G.minLength),maxLength:tu(G.maxLength),pattern:tu(G.pattern)}:{},name:U,onChange:$,onBlur:$,ref:Te=>{if(Te){bt(U,G),ie=Pe(r,U);const ve=gs(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ie=FY(ve),O=ie._f.refs||[];if(Ie?O.find(it=>it===ve):ve===ie._f.ref)return;At(r,U,{_f:{...ie._f,...Ie?{refs:[...O.filter(Hy),ve,...Array.isArray(Pe(i,U))?[{}]:[]],ref:{type:ve.type,name:U}}:{ref:ve}}}),N(U,!1,void 0,ve)}else ie=Pe(r,U,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(sI(l.array,U)&&o.action)&&l.unMount.add(U)}}},rt=()=>t.shouldFocusError&&Ou(r,oe,l.mount),ts=U=>{Vn(U)&&(m.state.next({disabled:U}),Ou(r,(G,ie)=>{const De=Pe(r,ie);De&&(G.disabled=De._f.disabled||U,Array.isArray(De._f.refs)&&De._f.refs.forEach(Te=>{Te.disabled=De._f.disabled||U}))},0,!1))},mn=(U,G)=>async ie=>{let De;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let Te=Gs(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:Ie}=await T();n.errors=ve,Te=Ie}else await P(r);if(l.disabled.size)for(const ve of l.disabled)At(Te,ve,void 0);if(Ps(n.errors,"root"),bn(n.errors)){m.state.next({errors:{}});try{await U(Te,ie)}catch(ve){De=ve}}else G&&await G({...n.errors},ie),rt(),setTimeout(rt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},Oi=(U,G={})=>{Pe(r,U)&&(gs(G.defaultValue)?H(U,Gs(Pe(i,U))):(H(U,G.defaultValue),At(i,U,Gs(G.defaultValue))),G.keepTouched||Ps(n.touchedFields,U),G.keepDirty||(Ps(n.dirtyFields,U),n.isDirty=G.defaultValue?X(U,Gs(Pe(i,U))):X()),G.keepError||(Ps(n.errors,U),h.isValid&&p()),m.state.next({...n}))},ei=(U,G={})=>{const ie=U?Gs(U):i,De=Gs(ie),Te=bn(U),ve=Te?i:De;if(G.keepDefaultValues||(i=ie),!G.keepValues){if(G.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(eu(i,a))]);for(const O of Array.from(Ie))Pe(n.dirtyFields,O)?At(ve,O,Pe(a,O)):H(O,Pe(ve,O))}else{if(Gw&&gs(U))for(const Ie of l.mount){const O=Pe(r,Ie);if(O&&O._f){const it=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Qf(it)){const Tt=it.closest("form");if(Tt){Tt.reset();break}}}}for(const Ie of l.mount)H(Ie,Pe(ve,Ie))}a=Gs(ve),m.array.next({values:{...ve}}),m.state.next({values:{...ve}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!Ea(U,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:G.keepDirtyValues?G.keepDefaultValues&&a?eu(i,a):n.dirtyFields:G.keepDefaultValues&&U?eu(i,U):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ti=(U,G)=>ei(Lr(U)?U(a):U,G),$d=(U,G={})=>{const ie=Pe(r,U),De=ie&&ie._f;if(De){const Te=De.refs?De.refs[0]:De.ref;Te.focus&&(Te.focus(),G.shouldSelect&&Lr(Te.select)&&Te.select())}},fa=U=>{n={...n,...U}},Em={control:{register:bt,unregister:Et,getFieldState:_t,handleSubmit:mn,setError:ps,_subscribe:Be,_runSchema:T,_getWatch:ee,_getDirty:X,_setValid:p,_setFieldArray:v,_setDisabledField:vt,_setErrors:C,_getFieldArray:F,_reset:ei,_resetDefaultValues:()=>Lr(t.defaultValues)&&t.defaultValues().then(U=>{ti(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:ts,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return l},set _names(U){l=U},get _formState(){return n},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:yt,trigger:be,register:bt,handleSubmit:mn,watch:Xt,setValue:H,getValues:st,reset:ti,resetField:Oi,clearErrors:Ft,unregister:Et,setError:ps,setFocus:$d,getFieldState:_t};return{...Em,formControl:Em}}function Bt(e={}){const t=me.useRef(void 0),n=me.useRef(void 0),[r,i]=me.useState({isDirty:!1,isValidating:!1,isLoading:Lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Lr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:KY(e),formState:r},e.formControl&&e.defaultValues&&!Lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,me.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),me.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),me.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),me.useEffect(()=>{e.values&&!Ea(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),me.useEffect(()=>{e.errors&&!bn(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),me.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),me.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=iI(r,a),t.current}var QY="Label",pI=b.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pI.displayName=QY;var fI=pI;const YY=fm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=b.forwardRef(({className:e,...t},n)=>s.jsx(fI,{ref:n,className:Oe(YY(),e),...t}));de.displayName=fI.displayName;const zt=AY,gI=b.createContext({}),Z=({...e})=>s.jsx(gI.Provider,{value:{name:e.name},children:s.jsx(RY,{...e})}),_x=()=>{const e=b.useContext(gI),t=b.useContext(xI),{getFieldState:n,formState:r}=kx(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},xI=b.createContext({}),Y=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return s.jsx(xI.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Oe("space-y-2",e),...t})})});Y.displayName="FormItem";const Q=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=_x();return s.jsx(de,{ref:n,className:Oe(r&&"text-destructive",e),htmlFor:i,...t})});Q.displayName="FormLabel";const J=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=_x();return s.jsx(a5,{ref:t,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});J.displayName="FormControl";const XY=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=_x();return s.jsx("p",{ref:n,id:r,className:Oe("text-sm text-muted-foreground",e),...t})});XY.displayName="FormDescription";const se=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:a}=_x(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:r,id:a,className:Oe("text-sm font-medium text-destructive",e),...n,children:o}):null});se.displayName="FormMessage";const q=b.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));q.displayName="Input";const ot=b.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ot.displayName="Textarea";function fh(e,[t,n]){return Math.min(n,Math.max(t,e))}function Tx(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZY=[" ","Enter","ArrowUp","ArrowDown"],JY=[" ","Enter"],Nm="Select",[Px,Ex,eX]=cx(Nm),[Rd,Phe]=Fn(Nm,[eX,nx]),Ax=nx(),[tX,So]=Rd(Nm),[sX,nX]=Rd(Nm),yI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:m,required:f,form:j}=e,x=Ax(t),[g,p]=b.useState(null),[y,v]=b.useState(null),[w,C]=b.useState(!1),N=jm(d),[S=!1,k]=_i({prop:r,defaultProp:i,onChange:a}),[T,D]=_i({prop:o,defaultProp:l,onChange:c}),P=b.useRef(null),M=g?j||!!g.closest("form"):!0,[X,ee]=b.useState(new Set),F=Array.from(X).map(re=>re.props.value).join(";");return s.jsx(D5,{...x,children:s.jsxs(tX,{required:f,scope:t,trigger:g,onTriggerChange:p,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:ea(),value:T,onValueChange:D,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[s.jsx(Px.Provider,{scope:t,children:s.jsx(sX,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(re=>{ee(fe=>new Set(fe).add(re))},[]),onNativeOptionRemove:b.useCallback(re=>{ee(fe=>{const H=new Set(fe);return H.delete(re),H})},[]),children:n})}),M?s.jsxs(VI,{"aria-hidden":!0,required:f,tabIndex:-1,name:h,autoComplete:u,value:T,onChange:re=>D(re.target.value),disabled:m,form:j,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(X)]},F):null]})})};yI.displayName=Nm;var vI="SelectTrigger",bI=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Ax(n),o=So(vI,n),l=o.disabled||r,c=xt(t,o.onTriggerChange),d=Ex(n),h=b.useRef("touch"),[u,m,f]=qI(x=>{const g=d().filter(v=>!v.disabled),p=g.find(v=>v.value===o.value),y=HI(g,x,p);y!==void 0&&o.onValueChange(y.value)}),j=x=>{l||(o.onOpenChange(!0),f()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(M5,{asChild:!0,...a,children:s.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zI(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&j(x)}),onPointerDown:Fe(i.onPointerDown,x=>{h.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:Fe(i.onKeyDown,x=>{const g=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(g&&x.key===" ")&&ZY.includes(x.key)&&(j(),x.preventDefault())})})})});bI.displayName=vI;var jI="SelectValue",wI=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=So(jI,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,u=xt(t,c.onValueNodeChange);return Ts(()=>{d(h)},[d,h]),s.jsx(Ve.span,{...l,ref:u,style:{pointerEvents:"none"},children:zI(c.value)?s.jsx(s.Fragment,{children:o}):a})});wI.displayName=jI;var rX="SelectIcon",NI=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});NI.displayName=rX;var iX="SelectPortal",SI=e=>s.jsx(rx,{asChild:!0,...e});SI.displayName=iX;var wl="SelectContent",CI=b.forwardRef((e,t)=>{const n=So(wl,e.__scopeSelect),[r,i]=b.useState();if(Ts(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?ma.createPortal(s.jsx(kI,{scope:e.__scopeSelect,children:s.jsx(Px.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(_I,{...e,ref:t})});CI.displayName=wl;var jr=10,[kI,Co]=Rd(wl),aX="SelectContentImpl",oX=od("SelectContent.RemoveScroll"),_I=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:g,...p}=e,y=So(wl,n),[v,w]=b.useState(null),[C,N]=b.useState(null),S=xt(t,Be=>w(Be)),[k,T]=b.useState(null),[D,P]=b.useState(null),M=Ex(n),[X,ee]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(v)return mM(v)},[v]),rM();const re=b.useCallback(Be=>{const[yt,...Et]=M().map(rt=>rt.ref.current),[vt]=Et.slice(-1),bt=document.activeElement;for(const rt of Be)if(rt===bt||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===yt&&C&&(C.scrollTop=0),rt===vt&&C&&(C.scrollTop=C.scrollHeight),rt==null||rt.focus(),document.activeElement!==bt))return},[M,C]),fe=b.useCallback(()=>re([k,v]),[re,k,v]);b.useEffect(()=>{X&&fe()},[X,fe]);const{onOpenChange:H,triggerPointerDownPosRef:$}=y;b.useEffect(()=>{if(v){let Be={x:0,y:0};const yt=vt=>{var bt,rt;Be={x:Math.abs(Math.round(vt.pageX)-(((bt=$.current)==null?void 0:bt.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((rt=$.current)==null?void 0:rt.y)??0))}},Et=vt=>{Be.x<=10&&Be.y<=10?vt.preventDefault():v.contains(vt.target)||H(!1),document.removeEventListener("pointermove",yt),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",yt),document.addEventListener("pointerup",Et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",Et,{capture:!0})}}},[v,H,$]),b.useEffect(()=>{const Be=()=>H(!1);return window.addEventListener("blur",Be),window.addEventListener("resize",Be),()=>{window.removeEventListener("blur",Be),window.removeEventListener("resize",Be)}},[H]);const[oe,be]=qI(Be=>{const yt=M().filter(bt=>!bt.disabled),Et=yt.find(bt=>bt.ref.current===document.activeElement),vt=HI(yt,Be,Et);vt&&setTimeout(()=>vt.ref.current.focus())}),st=b.useCallback((Be,yt,Et)=>{const vt=!F.current&&!Et;(y.value!==void 0&&y.value===yt||vt)&&(T(Be),vt&&(F.current=!0))},[y.value]),_t=b.useCallback(()=>v==null?void 0:v.focus(),[v]),Ft=b.useCallback((Be,yt,Et)=>{const vt=!F.current&&!Et;(y.value!==void 0&&y.value===yt||vt)&&P(Be)},[y.value]),ps=r==="popper"?Z0:TI,Xt=ps===Z0?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:g}:{};return s.jsx(kI,{scope:n,content:v,viewport:C,onViewportChange:N,itemRefCallback:st,selectedItem:k,onItemLeave:_t,itemTextRefCallback:Ft,focusSelectedItem:fe,selectedItemText:D,position:r,isPositioned:X,searchRef:oe,children:s.jsx(Uw,{as:oX,allowPinchZoom:!0,children:s.jsx($w,{asChild:!0,trapped:y.open,onMountAutoFocus:Be=>{Be.preventDefault()},onUnmountAutoFocus:Fe(i,Be=>{var yt;(yt=y.trigger)==null||yt.focus({preventScroll:!0}),Be.preventDefault()}),children:s.jsx(hm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Be=>Be.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ps,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Be=>Be.preventDefault(),...p,...Xt,onPlaced:()=>ee(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Fe(p.onKeyDown,Be=>{const yt=Be.ctrlKey||Be.altKey||Be.metaKey;if(Be.key==="Tab"&&Be.preventDefault(),!yt&&Be.key.length===1&&be(Be.key),["ArrowUp","ArrowDown","Home","End"].includes(Be.key)){let vt=M().filter(bt=>!bt.disabled).map(bt=>bt.ref.current);if(["ArrowUp","End"].includes(Be.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Be.key)){const bt=Be.target,rt=vt.indexOf(bt);vt=vt.slice(rt+1)}setTimeout(()=>re(vt)),Be.preventDefault()}})})})})})})});_I.displayName=aX;var lX="SelectItemAlignedPosition",TI=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=So(wl,n),o=Co(wl,n),[l,c]=b.useState(null),[d,h]=b.useState(null),u=xt(t,S=>h(S)),m=Ex(n),f=b.useRef(!1),j=b.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:p,focusSelectedItem:y}=o,v=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&g&&p){const S=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),D=p.getBoundingClientRect();if(a.dir!=="rtl"){const bt=D.left-k.left,rt=T.left-bt,ts=S.left-rt,mn=S.width+ts,Oi=Math.max(mn,k.width),ei=window.innerWidth-jr,ti=fh(rt,[jr,Math.max(jr,ei-Oi)]);l.style.minWidth=mn+"px",l.style.left=ti+"px"}else{const bt=k.right-D.right,rt=window.innerWidth-T.right-bt,ts=window.innerWidth-S.right-rt,mn=S.width+ts,Oi=Math.max(mn,k.width),ei=window.innerWidth-jr,ti=fh(rt,[jr,Math.max(jr,ei-Oi)]);l.style.minWidth=mn+"px",l.style.right=ti+"px"}const P=m(),M=window.innerHeight-jr*2,X=x.scrollHeight,ee=window.getComputedStyle(d),F=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),fe=parseInt(ee.borderBottomWidth,10),H=parseInt(ee.paddingBottom,10),$=F+re+X+H+fe,oe=Math.min(g.offsetHeight*5,$),be=window.getComputedStyle(x),st=parseInt(be.paddingTop,10),_t=parseInt(be.paddingBottom,10),Ft=S.top+S.height/2-jr,ps=M-Ft,Xt=g.offsetHeight/2,Be=g.offsetTop+Xt,yt=F+re+Be,Et=$-yt;if(yt<=Ft){const bt=P.length>0&&g===P[P.length-1].ref.current;l.style.bottom="0px";const rt=d.clientHeight-x.offsetTop-x.offsetHeight,ts=Math.max(ps,Xt+(bt?_t:0)+rt+fe),mn=yt+ts;l.style.height=mn+"px"}else{const bt=P.length>0&&g===P[0].ref.current;l.style.top="0px";const ts=Math.max(Ft,F+x.offsetTop+(bt?st:0)+Xt)+Et;l.style.height=ts+"px",x.scrollTop=yt-Ft+x.offsetTop}l.style.margin=`${jr}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[m,a.trigger,a.valueNode,l,d,x,g,p,a.dir,r]);Ts(()=>v(),[v]);const[w,C]=b.useState();Ts(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const N=b.useCallback(S=>{S&&j.current===!0&&(v(),y==null||y(),j.current=!1)},[v,y]);return s.jsx(dX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(Ve.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TI.displayName=lX;var cX="SelectPopperPosition",Z0=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=jr,...a}=e,o=Ax(n);return s.jsx(I5,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Z0.displayName=cX;var[dX,Xw]=Rd(wl,{}),J0="SelectViewport",PI=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Co(J0,n),o=Xw(J0,n),l=xt(t,a.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Px.Slot,{scope:n,children:s.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&u){const f=Math.abs(c.current-h.scrollTop);if(f>0){const j=window.innerHeight-jr*2,x=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),p=Math.max(x,g);if(p<j){const y=p+f,v=Math.min(j,y),w=y-v;u.style.height=v+"px",u.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});PI.displayName=J0;var EI="SelectGroup",[uX,hX]=Rd(EI),mX=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ea();return s.jsx(uX,{scope:n,id:i,children:s.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});mX.displayName=EI;var AI="SelectLabel",DI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=hX(AI,n);return s.jsx(Ve.div,{id:i.id,...r,ref:t})});DI.displayName=AI;var Zf="SelectItem",[pX,MI]=Rd(Zf),II=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=So(Zf,n),c=Co(Zf,n),d=l.value===r,[h,u]=b.useState(a??""),[m,f]=b.useState(!1),j=xt(t,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,r,i)}),x=ea(),g=b.useRef("touch"),p=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(pX,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:b.useCallback(y=>{u(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Px.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Ve.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Fe(o.onFocus,()=>f(!0)),onBlur:Fe(o.onBlur,()=>f(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&p()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&p()}),onPointerDown:Fe(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:Fe(o.onPointerMove,y=>{var v;g.current=y.pointerType,i?(v=c.onItemLeave)==null||v.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Fe(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(JY.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});II.displayName=Zf;var fu="SelectItemText",RI=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=So(fu,n),l=Co(fu,n),c=MI(fu,n),d=nX(fu,n),[h,u]=b.useState(null),m=xt(t,p=>u(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),f=h==null?void 0:h.textContent,j=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return Ts(()=>(x(j),()=>g(j)),[x,g,j]),s.jsxs(s.Fragment,{children:[s.jsx(Ve.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ma.createPortal(a.children,o.valueNode):null]})});RI.displayName=fu;var FI="SelectItemIndicator",OI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return MI(FI,n).isSelected?s.jsx(Ve.span,{"aria-hidden":!0,...r,ref:t}):null});OI.displayName=FI;var eb="SelectScrollUpButton",LI=b.forwardRef((e,t)=>{const n=Co(eb,e.__scopeSelect),r=Xw(eb,e.__scopeSelect),[i,a]=b.useState(!1),o=xt(t,r.onScrollButtonChange);return Ts(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(UI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LI.displayName=eb;var tb="SelectScrollDownButton",$I=b.forwardRef((e,t)=>{const n=Co(tb,e.__scopeSelect),r=Xw(tb,e.__scopeSelect),[i,a]=b.useState(!1),o=xt(t,r.onScrollButtonChange);return Ts(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(UI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$I.displayName=tb;var UI=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Co("SelectScrollButton",n),o=b.useRef(null),l=Ex(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Ts(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),fX="SelectSeparator",BI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ve.div,{"aria-hidden":!0,...r,ref:t})});BI.displayName=fX;var sb="SelectArrow",gX=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ax(n),a=So(sb,n),o=Co(sb,n);return a.open&&o.position==="popper"?s.jsx(R5,{...i,...r,ref:t}):null});gX.displayName=sb;function zI(e){return e===""||e===void 0}var VI=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=b.useRef(null),a=xt(t,i),o=Tx(n);return b.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const u=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(u)}},[o,n]),s.jsx(pm,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});VI.displayName="BubbleSelect";function qI(e){const t=ms(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function HI(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xX(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function xX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yX=yI,WI=bI,vX=wI,bX=NI,jX=SI,GI=CI,wX=PI,KI=DI,QI=II,NX=RI,SX=OI,YI=LI,XI=$I,ZI=BI;const Ge=yX,Ke=vX,He=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(WI,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(bX,{asChild:!0,children:s.jsx(bD,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=WI.displayName;const JI=b.forwardRef(({className:e,...t},n)=>s.jsx(YI,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(g9,{className:"h-4 w-4"})}));JI.displayName=YI.displayName;const e3=b.forwardRef(({className:e,...t},n)=>s.jsx(XI,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bD,{className:"h-4 w-4"})}));e3.displayName=XI.displayName;const We=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(jX,{children:s.jsxs(GI,{ref:i,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(JI,{}),s.jsx(wX,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(e3,{})]})}));We.displayName=GI.displayName;const CX=b.forwardRef(({className:e,...t},n)=>s.jsx(KI,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));CX.displayName=KI.displayName;const B=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(QI,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SX,{children:s.jsx(uc,{className:"h-4 w-4"})})}),s.jsx(NX,{children:t})]}));B.displayName=QI.displayName;const kX=b.forwardRef(({className:e,...t},n)=>s.jsx(ZI,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));kX.displayName=ZI.displayName;const O2=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Pe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},t3=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?O2(r.ref,n,e):r.refs&&r.refs.forEach(i=>O2(i,n,e))}},_X=(e,t)=>{t.shouldUseNativeValidation&&t3(e,t);const n={};for(const r in e){const i=Pe(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(TX(t.names||Object.keys(e),r)){const o=Object.assign({},Pe(n,r));At(o,"root",a),At(n,r,o)}else At(n,r,a)}return n},TX=(e,t)=>e.some(n=>n.startsWith(t+"."));var PX=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return e.push(u)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=oI(o,t,n,i,d?[].concat(d,r.message):r.message)}e.shift()}return n},Vt=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&t3({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:_X(PX(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const he=Symbol.for("drizzle:entityKind");function Qs(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,he))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(he in n&&n[he]===t[he])return!0;n=Object.getPrototypeOf(n)}return!1}var Qk;Qk=he;class fd{constructor(t,n){A(this,"name");A(this,"keyAsName");A(this,"primary");A(this,"notNull");A(this,"default");A(this,"defaultFn");A(this,"onUpdateFn");A(this,"hasDefault");A(this,"isUnique");A(this,"uniqueName");A(this,"uniqueType");A(this,"dataType");A(this,"columnType");A(this,"enumValues");A(this,"generated");A(this,"generatedIdentity");A(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}A(fd,Qk,"Column");var Yk;Yk=he;class s3{constructor(t,n,r){A(this,"config");A(this,"$default",this.$defaultFn);A(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}A(s3,Yk,"ColumnBuilder");const gc=Symbol.for("drizzle:Name");var Xk;Xk=he;class n3{constructor(t,n){A(this,"reference");A(this,"_onUpdate","no action");A(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=t();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new r3(t,this)}}A(n3,Xk,"PgForeignKeyBuilder");var Zk;Zk=he;class r3{constructor(t,n){A(this,"reference");A(this,"onUpdate");A(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[gc],...i,r[0].table[gc],...a];return t??`${o.join("_")}_fk`}}A(r3,Zk,"PgForeignKey");function EX(e,...t){return e(...t)}function AX(e,t){return`${e[gc]}_${t.join("_")}_unique`}function L2(e,t,n){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function i3(e,t=0){const n=[];let r=t,i=!1;for(;r<e.length;){const a=e[r];if(a===","){(i||r===t)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=L2(e,r+1,!0);n.push(c),r=d;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,d]=i3(e,r+1);n.push(c),r=d;continue}const[o,l]=L2(e,r,!1);n.push(o),r=l}return[n,r]}function DX(e){const[t]=i3(e,1);return t}function a3(e){return`{${e.map(t=>Array.isArray(t)?a3(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Jk,e_;class kt extends(e_=s3,Jk=he,e_){constructor(){super(...arguments);A(this,"foreignKeyConfigs",[])}array(n){return new l3(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>EX((o,l)=>{const c=new n3(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new o3(n,this.config)}}A(kt,Jk,"PgColumnBuilder");var t_,s_;class ht extends(s_=fd,t_=he,s_){constructor(t,n){n.uniqueName||(n.uniqueName=AX(t,[n.name])),super(t,n),this.table=t}}A(ht,t_,"PgColumn");var n_,r_;class o3 extends(r_=ht,n_=he,r_){constructor(){super(...arguments);A(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});A(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}A(o3,n_,"ExtraConfigColumn");var i_,a_;class l3 extends(a_=kt,i_=he,a_){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new nb(t,this.config,n)}}A(l3,i_,"PgArrayBuilder");var o_,l_;const wg=class wg extends(l_=ht,o_=he,l_){constructor(n,r,i,a){super(n,r);A(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=DX(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:Qs(this.baseColumn,wg)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:a3(i)}};A(wg,o_,"PgArray");let nb=wg;const $2=Symbol.for("drizzle:isPgEnum");function MX(e){return!!e&&typeof e=="function"&&$2 in e&&e[$2]===!0}var c_;c_=he;class Zw{constructor(t,n,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:i}}}A(Zw,c_,"Subquery");const IX={startActiveSpan(e,t){return t()}},xc=Symbol.for("drizzle:ViewBaseConfig"),Wy=Symbol.for("drizzle:Schema"),U2=Symbol.for("drizzle:Columns"),B2=Symbol.for("drizzle:ExtraConfigColumns"),Gy=Symbol.for("drizzle:OriginalName"),Ky=Symbol.for("drizzle:BaseName"),Jf=Symbol.for("drizzle:IsAlias"),z2=Symbol.for("drizzle:ExtraConfigBuilder"),c3=Symbol.for("drizzle:IsDrizzleTable");var d_,u_,h_,m_,p_,f_,g_,x_,y_,v_,Sp;let Hn=(v_=he,y_=gc,x_=Gy,g_=Wy,f_=U2,p_=B2,m_=Ky,h_=Jf,u_=c3,d_=z2,Sp=class{constructor(t,n,r){A(this,y_);A(this,x_);A(this,g_);A(this,f_);A(this,p_);A(this,m_);A(this,h_,!1);A(this,u_,!0);A(this,d_);this[gc]=this[Gy]=t,this[Wy]=n,this[Ky]=r}},A(Sp,v_,"Table"),A(Sp,"Symbol",{Name:gc,Schema:Wy,OriginalName:Gy,Columns:U2,ExtraConfigColumns:B2,BaseName:Ky,IsAlias:Jf,ExtraConfigBuilder:z2}),Sp);function d3(e){return typeof e=="object"&&e!==null&&c3 in e}function RX(e){return e!=null&&typeof e.getSQL=="function"}function FX(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var b_;b_=he;class or{constructor(t){A(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Is([this])}}A(or,b_,"StringChunk");var j_;j_=he;const Ro=class Ro{constructor(t){A(this,"decoder",u3);A(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return IX.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return FX(t.map(h=>{var u;if(Qs(h,or))return{sql:h.value.join(""),params:[]};if(Qs(h,eg))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const m=[new or("(")];for(const[f,j]of h.entries())m.push(j),f<h.length-1&&m.push(new or(", "));return m.push(new or(")")),this.buildQueryFromSourceParams(m,r)}if(Qs(h,Ro))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:c||h.shouldInlineParams});if(Qs(h,Hn)){const m=h[Hn.Symbol.Schema],f=h[Hn.Symbol.Name];return{sql:m===void 0||h[Jf]?a(f):a(m)+"."+a(f),params:[]}}if(Qs(h,fd)){const m=i.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const f=h.table[Hn.Symbol.Schema];return{sql:h.table[Jf]||f===void 0?a(h.table[Hn.Symbol.Name])+"."+a(m):a(f)+"."+a(h.table[Hn.Symbol.Name])+"."+a(m),params:[]}}if(Qs(h,p3)){const m=h[xc].schema,f=h[xc].name;return{sql:m===void 0||h[xc].isAlias?a(f):a(m)+"."+a(f),params:[]}}if(Qs(h,Jw)){if(Qs(h.value,sg))return{sql:o(d.value++,h),params:[h],typings:["none"]};const m=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Qs(m,Ro))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let f=["none"];return l&&(f=[l(h.encoder)]),{sql:o(d.value++,m),params:[m],typings:f}}return Qs(h,sg)?{sql:o(d.value++,h),params:[h],typings:["none"]}:Qs(h,Ro.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:Qs(h,Zw)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new or("("),h._.sql,new or(") "),new eg(h._.alias)],r):MX(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:RX(h)?(u=h.shouldOmitSQLParens)!=null&&u.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new or("("),h.getSQL(),new or(")")],r):c?{sql:this.mapInlineParam(h,r),params:[]}:{sql:o(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ro.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};A(Ro,j_,"SQL");let Is=Ro;var w_;w_=he;class eg{constructor(t){A(this,"brand");this.value=t}getSQL(){return new Is([this])}}A(eg,w_,"Name");const u3={mapFromDriverValue:e=>e},h3={mapToDriverValue:e=>e};({...u3,...h3});var N_;N_=he;class Jw{constructor(t,n=h3){A(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Is([this])}}A(Jw,N_,"Param");function tg(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new or(e[0]));for(const[r,i]of t.entries())n.push(i,new or(e[r+1]));return new Is(n)}(e=>{function t(){return new Is([])}e.empty=t;function n(c){return new Is(c)}e.fromList=n;function r(c){return new Is([new or(c)])}e.raw=r;function i(c,d){const h=[];for(const[u,m]of c.entries())u>0&&d!==void 0&&h.push(d),h.push(m);return new Is(h)}e.join=i;function a(c){return new eg(c)}e.identifier=a;function o(c){return new sg(c)}e.placeholder=o;function l(c,d){return new Jw(c,d)}e.param=l})(tg||(tg={}));(e=>{var n;n=he;const r=class r{constructor(a,o){A(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};A(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Is||(Is={}));var S_;S_=he;class sg{constructor(t){this.name=t}getSQL(){return new Is([this])}}A(sg,S_,"Placeholder");const m3=Symbol.for("drizzle:IsDrizzleView");var C_,k_,__;__=he,k_=xc,C_=m3;class p3{constructor({name:t,schema:n,selectedFields:r,query:i}){A(this,k_);A(this,C_,!0);this[xc]={name:t,originalName:t,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Is([this])}}A(p3,__,"View");function OX(e){return typeof e=="object"&&e!==null&&m3 in e}fd.prototype.getSQL=function(){return new Is([this])};Hn.prototype.getSQL=function(){return new Is([this])};Zw.prototype.getSQL=function(){return new Is([this])};function LX(e){return e[Hn.Symbol.Columns]}function $X(e){return e[xc].selectedFields}function Ws(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var T_,P_;class Sm extends(P_=kt,T_=he,P_){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}A(Sm,T_,"PgIntColumnBaseBuilder");var E_,A_;class f3 extends(A_=Sm,E_=he,A_){constructor(t){super(t,"number","PgBigInt53")}build(t){return new g3(t,this.config)}}A(f3,E_,"PgBigInt53Builder");var D_,M_;class g3 extends(M_=ht,D_=he,M_){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(g3,D_,"PgBigInt53");var I_,R_;class x3 extends(R_=Sm,I_=he,R_){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new y3(t,this.config)}}A(x3,I_,"PgBigInt64Builder");var F_,O_;class y3 extends(O_=ht,F_=he,O_){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}A(y3,F_,"PgBigInt64");function UX(e,t){const{name:n,config:r}=Ws(e,t);return r.mode==="number"?new f3(n):new x3(n)}var L_,$_;class v3 extends($_=kt,L_=he,$_){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new b3(t,this.config)}}A(v3,L_,"PgBigSerial53Builder");var U_,B_;class b3 extends(B_=ht,U_=he,B_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(b3,U_,"PgBigSerial53");var z_,V_;class j3 extends(V_=kt,z_=he,V_){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new w3(t,this.config)}}A(j3,z_,"PgBigSerial64Builder");var q_,H_;class w3 extends(H_=ht,q_=he,H_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}A(w3,q_,"PgBigSerial64");function BX(e,t){const{name:n,config:r}=Ws(e,t);return r.mode==="number"?new v3(n):new j3(n)}var W_,G_;class N3 extends(G_=kt,W_=he,G_){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new S3(t,this.config)}}A(N3,W_,"PgBooleanBuilder");var K_,Q_;class S3 extends(Q_=ht,K_=he,Q_){getSQLType(){return"boolean"}}A(S3,K_,"PgBoolean");function Ne(e){return new N3(e??"")}var Y_,X_;class C3 extends(X_=kt,Y_=he,X_){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new k3(t,this.config)}}A(C3,Y_,"PgCharBuilder");var Z_,J_;class k3 extends(J_=ht,Z_=he,J_){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}A(k3,Z_,"PgChar");function zX(e,t={}){const{name:n,config:r}=Ws(e,t);return new C3(n,r)}var eT,tT;class _3 extends(tT=kt,eT=he,tT){constructor(t){super(t,"string","PgCidr")}build(t){return new T3(t,this.config)}}A(_3,eT,"PgCidrBuilder");var sT,nT;class T3 extends(nT=ht,sT=he,nT){getSQLType(){return"cidr"}}A(T3,sT,"PgCidr");function VX(e){return new _3(e??"")}var rT,iT;class P3 extends(iT=kt,rT=he,iT){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new E3(t,this.config)}}A(P3,rT,"PgCustomColumnBuilder");var aT,oT;class E3 extends(oT=ht,aT=he,oT){constructor(n,r){super(n,r);A(this,"sqlName");A(this,"mapTo");A(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}A(E3,aT,"PgCustomColumn");function qX(e){return(t,n)=>{const{name:r,config:i}=Ws(t,n);return new P3(r,i,e)}}var lT,cT;class Fd extends(cT=kt,lT=he,cT){defaultNow(){return this.default(tg`now()`)}}A(Fd,lT,"PgDateColumnBaseBuilder");var dT,uT;class A3 extends(uT=Fd,dT=he,uT){constructor(t){super(t,"date","PgDate")}build(t){return new D3(t,this.config)}}A(A3,dT,"PgDateBuilder");var hT,mT;class D3 extends(mT=ht,hT=he,mT){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}A(D3,hT,"PgDate");var pT,fT;class M3 extends(fT=Fd,pT=he,fT){constructor(t){super(t,"string","PgDateString")}build(t){return new I3(t,this.config)}}A(M3,pT,"PgDateStringBuilder");var gT,xT;class I3 extends(xT=ht,gT=he,xT){getSQLType(){return"date"}}A(I3,gT,"PgDateString");function Dx(e,t){const{name:n,config:r}=Ws(e,t);return(r==null?void 0:r.mode)==="date"?new A3(n):new M3(n)}var yT,vT;class R3 extends(vT=kt,yT=he,vT){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new F3(t,this.config)}}A(R3,yT,"PgDoublePrecisionBuilder");var bT,jT;class F3 extends(jT=ht,bT=he,jT){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}A(F3,bT,"PgDoublePrecision");function HX(e){return new R3(e??"")}var wT,NT;class O3 extends(NT=kt,wT=he,NT){constructor(t){super(t,"string","PgInet")}build(t){return new L3(t,this.config)}}A(O3,wT,"PgInetBuilder");var ST,CT;class L3 extends(CT=ht,ST=he,CT){getSQLType(){return"inet"}}A(L3,ST,"PgInet");function WX(e){return new O3(e??"")}var kT,_T;class $3 extends(_T=Sm,kT=he,_T){constructor(t){super(t,"number","PgInteger")}build(t){return new U3(t,this.config)}}A($3,kT,"PgIntegerBuilder");var TT,PT;class U3 extends(PT=ht,TT=he,PT){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}A(U3,TT,"PgInteger");function z(e){return new $3(e??"")}var ET,AT;class B3 extends(AT=kt,ET=he,AT){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new z3(t,this.config)}}A(B3,ET,"PgIntervalBuilder");var DT,MT;class z3 extends(MT=ht,DT=he,MT){constructor(){super(...arguments);A(this,"fields",this.config.intervalConfig.fields);A(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}A(z3,DT,"PgInterval");function GX(e,t={}){const{name:n,config:r}=Ws(e,t);return new B3(n,r)}var IT,RT;class V3 extends(RT=kt,IT=he,RT){constructor(t){super(t,"json","PgJson")}build(t){return new q3(t,this.config)}}A(V3,IT,"PgJsonBuilder");var FT,OT;class q3 extends(OT=ht,FT=he,OT){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(q3,FT,"PgJson");function Mx(e){return new V3(e??"")}var LT,$T;class H3 extends($T=kt,LT=he,$T){constructor(t){super(t,"json","PgJsonb")}build(t){return new W3(t,this.config)}}A(H3,LT,"PgJsonbBuilder");var UT,BT;class W3 extends(BT=ht,UT=he,BT){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(W3,UT,"PgJsonb");function xi(e){return new H3(e??"")}var zT,VT;class G3 extends(VT=kt,zT=he,VT){constructor(t){super(t,"array","PgLine")}build(t){return new K3(t,this.config)}}A(G3,zT,"PgLineBuilder");var qT,HT;class K3 extends(HT=ht,qT=he,HT){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}A(K3,qT,"PgLine");var WT,GT;class Q3 extends(GT=kt,WT=he,GT){constructor(t){super(t,"json","PgLineABC")}build(t){return new Y3(t,this.config)}}A(Q3,WT,"PgLineABCBuilder");var KT,QT;class Y3 extends(QT=ht,KT=he,QT){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}A(Y3,KT,"PgLineABC");function KX(e,t){const{name:n,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new G3(n):new Q3(n)}var YT,XT;class X3 extends(XT=kt,YT=he,XT){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Z3(t,this.config)}}A(X3,YT,"PgMacaddrBuilder");var ZT,JT;class Z3 extends(JT=ht,ZT=he,JT){getSQLType(){return"macaddr"}}A(Z3,ZT,"PgMacaddr");function QX(e){return new X3(e??"")}var eP,tP;class J3 extends(tP=kt,eP=he,tP){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new eR(t,this.config)}}A(J3,eP,"PgMacaddr8Builder");var sP,nP;class eR extends(nP=ht,sP=he,nP){getSQLType(){return"macaddr8"}}A(eR,sP,"PgMacaddr8");function YX(e){return new J3(e??"")}var rP,iP;class tR extends(iP=kt,rP=he,iP){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new sR(t,this.config)}}A(tR,rP,"PgNumericBuilder");var aP,oP;class sR extends(oP=ht,aP=he,oP){constructor(n,r){super(n,r);A(this,"precision");A(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}A(sR,aP,"PgNumeric");function nR(e,t){const{name:n,config:r}=Ws(e,t);return new tR(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const cn=nR;var lP,cP;class rR extends(cP=kt,lP=he,cP){constructor(t){super(t,"array","PgPointTuple")}build(t){return new iR(t,this.config)}}A(rR,lP,"PgPointTupleBuilder");var dP,uP;class iR extends(uP=ht,dP=he,uP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}A(iR,dP,"PgPointTuple");var hP,mP;class aR extends(mP=kt,hP=he,mP){constructor(t){super(t,"json","PgPointObject")}build(t){return new oR(t,this.config)}}A(aR,hP,"PgPointObjectBuilder");var pP,fP;class oR extends(fP=ht,pP=he,fP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}A(oR,pP,"PgPointObject");function XX(e,t){const{name:n,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new rR(n):new aR(n)}function ZX(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function V2(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function lR(e){const t=ZX(e);let n=0;const r=t[n];n+=1;const i=new DataView(t.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=V2(t,n);n+=8;const l=V2(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var gP,xP;class cR extends(xP=kt,gP=he,xP){constructor(t){super(t,"array","PgGeometry")}build(t){return new dR(t,this.config)}}A(cR,gP,"PgGeometryBuilder");var yP,vP;class dR extends(vP=ht,yP=he,vP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return lR(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}A(dR,yP,"PgGeometry");var bP,jP;class uR extends(jP=kt,bP=he,jP){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new hR(t,this.config)}}A(uR,bP,"PgGeometryObjectBuilder");var wP,NP;class hR extends(NP=ht,wP=he,NP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=lR(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}A(hR,wP,"PgGeometryObject");function JX(e,t){const{name:n,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new cR(n):new uR(n)}var SP,CP;class mR extends(CP=kt,SP=he,CP){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new pR(t,this.config)}}A(mR,SP,"PgRealBuilder");var kP,_P;class pR extends(_P=ht,kP=he,_P){constructor(n,r){super(n,r);A(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}A(pR,kP,"PgReal");function Ei(e){return new mR(e??"")}var TP,PP;class fR extends(PP=kt,TP=he,PP){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new gR(t,this.config)}}A(fR,TP,"PgSerialBuilder");var EP,AP;class gR extends(AP=ht,EP=he,AP){getSQLType(){return"serial"}}A(gR,EP,"PgSerial");function _e(e){return new fR(e??"")}var DP,MP;class xR extends(MP=Sm,DP=he,MP){constructor(t){super(t,"number","PgSmallInt")}build(t){return new yR(t,this.config)}}A(xR,DP,"PgSmallIntBuilder");var IP,RP;class yR extends(RP=ht,IP=he,RP){constructor(){super(...arguments);A(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}A(yR,IP,"PgSmallInt");function eZ(e){return new xR(e??"")}var FP,OP;class vR extends(OP=kt,FP=he,OP){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new bR(t,this.config)}}A(vR,FP,"PgSmallSerialBuilder");var LP,$P;class bR extends($P=ht,LP=he,$P){getSQLType(){return"smallserial"}}A(bR,LP,"PgSmallSerial");function tZ(e){return new vR(e??"")}var UP,BP;class jR extends(BP=kt,UP=he,BP){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new wR(t,this.config)}}A(jR,UP,"PgTextBuilder");var zP,VP;class wR extends(VP=ht,zP=he,VP){constructor(){super(...arguments);A(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}A(wR,zP,"PgText");function R(e,t={}){const{name:n,config:r}=Ws(e,t);return new jR(n,r)}var qP,HP;class NR extends(HP=Fd,qP=he,HP){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new SR(t,this.config)}}A(NR,qP,"PgTimeBuilder");var WP,GP;class SR extends(GP=ht,WP=he,GP){constructor(n,r){super(n,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(SR,WP,"PgTime");function gd(e,t={}){const{name:n,config:r}=Ws(e,t);return new NR(n,r.withTimezone??!1,r.precision)}var KP,QP;class CR extends(QP=Fd,KP=he,QP){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new kR(t,this.config)}}A(CR,KP,"PgTimestampBuilder");var YP,XP;class kR extends(XP=ht,YP=he,XP){constructor(n,r){super(n,r);A(this,"withTimezone");A(this,"precision");A(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));A(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(kR,YP,"PgTimestamp");var ZP,JP;class _R extends(JP=Fd,ZP=he,JP){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new TR(t,this.config)}}A(_R,ZP,"PgTimestampStringBuilder");var e4,t4;class TR extends(t4=ht,e4=he,t4){constructor(n,r){super(n,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(TR,e4,"PgTimestampString");function W(e,t={}){const{name:n,config:r}=Ws(e,t);return(r==null?void 0:r.mode)==="string"?new _R(n,r.withTimezone??!1,r.precision):new CR(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var s4,n4;class PR extends(n4=kt,s4=he,n4){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(tg`gen_random_uuid()`)}build(t){return new ER(t,this.config)}}A(PR,s4,"PgUUIDBuilder");var r4,i4;class ER extends(i4=ht,r4=he,i4){getSQLType(){return"uuid"}}A(ER,r4,"PgUUID");function sZ(e){return new PR(e??"")}var a4,o4;class AR extends(o4=kt,a4=he,o4){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new DR(t,this.config)}}A(AR,a4,"PgVarcharBuilder");var l4,c4;class DR extends(c4=ht,l4=he,c4){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}A(DR,l4,"PgVarchar");function ke(e,t={}){const{name:n,config:r}=Ws(e,t);return new AR(n,r)}var d4,u4;class MR extends(u4=kt,d4=he,u4){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new IR(t,this.config)}}A(MR,d4,"PgBinaryVectorBuilder");var h4,m4;class IR extends(m4=ht,h4=he,m4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}A(IR,h4,"PgBinaryVector");function nZ(e,t){const{name:n,config:r}=Ws(e,t);return new MR(n,r)}var p4,f4;class RR extends(f4=kt,p4=he,f4){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new FR(t,this.config)}}A(RR,p4,"PgHalfVectorBuilder");var g4,x4;class FR extends(x4=ht,g4=he,x4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(FR,g4,"PgHalfVector");function rZ(e,t){const{name:n,config:r}=Ws(e,t);return new RR(n,r)}var y4,v4;class OR extends(v4=kt,y4=he,v4){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new LR(t,this.config)}}A(OR,y4,"PgSparseVectorBuilder");var b4,j4;class LR extends(j4=ht,b4=he,j4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}A(LR,b4,"PgSparseVector");function iZ(e,t){const{name:n,config:r}=Ws(e,t);return new OR(n,r)}var w4,N4;class $R extends(N4=kt,w4=he,N4){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new UR(t,this.config)}}A($R,w4,"PgVectorBuilder");var S4,C4;class UR extends(C4=ht,S4=he,C4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(UR,S4,"PgVector");function aZ(e,t){const{name:n,config:r}=Ws(e,t);return new $R(n,r)}function oZ(){return{bigint:UX,bigserial:BX,boolean:Ne,char:zX,cidr:VX,customType:qX,date:Dx,doublePrecision:HX,inet:WX,integer:z,interval:GX,json:Mx,jsonb:xi,line:KX,macaddr:QX,macaddr8:YX,numeric:nR,point:XX,geometry:JX,real:Ei,serial:_e,smallint:eZ,smallserial:tZ,text:R,time:gd,timestamp:W,uuid:sZ,varchar:ke,bit:nZ,halfvec:rZ,sparsevec:iZ,vector:aZ}}const rb=Symbol.for("drizzle:PgInlineForeignKeys"),q2=Symbol.for("drizzle:EnableRLS");var k4,_4,T4,P4,E4;class ng extends(E4=Hn,P4=he,T4=rb,_4=q2,k4=Hn.Symbol.ExtraConfigBuilder,E4){constructor(){super(...arguments);A(this,T4,[]);A(this,_4,!1);A(this,k4)}}A(ng,P4,"PgTable"),A(ng,"Symbol",Object.assign({},Hn.Symbol,{InlineForeignKeys:rb,EnableRLS:q2}));function lZ(e,t,n,r,i=e){const a=new ng(e,r,i),o=typeof t=="function"?t(oZ()):t,l=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const f=m.build(a);return a[rb].push(...m.buildForeignKeys(f,a)),[h,f]})),c=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const f=m.buildExtraConfigColumn(a);return[h,f]})),d=Object.assign(a,l);return d[Hn.Symbol.Columns]=l,d[Hn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[ng.Symbol.EnableRLS]=!0,d)})}const je=(e,t,n)=>lZ(e,t,n,void 0);var Ct;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ct||(Ct={}));var ib;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(ib||(ib={}));const Me=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=e=>{switch(typeof e){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(e)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(e)?Me.array:e===null?Me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Me.promise:typeof Map<"u"&&e instanceof Map?Me.map:typeof Set<"u"&&e instanceof Set?Me.set:typeof Date<"u"&&e instanceof Date?Me.date:Me.object;default:return Me.unknown}},pe=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cZ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Jn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof Jn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Jn.create=e=>new Jn(e);const xd=(e,t)=>{let n;switch(e.code){case pe.invalid_type:e.received===Me.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ct.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ct.joinValues(e.keys,", ")}`;break;case pe.invalid_union:n="Invalid input";break;case pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ct.joinValues(e.options)}`;break;case pe.invalid_enum_value:n=`Invalid enum value. Expected ${Ct.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:n="Invalid function arguments";break;case pe.invalid_return_type:n="Invalid function return type";break;case pe.invalid_date:n="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ct.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case pe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case pe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case pe.custom:n="Invalid input";break;case pe.invalid_intersection_types:n="Intersection results could not be merged";break;case pe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ct.assertNever(e)}return{message:n}};let BR=xd;function dZ(e){BR=e}function rg(){return BR}const ig=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},uZ=[];function Ee(e,t){const n=rg(),r=ig({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===xd?void 0:xd].filter(i=>!!i)});e.common.issues.push(r)}class un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return tt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return un.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return tt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const tt=Object.freeze({status:"aborted"}),Jl=e=>({status:"dirty",value:e}),Sn=e=>({status:"valid",value:e}),ab=e=>e.status==="aborted",ob=e=>e.status==="dirty",Nl=e=>e.status==="valid",gh=e=>typeof Promise<"u"&&e instanceof Promise;var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));class Ai{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const H2=(e,t)=>{if(Nl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Jn(e.common.issues);return this._error=n,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class gt{get description(){return this._def.description}_getType(t){return qi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new un,ctx:{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},i=this._parseSync({data:t,path:r.path,parent:r});return H2(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return Nl(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>Nl(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(gh(i)?i:Promise.resolve(i));return H2(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:pe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Yr({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Si.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wr.create(this)}promise(){return vd.create(this,this._def)}or(t){return bh.create([this,t],this._def)}and(t){return jh.create(this,t,this._def)}transform(t){return new Yr({...ut(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new kh({...ut(this._def),innerType:this,defaultValue:n,typeName:nt.ZodDefault})}brand(){return new eN({typeName:nt.ZodBranded,type:this,...ut(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new _h({...ut(this._def),innerType:this,catchValue:n,typeName:nt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Cm.create(this,t)}readonly(){return Th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hZ=/^c[^\s-]{8,}$/i,mZ=/^[0-9a-z]+$/,pZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gZ=/^[a-z0-9_-]{21}$/i,xZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qy;const jZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_Z=new RegExp(`^${zR}$`);function VR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function TZ(e){return new RegExp(`^${VR(e)}$`)}function qR(e){let t=`${zR}T${VR(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function PZ(e,t){return!!((t==="v4"||!t)&&jZ.test(e)||(t==="v6"||!t)&&NZ.test(e))}function EZ(e,t){if(!xZ.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function AZ(e,t){return!!((t==="v4"||!t)&&wZ.test(e)||(t==="v6"||!t)&&SZ.test(e))}class Br extends gt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.string,received:a.parsedType}),tt}const r=new un;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")vZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"email",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Qy||(Qy=new RegExp(bZ,"u")),Qy.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"emoji",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")fZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"uuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")gZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"nanoid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")hZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")mZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid2",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")pZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ulid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ee(i,{validation:"url",code:pe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"regex",code:pe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?qR(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?_Z.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?TZ(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?yZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"duration",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?PZ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ip",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?EZ(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"jwt",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?AZ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cidr",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?CZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?kZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64url",code:pe.invalid_string,message:a.message}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:pe.invalid_string,...ze.errToObj(r)})}_addCheck(t){return new Br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ze.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ze.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ze.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ze.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ze.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ze.errToObj(n)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Br.create=e=>new Br({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});function DZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class go extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.number,received:a.parsedType}),tt}let r;const i=new un;for(const a of this._def.checks)a.kind==="int"?Ct.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?DZ(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_finite,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ze.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ze.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ze.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ze.toString(n))}setLimit(t,n,r,i){return new go({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ze.toString(i)}]})}_addCheck(t){return new go({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ct.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}go.create=e=>new go({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class xo extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Me.bigint)return this._getInvalidInput(t);let r;const i=new un;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ee(n,{code:pe.invalid_type,expected:Me.bigint,received:n.parsedType}),tt}gte(t,n){return this.setLimit("min",t,!0,ze.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ze.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ze.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ze.toString(n))}setLimit(t,n,r,i){return new xo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ze.toString(i)}]})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}xo.create=e=>new xo({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});class xh extends gt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.boolean,received:r.parsedType}),tt}return Sn(t.data)}}xh.create=e=>new xh({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class Sl extends gt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.date,received:a.parsedType}),tt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_date}),tt}const r=new un;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Sl.create=e=>new Sl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...ut(e)});class ag extends gt{_parse(t){if(this._getType(t)!==Me.symbol){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.symbol,received:r.parsedType}),tt}return Sn(t.data)}}ag.create=e=>new ag({typeName:nt.ZodSymbol,...ut(e)});class yh extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.undefined,received:r.parsedType}),tt}return Sn(t.data)}}yh.create=e=>new yh({typeName:nt.ZodUndefined,...ut(e)});class vh extends gt{_parse(t){if(this._getType(t)!==Me.null){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.null,received:r.parsedType}),tt}return Sn(t.data)}}vh.create=e=>new vh({typeName:nt.ZodNull,...ut(e)});class yd extends gt{constructor(){super(...arguments),this._any=!0}_parse(t){return Sn(t.data)}}yd.create=e=>new yd({typeName:nt.ZodAny,...ut(e)});class ul extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Sn(t.data)}}ul.create=e=>new ul({typeName:nt.ZodUnknown,...ut(e)});class da extends gt{_parse(t){const n=this._getOrReturnCtx(t);return Ee(n,{code:pe.invalid_type,expected:Me.never,received:n.parsedType}),tt}}da.create=e=>new da({typeName:nt.ZodNever,...ut(e)});class og extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.void,received:r.parsedType}),tt}return Sn(t.data)}}og.create=e=>new og({typeName:nt.ZodVoid,...ut(e)});class Wr extends gt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Me.array)return Ee(n,{code:pe.invalid_type,expected:Me.array,received:n.parsedType}),tt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Ee(n,{code:o?pe.too_big:pe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ee(n,{code:pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ee(n,{code:pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Ai(n,o,n.path,l)))).then(o=>un.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Ai(n,o,n.path,l)));return un.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Wr({...this._def,minLength:{value:t,message:ze.toString(n)}})}max(t,n){return new Wr({...this._def,maxLength:{value:t,message:ze.toString(n)}})}length(t,n){return new Wr({...this._def,exactLength:{value:t,message:ze.toString(n)}})}nonempty(t){return this.min(1,t)}}Wr.create=(e,t)=>new Wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...ut(t)});function $l(e){if(e instanceof is){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Si.create($l(r))}return new is({...e._def,shape:()=>t})}else return e instanceof Wr?new Wr({...e._def,type:$l(e.element)}):e instanceof Si?Si.create($l(e.unwrap())):e instanceof vo?vo.create($l(e.unwrap())):e instanceof Di?Di.create(e.items.map(t=>$l(t))):e}class is extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ct.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Me.object){const d=this._getOrReturnCtx(t);return Ee(d,{code:pe.invalid_type,expected:Me.object,received:d.parsedType}),tt}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],u=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ai(i,u,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof da){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Ee(i,{code:pe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ai(i,u,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,m=await h.value;d.push({key:u,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>un.mergeObjectSync(r,d)):un.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new is({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ze.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new is({...this._def,unknownKeys:"strip"})}passthrough(){return new is({...this._def,unknownKeys:"passthrough"})}extend(t){return new is({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new is({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new is({...this._def,catchall:t})}pick(t){const n={};for(const r of Ct.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new is({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ct.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new is({...this._def,shape:()=>n})}deepPartial(){return $l(this)}partial(t){const n={};for(const r of Ct.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new is({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ct.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Si;)a=a._def.innerType;n[r]=a}return new is({...this._def,shape:()=>n})}keyof(){return HR(Ct.objectKeys(this.shape))}}is.create=(e,t)=>new is({shape:()=>e,unknownKeys:"strip",catchall:da.create(),typeName:nt.ZodObject,...ut(t)});is.strictCreate=(e,t)=>new is({shape:()=>e,unknownKeys:"strict",catchall:da.create(),typeName:nt.ZodObject,...ut(t)});is.lazycreate=(e,t)=>new is({shape:e,unknownKeys:"strip",catchall:da.create(),typeName:nt.ZodObject,...ut(t)});class bh extends gt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Jn(l.ctx.common.issues));return Ee(n,{code:pe.invalid_union,unionErrors:o}),tt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Jn(c));return Ee(n,{code:pe.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}bh.create=(e,t)=>new bh({options:e,typeName:nt.ZodUnion,...ut(t)});const Bi=e=>e instanceof Nh?Bi(e.schema):e instanceof Yr?Bi(e.innerType()):e instanceof Sh?[e.value]:e instanceof yo?e.options:e instanceof Ch?Ct.objectValues(e.enum):e instanceof kh?Bi(e._def.innerType):e instanceof yh?[void 0]:e instanceof vh?[null]:e instanceof Si?[void 0,...Bi(e.unwrap())]:e instanceof vo?[null,...Bi(e.unwrap())]:e instanceof eN||e instanceof Th?Bi(e.unwrap()):e instanceof _h?Bi(e._def.innerType):[];class Ix extends gt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.object)return Ee(n,{code:pe.invalid_type,expected:Me.object,received:n.parsedType}),tt;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ee(n,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const o=Bi(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Ix({typeName:nt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...ut(r)})}}function lb(e,t){const n=qi(e),r=qi(t);if(e===t)return{valid:!0,data:e};if(n===Me.object&&r===Me.object){const i=Ct.objectKeys(t),a=Ct.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=lb(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Me.array&&r===Me.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=lb(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Me.date&&r===Me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class jh extends gt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(ab(a)||ab(o))return tt;const l=lb(a.value,o.value);return l.valid?((ob(a)||ob(o))&&n.dirty(),{status:n.value,value:l.data}):(Ee(r,{code:pe.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jh.create=(e,t,n)=>new jh({left:e,right:t,typeName:nt.ZodIntersection,...ut(n)});class Di extends gt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.array)return Ee(r,{code:pe.invalid_type,expected:Me.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Ee(r,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ai(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>un.mergeArray(n,o)):un.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Di({...this._def,rest:t})}}Di.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:e,typeName:nt.ZodTuple,rest:null,...ut(t)})};class wh extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.object)return Ee(r,{code:pe.invalid_type,expected:Me.object,received:r.parsedType}),tt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Ai(r,l,r.path,l)),value:o._parse(new Ai(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?un.mergeObjectAsync(n,i):un.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof gt?new wh({keyType:t,valueType:n,typeName:nt.ZodRecord,...ut(r)}):new wh({keyType:Br.create(),valueType:t,typeName:nt.ZodRecord,...ut(n)})}}class lg extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.map)return Ee(r,{code:pe.invalid_type,expected:Me.map,received:r.parsedType}),tt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Ai(r,l,r.path,[d,"key"])),value:a._parse(new Ai(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}lg.create=(e,t,n)=>new lg({valueType:t,keyType:e,typeName:nt.ZodMap,...ut(n)});class Cl extends gt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.set)return Ee(r,{code:pe.invalid_type,expected:Me.set,received:r.parsedType}),tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ee(r,{code:pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ee(r,{code:pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return tt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ai(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Cl({...this._def,minSize:{value:t,message:ze.toString(n)}})}max(t,n){return new Cl({...this._def,maxSize:{value:t,message:ze.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Cl.create=(e,t)=>new Cl({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...ut(t)});class yc extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.function)return Ee(n,{code:pe.invalid_type,expected:Me.function,received:n.parsedType}),tt;function r(l,c){return ig({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rg(),xd].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function i(l,c){return ig({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rg(),xd].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof vd){const l=this;return Sn(async function(...c){const d=new Jn([]),h=await l._def.args.parseAsync(c,a).catch(f=>{throw d.addIssue(r(c,f)),d}),u=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(u,a).catch(f=>{throw d.addIssue(i(u,f)),d})})}else{const l=this;return Sn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Jn([r(c,d.error)]);const h=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(h,a);if(!u.success)throw new Jn([i(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yc({...this._def,args:Di.create(t).rest(ul.create())})}returns(t){return new yc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new yc({args:t||Di.create([]).rest(ul.create()),returns:n||ul.create(),typeName:nt.ZodFunction,...ut(r)})}}class Nh extends gt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Nh.create=(e,t)=>new Nh({getter:e,typeName:nt.ZodLazy,...ut(t)});class Sh extends gt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ee(n,{received:n.data,code:pe.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Sh.create=(e,t)=>new Sh({value:e,typeName:nt.ZodLiteral,...ut(t)});function HR(e,t){return new yo({values:e,typeName:nt.ZodEnum,...ut(t)})}class yo extends gt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ee(n,{expected:Ct.joinValues(r),received:n.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ee(n,{received:n.data,code:pe.invalid_enum_value,options:r}),tt}return Sn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return yo.create(t,{...this._def,...n})}exclude(t,n=this._def){return yo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}yo.create=HR;class Ch extends gt{_parse(t){const n=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const i=Ct.objectValues(n);return Ee(r,{expected:Ct.joinValues(i),received:r.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(Ct.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Ct.objectValues(n);return Ee(r,{received:r.data,code:pe.invalid_enum_value,options:i}),tt}return Sn(t.data)}get enum(){return this._def.values}}Ch.create=(e,t)=>new Ch({values:e,typeName:nt.ZodNativeEnum,...ut(t)});class vd extends gt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.promise&&n.common.async===!1)return Ee(n,{code:pe.invalid_type,expected:Me.promise,received:n.parsedType}),tt;const r=n.parsedType===Me.promise?n.data:Promise.resolve(n.data);return Sn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vd.create=(e,t)=>new vd({type:e,typeName:nt.ZodPromise,...ut(t)});class Yr extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Ee(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||n.value==="dirty"?Jl(c.value):c});{if(n.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||n.value==="dirty"?Jl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nl(o))return tt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Nl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):tt);Ct.assertNever(i)}}Yr.create=(e,t,n)=>new Yr({schema:e,typeName:nt.ZodEffects,effect:t,...ut(n)});Yr.createWithPreprocess=(e,t,n)=>new Yr({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...ut(n)});class Si extends gt{_parse(t){return this._getType(t)===Me.undefined?Sn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Si.create=(e,t)=>new Si({innerType:e,typeName:nt.ZodOptional,...ut(t)});class vo extends gt{_parse(t){return this._getType(t)===Me.null?Sn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vo.create=(e,t)=>new vo({innerType:e,typeName:nt.ZodNullable,...ut(t)});class kh extends gt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}kh.create=(e,t)=>new kh({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class _h extends gt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_h.create=(e,t)=>new _h({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class cg extends gt{_parse(t){if(this._getType(t)!==Me.nan){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.nan,received:r.parsedType}),tt}return{status:"valid",value:t.data}}}cg.create=e=>new cg({typeName:nt.ZodNaN,...ut(e)});const MZ=Symbol("zod_brand");class eN extends gt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Cm extends gt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(n.dirty(),Jl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Cm({in:t,out:n,typeName:nt.ZodPipeline})}}class Th extends gt{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Nl(i)&&(i.value=Object.freeze(i.value)),i);return gh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Th.create=(e,t)=>new Th({innerType:e,typeName:nt.ZodReadonly,...ut(t)});function W2(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function tN(e,t={},n){return e?yd.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=W2(t,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=W2(t,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):yd.create()}const IZ={object:is.lazycreate};var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const RZ=(e,t={message:`Input not instance of ${e.name}`})=>tN(n=>n instanceof e,t),Ae=Br.create,zs=go.create,FZ=cg.create,OZ=xo.create,ko=xh.create,LZ=Sl.create,$Z=ag.create,UZ=yh.create,WR=vh.create,dg=yd.create,BZ=ul.create,zZ=da.create,VZ=og.create,sN=Wr.create,Ns=is.create,qZ=is.strictCreate,nN=bh.create,HZ=Ix.create,WZ=jh.create,GZ=Di.create,GR=wh.create,KZ=lg.create,QZ=Cl.create,YZ=yc.create,XZ=Nh.create,KR=Sh.create,kl=yo.create,ZZ=Ch.create,JZ=vd.create,G2=Yr.create,eJ=Si.create,tJ=vo.create,sJ=Yr.createWithPreprocess,nJ=Cm.create,rJ=()=>Ae().optional(),iJ=()=>zs().optional(),aJ=()=>ko().optional(),oJ={string:e=>Br.create({...e,coerce:!0}),number:e=>go.create({...e,coerce:!0}),boolean:e=>xh.create({...e,coerce:!0}),bigint:e=>xo.create({...e,coerce:!0}),date:e=>Sl.create({...e,coerce:!0})},lJ=tt,cJ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:MZ,DIRTY:Jl,EMPTY_PATH:uZ,INVALID:tt,NEVER:lJ,OK:Sn,ParseStatus:un,Schema:gt,ZodAny:yd,ZodArray:Wr,ZodBigInt:xo,ZodBoolean:xh,ZodBranded:eN,ZodCatch:_h,ZodDate:Sl,ZodDefault:kh,ZodDiscriminatedUnion:Ix,ZodEffects:Yr,ZodEnum:yo,ZodError:Jn,get ZodFirstPartyTypeKind(){return nt},ZodFunction:yc,ZodIntersection:jh,ZodIssueCode:pe,ZodLazy:Nh,ZodLiteral:Sh,ZodMap:lg,ZodNaN:cg,ZodNativeEnum:Ch,ZodNever:da,ZodNull:vh,ZodNullable:vo,ZodNumber:go,ZodObject:is,ZodOptional:Si,ZodParsedType:Me,ZodPipeline:Cm,ZodPromise:vd,ZodReadonly:Th,ZodRecord:wh,ZodSchema:gt,ZodSet:Cl,ZodString:Br,ZodSymbol:ag,ZodTransformer:Yr,ZodTuple:Di,ZodType:gt,ZodUndefined:yh,ZodUnion:bh,ZodUnknown:ul,ZodVoid:og,addIssueToContext:Ee,any:dg,array:sN,bigint:OZ,boolean:ko,coerce:oJ,custom:tN,date:LZ,datetimeRegex:qR,defaultErrorMap:xd,discriminatedUnion:HZ,effect:G2,enum:kl,function:YZ,getErrorMap:rg,getParsedType:qi,instanceof:RZ,intersection:WZ,isAborted:ab,isAsync:gh,isDirty:ob,isValid:Nl,late:IZ,lazy:XZ,literal:KR,makeIssue:ig,map:KZ,nan:FZ,nativeEnum:ZZ,never:zZ,null:WR,nullable:tJ,number:zs,object:Ns,get objectUtil(){return ib},oboolean:aJ,onumber:iJ,optional:eJ,ostring:rJ,pipeline:nJ,preprocess:sJ,promise:JZ,quotelessJson:cZ,record:GR,set:QZ,setErrorMap:dZ,strictObject:qZ,string:Ae,symbol:$Z,transformer:G2,tuple:GZ,undefined:UZ,union:nN,unknown:BZ,get util(){return Ct},void:VZ},Symbol.toStringTag,{value:"Module"})),rs={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function fs(e,t){return t.includes(e.columnType)}function dJ(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const uJ=nN([Ae(),zs(),ko(),WR()]),hJ=nN([uJ,GR(dg()),sN(dg())]),mJ=tN(e=>e instanceof Buffer);function QR(e,t){const n=(t==null?void 0:t.zodInstance)??cJ,r=(t==null?void 0:t.coerce)??{};let i;return dJ(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(fs(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):fs(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):fs(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):fs(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):fs(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):fs(e,["PgArray"])?(i=n.array(QR(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=pJ(e,n,r):e.dataType==="bigint"?i=fJ(e,n,r):e.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?i=gJ(e,n,r):e.dataType==="json"?i=hJ:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=mJ)),i||(i=n.any()),i}function pJ(e,t,n){let r=e.getSQLType().includes("unsigned"),i,a,o=!1;fs(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:rs.INT8_MIN,a=r?rs.INT8_UNSIGNED_MAX:rs.INT8_MAX,o=!0):fs(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:rs.INT16_MIN,a=r?rs.INT16_UNSIGNED_MAX:rs.INT16_MAX,o=!0):fs(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:rs.INT24_MIN,a=r?rs.INT24_UNSIGNED_MAX:rs.INT24_MAX,o=fs(e,["MySqlMediumInt","SingleStoreMediumInt"])):fs(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:rs.INT32_MIN,a=r?rs.INT32_UNSIGNED_MAX:rs.INT32_MAX,o=!0):fs(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:rs.INT48_MIN,a=r?rs.INT48_UNSIGNED_MAX:rs.INT48_MAX):fs(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||fs(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):fs(e,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(i).max(a),o?l.int():l}function fJ(e,t,n){const r=e.getSQLType().includes("unsigned"),i=r?0n:rs.INT64_MIN,a=r?rs.INT64_UNSIGNED_MAX:rs.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(i).max(a)}function gJ(e,t,n){if(fs(e,["PgUUID"]))return t.string().uuid();let r,i,a=!1;fs(e,["PgVarchar","SQLiteText"])?r=e.length:fs(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??rs.INT16_UNSIGNED_MAX:fs(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=rs.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=rs.INT24_UNSIGNED_MAX:e.textType==="text"?r=rs.INT16_UNSIGNED_MAX:r=rs.INT8_UNSIGNED_MAX),fs(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),fs(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function YR(e){return d3(e)?LX(e):$X(e)}function XR(e,t,n,r){const i={};for(const[a,o]of Object.entries(e)){if(!Qs(o,fd)&&!Qs(o,Is)&&!Qs(o,Is.Aliased)&&typeof o=="object"){const u=d3(o)||OX(o)?YR(o):o;i[a]=XR(u,t[a]??{},n,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Qs(o,fd)?o:void 0,d=c?QR(c,r):dg(),h=typeof l=="function"?l(d):d;n.never(c)||(i[a]=h,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return Ns(i)}const xJ={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Se=(e,t)=>{const n=YR(e);return XR(n,{},xJ)},yJ=je("bank_accounts",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),accountName:ke("account_name",{length:255}).notNull(),accountType:ke("account_type",{length:50}).notNull(),bankName:ke("bank_name",{length:255}).notNull(),accountNumber:ke("account_number",{length:255}).notNull(),routingNumber:ke("routing_number",{length:255}),balance:cn("balance",{precision:12,scale:2}).default("0"),isActive:Ne("is_active").default(!0),plaidAccountId:ke("plaid_account_id",{length:255}),plaidAccessToken:R("plaid_access_token"),lastSynced:W("last_synced").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),vJ=je("bill_payments",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billId:z("bill_id").notNull(),bankAccountId:z("bank_account_id").notNull(),payeeWebsite:ke("payee_website",{length:255}).notNull(),payeeAccountNumber:ke("payee_account_number",{length:255}).notNull(),payeeLoginCredentials:R("payee_login_credentials"),isAutoPay:Ne("is_auto_pay").default(!1),paymentAmount:cn("payment_amount",{precision:10,scale:2}).notNull(),paymentDate:z("payment_date").notNull(),isActive:Ne("is_active").default(!0),lastPaymentDate:W("last_payment_date"),nextPaymentDate:W("next_payment_date").notNull(),status:ke("status",{length:50}).default("active"),failureReason:R("failure_reason"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),bJ=je("payment_transactions",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billPaymentId:z("bill_payment_id").notNull(),bankAccountId:z("bank_account_id").notNull(),amount:cn("amount",{precision:10,scale:2}).notNull(),status:ke("status",{length:50}).notNull(),transactionId:ke("transaction_id",{length:255}),confirmationNumber:ke("confirmation_number",{length:255}),errorMessage:R("error_message"),initiatedAt:W("initiated_at").defaultNow(),completedAt:W("completed_at"),metadata:Mx("metadata")}),jJ=je("payment_limits",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),limitType:ke("limit_type",{length:50}).notNull(),amount:cn("amount",{precision:10,scale:2}).notNull(),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("balance_history",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),bankAccountId:z("bank_account_id").notNull(),balance:cn("balance",{precision:12,scale:2}).notNull(),recordedAt:W("recorded_at").defaultNow()});const wJ=je("payee_credentials",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),payeeName:ke("payee_name",{length:255}).notNull(),website:ke("website",{length:255}).notNull(),loginUsername:R("login_username"),loginPassword:R("login_password"),accountNumber:R("account_number"),additionalFields:Mx("additional_fields"),isActive:Ne("is_active").default(!0),lastVerified:W("last_verified"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se(yJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastSynced:!0});Se(vJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastPaymentDate:!0});Se(bJ).omit({id:!0,initiatedAt:!0,completedAt:!0});Se(jJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(wJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerified:!0});const Je=je("users",{id:_e("id").primaryKey(),username:R("username").notNull().unique(),password:R("password").notNull(),name:R("name").notNull(),email:R("email").unique(),accountType:R("account_type").notNull().default("user"),subscriptionTier:R("subscription_tier").notNull().default("free"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),subscriptionStatus:R("subscription_status").default("inactive"),subscriptionExpiresAt:W("subscription_expires_at"),streakDays:z("streak_days").default(0),createdBy:z("created_by"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),NJ=je("caregiver_invitations",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userEmail:R("user_email"),userName:R("user_name").notNull(),userAge:z("user_age"),invitationCode:R("invitation_code").notNull().unique(),status:R("status").notNull().default("pending"),relationship:R("relationship").notNull(),permissionsGranted:xi("permissions_granted"),expiresAt:W("expires_at").notNull(),acceptedAt:W("accepted_at"),acceptedBy:z("accepted_by"),createdAt:W("created_at").defaultNow()}),SJ=je("daily_tasks",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),frequency:R("frequency").notNull().default("daily"),estimatedMinutes:z("estimated_minutes").notNull(),pointValue:z("point_value").default(0),scheduledTime:gd("scheduled_time"),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),dueDate:W("due_date"),lastCompleted:W("last_completed"),lastReminderSent:W("last_reminder_sent"),lastOverdueReminder:W("last_overdue_reminder")}),ZR=je("bills",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),amount:Ei("amount").notNull(),dueDate:z("due_date").notNull(),isRecurring:Ne("is_recurring").default(!0),isPaid:Ne("is_paid").default(!1),category:R("category").notNull(),payeeWebsite:R("payee_website"),payeeAccountNumber:R("payee_account_number")}),CJ=je("feedback",{id:_e("id").primaryKey(),userId:z("user_id"),rating:z("rating").notNull(),category:R("category").notNull(),message:R("message").notNull(),page:R("page"),userAgent:R("user_agent"),isResolved:Ne("is_resolved").default(!1),adminNotes:R("admin_notes"),createdAt:W("created_at").defaultNow()}),kJ=je("bank_accounts",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),accountName:R("account_name").notNull(),bankName:R("bank_name").notNull(),accountType:R("account_type").notNull(),accountNickname:R("account_nickname"),bankWebsite:R("bank_website"),lastFour:R("last_four"),balance:Ei("balance").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),_J=je("savings_goals",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),targetAmount:Ei("target_amount").notNull(),currentAmount:Ei("current_amount").default(0),targetDate:W("target_date"),category:R("category").notNull(),priority:R("priority").notNull().default("medium"),isActive:Ne("is_active").default(!0),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),TJ=je("savings_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),savingsGoalId:z("savings_goal_id").notNull(),amount:Ei("amount").notNull(),transactionType:R("transaction_type").notNull(),description:R("description"),transactionDate:W("transaction_date").defaultNow(),createdAt:W("created_at").defaultNow()}),PJ=je("mood_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mood:z("mood").notNull(),notes:R("notes"),entryDate:W("entry_date").defaultNow()}),EJ=je("achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),type:R("type").notNull(),title:R("title").notNull(),description:R("description").notNull(),icon:R("icon").notNull(),earnedAt:W("earned_at").defaultNow()}),AJ=je("user_caregiver_connections",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isEmergencyContact:Ne("is_emergency_contact").default(!1),connectionStatus:R("connection_status").notNull().default("active"),isPrimaryCaregiver:Ne("is_primary_caregiver").default(!1),canModifySettings:Ne("can_modify_settings").default(!0),canAccessLocation:Ne("can_access_location").default(!0),canReceiveAlerts:Ne("can_receive_alerts").default(!0),connectedAt:W("connected_at").defaultNow(),notes:R("notes")}),DJ=je("care_relationships",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userId:z("user_id").notNull(),relationship:R("relationship").notNull(),isPrimary:Ne("is_primary").default(!1),isActive:Ne("is_active").default(!0),establishedAt:W("established_at").defaultNow(),establishedVia:R("established_via").default("invitation")}),MJ=je("caregiver_permissions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),permissionType:R("permission_type").notNull(),isGranted:Ne("is_granted").default(!0),isLocked:Ne("is_locked").default(!1),grantedBy:z("granted_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),IJ=je("locked_user_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),settingKey:R("setting_key").notNull(),settingValue:R("setting_value").notNull(),isLocked:Ne("is_locked").default(!0),lockedBy:z("locked_by").notNull(),lockReason:R("lock_reason"),canUserView:Ne("can_user_view").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),RJ=je("invitation_codes",{id:_e("id").primaryKey(),code:R("code").notNull().unique(),createdByUserId:z("created_by_user_id").notNull(),targetUserType:R("target_user_type").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isUsed:Ne("is_used").default(!1),usedByUserId:z("used_by_user_id"),expiresAt:W("expires_at").notNull(),createdAt:W("created_at").defaultNow(),usedAt:W("used_at")}),FJ=je("caregivers",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),relationship:R("relationship").notNull(),email:R("email"),isActive:Ne("is_active").default(!0)}),JR=je("messages",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),content:R("content").notNull(),fromUser:Ne("from_user").notNull(),sentAt:W("sent_at").defaultNow()}),OJ=je("budget_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),category:R("category").notNull(),amount:Ei("amount").notNull(),type:R("type").notNull(),description:R("description"),savingsGoalId:z("savings_goal_id"),isRecurring:Ne("is_recurring").default(!1),recurringFrequency:R("recurring_frequency"),entryDate:W("entry_date").defaultNow(),createdAt:W("created_at").defaultNow()}),LJ=je("budget_categories",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),type:R("type").notNull(),budgetedAmount:Ei("budgeted_amount").default(0),color:R("color").default("#6B7280"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),$J=je("appointments",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),appointmentDate:R("appointment_date").notNull(),location:R("location"),provider:R("provider"),isCompleted:Ne("is_completed").default(!1),reminderSet:Ne("reminder_set").default(!1),createdAt:W("created_at").defaultNow()}),UJ=je("meal_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mealType:R("meal_type").notNull(),mealName:R("meal_name").notNull(),plannedDate:R("planned_date").notNull(),isCompleted:Ne("is_completed").default(!1),recipe:R("recipe"),cookingTime:z("cooking_time"),createdAt:W("created_at").defaultNow()}),eF=je("grocery_stores",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:ke("name").notNull(),website:ke("website"),onlineOrderingUrl:ke("online_ordering_url"),address:R("address"),phoneNumber:ke("phone_number"),isPreferred:Ne("is_preferred").default(!1),deliveryAvailable:Ne("delivery_available").default(!1),pickupAvailable:Ne("pickup_available").default(!1),createdAt:W("created_at").defaultNow()}),BJ=je("shopping_lists",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),storeId:z("store_id").references(()=>eF.id),itemName:R("item_name").notNull(),category:R("category").notNull(),quantity:R("quantity"),isPurchased:Ne("is_purchased").default(!1),estimatedCost:Ei("estimated_cost"),actualCost:Ei("actual_cost"),addedDate:W("added_date").defaultNow(),purchasedDate:W("purchased_date")}),zJ=je("emergency_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name").notNull(),resourceType:ke("resource_type").notNull(),phoneNumber:ke("phone_number"),address:R("address"),description:R("description"),isAvailable24_7:Ne("is_available_24_7").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("audit_logs",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id),action:ke("action",{length:100}).notNull(),resource:ke("resource",{length:100}).notNull(),resourceId:ke("resource_id",{length:100}),ipAddress:ke("ip_address",{length:45}),userAgent:R("user_agent"),success:Ne("success").notNull(),errorMessage:R("error_message"),metadata:R("metadata"),timestamp:W("timestamp").defaultNow().notNull()});const VJ=je("user_privacy_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),dataProcessingConsent:Ne("data_processing_consent").default(!1),analyticsConsent:Ne("analytics_consent").default(!1),marketingConsent:Ne("marketing_consent").default(!1),caregiverDataSharing:Ne("caregiver_data_sharing").default(!0),healthDataSharing:Ne("health_data_sharing").default(!1),dataRetentionPeriod:z("data_retention_period").default(365),consentDate:W("consent_date").defaultNow(),lastUpdated:W("last_updated").defaultNow()}),qJ=je("data_access_requests",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),requestType:ke("request_type",{length:50}).notNull(),status:ke("status",{length:20}).default("pending"),requestData:R("request_data"),responseData:R("response_data"),requestedAt:W("requested_at").defaultNow(),processedAt:W("processed_at"),expiresAt:W("expires_at")}),Rx=je("pharmacies",{id:_e("id").primaryKey(),name:ke("name").notNull(),type:ke("type").notNull(),address:R("address"),phoneNumber:ke("phone_number"),hours:R("hours"),website:ke("website"),refillUrl:ke("refill_url"),apiEndpoint:ke("api_endpoint"),isActive:Ne("is_active").default(!0),isCustom:Ne("is_custom").default(!1),createdBy:z("created_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),HJ=je("user_pharmacies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Rx.id),isPrimary:Ne("is_primary").default(!1),accountNumber:ke("account_number"),membershipId:ke("membership_id"),preferredPickupTime:ke("preferred_pickup_time"),hasInsurance:Ne("has_insurance").default(!0),insuranceProvider:ke("insurance_provider"),insuranceGroupNumber:ke("insurance_group_number"),insuranceMemberId:ke("insurance_member_id"),autoRefillEnabled:Ne("auto_refill_enabled").default(!1),textNotifications:Ne("text_notifications").default(!0),emailNotifications:Ne("email_notifications").default(!0),createdAt:W("created_at").defaultNow()}),tF=je("medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),prescriptionNumber:ke("prescription_number"),medicationName:ke("medication_name").notNull(),dosage:ke("dosage"),quantity:z("quantity"),refillsRemaining:z("refills_remaining").default(0),prescribedBy:ke("prescribed_by"),pharmacyId:z("pharmacy_id").references(()=>Rx.id),lastFilled:W("last_filled"),nextRefillDate:W("next_refill_date"),instructions:R("instructions"),pillColor:ke("pill_color"),pillShape:ke("pill_shape"),pillSize:ke("pill_size"),pillMarkings:R("pill_markings"),pillDescription:R("pill_description"),isActive:Ne("is_active").default(!0),reminderEnabled:Ne("reminder_enabled").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),WJ=je("refill_orders",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationId:z("medication_id").notNull().references(()=>tF.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Rx.id),orderNumber:ke("order_number"),status:ke("status").notNull().default("pending"),orderDate:W("order_date").defaultNow(),readyDate:W("ready_date"),pickupMethod:ke("pickup_method").default("in_store"),trackingNumber:ke("tracking_number"),totalCost:cn("total_cost"),insuranceCovered:cn("insurance_covered"),copay:cn("copay"),notes:R("notes"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),GJ=je("allergies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),allergen:ke("allergen",{length:255}).notNull(),severity:ke("severity",{length:50}).notNull(),reaction:R("reaction"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),KJ=je("medical_conditions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),condition:ke("condition",{length:255}).notNull(),diagnosedDate:W("diagnosed_date"),status:ke("status",{length:50}).notNull().default("active"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),QJ=je("adverse_medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationName:ke("medication_name",{length:255}).notNull(),reaction:R("reaction").notNull(),severity:ke("severity",{length:50}).notNull(),reactionDate:W("reaction_date"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),YJ=je("emergency_contacts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),relationship:ke("relationship",{length:100}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),isEmergencyContact:Ne("is_emergency_contact").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),XJ=je("primary_care_providers",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),specialty:ke("specialty",{length:100}).notNull(),practiceName:ke("practice_name",{length:255}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),ZJ=je("symptom_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),symptomName:ke("symptom_name",{length:255}).notNull(),severity:z("severity").notNull(),startTime:W("start_time").notNull(),endTime:W("end_time"),triggers:R("triggers"),location:ke("location",{length:255}),description:R("description"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),JJ=je("personal_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:ke("title",{length:200}).notNull(),url:R("url").notNull(),description:R("description"),category:ke("category",{length:50}).notNull(),tags:R("tags"),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),createdAt:W("created_at").defaultNow(),lastAccessedAt:W("last_accessed_at")}),eee=je("bus_schedules",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:ke("route_name",{length:100}).notNull(),routeNumber:ke("route_number",{length:20}),stopName:ke("stop_name",{length:200}).notNull(),stopAddress:R("stop_address"),direction:ke("direction",{length:50}),departureTime:ke("departure_time",{length:10}).notNull(),daysOfWeek:R("days_of_week").notNull(),isFrequent:Ne("is_frequent").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),tee=je("emergency_treatment_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planName:ke("plan_name",{length:200}).notNull(),conditionType:ke("condition_type",{length:100}).notNull(),symptoms:R("symptoms").notNull(),immediateActions:R("immediate_actions").notNull(),medications:R("medications"),emergencyContacts:R("emergency_contacts"),hospitalPreference:ke("hospital_preference",{length:200}),importantNotes:R("important_notes"),isActive:Ne("is_active").default(!0),lastReviewed:W("last_reviewed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),sF=je("geofences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),latitude:cn("latitude",{precision:10,scale:8}).notNull(),longitude:cn("longitude",{precision:11,scale:8}).notNull(),radius:z("radius").notNull(),isActive:Ne("is_active").default(!0),notifyOnExit:Ne("notify_on_exit").default(!0),notifyOnEnter:Ne("notify_on_enter").default(!1),caregiverIds:z("caregiver_ids").array(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),see=je("geofence_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),geofenceId:z("geofence_id").notNull().references(()=>sF.id),eventType:ke("event_type",{length:50}).notNull(),latitude:cn("latitude",{precision:10,scale:8}).notNull(),longitude:cn("longitude",{precision:11,scale:8}).notNull(),timestamp:W("timestamp").defaultNow(),notificationSent:Ne("notification_sent").default(!1)}),nee=Se(Je).omit({id:!0,streakDays:!0,createdAt:!0});Ns({username:Ae().min(1,"Username is required"),password:Ae().min(1,"Password is required")});nee.extend({confirmPassword:Ae().min(1,"Please confirm your password"),accountType:kl(["user","caregiver"]).default("user")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});Se(AJ).omit({id:!0,connectedAt:!0});Se(RJ).omit({id:!0,createdAt:!0,usedAt:!0,isUsed:!0,usedByUserId:!0});Se(SJ).omit({id:!0,completedAt:!0,lastCompleted:!0,lastReminderSent:!0,lastOverdueReminder:!0});Se(ZR).omit({id:!0});Se(PJ).omit({id:!0,entryDate:!0});Se(EJ).omit({id:!0,earnedAt:!0});Se(FJ).omit({id:!0});Se(JR).omit({id:!0,sentAt:!0});Se(OJ).omit({id:!0,entryDate:!0,createdAt:!0});const ree=Se($J).omit({id:!0,createdAt:!0}),iee=Se(UJ).omit({id:!0,createdAt:!0});Se(eF).omit({id:!0,createdAt:!0});const aee=Se(BJ).omit({id:!0,addedDate:!0,purchasedDate:!0}),oee=Se(zJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(VJ).omit({id:!0,consentDate:!0,lastUpdated:!0});Se(qJ).omit({id:!0,requestedAt:!0,processedAt:!0,expiresAt:!0});Se(Rx).omit({id:!0,createdAt:!0,updatedAt:!0});Se(HJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(tF).omit({id:!0,createdAt:!0,updatedAt:!0});Se(WJ).omit({id:!0,orderDate:!0,createdAt:!0,updatedAt:!0});Se(GJ).omit({id:!0,createdAt:!0});Se(KJ).omit({id:!0,createdAt:!0});Se(QJ).omit({id:!0,createdAt:!0});Se(YJ).omit({id:!0,createdAt:!0});Se(XJ).omit({id:!0,createdAt:!0});const K2=Se(ZJ).omit({id:!0,userId:!0,createdAt:!0}),lee=Se(JJ).omit({id:!0,accessCount:!0,createdAt:!0,lastAccessedAt:!0});Se(eee).omit({id:!0,createdAt:!0});Se(tee).omit({id:!0,createdAt:!0,updatedAt:!0,lastReviewed:!0});Se(sF).omit({id:!0,createdAt:!0,updatedAt:!0});Se(see).omit({id:!0,timestamp:!0});Se(CJ);Se(kJ).omit({id:!0,accountName:!0,balance:!0,createdAt:!0,updatedAt:!0});Se(_J).omit({id:!0,currentAmount:!0,isCompleted:!0,completedAt:!0,createdAt:!0,updatedAt:!0});Se(TJ).omit({id:!0,createdAt:!0});Se(LJ).omit({id:!0,createdAt:!0,updatedAt:!0});const cee=je("notifications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),type:R("type").notNull(),title:R("title").notNull(),message:R("message").notNull(),isRead:Ne("is_read").default(!1),scheduledFor:W("scheduled_for"),sentAt:W("sent_at"),relatedId:z("related_id"),priority:R("priority").default("normal"),createdAt:W("created_at").defaultNow()}),dee=je("user_preferences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),notificationSettings:xi("notification_settings").default({}),reminderTiming:xi("reminder_timing").default({}),themeSettings:xi("theme_settings").default({}),accessibilitySettings:xi("accessibility_settings").default({}),behaviorPatterns:xi("behavior_patterns").default({}),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),uee=je("payment_analytics",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id,{onDelete:"cascade"}).notNull(),eventType:R("event_type").notNull(),paymentMethod:R("payment_method"),billId:z("bill_id").references(()=>ZR.id,{onDelete:"cascade"}),plaidApiCall:R("plaid_api_call"),estimatedCost:cn("estimated_cost",{precision:10,scale:4}),metadata:Mx("metadata"),createdAt:W("created_at").defaultNow().notNull()});Se(uee).omit({id:!0,createdAt:!0});const hee=je("user_achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),achievementType:R("achievement_type").notNull(),title:R("title").notNull(),description:R("description").notNull(),iconName:R("icon_name").notNull(),earnedAt:W("earned_at").defaultNow(),category:R("category").notNull(),points:z("points").default(0),level:z("level").default(1)}),mee=je("streak_tracking",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),streakType:R("streak_type").notNull(),currentStreak:z("current_streak").default(0),longestStreak:z("longest_streak").default(0),lastActivityDate:Dx("last_activity_date"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),pee=je("voice_interactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),command:R("command").notNull(),transcript:R("transcript").notNull(),action:R("action").notNull(),success:Ne("success").default(!0),createdAt:W("created_at").defaultNow()}),fee=je("quick_responses",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),messageTemplate:R("message_template").notNull(),category:R("category").notNull(),useCount:z("use_count").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),gee=je("message_reactions",{id:_e("id").primaryKey(),messageId:z("message_id").notNull().references(()=>JR.id),userId:z("user_id").notNull().references(()=>Je.id),emoji:R("emoji").notNull(),createdAt:W("created_at").defaultNow()}),xee=je("calendar_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description"),startDate:W("start_date").notNull(),endDate:W("end_date"),allDay:Ne("all_day").default(!1),category:R("category").default("personal"),color:R("color").default("#3b82f6"),location:R("location"),isRecurring:Ne("is_recurring").default(!1),recurrenceRule:R("recurrence_rule"),reminderMinutes:z("reminder_minutes"),isCompleted:Ne("is_completed").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),yee=je("activity_patterns",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),activityType:R("activity_type").notNull(),timeOfDay:gd("time_of_day"),dayOfWeek:z("day_of_week"),frequency:z("frequency").default(1),lastUpdated:W("last_updated").defaultNow()}),km=je("academic_classes",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),className:R("class_name").notNull(),instructor:R("instructor"),room:R("room"),building:R("building"),dayOfWeek:z("day_of_week").notNull(),startTime:gd("start_time").notNull(),endTime:gd("end_time").notNull(),semester:R("semester").notNull(),credits:z("credits"),isActive:Ne("is_active").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),vee=je("study_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>km.id),subject:R("subject").notNull(),duration:z("duration").notNull(),technique:R("technique"),location:R("location"),effectiveness:z("effectiveness"),notes:R("notes"),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at")}),bee=je("assignments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>km.id),title:R("title").notNull(),description:R("description"),type:R("type").notNull(),dueDate:W("due_date").notNull(),estimatedHours:z("estimated_hours"),priority:R("priority").default("medium"),status:R("status").default("not_started"),grade:R("grade"),submittedAt:W("submitted_at"),createdAt:W("created_at").defaultNow()}),jee=je("campus_locations",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),building:R("building"),floor:R("floor"),description:R("description"),category:R("category").notNull().default("academic"),createdAt:W("created_at").defaultNow()}),wee=je("campus_transport",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:R("route_name").notNull(),fromStop:R("from_stop").notNull(),toStop:R("to_stop"),departureTime:R("departure_time"),estimatedDuration:z("estimated_duration").default(15),createdAt:W("created_at").defaultNow()}),Nee=je("study_groups",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>km.id),groupName:R("group_name").notNull(),meetingTime:W("meeting_time"),location:R("location"),members:R("members").array(),topics:R("topics").array(),isRecurring:Ne("is_recurring").default(!1),recurringPattern:R("recurring_pattern"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),See=je("academic_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>km.id),title:R("title").notNull(),type:R("type").notNull(),url:R("url"),description:R("description"),rating:z("rating"),tags:R("tags").array(),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),lastAccessed:W("last_accessed"),createdAt:W("created_at").defaultNow()}),Cee=je("transition_skills",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),description:R("description"),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),practiceActivities:R("practice_activities").array(),milestones:xi("milestones").default("[]"),lastPracticed:W("last_practiced"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),rN=je("task_templates",{id:_e("id").primaryKey(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),difficulty:R("difficulty").notNull().default("beginner"),estimatedMinutes:z("estimated_minutes").notNull(),icon:R("icon").default("CheckSquare"),color:R("color").default("blue"),isPublic:Ne("is_public").default(!0),createdBy:z("created_by"),createdAt:W("created_at").defaultNow()}),kee=je("task_steps",{id:_e("id").primaryKey(),templateId:z("template_id").notNull().references(()=>rN.id),stepNumber:z("step_number").notNull(),title:R("title").notNull(),description:R("description").notNull(),visualAid:R("visual_aid"),estimatedMinutes:z("estimated_minutes").default(1),tips:R("tips"),safetyNotes:R("safety_notes")}),_ee=je("user_task_instances",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),templateId:z("template_id").notNull().references(()=>rN.id),currentStep:z("current_step").default(1),isCompleted:Ne("is_completed").default(!1),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at"),notes:R("notes"),difficulty:R("difficulty").notNull(),stepProgress:xi("step_progress").default("{}")}),Tee=je("skill_assessments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),assessmentDate:W("assessment_date").defaultNow(),assessedBy:R("assessed_by"),notes:R("notes"),recommendedActivities:R("recommended_activities").array(),nextAssessment:W("next_assessment")}),Pee=je("visual_routines",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routineName:R("routine_name").notNull(),routineType:R("routine_type").notNull(),isActive:Ne("is_active").default(!0),estimatedMinutes:z("estimated_minutes"),reminderTime:gd("reminder_time"),steps:xi("steps").notNull().default("[]"),completionCount:z("completion_count").default(0),lastCompleted:W("last_completed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Od=je("wearable_devices",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),type:R("type").notNull(),brand:R("brand").notNull(),model:R("model").notNull(),deviceId:R("device_id").unique(),isConnected:Ne("is_connected").default(!1),lastSync:W("last_sync"),batteryLevel:z("battery_level"),firmwareVersion:R("firmware_version"),features:R("features").array(),syncFrequency:R("sync_frequency").default("automatic"),isActive:Ne("is_active").default(!0),notes:R("notes"),pairedAt:W("paired_at").defaultNow()}),Eee=je("health_metrics",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Od.id),metricType:R("metric_type").notNull(),value:cn("value",{precision:10,scale:2}).notNull(),unit:R("unit").notNull(),recordedAt:W("recorded_at").notNull(),context:R("context"),accuracy:R("accuracy").default("good"),source:R("source").default("automatic"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Aee=je("activity_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Od.id),activityType:R("activity_type").notNull(),duration:z("duration_minutes").notNull(),distance:cn("distance",{precision:8,scale:2}),caloriesBurned:z("calories_burned"),averageHeartRate:z("average_heart_rate"),maxHeartRate:z("max_heart_rate"),steps:z("steps"),startedAt:W("started_at").notNull(),completedAt:W("completed_at"),location:R("location"),intensity:R("intensity"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Dee=je("sleep_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Od.id),sleepDate:Dx("sleep_date").notNull(),bedtime:W("bedtime"),sleepTime:W("sleep_time"),wakeTime:W("wake_time"),totalSleepDuration:z("total_sleep_duration"),deepSleepDuration:z("deep_sleep_duration"),lightSleepDuration:z("light_sleep_duration"),remSleepDuration:z("rem_sleep_duration"),awakeDuration:z("awake_duration"),sleepEfficiency:cn("sleep_efficiency",{precision:5,scale:2}),sleepScore:z("sleep_score"),heartRateVariability:z("heart_rate_variability"),restingHeartRate:z("resting_heart_rate"),quality:R("quality"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Mee=je("wearable_alerts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Od.id),alertType:R("alert_type").notNull(),title:R("title").notNull(),message:R("message").notNull(),priority:R("priority").default("medium"),isRead:Ne("is_read").default(!1),isAcknowledged:Ne("is_acknowledged").default(!1),triggerValue:R("trigger_value"),actionTaken:R("action_taken"),triggeredAt:W("triggered_at").notNull(),acknowledgedAt:W("acknowledged_at"),resolvedAt:W("resolved_at")}),Iee=je("wearable_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Od.id),settingName:R("setting_name").notNull(),settingValue:R("setting_value").notNull(),isEnabled:Ne("is_enabled").default(!0),lastModified:W("last_modified").defaultNow(),modifiedBy:R("modified_by")});Se(cee).omit({id:!0,sentAt:!0,createdAt:!0});Se(dee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(hee).omit({id:!0,earnedAt:!0});Se(mee).omit({id:!0,createdAt:!0});Se(pee).omit({id:!0,createdAt:!0});Se(fee).omit({id:!0,useCount:!0,createdAt:!0});Se(gee).omit({id:!0,createdAt:!0});Se(yee).omit({id:!0,lastUpdated:!0});Se(xee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(km).omit({id:!0,createdAt:!0});Se(vee).omit({id:!0,startedAt:!0});Se(bee).omit({id:!0,createdAt:!0});Se(jee).omit({id:!0,createdAt:!0});Se(wee).omit({id:!0});Se(Nee).omit({id:!0,createdAt:!0});Se(See).omit({id:!0,accessCount:!0,createdAt:!0});Se(Cee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(MJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(IJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(NJ).omit({id:!0,createdAt:!0});Se(DJ).omit({id:!0,establishedAt:!0});const Ree=je("personal_documents",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),category:R("category").notNull(),description:R("description"),documentType:R("document_type").notNull(),content:R("content"),imageUrl:R("image_url"),fileName:R("file_name"),linkUrl:R("link_url"),tags:R("tags").array(),isImportant:Ne("is_important").default(!1),expirationDate:Dx("expiration_date"),reminderDays:z("reminder_days"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Fee=Se(Ree).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}),nF=je("rewards",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),caregiverId:z("caregiver_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description").notNull(),pointsRequired:z("points_required").notNull(),category:R("category").notNull(),rewardType:R("reward_type").notNull(),value:R("value"),isActive:Ne("is_active").default(!0),maxRedemptions:z("max_redemptions"),currentRedemptions:z("current_redemptions").default(0),expiresAt:W("expires_at"),iconName:R("icon_name").default("gift"),color:R("color").default("#3b82f6"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Oee=je("reward_redemptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),rewardId:z("reward_id").notNull().references(()=>nF.id),pointsSpent:z("points_spent").notNull(),status:R("status").default("pending"),redeemedAt:W("redeemed_at").defaultNow(),fulfilledAt:W("fulfilled_at"),notes:R("notes")}),Lee=je("points_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),points:z("points").notNull(),transactionType:R("transaction_type").notNull(),source:R("source").notNull(),description:R("description").notNull(),awardedBy:z("awarded_by").references(()=>Je.id),createdAt:W("created_at").defaultNow()}),$ee=je("user_points_balance",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),totalPoints:z("total_points").default(0),availablePoints:z("available_points").default(0),lifetimeEarned:z("lifetime_earned").default(0),lifetimeSpent:z("lifetime_spent").default(0),updatedAt:W("updated_at").defaultNow()});Se(rN).omit({id:!0,createdAt:!0});Se(kee).omit({id:!0});Se(_ee).omit({id:!0,startedAt:!0});Se(Tee).omit({id:!0,assessmentDate:!0});Se(Pee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(Od).omit({id:!0,pairedAt:!0});Se(Eee).omit({id:!0,syncedAt:!0});Se(Aee).omit({id:!0,syncedAt:!0});Se(Dee).omit({id:!0,syncedAt:!0});Se(Mee).omit({id:!0});Se(Iee).omit({id:!0,lastModified:!0});const iN=je("subscriptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planType:R("plan_type").notNull(),billingCycle:R("billing_cycle").default("monthly"),status:R("status").notNull().default("active"),currentPeriodStart:W("current_period_start").notNull(),currentPeriodEnd:W("current_period_end").notNull(),cancelAtPeriodEnd:Ne("cancel_at_period_end").default(!1),trialStart:W("trial_start"),trialEnd:W("trial_end"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),priceId:R("price_id"),amount:z("amount"),currency:R("currency").default("usd"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Uee=je("subscription_usage",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>iN.id),featureName:R("feature_name").notNull(),usageCount:z("usage_count").default(0),usageLimit:z("usage_limit"),resetPeriod:R("reset_period").default("monthly"),lastReset:W("last_reset").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Bee=je("payment_history",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>iN.id),stripePaymentIntentId:R("stripe_payment_intent_id"),amount:z("amount").notNull(),currency:R("currency").default("usd"),status:R("status").notNull(),paymentMethod:R("payment_method"),description:R("description"),failureReason:R("failure_reason"),paidAt:W("paid_at"),createdAt:W("created_at").defaultNow()});Se(iN);Se(Uee);Se(Bee);Se(nF).omit({id:!0,currentRedemptions:!0,createdAt:!0,updatedAt:!0});Se(Oee).omit({id:!0,redeemedAt:!0});Se(Lee).omit({id:!0,createdAt:!0});Se($ee).omit({id:!0,updatedAt:!0});function zee(){const[e,t]=b.useState(!1),n=Yt(),{toast:r}=dt(),{data:i,isLoading:a}=xe({queryKey:["/api/appointments"]}),{data:o}=xe({queryKey:["/api/appointments/upcoming"]}),l=Bt({resolver:Vt(ree.omit({userId:!0})),defaultValues:{title:"",description:"",appointmentDate:"",location:"",provider:"",isCompleted:!1,reminderSet:!1}}),c=Ce({mutationFn:async x=>ye("POST","/api/appointments",x),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/appointments"]}),n.invalidateQueries({queryKey:["/api/appointments/upcoming"]}),t(!1),l.reset(),r({title:"Success!",description:"Appointment scheduled successfully"})},onError:x=>{console.error("Failed to create appointment:",x),r({title:"Error",description:"Failed to create appointment. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:x,isCompleted:g})=>ye("PATCH",`/api/appointments/${x}/complete`,{isCompleted:g}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/appointments"]}),n.invalidateQueries({queryKey:["/api/appointments/upcoming"]})}}),h=x=>{if(!x.title||!x.appointmentDate){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}c.mutate(x)},u=x=>{const g=new Date(x),p=new Date,y=new Date(p.getFullYear(),p.getMonth(),p.getDate()),v=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=Math.floor((v.getTime()-y.getTime())/(1e3*60*60*24));let C="";w===0?C="Today":w===1?C="Tomorrow":w===-1?C="Yesterday":w>1?C=`In ${w} days`:C=`${Math.abs(w)} days ago`;const N=g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),S=g.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});return{dayLabel:C,timeStr:N,dateStr:S}},m=x=>{if(x.isCompleted)return"completed";const g=new Date(x.appointmentDate),p=new Date;return g<p?"missed":Math.floor((g.getTime()-p.getTime())/(1e3*60*60))<=24?"upcoming":"scheduled"},f=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"missed":return"bg-red-100 text-red-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},j=x=>{switch(x){case"completed":return"Completed";case"missed":return"Missed";case"upcoming":return"Soon";default:return"Scheduled"}};return a?s.jsxs(L,{className:"h-full",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{children:"Appointments"})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((x,g)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},g))})})]}):s.jsxs(L,{className:"h-full",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{children:"Appointments"})]}),s.jsxs(et,{open:e,onOpenChange:t,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(ct,{className:"w-4 h-4 mr-1"}),"Add"]})}),s.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Schedule New Appointment"})}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] px-1",children:s.jsx(zt,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-4 pb-4",children:[s.jsx(Z,{control:l.control,name:"title",render:({field:x})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Appointment Title"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Doctor visit, dentist checkup...",...x})}),s.jsx(se,{})]})}),s.jsx(Z,{control:l.control,name:"provider",render:({field:x})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Provider Type"}),s.jsxs(Ge,{onValueChange:x.onChange,defaultValue:x.value||"",children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select provider type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"doctor",children:"Doctor"}),s.jsx(B,{value:"dentist",children:"Dentist"}),s.jsx(B,{value:"therapist",children:"Therapist"}),s.jsx(B,{value:"specialist",children:"Specialist"}),s.jsx(B,{value:"counselor",children:"Counselor"}),s.jsx(B,{value:"other",children:"Other"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:l.control,name:"appointmentDate",render:({field:x})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Date & Time"}),s.jsx(J,{children:s.jsx(q,{type:"datetime-local",...x})}),s.jsx(se,{})]})}),s.jsx(Z,{control:l.control,name:"location",render:({field:x})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Location"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Clinic name, address...",...x,value:x.value||""})}),s.jsx(se,{})]})}),s.jsx(Z,{control:l.control,name:"description",render:({field:x})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Notes (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Any additional notes...",...x,value:x.value||""})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{type:"submit",disabled:c.isPending,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:c.isPending?"Scheduling...":"Schedule Appointment"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})})]})]})]})}),s.jsxs(V,{className:"space-y-4",children:[o&&o.length>0&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ws,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[o.length," upcoming appointment",o.length>1?"s":""]})]})}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i&&i.length>0?i.sort((x,g)=>new Date(x.appointmentDate).getTime()-new Date(g.appointmentDate).getTime()).map(x=>{const{dayLabel:g,timeStr:p,dateStr:y}=u(x.appointmentDate),v=m(x);return s.jsx("div",{className:"border rounded-lg p-3 space-y-2 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),s.jsx(ue,{className:f(v),children:j(v)})]}),s.jsxs("div",{className:"mt-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ht,{className:"w-3 h-3"}),s.jsxs("span",{children:[g,"  ",y]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ws,{className:"w-3 h-3"}),s.jsx("span",{children:p})]})]}),x.provider&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Of,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:x.provider})]}),x.location&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Zs,{className:"w-3 h-3"}),s.jsx("span",{children:x.location})]}),x.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]})]}),!x.isCompleted&&v!=="missed"&&s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>d.mutate({id:x.id,isCompleted:!0}),disabled:d.isPending,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:s.jsx(uc,{className:"w-4 h-4"})})]})},x.id)}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No appointments scheduled yet"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add" to schedule your first appointment'})]})})]})]})}function Vee(){const{data:e=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:t=[]}=xe({queryKey:["/api/bills"]}),{data:n}=xe({queryKey:["/api/mood-entries/today"]}),r=new Date;r.toISOString().split("T")[0];const i=e.filter(u=>(u.frequency==="daily"||!u.frequency)&&!u.isCompleted),a=e.filter(u=>{if(u.frequency!=="weekly"||u.isCompleted||!u.dueDate)return!1;const m=new Date(u.dueDate),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f<=2&&f>=0}),o=t.filter(u=>{if(u.isPaid)return!1;const m=new Date(u.dueDate),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f<=3&&f>=0}),l=e.filter(u=>u.completedAt?new Date(u.completedAt).toDateString()===r.toDateString():!1),c=e.filter(u=>u.frequency==="daily"||!u.frequency).length,d=c>0?Math.round(l.length/c*100):0,h=u=>{const m=new Date(u),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f===0?"Today":f===1?"Tomorrow":`${f} days`};return s.jsxs(L,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:[s.jsxs(le,{className:"pb-3",children:[s.jsxs(ce,{className:"text-xl flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-blue-600"}),"Today's Summary"]}),s.jsx("p",{className:"text-sm text-gray-600",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(Ni,{className:"w-4 h-4 text-green-600"}),"Daily Progress"]}),s.jsxs(ue,{variant:"secondary",className:`${d>=80?"bg-green-100 text-green-700":d>=50?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:[d,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.length," of ",c," daily tasks completed"]})]}),i.length>0&&s.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-blue-600"}),"Pending Daily Tasks (",i.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[i.slice(0,3).map(u=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:u.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:"outline",className:"text-xs",children:u.category}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(ws,{className:"w-3 h-3"}),u.estimatedMinutes,"min"]})]})]},u.id)),i.length>3&&s.jsx(Le,{href:"/daily-tasks",children:s.jsxs(E,{variant:"ghost",size:"sm",className:"text-xs w-full",children:["View ",i.length-3," more tasks"]})})]})]}),(a.length>0||o.length>0)&&s.jsxs("div",{className:"bg-amber-50/70 p-4 rounded-lg border border-amber-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4 text-amber-600"}),"Upcoming Deadlines"]}),s.jsxs("div",{className:"space-y-2",children:[a.map(u=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:u.title}),s.jsx(ue,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:h(u.dueDate)})]},`task-${u.id}`)),o.map(u=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:u.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-600",children:["$",u.amount]}),s.jsx(ue,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:h(u.dueDate.toString())})]})]},`bill-${u.id}`))]})]}),!n&&s.jsx("div",{className:"bg-red-50/70 p-4 rounded-lg border-2 border-red-300 ring-2 ring-red-200 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-red-800 flex items-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4 text-red-600"}),"Required Daily Check-in"]}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Complete your mood check-in to continue using Adaptalyfe"})]}),s.jsx(Le,{href:"/mood-tracking",children:s.jsx(E,{size:"sm",className:"bg-red-600 hover:bg-red-700 animate-bounce",children:"Complete Now"})})]})}),i.length===0&&a.length===0&&o.length===0&&n&&s.jsxs("div",{className:"bg-green-50/70 p-4 rounded-lg border border-green-200 text-center",children:[s.jsx($t,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),s.jsx("h3",{className:"font-semibold text-gray-800",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-gray-600",children:"No urgent tasks or deadlines today."})]})]})]})}function Ph(e){try{return b.useRef(e)}catch{return{current:e}}}function qee(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var aN="ScrollArea",[rF,Ahe]=Fn(aN),[Hee,vr]=rF(aN),iF=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=b.useState(null),[d,h]=b.useState(null),[u,m]=b.useState(null),[f,j]=b.useState(null),[x,g]=b.useState(null),[p,y]=b.useState(0),[v,w]=b.useState(0),[C,N]=b.useState(!1),[S,k]=b.useState(!1),T=xt(t,P=>c(P)),D=jm(i);return s.jsx(Hee,{scope:n,type:r,dir:D,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:j,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:w,children:s.jsx(Ve.div,{dir:D,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});iF.displayName=aN;var aF="ScrollAreaViewport",oF=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=vr(aF,n),l=b.useRef(null),c=xt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oF.displayName=aF;var Ri="ScrollAreaScrollbar",oN=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=vr(Ri,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(Wee,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx(Gee,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(lF,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(lN,{...r,ref:t}):null});oN.displayName=Ri;var Wee=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=vr(Ri,e.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(yr,{present:n||a,children:s.jsx(lF,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Gee=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=vr(Ri,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Ox(()=>c("SCROLL_END"),100),[l,c]=qee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),b.useEffect(()=>{const d=i.viewport,h=a?"scrollLeft":"scrollTop";if(d){let u=d[h];const m=()=>{const f=d[h];u!==f&&(c("SCROLL"),o()),u=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(yr,{present:n||l!=="hidden",children:s.jsx(lN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lF=b.forwardRef((e,t)=>{const n=vr(Ri,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=b.useState(!1),l=e.orientation==="horizontal",c=Ox(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return bd(n.viewport,c),bd(n.content,c),s.jsx(yr,{present:r||a,children:s.jsx(lN,{"data-state":a?"visible":"hidden",...i,ref:t})})}),lN=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=vr(Ri,e.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=mF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function u(m,f){return Jee(m,o.current,l,f)}return n==="horizontal"?s.jsx(Kee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,f=Q2(m,l,i.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=u(m,i.dir))}}):n==="vertical"?s.jsx(Qee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,f=Q2(m,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=u(m))}}):null}),Kee=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=vr(Ri,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=xt(t,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fx(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),fF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:hg(o.paddingLeft),paddingEnd:hg(o.paddingRight)}})}})}),Qee=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=vr(Ri,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=xt(t,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fx(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),fF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:hg(o.paddingTop),paddingEnd:hg(o.paddingBottom)}})}})}),[Yee,cF]=rF(Ri),dF=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:u,...m}=e,f=vr(Ri,n),[j,x]=b.useState(null),g=xt(t,T=>x(T)),p=b.useRef(null),y=b.useRef(""),v=f.viewport,w=r.content-r.viewport,C=ms(h),N=ms(c),S=Ox(u,10);function k(T){if(p.current){const D=T.clientX-p.current.left,P=T.clientY-p.current.top;d({x:D,y:P})}}return b.useEffect(()=>{const T=D=>{const P=D.target;(j==null?void 0:j.contains(P))&&C(D,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,j,w,C]),b.useEffect(N,[r,N]),bd(j,S),bd(f.content,S),s.jsx(Yee,{scope:n,scrollbar:j,hasThumb:i,onThumbChange:ms(a),onThumbPointerUp:ms(o),onThumbPositionChange:N,onThumbPointerDown:ms(l),children:s.jsx(Ve.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Fe(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),p.current=j.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:Fe(e.onPointerMove,k),onPointerUp:Fe(e.onPointerUp,T=>{const D=T.target;D.hasPointerCapture(T.pointerId)&&D.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),p.current=null})})})}),ug="ScrollAreaThumb",uF=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=cF(ug,e.__scopeScrollArea);return s.jsx(yr,{present:n||i.hasThumb,children:s.jsx(Xee,{ref:t,...r})})}),Xee=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=vr(ug,n),o=cF(ug,n),{onThumbPositionChange:l}=o,c=xt(t,u=>o.onThumbChange(u)),d=b.useRef(void 0),h=Ox(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(h(),!d.current){const f=ete(u,l);d.current=f,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx(Ve.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Fe(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),j=u.clientX-f.left,x=u.clientY-f.top;o.onThumbPointerDown({x:j,y:x})}),onPointerUp:Fe(e.onPointerUp,o.onThumbPointerUp)})});uF.displayName=ug;var cN="ScrollAreaCorner",hF=b.forwardRef((e,t)=>{const n=vr(cN,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(Zee,{...e,ref:t}):null});hF.displayName=cN;var Zee=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=vr(cN,n),[a,o]=b.useState(0),[l,c]=b.useState(0),d=!!(a&&l);return bd(i.scrollbarX,()=>{var u;const h=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),bd(i.scrollbarY,()=>{var u;const h=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?s.jsx(Ve.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function hg(e){return e?parseInt(e,10):0}function mF(e,t){const n=e/t;return isNaN(n)?0:n}function Fx(e){const t=mF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Jee(e,t,n,r="ltr"){const i=Fx(n),a=i/2,o=t||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return pF([c,d],u)(e)}function Q2(e,t,n="ltr"){const r=Fx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=fh(e,c);return pF([0,o],[0,l])(d)}function pF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fF(e,t){return e>0&&e<t}var ete=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Ox(e,t){const n=ms(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bd(e,t){const n=ms(t);Ts(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var gF=iF,tte=oF,ste=hF;const mg=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gF,{ref:r,className:Oe("relative overflow-hidden",e),...n,children:[s.jsx(tte,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(xF,{}),s.jsx(ste,{})]}));mg.displayName=gF.displayName;const xF=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(oN,{ref:r,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(uF,{className:"relative flex-1 rounded-full bg-border"})}));xF.displayName=oN.displayName;var dN="Avatar",[nte,Dhe]=Fn(dN),[rte,yF]=nte(dN),vF=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=b.useState("idle");return s.jsx(rte,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Ve.span,{...r,ref:t})})});vF.displayName=dN;var bF="AvatarImage",jF=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=yF(bF,n),l=ite(r,a),c=ms(d=>{i(d),o.onImageLoadingStatusChange(d)});return Ts(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ve.img,{...a,ref:t,src:r}):null});jF.displayName=bF;var wF="AvatarFallback",NF=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=yF(wF,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Ve.span,{...i,ref:t}):null});NF.displayName=wF;function Y2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ite(e,{referrerPolicy:t,crossOrigin:n}){const r=ote(),i=b.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=b.useState(()=>Y2(a,e));return Ts(()=>{l(Y2(a,e))},[a,e]),Ts(()=>{const c=u=>()=>{l(u)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,n,t]),o}function ate(){return()=>{}}function ote(){return b.useSyncExternalStore(ate,()=>!0,()=>!1)}var SF=vF,CF=jF,kF=NF;const ka=b.forwardRef(({className:e,...t},n)=>s.jsx(SF,{ref:n,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ka.displayName=SF.displayName;const lte=b.forwardRef(({className:e,...t},n)=>s.jsx(CF,{ref:n,className:Oe("aspect-square h-full w-full",e),...t}));lte.displayName=CF.displayName;const _a=b.forwardRef(({className:e,...t},n)=>s.jsx(kF,{ref:n,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_a.displayName=kF.displayName;function cte(){const{data:e}=xe({queryKey:["/api/user"]}),t=(e==null?void 0:e.subscriptionTier)==="premium"||(e==null?void 0:e.subscriptionStatus)==="active";return{user:e,isPremium:t,isBasic:!t,subscriptionTier:(e==null?void 0:e.subscriptionTier)||"basic",subscriptionStatus:(e==null?void 0:e.subscriptionStatus)||"inactive",hasFeatureAccess:r=>r==="basic"||t}}function X2({onSendMessage:e,disabled:t=!1,placeholder:n="Type your message...",className:r=""}){const[i,a]=b.useState(""),o=Ph(null),l=b.useCallback(()=>{i.trim()&&!t&&(e(i.trim()),a(""),setTimeout(()=>{var h;(h=o.current)==null||h.focus()},0))},[i,t,e]),c=b.useCallback(h=>{a(h.target.value)},[]),d=b.useCallback(h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),l())},[l]);return s.jsxs("div",{className:`flex gap-2 ${r}`,children:[s.jsx(q,{ref:o,type:"text",placeholder:n,value:i,onChange:c,onKeyDown:d,disabled:t,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"flex-1"}),s.jsx(E,{onClick:l,disabled:t||!i.trim(),size:"sm",children:s.jsx(kD,{className:"w-4 h-4"})})]})}function dte(){const[e,t]=b.useState([{id:"1",role:"assistant",content:`Hi! I'm AdaptAI, your personal AI assistant. I'm here to help you succeed and build confidence every day!

I can help you with:
 Planning daily tasks and routines
 Managing money and budgets
 Understanding medications and health
 Learning new life skills
 Connecting with your support team
 Handling difficult emotions
 Using AdaptaLyfe features

What would you like to work on today? You can type a question or choose from the suggestions below!`,timestamp:new Date,type:"text"}]),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(""),h=Ph(null),{toast:u}=dt(),{isPremium:m}=cte(),{data:f}=xe({queryKey:["/api/user"]}),j=[{id:"help-tasks",text:"Help me plan my daily tasks",category:"planning",icon:s.jsx(Ha,{className:"w-4 h-4"})},{id:"encouragement",text:"I'm feeling overwhelmed",category:"encouragement",icon:s.jsx(lt,{className:"w-4 h-4"})},{id:"cooking-help",text:"Show me simple cooking tips",category:"skills",icon:s.jsx(Mu,{className:"w-4 h-4"})},{id:"money-help",text:"Help me understand my budget",category:"help",icon:s.jsx(Ha,{className:"w-4 h-4"})},{id:"medication-help",text:"How do I organize my medications?",category:"help",icon:s.jsx(Ha,{className:"w-4 h-4"})},{id:"routine-building",text:"Help me build a daily routine",category:"planning",icon:s.jsx(Mu,{className:"w-4 h-4"})},{id:"social-support",text:"I want to connect with my caregivers",category:"help",icon:s.jsx(If,{className:"w-4 h-4"})},{id:"learning-skills",text:"What new skills can I learn?",category:"skills",icon:s.jsx(R9,{className:"w-4 h-4"})},{id:"app-navigation",text:"How do I use this app?",category:"help",icon:s.jsx(Ha,{className:"w-4 h-4"})},{id:"feeling-proud",text:"I accomplished something today!",category:"encouragement",icon:s.jsx(lt,{className:"w-4 h-4"})}],x=Ce({mutationFn:async({message:N,userId:S})=>await(await ye("POST","/api/chat",{message:N,userId:S})).json(),onSuccess:N=>{console.log("Chat response:",N);const S={id:Date.now().toString(),role:"assistant",content:N.message||"I'm here to help you with any questions.",timestamp:new Date,type:N.type||"text"};N.notice&&u({title:N.notice,description:"Using smart fallback responses while AI service recovers.",duration:3e3}),t(k=>[...k,S]),r(!1)},onError:N=>{var T,D;console.error("Chat error:",N),r(!1);let S="I'm having trouble right now. Please try again in a moment.";((T=N.message)!=null&&T.includes("429")||(D=N.message)!=null&&D.includes("Too many requests"))&&(S="I'm getting a lot of questions right now! Please wait a moment and try again.");const k={id:Date.now().toString(),role:"assistant",content:S,timestamp:new Date,type:"text"};t(P=>[...P,k])}}),g=b.useCallback(N=>{if(!N.trim()||!(f!=null&&f.id))return;const S={id:Date.now().toString(),role:"user",content:N,timestamp:new Date};t(k=>[...k,S]),r(!0),x.mutate({message:N,userId:f.id})},[f==null?void 0:f.id,x]),p=N=>{d(N.text)},y=N=>N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});b.useEffect(()=>{var N;(N=h.current)==null||N.scrollIntoView({behavior:"smooth"})},[e,n]);const v=N=>{switch(N){case"encouragement":return s.jsx(lt,{className:"w-3 h-3 text-pink-500"});case"suggestion":return s.jsx(Mu,{className:"w-3 h-3 text-yellow-500"});default:return s.jsx(Al,{className:"w-3 h-3 text-blue-500"})}},w=()=>s.jsxs(L,{className:"w-80 h-96 flex flex-col bg-white border-2 border-gray-200 shadow-xl",children:[s.jsx(le,{className:"pb-3 bg-blue-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"w-6 h-6",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:s.jsx(Al,{className:"w-3 h-3"})})}),s.jsx(ce,{className:"text-sm text-gray-800 font-semibold",children:"AdaptAI"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>l(!1),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Close",children:s.jsx(Ad,{className:"w-3 h-3"})}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>a(!0),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Expand",children:s.jsx(k9,{className:"w-3 h-3"})})]})]})}),s.jsxs(V,{className:"flex-1 flex flex-col p-3 pt-0 bg-white",children:[s.jsxs(mg,{className:"flex-1 pr-3 max-h-64 overflow-y-auto bg-gray-50 rounded-lg p-2 mt-2",children:[s.jsxs("div",{className:"space-y-3",children:[e.slice(-3).map(N=>s.jsxs("div",{className:`flex gap-2 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&s.jsx(ka,{className:"w-6 h-6 flex-shrink-0",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:v(N.type)})}),s.jsx("div",{className:`max-w-[70%] rounded-lg p-2 text-xs shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:N.content})]},N.id)),n&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ka,{className:"w-6 h-6",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600 text-xs",children:s.jsx(Al,{className:"w-3 h-3"})})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-xs shadow-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-75"}),s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),s.jsx("div",{ref:h})]}),s.jsx("div",{className:"mt-3 space-y-2 bg-white",children:s.jsx(X2,{onSendMessage:g,disabled:x.isPending,placeholder:"Type your message...",className:"text-xs border-gray-300"})})]})]}),C=()=>s.jsxs("div",{className:"flex flex-col h-full bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-blue-50 border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ka,{className:"w-8 h-8",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600",children:s.jsx(Al,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"AdaptAI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Always here to help and support you"})]})]}),!m&&s.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(zp,{className:"w-3 h-3"}),"Basic Plan"]})]}),s.jsxs("div",{className:"flex-1 flex bg-white",children:[s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs(mg,{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[s.jsxs("div",{className:"space-y-4 min-h-0",children:[e.map(N=>s.jsxs("div",{className:`flex gap-3 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&s.jsx(ka,{className:"w-8 h-8 flex-shrink-0",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600",children:v(N.type)})}),s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:y(N.timestamp)})]})]},N.id)),n&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ka,{className:"w-8 h-8",children:s.jsx(_a,{className:"bg-blue-100 text-blue-600",children:s.jsx(Al,{className:"w-4 h-4"})})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),s.jsx("div",{ref:h})]}),s.jsxs("div",{className:"p-4 border-t space-y-3 bg-white",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:j.map(N=>s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>p(N),className:"text-xs border-gray-300 hover:bg-gray-50",children:[N.icon,N.text]},N.id))}),s.jsx(X2,{onSendMessage:g,disabled:x.isPending,placeholder:"Type your message...",className:"border-gray-300"})]})]}),!m&&s.jsx("div",{className:"w-64 border-l bg-gray-50 p-4",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(zp,{className:"w-8 h-8 text-yellow-500 mx-auto"}),s.jsx("h4",{className:"font-medium text-gray-800",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get unlimited AI conversations, advanced features, and priority support."}),s.jsxs(E,{className:"w-full",children:[s.jsx(zp,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]})})]})]});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!o&&!i&&s.jsx(E,{onClick:()=>l(!0),className:"h-12 w-12 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg",title:"Open AdaptAI Assistant",children:s.jsx(Al,{className:"w-6 h-6 text-white"})}),o&&!i&&s.jsx(w,{})]}),s.jsx(et,{open:i,onOpenChange:a,children:s.jsxs(Ye,{className:"max-w-4xl h-[80vh] p-0",children:[s.jsxs(Xe,{className:"sr-only",children:[s.jsx(Ze,{children:"AdaptAI Chat"}),s.jsx(es,{children:"Full screen chat interface with the AdaptAI assistant"})]}),s.jsx(C,{})]})})]})}var uN="Progress",hN=100,[ute,Mhe]=Fn(uN),[hte,mte]=ute(uN),_F=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=pte,...o}=e;(i||i===0)&&!Z2(i)&&console.error(fte(`${i}`,"Progress"));const l=Z2(i)?i:hN;r!==null&&!J2(r,l)&&console.error(gte(`${r}`,"Progress"));const c=J2(r,l)?r:null,d=pg(c)?a(c,l):void 0;return s.jsx(hte,{scope:n,value:c,max:l,children:s.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":pg(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":EF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});_F.displayName=uN;var TF="ProgressIndicator",PF=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=mte(TF,n);return s.jsx(Ve.div,{"data-state":EF(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});PF.displayName=TF;function pte(e,t){return`${Math.round(e/t*100)}%`}function EF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function pg(e){return typeof e=="number"}function Z2(e){return pg(e)&&!isNaN(e)&&e>0}function J2(e,t){return pg(e)&&!isNaN(e)&&e<=t&&e>=0}function fte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hN}\`.`}function gte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AF=_F,xte=PF;const on=b.forwardRef(({className:e,value:t,...n},r)=>s.jsx(AF,{ref:r,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(xte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));on.displayName=AF.displayName;const yte=Ns({name:Ae().min(1,"Medication name is required"),dosage:Ae().min(1,"Dosage is required"),frequency:Ae().min(1,"Frequency is required"),instructions:Ae().optional(),reminderTime:Ae().min(1,"Reminder time is required"),prescribedBy:Ae().optional()}),vte=Ns({bedtime:Ae().min(1,"Bedtime is required"),wakeTime:Ae().min(1,"Wake time is required"),quality:zs().min(1).max(5),notes:Ae().optional()}),bte=Ns({activityType:Ae().min(1,"Activity type is required"),duration:zs().min(1,"Duration must be at least 1 minute"),intensity:Ae().min(1,"Intensity is required"),notes:Ae().optional()});function jte(){const[e,t]=b.useState("overview"),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(0),h=8,{toast:u}=dt();Yt();const m=[{id:1,name:"Vitamin D",dosage:"1000 IU",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!1},{id:2,name:"Omega-3",dosage:"500mg",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!0}],f=[{date:"2025-06-28",hours:7.5,quality:4,bedtime:"22:30",wakeTime:"06:00"},{date:"2025-06-27",hours:8,quality:5,bedtime:"22:00",wakeTime:"06:00"},{date:"2025-06-26",hours:6.5,quality:3,bedtime:"23:30",wakeTime:"06:00"}],j=[{date:"2025-06-28",activity:"Walking",duration:30,intensity:"Moderate"},{date:"2025-06-27",activity:"Yoga",duration:20,intensity:"Low"},{date:"2025-06-25",activity:"Swimming",duration:45,intensity:"High"}],x=Bt({resolver:Vt(yte),defaultValues:{name:"",dosage:"",frequency:"daily",instructions:"",reminderTime:"08:00",prescribedBy:""}}),g=Bt({resolver:Vt(vte),defaultValues:{bedtime:"",wakeTime:"",quality:3,notes:""}}),p=Bt({resolver:Vt(bte),defaultValues:{activityType:"",duration:30,intensity:"moderate",notes:""}}),y=N=>{u({title:"Medication taken!",description:"Great job staying on top of your health routine."})},v=()=>{c<h+3&&(d(N=>N+1),c+1>=h&&u({title:"Daily water goal reached!",description:"Excellent hydration today! Keep it up."}))},w=()=>f.reduce((N,S)=>N+S.hours,0)/f.length,C=()=>j.reduce((N,S)=>N+S.duration,0);return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"w-5 h-5 text-red-500"}),"Health & Wellness"]}),s.jsx(at,{children:"Track your health habits and build wellness routines"})]}),s.jsx(V,{children:s.jsxs(hn,{value:e,onValueChange:t,children:[s.jsxs(en,{className:"grid w-full grid-cols-4",children:[s.jsx($e,{value:"overview",children:"Overview"}),s.jsx($e,{value:"medications",children:"Meds"}),s.jsx($e,{value:"sleep",children:"Sleep"}),s.jsx($e,{value:"activity",children:"Activity"})]}),s.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(y9,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Water Intake"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[c,"/",h]}),s.jsx(E,{size:"sm",onClick:v,children:s.jsx(ct,{className:"w-4 h-4"})})]}),s.jsx(on,{value:c/h*100,className:"mt-2"})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zl,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Sleep Average"})]}),s.jsxs("div",{className:"text-2xl font-bold",children:[w().toFixed(1),"h"]}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Last 7 days"})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(cw,{className:"w-4 h-4 text-green-500"}),"Today's Medications"]}),s.jsx("div",{className:"space-y-2",children:m.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[N.dosage,"  ",N.reminderTime]})]}),s.jsx("div",{className:"flex items-center gap-2",children:N.taken?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx($t,{className:"w-3 h-3 mr-1"}),"Taken"]}):s.jsx(E,{size:"sm",onClick:()=>y(N.id),className:"bg-green-600 hover:bg-green-700",children:"Mark Taken"})})]},N.id))})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ni,{className:"w-4 h-4 text-orange-500"}),"This Week's Progress"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Exercise Minutes"}),s.jsx("div",{className:"text-xl font-bold",children:C()}),s.jsx("div",{className:"text-sm text-green-600",children:"+15 from last week"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Sleep Quality"}),s.jsxs("div",{className:"text-xl font-bold flex items-center gap-1",children:["4.0",s.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsx("div",{className:"text-sm text-green-600",children:"Improving"})]})]})]})]}),s.jsxs(Ue,{value:"medications",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"My Medications"}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Medication"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add New Medication"}),s.jsx(es,{children:"Set up reminders for your medication schedule"})]}),s.jsx(zt,{...x,children:s.jsxs("form",{className:"space-y-4",children:[s.jsx(Z,{control:x.control,name:"name",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Medication Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Vitamin D",...N})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:x.control,name:"dosage",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Dosage"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., 1000 IU",...N})}),s.jsx(se,{})]})}),s.jsx(Z,{control:x.control,name:"frequency",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Frequency"}),s.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select frequency"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"daily",children:"Daily"}),s.jsx(B,{value:"twice_daily",children:"Twice Daily"}),s.jsx(B,{value:"weekly",children:"Weekly"}),s.jsx(B,{value:"as_needed",children:"As Needed"})]})]}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:x.control,name:"reminderTime",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Reminder Time"}),s.jsx(J,{children:s.jsx(q,{type:"time",...N})}),s.jsx(se,{})]})}),s.jsx(Z,{control:x.control,name:"instructions",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Instructions (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Take with food, etc.",...N})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",className:"flex-1",children:"Save Medication"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:m.map(N=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:N.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.dosage,"  ",N.frequency]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Next reminder: ",N.reminderTime]})]}),s.jsx("div",{className:"flex items-center gap-2",children:N.taken?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx($t,{className:"w-3 h-3 mr-1"}),"Taken Today"]}):s.jsx(E,{size:"sm",onClick:()=>y(N.id),children:"Mark Taken"})})]})},N.id))})]}),s.jsxs(Ue,{value:"sleep",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Sleep Tracking"}),s.jsxs(et,{open:i,onOpenChange:a,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Sleep"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Log Sleep"}),s.jsx(es,{children:"Track your sleep patterns to improve rest quality"})]}),s.jsx(zt,{...g,children:s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:g.control,name:"bedtime",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Bedtime"}),s.jsx(J,{children:s.jsx(q,{type:"time",...N})}),s.jsx(se,{})]})}),s.jsx(Z,{control:g.control,name:"wakeTime",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Wake Time"}),s.jsx(J,{children:s.jsx(q,{type:"time",...N})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:g.control,name:"quality",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Sleep Quality (1-5)"}),s.jsx(J,{children:s.jsxs(Ge,{onValueChange:S=>N.onChange(parseInt(S)),defaultValue:N.value.toString(),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Rate your sleep"})}),s.jsxs(We,{children:[s.jsx(B,{value:"1",children:"1 - Very Poor"}),s.jsx(B,{value:"2",children:"2 - Poor"}),s.jsx(B,{value:"3",children:"3 - Fair"}),s.jsx(B,{value:"4",children:"4 - Good"}),s.jsx(B,{value:"5",children:"5 - Excellent"})]})]})}),s.jsx(se,{})]})}),s.jsx(Z,{control:g.control,name:"notes",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Notes (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"How did you feel? Any factors affecting sleep?",...N})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",className:"flex-1",children:"Save Sleep Log"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:f.map((N,S)=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:N.date}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.bedtime," - ",N.wakeTime," (",N.hours,"h)"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,T)=>s.jsx(qt,{className:`w-4 h-4 ${T<N.quality?"text-yellow-500 fill-current":"text-gray-300"}`},T))})})]})},S))})]}),s.jsxs(Ue,{value:"activity",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Exercise & Activity"}),s.jsxs(et,{open:o,onOpenChange:l,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Activity"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Log Exercise"}),s.jsx(es,{children:"Track your physical activities and movement"})]}),s.jsx(zt,{...p,children:s.jsxs("form",{className:"space-y-4",children:[s.jsx(Z,{control:p.control,name:"activityType",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Activity Type"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Walking, Swimming, Yoga",...N})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:p.control,name:"duration",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Duration (minutes)"}),s.jsx(J,{children:s.jsx(q,{type:"number",placeholder:"30",...N,onChange:S=>N.onChange(parseInt(S.target.value)||0)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:p.control,name:"intensity",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Intensity"}),s.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select intensity"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"low",children:"Low"}),s.jsx(B,{value:"moderate",children:"Moderate"}),s.jsx(B,{value:"high",children:"High"})]})]}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:p.control,name:"notes",render:({field:N})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Notes (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"How did you feel? Any achievements?",...N})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",className:"flex-1",children:"Save Activity"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:j.map((N,S)=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:N.activity}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.duration," minutes  ",N.intensity," intensity"]}),s.jsx("p",{className:"text-xs text-gray-500",children:N.date})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(v9,{className:"w-5 h-5 text-orange-500"})})]})},S))})]})]})})]})}var mN="Switch",[wte,Ihe]=Fn(mN),[Nte,Ste]=wte(mN),DF=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=b.useState(null),j=xt(t,v=>f(v)),x=b.useRef(!1),g=m?h||!!m.closest("form"):!0,[p=!1,y]=_i({prop:i,defaultProp:a,onChange:d});return s.jsxs(Nte,{scope:n,checked:p,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":RF(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onClick:Fe(e.onClick,v=>{y(w=>!w),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&s.jsx(Cte,{control:m,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});DF.displayName=mN;var MF="SwitchThumb",IF=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Ste(MF,n);return s.jsx(Ve.span,{"data-state":RF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});IF.displayName=MF;var Cte=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,a=b.useRef(null),o=Tx(n),l=sx(t);return b.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&u){const m=new Event("click",{bubbles:r});u.call(c,n),c.dispatchEvent(m)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RF(e){return e?"checked":"unchecked"}var FF=DF,kte=IF;const Ls=b.forwardRef(({className:e,...t},n)=>s.jsx(FF,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(kte,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ls.displayName=FF.displayName;var _te="Separator",eC="horizontal",Tte=["horizontal","vertical"],OF=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=eC,...i}=e,a=Pte(r)?r:eC,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ve.div,{"data-orientation":a,...l,...i,ref:t})});OF.displayName=_te;function Pte(e){return Tte.includes(e)}var LF=OF;const ec=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(LF,{ref:i,decorative:n,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ec.displayName=LF.displayName;function Ete(){const[e,t]=b.useState({textToSpeechEnabled:!1,voiceCommandsEnabled:!1,fontSize:"medium",highContrastMode:!1,simpleLanguageMode:!1,speechRate:1,speechVolume:.8,voiceGender:"neutral"}),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(null),{toast:h}=dt();b.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const C=window.SpeechRecognition||window.webkitSpeechRecognition,N=new C;N.continuous=!0,N.interimResults=!0,N.lang="en-US",N.onresult=S=>{const k=Array.from(S.results).map(T=>T[0].transcript).join("");S.results[S.results.length-1].isFinal&&j(k.toLowerCase().trim())},N.onerror=S=>{console.error("Speech recognition error:",S.error),r(!1)},N.onend=()=>{r(!1)},l(N)}"speechSynthesis"in window&&d(window.speechSynthesis),u()},[]);const u=()=>{const C=localStorage.getItem("accessibility-settings");if(C){const N=JSON.parse(C);t(N),f(N)}},m=C=>{localStorage.setItem("accessibility-settings",JSON.stringify(C)),t(C),f(C),h({title:"Settings saved",description:"Your accessibility preferences have been updated."})},f=C=>{const N=document.documentElement;switch(C.fontSize){case"small":N.style.fontSize="14px";break;case"medium":N.style.fontSize="16px";break;case"large":N.style.fontSize="18px";break;case"extra_large":N.style.fontSize="22px";break}C.highContrastMode?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast"),C.simpleLanguageMode?document.body.classList.add("simple-language"):document.body.classList.remove("simple-language")},j=C=>{console.log("Voice command received:",C),C.includes("go to dashboard")||C.includes("dashboard")?(window.location.href="/",x("Navigating to dashboard")):C.includes("go to tasks")||C.includes("tasks")?(window.location.href="/daily-tasks",x("Navigating to daily tasks")):C.includes("go to calendar")||C.includes("calendar")?(window.location.href="/calendar",x("Navigating to calendar")):C.includes("help")||C.includes("what can i say")?x("You can say: go to dashboard, go to tasks, go to calendar, read this page, or stop listening"):C.includes("read this page")||C.includes("read page")?g():C.includes("stop listening")||C.includes("stop voice")?(y(),x("Voice commands disabled")):x("I didn't understand that command. Say 'help' to hear available commands.")},x=C=>{if(!c||!e.textToSpeechEnabled)return;c.cancel();const N=new SpeechSynthesisUtterance(C);N.rate=e.speechRate,N.volume=e.speechVolume;const k=c.getVoices().find(T=>e.voiceGender==="female"?T.name.toLowerCase().includes("female")||T.name.toLowerCase().includes("woman"):e.voiceGender==="male"?T.name.toLowerCase().includes("male")||T.name.toLowerCase().includes("man"):!0);k&&(N.voice=k),N.onstart=()=>a(!0),N.onend=()=>a(!1),N.onerror=()=>a(!1),c.speak(N)},g=()=>{const S=((document.querySelector("main")||document.body).textContent||"").replace(/\s+/g," ").replace(/[^\w\s.,!?]/g,"").trim();x(`Reading page content: ${S.slice(0,500)}${S.length>500?"... and more":""}`)},p=()=>{if(!o){h({title:"Voice commands not supported",description:"Your browser doesn't support voice recognition.",variant:"destructive"});return}try{o.start(),r(!0),x("Voice commands activated. I'm listening.")}catch(C){console.error("Error starting recognition:",C),h({title:"Voice recognition error",description:"Could not start voice recognition. Please try again.",variant:"destructive"})}},y=()=>{o&&o.stop(),r(!1)},v=()=>{c&&(c.cancel(),a(!1))},w=()=>{if(!c){h({title:"Speech not available",description:"Text-to-speech is not supported in this browser.",variant:"destructive"});return}try{c.cancel();const C=new SpeechSynthesisUtterance("This is a test of the text to speech feature. You can adjust the speed and volume in the settings below.");C.rate=e.speechRate,C.volume=e.speechVolume;const S=c.getVoices().find(k=>e.voiceGender==="female"?k.name.toLowerCase().includes("female")||k.name.toLowerCase().includes("woman"):e.voiceGender==="male"?k.name.toLowerCase().includes("male")||k.name.toLowerCase().includes("man"):!0);S&&(C.voice=S),C.onstart=()=>a(!0),C.onend=()=>a(!1),C.onerror=k=>{a(!1),h({title:"Speech error",description:"There was an error with text-to-speech. Please try again.",variant:"destructive"})},c.speak(C),console.log("Test text-to-speech initiated")}catch(C){console.error("Text-to-speech error:",C),h({title:"Speech error",description:"Could not start text-to-speech. Please check your browser permissions.",variant:"destructive"})}};return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(d9,{className:"w-5 h-5 text-blue-500"}),"Accessibility Settings"]}),s.jsx(at,{children:"Customize the app to work best for your needs"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dl,{className:"w-4 h-4 text-blue-500"}),s.jsx(de,{className:"text-base font-medium",children:"Text-to-Speech"})]}),s.jsx(Ls,{checked:e.textToSpeechEnabled,onCheckedChange:C=>m({...e,textToSpeechEnabled:C})})]}),e.textToSpeechEnabled&&s.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-blue-100 pl-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:w,disabled:i,children:[s.jsx(dw,{className:"w-4 h-4 mr-2"}),"Test Voice"]}),i&&s.jsxs(E,{variant:"outline",size:"sm",onClick:v,children:[s.jsx(SD,{className:"w-4 h-4 mr-2"}),"Stop"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm",children:"Speech Rate"}),s.jsxs(Ge,{value:e.speechRate.toString(),onValueChange:C=>m({...e,speechRate:parseFloat(C)}),children:[s.jsx(He,{children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"0.5",children:"Very Slow"}),s.jsx(B,{value:"0.75",children:"Slow"}),s.jsx(B,{value:"1",children:"Normal"}),s.jsx(B,{value:"1.25",children:"Fast"}),s.jsx(B,{value:"1.5",children:"Very Fast"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm",children:"Voice Type"}),s.jsxs(Ge,{value:e.voiceGender,onValueChange:C=>m({...e,voiceGender:C}),children:[s.jsx(He,{children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"neutral",children:"Default"}),s.jsx(B,{value:"female",children:"Female Voice"}),s.jsx(B,{value:"male",children:"Male Voice"})]})]})]})]})]})]}),s.jsx(ec,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(SS,{className:"w-4 h-4 text-green-500"}),s.jsx(de,{className:"text-base font-medium",children:"Voice Commands"})]}),s.jsx(Ls,{checked:e.voiceCommandsEnabled,onCheckedChange:C=>m({...e,voiceCommandsEnabled:C})})]}),e.voiceCommandsEnabled&&s.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-green-100 pl-4",children:[s.jsxs("div",{className:"flex gap-2",children:[n?s.jsxs(E,{variant:"outline",size:"sm",onClick:y,className:"border-red-200 text-red-600",children:[s.jsx($9,{className:"w-4 h-4 mr-2"}),"Stop Listening"]}):s.jsxs(E,{variant:"outline",size:"sm",onClick:p,children:[s.jsx(SS,{className:"w-4 h-4 mr-2"}),"Start Listening"]}),n&&s.jsx(ue,{variant:"outline",className:"text-green-600 border-green-600",children:"Listening..."})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{className:"font-medium mb-2",children:"Available commands:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:' "Go to dashboard" - Navigate to main page'}),s.jsx("li",{children:' "Go to tasks" - Open daily tasks'}),s.jsx("li",{children:' "Go to calendar" - Open calendar view'}),s.jsx("li",{children:' "Read this page" - Read current page content'}),s.jsx("li",{children:' "Help" - Hear available commands'}),s.jsx("li",{children:' "Stop listening" - Disable voice commands'})]})]})]})]}),s.jsx(ec,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(gm,{className:"w-4 h-4 text-purple-500"}),s.jsx(de,{className:"text-base font-medium",children:"Visual Settings"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O9,{className:"w-4 h-4 text-gray-500"}),s.jsx(de,{children:"Font Size"})]}),s.jsxs(Ge,{value:e.fontSize,onValueChange:C=>m({...e,fontSize:C}),children:[s.jsx(He,{className:"w-32",children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"small",children:"Small"}),s.jsx(B,{value:"medium",children:"Medium"}),s.jsx(B,{value:"large",children:"Large"}),s.jsx(B,{value:"extra_large",children:"Extra Large"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ND,{className:"w-4 h-4 text-gray-500"}),s.jsx(de,{children:"High Contrast Mode"})]}),s.jsx(Ls,{checked:e.highContrastMode,onCheckedChange:C=>m({...e,highContrastMode:C})})]})]})]}),s.jsx(ec,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rf,{className:"w-4 h-4 text-orange-500"}),s.jsx(de,{className:"text-base font-medium",children:"Simple Language Mode"})]}),s.jsx(Ls,{checked:e.simpleLanguageMode,onCheckedChange:C=>m({...e,simpleLanguageMode:C})})]}),e.simpleLanguageMode&&s.jsx("div",{className:"ml-6 text-sm text-gray-600 border-l-2 border-orange-100 pl-4",children:s.jsx("p",{children:"When enabled, the app will use simpler words and shorter sentences to make content easier to understand."})})]}),s.jsx(ec,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(de,{className:"text-base font-medium",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>x("Welcome to Adaptalyfe. This app helps you build independence and manage daily tasks."),disabled:!e.textToSpeechEnabled,children:[s.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Welcome"]}),s.jsxs(E,{variant:"outline",size:"sm",onClick:g,disabled:!e.textToSpeechEnabled,children:[s.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Page"]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-sm text-blue-800",children:"These settings make Adaptalyfe easier to use for everyone. Text-to-speech reads content aloud, voice commands let you navigate hands-free, and visual settings improve readability."})]})]})]})}function Ate(){const[e,t]=b.useState("overview"),[n,r]=b.useState(null),[i,a]=b.useState(0),{toast:o}=dt(),l=[{id:1,title:"Basic Cooking Safety",category:"cooking",description:"Learn essential kitchen safety rules and basic cooking techniques",difficulty:"beginner",estimatedTime:15,steps:["Wash your hands thoroughly before cooking","Check that all cooking surfaces are clean","Keep pot handles turned inward on the stove","Never leave cooking food unattended","Clean up spills immediately to prevent slips","Turn off all appliances when finished"],tips:["Always have a first aid kit nearby","Keep a fire extinguisher accessible","Don't wear loose clothing while cooking"],completed:!0,score:95},{id:2,title:"Using an ATM Safely",category:"banking",description:"Step-by-step guide to using ATMs and protecting your money",difficulty:"beginner",estimatedTime:20,steps:["Choose a well-lit ATM in a safe location","Check for any suspicious devices attached to the ATM","Insert your card and wait for prompts","Enter your PIN while covering the keypad","Select your transaction type","Take your receipt and card before leaving","Count your money in a safe place"],tips:["Never share your PIN with anyone","Cover the keypad when entering your PIN","Keep your receipts for record-keeping"],completed:!1},{id:3,title:"Reading Bus Schedules",category:"transportation",description:"How to read and understand public transportation schedules",difficulty:"beginner",estimatedTime:25,steps:["Find your bus route number","Locate your starting bus stop","Find your destination stop","Check the schedule for departure times","Account for weekend and holiday schedules","Plan to arrive 5 minutes early","Have exact change or a bus pass ready"],tips:["Download the transit app for real-time updates","Keep a backup route in mind","Ask the driver if you're unsure about stops"],completed:!1},{id:4,title:"Starting Conversations",category:"social",description:"Learn how to start and maintain friendly conversations",difficulty:"beginner",estimatedTime:30,steps:["Make eye contact and smile","Use a friendly greeting like 'Hello' or 'Hi'","Ask open-ended questions about their day","Listen actively to their responses","Share something about yourself","Ask follow-up questions to show interest","End with a positive comment"],tips:["Practice common conversation starters","Ask about shared interests","It's okay to have quiet moments"],completed:!1}],c=[{id:1,title:"Master Chef",description:"Complete 5 cooking lessons and prepare a full meal",category:"cooking",points:100,difficulty:"intermediate",requirements:["Complete Basic Cooking Safety lesson","Complete Meal Planning lesson","Complete Kitchen Organization lesson","Prepare and photograph a complete meal","Write a reflection about the experience"],badge:"",completed:!1},{id:2,title:"Money Manager",description:"Demonstrate financial independence skills",category:"banking",points:150,difficulty:"advanced",requirements:["Complete ATM Safety lesson","Create a monthly budget","Track expenses for one week","Open a savings account","Demonstrate online banking safety"],badge:"",completed:!1},{id:3,title:"Navigation Expert",description:"Master independent travel and transportation",category:"transportation",points:120,difficulty:"intermediate",requirements:["Complete Bus Schedule lesson","Successfully plan and take a bus trip","Use a ride-sharing app safely","Navigate using a map app","Create emergency transportation plan"],badge:"",completed:!1}],d=p=>{switch(p){case"cooking":return s.jsx(hc,{className:"w-4 h-4"});case"banking":return s.jsx(uo,{className:"w-4 h-4"});case"transportation":return s.jsx(to,{className:"w-4 h-4"});case"social":return s.jsx(ls,{className:"w-4 h-4"});default:return s.jsx(Hr,{className:"w-4 h-4"})}},h=p=>{switch(p){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},u=p=>{r(p),a(0)},m=()=>{n&&i<n.steps.length-1&&a(i+1)},f=()=>{i>0&&a(i-1)},j=()=>{n&&(o({title:"Lesson completed!",description:`Great job completing "${n.title}". You've earned experience points!`}),r(null),a(0))},x=()=>l.filter(y=>y.completed).length/l.length*100,g=p=>{const y=l.filter(w=>w.category===p),v=y.filter(w=>w.completed);return y.length>0?v.length/y.length*100:0};return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"w-5 h-5 text-indigo-500"}),"Life Skills Development"]}),s.jsx(at,{children:"Build independence through interactive lessons and challenges"})]}),s.jsxs(V,{children:[s.jsxs(hn,{value:e,onValueChange:t,children:[s.jsxs(en,{className:"grid w-full grid-cols-4",children:[s.jsx($e,{value:"overview",children:"Overview"}),s.jsx($e,{value:"lessons",children:"Lessons"}),s.jsx($e,{value:"challenges",children:"Challenges"}),s.jsx($e,{value:"progress",children:"Progress"})]}),s.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:"Learning Progress"}),s.jsxs(ue,{variant:"outline",className:"text-indigo-600 border-indigo-600",children:[l.filter(p=>p.completed).length,"/",l.length," Complete"]})]}),s.jsx(on,{value:x(),className:"mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Keep learning to build your independence skills!"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{category:"cooking",name:"Cooking",color:"text-red-500"},{category:"banking",name:"Banking",color:"text-green-500"},{category:"transportation",name:"Transportation",color:"text-blue-500"},{category:"social",name:"Social Skills",color:"text-purple-500"}].map(({category:p,name:y,color:v})=>s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:v,children:d(p)}),s.jsx("span",{className:"font-medium text-sm",children:y})]}),s.jsx(on,{value:g(p),className:"mb-2"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[l.filter(w=>w.category===p&&w.completed).length,"/",l.filter(w=>w.category===p).length," lessons"]})]},p))}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Recent Achievements"}),s.jsx("div",{className:"space-y-2",children:l.filter(p=>p.completed).slice(0,3).map(p=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded-lg",children:[s.jsx($t,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:p.title}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",p.score,"%"]})]}),s.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]},p.id))})]})]}),s.jsx(Ue,{value:"lessons",className:"space-y-4 mt-4",children:s.jsx("div",{className:"grid gap-4",children:l.map(p=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-gray-500",children:d(p.category)}),s.jsx("h4",{className:"font-medium",children:p.title}),p.completed&&s.jsx($t,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[s.jsx(ue,{variant:"outline",className:h(p.difficulty),children:p.difficulty}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"w-3 h-3"}),p.estimatedTime," min"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ol,{className:"w-3 h-3"}),p.steps.length," steps"]})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:p.completed?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(po,{className:"w-3 h-3 mr-1"}),p.score,"%"]}):s.jsxs(E,{size:"sm",onClick:()=>u(p),className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(dw,{className:"w-4 h-4 mr-2"}),"Start"]})})]})},p.id))})}),s.jsx(Ue,{value:"challenges",className:"space-y-4 mt-4",children:s.jsx("div",{className:"grid gap-4",children:c.map(p=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-2xl",children:p.badge}),s.jsx("h4",{className:"font-medium",children:p.title}),p.completed&&s.jsx($t,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs mb-3",children:[s.jsx(ue,{variant:"outline",className:h(p.difficulty),children:p.difficulty}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vD,{className:"w-3 h-3"}),p.points," points"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),p.requirements.map((y,v)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),y]},v))]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:p.completed?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):s.jsxs(E,{size:"sm",variant:"outline",className:"border-indigo-600 text-indigo-600 hover:bg-indigo-50",children:[s.jsx(Us,{className:"w-4 h-4 mr-2"}),"Start Challenge"]})})]})},p.id))})}),s.jsxs(Ue,{value:"progress",className:"space-y-4 mt-4",children:[s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Skills Breakdown"}),s.jsx("div",{className:"space-y-4",children:[{category:"cooking",name:"Cooking & Nutrition",icon:s.jsx(hc,{className:"w-4 h-4"}),color:"text-red-500"},{category:"banking",name:"Financial Management",icon:s.jsx(uo,{className:"w-4 h-4"}),color:"text-green-500"},{category:"transportation",name:"Transportation",icon:s.jsx(to,{className:"w-4 h-4"}),color:"text-blue-500"},{category:"social",name:"Social Skills",icon:s.jsx(ls,{className:"w-4 h-4"}),color:"text-purple-500"}].map(({category:p,name:y,icon:v,color:w})=>{const C=g(p),N=l.filter(k=>k.category===p&&k.completed).length,S=l.filter(k=>k.category===p).length;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:w,children:v}),s.jsx("span",{className:"font-medium",children:y})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[N,"/",S]})]}),s.jsx(on,{value:C})]},p)})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:l.filter(p=>p.completed).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Lessons Completed"})]}),s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(p=>p.completed).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Earned"})]}),s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:c.filter(p=>p.completed).reduce((p,y)=>p+y.points,0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Points Earned"})]})]})]})]}),s.jsx(et,{open:!!n,onOpenChange:()=>r(null),children:s.jsx(Ye,{className:"max-w-2xl max-h-[80vh]",children:n&&s.jsxs(s.Fragment,{children:[s.jsxs(Xe,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[d(n.category),n.title]}),s.jsxs(es,{children:["Step ",i+1," of ",n.steps.length,"  ",n.estimatedTime," minutes"]})]}),s.jsx(mg,{className:"max-h-96",children:s.jsxs("div",{className:"space-y-6 p-1",children:[s.jsxs("div",{children:[s.jsx(on,{value:(i+1)/n.steps.length*100}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Progress: ",i+1,"/",n.steps.length]})]}),s.jsxs(L,{className:"p-4 border-indigo-200 bg-indigo-50",children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Step ",i+1]}),s.jsx("p",{className:"text-gray-700",children:n.steps[i]})]}),n.tips.length>0&&s.jsxs(L,{className:"p-4 border-yellow-200 bg-yellow-50",children:[s.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4 text-yellow-600"}),"Helpful Tips"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:n.tips.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),p]},y))})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"All Steps"}),s.jsx("div",{className:"space-y-2",children:n.steps.map((p,y)=>s.jsxs("div",{className:`flex items-start gap-2 p-2 rounded ${y===i?"bg-indigo-50 border border-indigo-200":y<i?"bg-green-50 text-green-700":"text-gray-600"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${y<i?"bg-green-500 text-white":y===i?"bg-indigo-500 text-white":"bg-gray-200 text-gray-600"}`,children:y<i?"":y+1}),s.jsx("span",{className:"text-sm",children:p})]},y))})]})]})}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx(E,{variant:"outline",onClick:f,disabled:i===0,children:"Previous"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{variant:"outline",onClick:()=>r(null),children:"Exit Lesson"}),i===n.steps.length-1?s.jsxs(E,{onClick:j,className:"bg-green-600 hover:bg-green-700",children:[s.jsx($t,{className:"w-4 h-4 mr-2"}),"Complete Lesson"]}):s.jsxs(E,{onClick:m,children:["Next",s.jsx(dd,{className:"w-4 h-4 ml-2"})]})]})]})]})})})]})]})}const Dte=Ns({description:Ae().min(1,"Description is required"),category:Ae().min(1,"Category is required"),milestone:Ae().optional()}),Mte=Ns({title:Ae().min(1,"Title is required"),content:Ae().min(10,"Story must be at least 10 characters"),category:Ae().min(1,"Category is required"),isAnonymous:ko().default(!1)});function Ite(){const[e,t]=b.useState("overview"),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(null),c=Ph(null),{toast:d}=dt(),h=[{id:1,photoUrl:"/photos/progress-1.jpg",category:"cooking",description:"Successfully made my first homemade pasta from scratch! It took 2 hours but was totally worth it.",milestone:"First Homemade Pasta",takenAt:new Date(Date.now()-2*24*60*60*1e3)},{id:2,photoUrl:"/photos/progress-2.jpg",category:"independence",description:"Took public transportation to the grocery store by myself for the first time!",milestone:"Independent Shopping Trip",takenAt:new Date(Date.now()-5*24*60*60*1e3)},{id:3,photoUrl:"/photos/progress-3.jpg",category:"social",description:"Had coffee with my neighbor and we're planning to meet again next week. Building friendships!",takenAt:new Date(Date.now()-7*24*60*60*1e3)}],u=[{id:1,title:"Master Chef Challenge",description:"Learn to cook 5 different meals independently",category:"cooking",difficulty:"intermediate",points:150,requirements:["Cook pasta dish","Prepare a salad","Make breakfast eggs","Cook rice perfectly","Bake simple cookies"],progress:60,isCompleted:!1,badge:"A",timeframe:"Complete in 30 days"},{id:2,title:"Social Butterfly",description:"Build confidence in social interactions",category:"social",difficulty:"beginner",points:100,requirements:["Start 3 conversations with strangers","Join a community group","Make plans with a friend","Give someone a genuine compliment","Share a personal story"],progress:40,isCompleted:!1,badge:"B",timeframe:"Complete in 21 days"},{id:3,title:"Independence Hero",description:"Master essential life skills for independent living",category:"independence",difficulty:"advanced",points:200,requirements:["Use public transportation 5 times","Complete grocery shopping alone","Pay bills independently","Attend medical appointment solo","Plan and execute a day trip"],progress:80,isCompleted:!1,badge:"C",timeframe:"Complete in 45 days"}],m=[{id:1,title:"My First Job Interview Success",content:"I was so nervous about my first job interview, but I practiced with my caregiver and prepared answers to common questions. When the day came, I arrived early, dressed professionally, and remembered to make eye contact. The interviewer was really nice and I got the job! The key was preparation and believing in myself.",authorName:"Sarah M.",category:"employment",likes:24,isLiked:!0,createdAt:new Date(Date.now()-3*24*60*60*1e3),isAnonymous:!1},{id:2,title:"Learning to Manage My Money",content:"Managing money used to stress me out so much. I started small by tracking every expense for a week, then learned to create a simple budget. Now I save a little each month and feel confident about my finances. The budget app on my phone really helps!",authorName:"Anonymous",category:"financial",likes:18,isLiked:!1,createdAt:new Date(Date.now()-5*24*60*60*1e3),isAnonymous:!0},{id:3,title:"Making Friends as an Adult",content:"Making friends felt impossible at first. I joined a local art class and started small by just saying hello to people. One person invited me for coffee after class, and now we're good friends! Sometimes you just need to take that first small step.",authorName:"Mike R.",category:"social",likes:31,isLiked:!1,createdAt:new Date(Date.now()-8*24*60*60*1e3),isAnonymous:!1}],f=[{id:1,title:"First Step",description:"Completed your first daily task",category:"tasks",icon:"*",points:10,earnedAt:new Date(Date.now()-30*24*60*60*1e3),rarity:"common"},{id:2,title:"Consistent Performer",description:"Completed tasks for 7 days in a row",category:"tasks",icon:"+",points:50,earnedAt:new Date(Date.now()-14*24*60*60*1e3),rarity:"rare"},{id:3,title:"Cooking Novice",description:"Successfully completed your first cooking lesson",category:"cooking",icon:"O",points:25,earnedAt:new Date(Date.now()-10*24*60*60*1e3),rarity:"common"},{id:4,title:"Social Connector",description:"Made a new friend or strengthened a relationship",category:"social",icon:"#",points:75,earnedAt:new Date(Date.now()-7*24*60*60*1e3),rarity:"epic"}],j=Bt({resolver:Vt(Dte),defaultValues:{description:"",category:"",milestone:""}}),x=Bt({resolver:Vt(Mte),defaultValues:{title:"",content:"",category:"",isAnonymous:!1}}),g=k=>{switch(k){case"common":return"text-gray-600 bg-gray-100";case"rare":return"text-blue-600 bg-blue-100";case"epic":return"text-purple-600 bg-purple-100";case"legendary":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},p=k=>{switch(k){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=k=>{var D;((D=k.target.files)==null?void 0:D[0])&&d({title:"Photo uploaded",description:"Your progress photo has been added to your journal!"})},v=k=>{d({title:"Story liked",description:"Thank you for supporting your peer's journey!"})},w=k=>{d({title:"Challenge joined",description:"You're now working on this skill challenge. Good luck!"})},C=()=>{d({title:"Story shared",description:"Your inspiring story has been shared with the community!"}),a(!1)},N=f.reduce((k,T)=>k+T.points,0),S=u.filter(k=>k.isCompleted).length;return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(po,{className:"w-5 h-5 text-yellow-500"}),"Progress & Motivation"]}),s.jsx(at,{children:"Track your growth, celebrate achievements, and stay motivated"})]}),s.jsx(V,{children:s.jsxs(hn,{value:e,onValueChange:t,children:[s.jsxs(en,{className:"grid w-full grid-cols-4",children:[s.jsx($e,{value:"overview",children:"Overview"}),s.jsx($e,{value:"journal",children:"Journal"}),s.jsx($e,{value:"challenges",children:"Challenges"}),s.jsx($e,{value:"community",children:"Stories"})]}),s.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Achievements"})]}),s.jsxs(L,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:S}),s.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Done"})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(_9,{className:"w-4 h-4 text-yellow-500"}),"Recent Achievements"]}),s.jsx("div",{className:"space-y-3",children:f.slice(0,3).map(k=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center",children:k.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:k.title}),s.jsx("div",{className:"text-sm text-gray-600",children:k.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ue,{className:g(k.rarity),children:k.rarity}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",k.points," pts"]})]})]},k.id))})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-blue-500"}),"Active Challenges"]}),s.jsx("div",{className:"space-y-3",children:u.filter(k=>!k.isCompleted).slice(0,2).map(k=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600 bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:k.badge}),s.jsx("h4",{className:"font-medium",children:k.title})]}),s.jsx(ue,{className:p(k.difficulty),children:k.difficulty})]}),s.jsx(on,{value:k.progress,className:"mb-2"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[k.progress,"% complete"]}),s.jsxs("span",{className:"text-blue-600",children:[k.points," points"]})]})]},k.id))})]}),s.jsx(L,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-medium text-blue-900 mb-2",children:'"Progress, not perfection, is the goal."'}),s.jsx("div",{className:"text-sm text-blue-700",children:"Every small step forward is a victory worth celebrating!"})]})})]}),s.jsxs(Ue,{value:"journal",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Progress Journal"}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ah,{className:"w-4 h-4 mr-2"}),"Add Photo"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add Progress Photo"}),s.jsx(es,{children:"Document your achievements and milestones"})]}),s.jsx(zt,{...j,children:s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},children:[s.jsx(ah,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Click to upload a photo"})]}),s.jsx("input",{ref:c,type:"file",accept:"image/*",className:"hidden",onChange:y}),s.jsx(Z,{control:j.control,name:"category",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsx(J,{children:s.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[s.jsx("option",{value:"",children:"Select category"}),s.jsx("option",{value:"cooking",children:"Cooking"}),s.jsx("option",{value:"independence",children:"Independence"}),s.jsx("option",{value:"social",children:"Social"}),s.jsx("option",{value:"health",children:"Health"}),s.jsx("option",{value:"learning",children:"Learning"})]})}),s.jsx(se,{})]})}),s.jsx(Z,{control:j.control,name:"description",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Tell us about this achievement or milestone...",...k})}),s.jsx(se,{})]})}),s.jsx(Z,{control:j.control,name:"milestone",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Milestone (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., First Time Cooking Alone",...k})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",className:"flex-1",children:"Save Photo"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:h.map(k=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(N9,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"outline",children:k.category}),k.milestone&&s.jsxs(ue,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[s.jsx(qt,{className:"w-3 h-3 mr-1"}),k.milestone]}),s.jsx("span",{className:"text-sm text-gray-500",children:Ti(k.takenAt)})]}),s.jsx("p",{className:"text-gray-700",children:k.description})]}),s.jsxs(E,{size:"sm",variant:"outline",children:[s.jsx(Ff,{className:"w-4 h-4 mr-2"}),"Share"]})]})},k.id))})]}),s.jsx(Ue,{value:"challenges",className:"space-y-4 mt-4",children:s.jsx("div",{className:"grid gap-4",children:u.map(k=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-2xl",children:k.badge}),s.jsx("h4",{className:"font-medium",children:k.title}),s.jsx(ue,{className:p(k.difficulty),children:k.difficulty})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[k.progress,"%"]})]}),s.jsx(on,{value:k.progress})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),k.requirements.map((T,D)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx($t,{className:`w-4 h-4 ${D<k.requirements.length*k.progress/100?"text-green-500":"text-gray-300"}`}),s.jsx("span",{className:D<k.requirements.length*k.progress/100?"text-green-700 line-through":"text-gray-700",children:T})]},D))]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vD,{className:"w-3 h-3"}),k.points," points"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"w-3 h-3"}),k.timeframe]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[k.isCompleted?s.jsxs(ue,{className:"bg-green-100 text-green-700 border-green-200",children:[s.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):s.jsxs(E,{size:"sm",onClick:()=>w(k.id),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Us,{className:"w-4 h-4 mr-2"}),"Join Challenge"]}),s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>l(k),children:[s.jsx(gm,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},k.id))})}),s.jsxs(Ue,{value:"community",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Community Stories"}),s.jsxs(et,{open:i,onOpenChange:a,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Share Story"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Share Your Story"}),s.jsx(es,{children:"Inspire others by sharing your journey and achievements"})]}),s.jsx(zt,{...x,children:s.jsxs("form",{className:"space-y-4",children:[s.jsx(Z,{control:x.control,name:"title",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Story Title"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., How I Learned to Cook My Favorite Meal",...k})}),s.jsx(se,{})]})}),s.jsx(Z,{control:x.control,name:"category",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsx(J,{children:s.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[s.jsx("option",{value:"",children:"Select category"}),s.jsx("option",{value:"cooking",children:"Cooking"}),s.jsx("option",{value:"employment",children:"Employment"}),s.jsx("option",{value:"social",children:"Social"}),s.jsx("option",{value:"financial",children:"Financial"}),s.jsx("option",{value:"independence",children:"Independence"}),s.jsx("option",{value:"health",children:"Health"})]})}),s.jsx(se,{})]})}),s.jsx(Z,{control:x.control,name:"content",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Your Story"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Tell your story... What challenge did you face? How did you overcome it? What advice would you give others?",className:"min-h-32",...k})}),s.jsx(se,{})]})}),s.jsx(Z,{control:x.control,name:"isAnonymous",render:({field:k})=>s.jsxs(Y,{className:"flex items-center gap-2",children:[s.jsx(J,{children:s.jsx("input",{type:"checkbox",checked:k.value,onChange:k.onChange})}),s.jsx(Q,{children:"Share anonymously"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"button",onClick:C,className:"flex-1",children:"Share Story"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:m.map(k=>s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(ka,{className:"w-8 h-8",children:s.jsx(_a,{children:k.isAnonymous?"?":k.authorName[0]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:k.authorName}),s.jsx(ue,{variant:"outline",children:k.category}),s.jsx("span",{className:"text-sm text-gray-500",children:Ti(k.createdAt)})]}),s.jsx("h4",{className:"font-medium text-lg mb-2",children:k.title})]})]}),s.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:k.content}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(E,{size:"sm",variant:"ghost",onClick:()=>v(k.id),className:k.isLiked?"text-red-500":"",children:[s.jsx(lt,{className:`w-4 h-4 mr-1 ${k.isLiked?"fill-current":""}`}),k.likes]}),s.jsxs(E,{size:"sm",variant:"ghost",children:[s.jsx(Ff,{className:"w-4 h-4 mr-1"}),"Share"]})]})]},k.id))})]})]})})]})}function $F(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),{toast:i}=dt(),a=Yt(),{data:o=[]}=xe({queryKey:["/api/user-pharmacies"],enabled:!0}),{data:l=[]}=xe({queryKey:["/api/pharmacies"],enabled:!0}),c=Ce({mutationFn:async m=>{const f=Object.fromEntries(m);return ye("POST","/api/user-pharmacies",f)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user-pharmacies"]}),a.invalidateQueries({queryKey:["/api/pharmacies"]}),t(!1),i({title:"Pharmacy added successfully!"})},onError:()=>{i({title:"Failed to add pharmacy",variant:"destructive"})}}),d=Ce({mutationFn:async m=>{const f=Object.fromEntries(m);return ye("POST","/api/pharmacies",f)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/pharmacies"]}),r(!1),i({title:"Custom pharmacy created successfully!"})},onError:()=>{i({title:"Failed to create custom pharmacy",variant:"destructive"})}}),h=m=>{m.preventDefault();const f=new FormData(m.currentTarget);c.mutate(f)},u=m=>{m.preventDefault();const f=new FormData(m.currentTarget);d.mutate(f)};return s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs(hn,{defaultValue:"linked",children:[s.jsxs(en,{className:"grid w-full grid-cols-2",children:[s.jsx($e,{value:"linked",children:"My Pharmacies"}),s.jsx($e,{value:"directory",children:"Pharmacy Directory"})]}),s.jsxs(Ue,{value:"linked",children:[s.jsxs("div",{className:"mb-4 flex gap-2",children:[s.jsxs(et,{open:e,onOpenChange:t,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Link Existing Pharmacy"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Link Existing Pharmacy"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"pharmacyId",children:"Select Pharmacy"}),s.jsxs(Ge,{name:"pharmacyId",required:!0,children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Choose a pharmacy"})}),s.jsx(We,{children:l.map(m=>s.jsx(B,{value:m.id.toString(),children:m.name},m.id))})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"accountNumber",children:"Account Number"}),s.jsx(q,{name:"accountNumber",placeholder:"Your pharmacy account number"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"insuranceProvider",children:"Insurance Provider"}),s.jsx(q,{name:"insuranceProvider",placeholder:"e.g., Blue Cross, Medicare"})]}),s.jsx(E,{type:"submit",className:"w-full",disabled:c.isPending,children:c.isPending?"Adding...":"Link Pharmacy"})]})]})]}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"outline",children:[s.jsx(xS,{className:"w-4 h-4 mr-2"}),"Create Custom Pharmacy"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Create Custom Pharmacy"})}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Pharmacy Name"}),s.jsx(q,{name:"name",placeholder:"Enter pharmacy name",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"address",children:"Address"}),s.jsx(q,{name:"address",placeholder:"Street address, city, state"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),s.jsx(q,{name:"phoneNumber",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"website",children:"Website"}),s.jsx(q,{name:"website",placeholder:"https://pharmacy-website.com"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"refillUrl",children:"Online Refill URL"}),s.jsx(q,{name:"refillUrl",placeholder:"Direct link to refill page"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"hours",children:"Operating Hours"}),s.jsx(q,{name:"hours",placeholder:"e.g., Mon-Fri 9AM-9PM, Sat 9AM-6PM"})]}),s.jsx(E,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?"Creating...":"Create Custom Pharmacy"})]})]})]})]}),s.jsx("div",{className:"space-y-3",children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(xS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No pharmacies linked yet"}),s.jsx("p",{className:"text-sm",children:"Add a pharmacy to start ordering refills"})]}):o.map(m=>{var f,j,x,g;return s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:(f=m.pharmacy)==null?void 0:f.name}),((j=m.pharmacy)==null?void 0:j.address)&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(Zs,{className:"w-3 h-3"}),m.pharmacy.address]}),((x=m.pharmacy)==null?void 0:x.phoneNumber)&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(bs,{className:"w-3 h-3"}),m.pharmacy.phoneNumber]}),s.jsx("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-100",children:((g=m.pharmacy)==null?void 0:g.refillUrl)&&s.jsxs(E,{size:"sm",onClick:()=>{var p;return window.open((p=m.pharmacy)==null?void 0:p.refillUrl,"_blank")},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(uw,{className:"w-3 h-3 mr-1"}),"Order Refills"]})})]})})},m.id)})})]}),s.jsx(Ue,{value:"directory",children:s.jsx("div",{className:"space-y-3",children:l.map(m=>s.jsx(L,{children:s.jsxs(V,{className:"pt-4",children:[s.jsx("h4",{className:"font-medium",children:m.name}),m.address&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[s.jsx(Zs,{className:"w-3 h-3"}),m.address]}),m.phoneNumber&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[s.jsx(bs,{className:"w-3 h-3"}),m.phoneNumber]})]})},m.id))})})]})})})}var pN="Checkbox",[Rte,Rhe]=Fn(pN),[Fte,Ote]=Rte(pN),UF=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=b.useState(null),j=xt(t,w=>f(w)),x=b.useRef(!1),g=m?h||!!m.closest("form"):!0,[p=!1,y]=_i({prop:i,defaultProp:a,onChange:d}),v=b.useRef(p);return b.useEffect(()=>{const w=m==null?void 0:m.form;if(w){const C=()=>y(v.current);return w.addEventListener("reset",C),()=>w.removeEventListener("reset",C)}},[m,y]),s.jsxs(Fte,{scope:n,state:p,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":ro(p)?"mixed":p,"aria-required":o,"data-state":VF(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onKeyDown:Fe(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Fe(e.onClick,w=>{y(C=>ro(C)?!0:!C),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&s.jsx(Lte,{control:m,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:ro(a)?!1:a})]})});UF.displayName=pN;var BF="CheckboxIndicator",zF=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=Ote(BF,n);return s.jsx(yr,{present:r||ro(a.state)||a.state===!0,children:s.jsx(Ve.span,{"data-state":VF(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});zF.displayName=BF;var Lte=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...a}=e,o=b.useRef(null),l=Tx(n),c=sx(t);b.useEffect(()=>{const h=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==n&&f){const j=new Event("click",{bubbles:r});h.indeterminate=ro(n),f.call(h,ro(n)?!1:n),h.dispatchEvent(j)}},[l,n,r]);const d=b.useRef(ro(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ro(e){return e==="indeterminate"}function VF(e){return ro(e)?"indeterminate":e?"checked":"unchecked"}var qF=UF,$te=zF;const Ci=b.forwardRef(({className:e,...t},n)=>s.jsx(qF,{ref:n,className:Oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx($te,{className:Oe("flex items-center justify-center text-current"),children:s.jsx(uc,{className:"h-4 w-4"})})}));Ci.displayName=qF.displayName;const Ute=Ns({title:Ae().min(1,"Trip name is required"),fromAddress:Ae().min(1,"Starting location is required"),toAddress:Ae().min(1,"Destination is required"),transportType:Ae().min(1,"Transportation type is required"),notes:Ae().optional()}),Bte=Ns({routeName:Ae().min(1,"Route name is required"),routeNumber:Ae().optional(),stopName:Ae().min(1,"Stop name is required"),stopAddress:Ae().optional(),direction:Ae().optional(),departureTime:Ae().min(1,"Departure time is required"),daysOfWeek:Ae().min(1,"Days of week is required"),isFrequent:ko().default(!1),notes:Ae().optional()}),zte=Ns({planName:Ae().min(1,"Plan name is required"),conditionType:Ae().min(1,"Condition type is required"),symptoms:Ae().min(1,"Symptoms are required"),immediateActions:Ae().min(1,"Immediate actions are required"),medications:Ae().optional(),emergencyContacts:Ae().optional(),hospitalPreference:Ae().optional(),importantNotes:Ae().optional(),isActive:ko().default(!0)});function Vte(){const[e,t]=b.useState("overview"),[n,r]=b.useState(!1),[i,a]=b.useState("Getting location..."),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,u]=b.useState(!1),{toast:m}=dt(),f=Yt(),j=[{id:1,title:"Home to Library",fromAddress:"123 Main St, City, State",toAddress:"Public Library, 456 Oak Ave",transportType:"public",estimatedTime:25,estimatedCost:2.5,isFavorite:!0,lastUsed:new Date(Date.now()-2*24*60*60*1e3)},{id:2,title:"Home to Doctor",fromAddress:"123 Main St, City, State",toAddress:"Medical Center, 789 Health Way",transportType:"rideshare",estimatedTime:15,estimatedCost:12.5,isFavorite:!0,lastUsed:new Date(Date.now()-7*24*60*60*1e3)},{id:3,title:"Home to Park",fromAddress:"123 Main St, City, State",toAddress:"Central Park, 321 Green St",transportType:"walking",estimatedTime:20,isFavorite:!1,lastUsed:new Date(Date.now()-14*24*60*60*1e3)}],x=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0},{id:4,name:"Dad",relationship:"Parent",phoneNumber:"(555) 345-6789",isQuickDial:!1}],g=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"}],{data:p=[]}=xe({queryKey:["/api/bus-schedules"]}),{data:y=[]}=xe({queryKey:["/api/emergency-treatment-plans"]}),v=Bt({resolver:Vt(Ute),defaultValues:{title:"",fromAddress:"",toAddress:"",transportType:"",notes:""}}),w=Bt({resolver:Vt(Bte),defaultValues:{routeName:"",routeNumber:"",stopName:"",stopAddress:"",direction:"",departureTime:"",daysOfWeek:"",isFrequent:!1,notes:""}}),C=Bt({resolver:Vt(zte),defaultValues:{planName:"",conditionType:"",symptoms:"",immediateActions:"",medications:"",emergencyContacts:"",hospitalPreference:"",importantNotes:"",isActive:!0}}),N=Ce({mutationFn:F=>ye("POST","/api/bus-schedules",F),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/bus-schedules"]}),m({title:"Bus schedule added successfully!"}),d(!1),w.reset()},onError:()=>{m({title:"Error",description:"Failed to add bus schedule",variant:"destructive"})}}),S=Ce({mutationFn:F=>ye("POST","/api/emergency-treatment-plans",F),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/emergency-treatment-plans"]}),m({title:"Emergency treatment plan created successfully!"}),u(!1),C.reset()},onError:()=>{m({title:"Error",description:"Failed to create emergency plan",variant:"destructive"})}}),k=F=>{switch(F){case"public":return s.jsx(to,{className:"w-4 h-4"});case"rideshare":return s.jsx(I0,{className:"w-4 h-4"});case"walking":return s.jsx(Vp,{className:"w-4 h-4"});case"driving":return s.jsx(I0,{className:"w-4 h-4"});default:return s.jsx(M9,{className:"w-4 h-4"})}},T=F=>{switch(F){case"safe":return"text-green-600 bg-green-100";case"emergency":return"text-red-600 bg-red-100";case"help_needed":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},D=()=>{navigator.geolocation?(r(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:re,longitude:fe}=F.coords;a(`${re.toFixed(6)}, ${fe.toFixed(6)}`),m({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},F=>{r(!1),m({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})})):m({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"})},P=F=>{m({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[F]}`})},M=F=>{window.open(`tel:${F.phoneNumber}`,"_self"),m({title:"Calling",description:`Calling ${F.name} at ${F.phoneNumber}`})},X=F=>{const re=encodeURIComponent(F.toAddress),H=`https://www.google.com/maps/dir/${encodeURIComponent(F.fromAddress)}/${re}`;window.open(H,"_blank"),m({title:"Navigation started",description:`Opening directions to ${F.toAddress}`})},ee=F=>{m({title:"Saved to favorites",description:"This route has been added to your favorite trips."})};return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-blue-600"}),"Safety & Transportation",s.jsx(ue,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),s.jsx(at,{children:"Stay safe with location sharing, emergency contacts, and travel planning"})]}),s.jsx(V,{children:s.jsxs(hn,{value:e,onValueChange:t,children:[s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(en,{className:"flex w-max min-w-full gap-1 px-1",children:[s.jsx($e,{value:"overview",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Overview"}),s.jsx($e,{value:"emergency",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Emergency"}),s.jsx($e,{value:"transportation",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Travel"}),s.jsx($e,{value:"bus",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Bus Routes"}),s.jsx($e,{value:"emergency-plans",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Medical Plans"})]})}),s.jsxs(Ue,{value:"overview",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-blue-500"}),s.jsx("span",{className:"font-medium",children:"Share Location"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Let your caregivers know where you are"}),s.jsx(E,{onClick:D,className:"w-full",disabled:n,children:n?"Sharing...":"Share Location"})]}),s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bs,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Emergency Call"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quick access to your emergency contacts"}),s.jsx(E,{onClick:()=>M(x[0]),className:"w-full bg-green-600 hover:bg-green-700",children:"Call Mom"})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Safety Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs(E,{onClick:()=>P("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[s.jsx($t,{className:"w-3 h-3 mr-1"}),"Safe"]}),s.jsxs(E,{onClick:()=>P("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[s.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Help"]}),s.jsxs(E,{onClick:()=>P("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[s.jsx(bs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Favorite Routes"}),s.jsx("div",{className:"space-y-3",children:j.filter(F=>F.isFavorite).map(F=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:F.title}),s.jsxs("div",{className:"text-xs text-gray-600",children:[F.estimatedTime," min  ",F.estimatedCost?`$${F.estimatedCost}`:"Free"]})]})]}),s.jsxs(E,{size:"sm",onClick:()=>X(F),children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),"Go"]})]},F.id))})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),s.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(F=>s.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${T(F.status)}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:F.location}),s.jsx("div",{className:"text-xs text-gray-600",children:F.message})]}),s.jsx("div",{className:"text-xs text-gray-500",children:Ti(F.timestamp)})]},F.id))})]})]}),s.jsxs(Ue,{value:"emergency",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[s.jsxs(L,{className:"p-4 border-red-200 bg-red-50",children:[s.jsx("h3",{className:"font-medium mb-3 text-red-800",children:"Emergency Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(E,{onClick:()=>M(x.find(F=>F.phoneNumber==="911")),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[s.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call 911"]}),s.jsxs(E,{onClick:()=>{D(),P("emergency")},variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[s.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Emergency Alert"]})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),s.jsx("div",{className:"space-y-3",children:x.filter(F=>F.isQuickDial).map(F=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:F.name}),s.jsx("div",{className:"text-sm text-gray-600",children:F.relationship}),s.jsx("div",{className:"text-xs text-gray-500",children:F.phoneNumber})]})]}),s.jsxs(E,{onClick:()=>M(F),children:[s.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call"]})]},F.id))})]}),s.jsxs(L,{className:"p-4 border-yellow-200 bg-yellow-50",children:[s.jsx("h3",{className:"font-medium mb-3 text-yellow-800",children:"Safety Reminders"}),s.jsxs("ul",{className:"space-y-2 text-sm text-yellow-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Always share your location when traveling to new places"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Keep your phone charged and carry a portable charger"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Trust your instincts - if something feels wrong, seek help"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Have backup transportation plans ready"]})]})]})]}),s.jsxs(Ue,{value:"transportation",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Travel Plans"}),s.jsxs(et,{open:o,onOpenChange:l,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"New Plan"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Create Transportation Plan"}),s.jsx(es,{children:"Plan your route with step-by-step directions"})]}),s.jsx(zt,{...v,children:s.jsxs("form",{className:"space-y-4",children:[s.jsx(Z,{control:v.control,name:"title",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Trip Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Home to Library",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"fromAddress",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"From"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Starting location",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"toAddress",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"To"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Destination",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"transportType",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Transportation Type"}),s.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select transportation"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"walking",children:"Walking"}),s.jsx(B,{value:"public",children:"Public Transit"}),s.jsx(B,{value:"rideshare",children:"Rideshare/Taxi"}),s.jsx(B,{value:"driving",children:"Driving"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"notes",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Notes (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Special instructions, landmarks, etc.",...F})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",className:"flex-1",children:"Save Plan"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:j.map(F=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),s.jsx("h4",{className:"font-medium",children:F.title}),F.isFavorite&&s.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"From:"})," ",F.fromAddress]}),s.jsxs("div",{children:[s.jsx("strong",{children:"To:"})," ",F.toAddress]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"w-3 h-3"}),F.estimatedTime," min"]}),F.estimatedCost&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"$"}),F.estimatedCost]}),F.lastUsed&&s.jsxs("div",{children:["Last used ",Ti(F.lastUsed)]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(E,{size:"sm",onClick:()=>X(F),children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),"Navigate"]}),!F.isFavorite&&s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>ee(F.id),children:[s.jsx(qt,{className:"w-4 h-4 mr-2"}),"Favorite"]})]})]})},F.id))})]}),s.jsxs(Ue,{value:"bus",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Bus Schedules"}),s.jsxs(et,{open:c,onOpenChange:d,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add Bus Schedule"}),s.jsx(es,{children:"Save local bus route information for easy travel planning"})]}),s.jsx(zt,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(F=>N.mutate(F)),className:"space-y-4",children:[s.jsx(Z,{control:w.control,name:"routeName",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Route Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Downtown Express",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:w.control,name:"routeNumber",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Route Number"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., 42, A1",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:w.control,name:"stopName",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Stop Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Main St & Oak Ave",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:w.control,name:"departureTime",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Departure Time"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., 08:30, 2:15 PM",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:w.control,name:"daysOfWeek",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Days of Week"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Monday,Tuesday,Wednesday",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:w.control,name:"isFrequent",render:({field:F})=>s.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(J,{children:s.jsx(Ci,{checked:F.value,onCheckedChange:F.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(Q,{children:"Frequent Route"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Mark as a frequently used route"})]})]})}),s.jsx(E,{type:"submit",disabled:N.isPending,children:N.isPending?"Adding...":"Add Bus Schedule"})]})})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[p.map(F=>s.jsx(L,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(to,{className:"w-4 h-4 text-blue-500"}),s.jsx("h4",{className:"font-medium",children:F.routeName}),F.routeNumber&&s.jsxs(ue,{variant:"outline",children:["#",F.routeNumber]}),F.isFrequent&&s.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Stop:"})," ",F.stopName]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Time:"})," ",F.departureTime]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Days:"})," ",F.daysOfWeek]})]})]})})},F.id)),p.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(to,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No bus schedules saved yet"}),s.jsx("p",{className:"text-sm",children:"Add your local bus routes to plan trips easily"})]})]})]}),s.jsxs(Ue,{value:"emergency-plans",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium",children:"Emergency Treatment Plans"}),s.jsxs(et,{open:h,onOpenChange:u,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Plan"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Create Emergency Treatment Plan"}),s.jsx(es,{children:"Create a personalized response plan for medical emergencies"})]}),s.jsx(zt,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(F=>S.mutate(F)),className:"space-y-4",children:[s.jsx(Z,{control:C.control,name:"planName",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Plan Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Anxiety Attack Response Plan",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:C.control,name:"conditionType",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Condition Type"}),s.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select condition type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"anxiety",children:"Anxiety Attack"}),s.jsx(B,{value:"seizure",children:"Seizure"}),s.jsx(B,{value:"allergic_reaction",children:"Allergic Reaction"}),s.jsx(B,{value:"meltdown",children:"Sensory Meltdown"}),s.jsx(B,{value:"panic_attack",children:"Panic Attack"}),s.jsx(B,{value:"other",children:"Other"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:C.control,name:"symptoms",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Warning Signs & Symptoms"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Describe what to watch for that indicates this emergency is happening...",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:C.control,name:"immediateActions",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Immediate Actions"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Step-by-step instructions for immediate response...",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:C.control,name:"medications",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Emergency Medications"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"List any emergency medications and dosages...",...F})}),s.jsx(se,{})]})}),s.jsx(Z,{control:C.control,name:"emergencyContacts",render:({field:F})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Emergency Contacts"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Specific contacts to call for this emergency...",...F})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",disabled:S.isPending,children:S.isPending?"Creating...":"Create Emergency Plan"})]})})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[y.map(F=>s.jsx(L,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(lt,{className:"w-4 h-4 text-red-500"}),s.jsx("h4",{className:"font-medium",children:F.planName}),s.jsx(ue,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Condition:"})," ",F.conditionType]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("strong",{children:"Symptoms:"})," ",F.symptoms]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("strong",{children:"Immediate Actions:"})," ",F.immediateActions]})]})]})})},F.id)),y.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(lt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No emergency treatment plans created yet"}),s.jsx("p",{className:"text-sm",children:"Create personalized emergency response plans for peace of mind"})]})]})]})]})})]})}function qte(){const[e,t]=b.useState(!1),[n,r]=b.useState("Getting location..."),[i,a]=b.useState(!1),[o,l]=b.useState(!1),{toast:c}=dt(),d=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0}],h=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"},{id:3,location:"Home",timestamp:new Date(Date.now()-5*60*60*1e3),status:"safe",message:"Made it home safely"}],u=()=>{t(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(g=>{t(!1);const{latitude:p,longitude:y}=g.coords;r(`${p.toFixed(6)}, ${y.toFixed(6)}`),a(!0),c({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},g=>{t(!1),c({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})}):(t(!1),c({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"}))},m=(g,p)=>{const v=p||{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[g];c({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${v}`})},f=g=>{window.open(`tel:${g.phoneNumber}`,"_self"),c({title:"Calling",description:`Calling ${g.name} at ${g.phoneNumber}`})},j=g=>{switch(g){case"safe":return"bg-green-500";case"help_needed":return"bg-yellow-500";case"emergency":return"bg-red-500";default:return"bg-gray-500"}},x=()=>{l(!o),c({title:o?"Auto-share disabled":"Auto-share enabled",description:o?"Location will no longer be shared automatically":"Location will be shared automatically when traveling"})};return s.jsxs(L,{className:"h-fit",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),"Location & Safety",s.jsx(ue,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),s.jsx(at,{children:"Share your location, send safety check-ins, and manage emergency contacts"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs(L,{className:"p-4 border-blue-200 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium text-blue-800",children:"Current Location"}),s.jsx(E,{onClick:()=>a(!i),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",children:i?s.jsx(R0,{className:"w-4 h-4"}):s.jsx(gm,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Zs,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-blue-700",children:i?n:"Location hidden for privacy"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{onClick:u,className:"flex-1",disabled:e,children:[s.jsx(uw,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),e?"Getting Location...":"Update Location"]}),s.jsxs(E,{onClick:x,variant:o?"default":"outline",size:"sm",className:"text-xs",children:[s.jsx(Us,{className:"w-3 h-3 mr-1"}),"Auto ",o?"ON":"OFF"]})]})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Quick Safety Check"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs(E,{onClick:()=>m("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[s.jsx($t,{className:"w-3 h-3 mr-1"}),"Safe"]}),s.jsxs(E,{onClick:()=>m("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[s.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Help"]}),s.jsxs(E,{onClick:()=>m("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[s.jsx(bs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]}),s.jsxs("div",{className:"mt-4 p-3 border rounded-lg bg-gray-50",children:[s.jsx(de,{className:"text-sm font-medium mb-2 block",children:"Custom Check-in Message"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{placeholder:"e.g., Arrived at the store, doing well",className:"flex-1"}),s.jsxs(E,{onClick:()=>m("safe","Custom message sent"),size:"sm",children:[s.jsx(Ff,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),s.jsx("div",{className:"space-y-3",children:d.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.name}),s.jsx("div",{className:"text-sm text-gray-600",children:g.relationship}),s.jsx("div",{className:"text-xs text-gray-500",children:g.phoneNumber})]})]}),s.jsxs(E,{onClick:()=>f(g),size:"sm",children:[s.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call"]})]},g.id))})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),s.jsx("div",{className:"space-y-3",children:h.map(g=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${j(g.status)}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:g.location}),s.jsx("div",{className:"text-xs text-gray-600",children:g.message})]}),s.jsx("div",{className:"text-xs text-gray-500",children:Ti(g.timestamp)})]},g.id))})]}),s.jsxs(L,{className:"p-4 border-purple-200 bg-purple-50",children:[s.jsx("h3",{className:"font-medium mb-3 text-purple-800",children:"Location Settings"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Share location when traveling"}),s.jsx(ue,{variant:o?"default":"secondary",children:o?"Enabled":"Disabled"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Emergency location sharing"}),s.jsx(ue,{variant:"default",children:"Always On"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Location history"}),s.jsx(ue,{variant:"secondary",children:"7 days"})]}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"Your location is only shared with your designated emergency contacts and is automatically deleted after 7 days for privacy."})]})]}),s.jsx(Hte,{})]})]})}function Hte(){const[e,t]=b.useState(!1),[n,r]=b.useState({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),{toast:i}=dt(),a=[],o=[],l=Ce({mutationFn:async u=>await ye("POST","/api/geofences",u),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/geofences"]}),t(!1),r({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),i({title:"Geofence created",description:"Safe zone has been set up successfully."})},onError:()=>{i({title:"Error",description:"Failed to create geofence.",variant:"destructive"})}}),c=Ce({mutationFn:async u=>await ye("DELETE",`/api/geofences/${u}`),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/geofences"]}),i({title:"Geofence deleted",description:"Safe zone has been removed."})},onError:()=>{i({title:"Error",description:"Failed to delete geofence.",variant:"destructive"})}}),d=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>{r(m=>({...m,latitude:u.coords.latitude.toString(),longitude:u.coords.longitude.toString()})),i({title:"Location captured",description:"Current location has been set for the geofence."})},()=>{i({title:"Location error",description:"Unable to get your current location.",variant:"destructive"})})},h=()=>{if(!n.name||!n.latitude||!n.longitude){i({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}l.mutate({...n,latitude:parseFloat(n.latitude),longitude:parseFloat(n.longitude)})};return s.jsxs(L,{className:"p-4 border-green-200 bg-green-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(C9,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"font-medium text-green-800",children:"Safe Zones (Geofencing)"})]}),s.jsxs(et,{open:e,onOpenChange:t,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Zone"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Create Safe Zone"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"geofence-name",children:"Zone Name"}),s.jsx(q,{id:"geofence-name",placeholder:"e.g. Home, School, Work",value:n.name,onChange:u=>r(m=>({...m,name:u.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"latitude",children:"Latitude"}),s.jsx(q,{id:"latitude",type:"number",step:"any",placeholder:"40.7128",value:n.latitude,onChange:u=>r(m=>({...m,latitude:u.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"longitude",children:"Longitude"}),s.jsx(q,{id:"longitude",type:"number",step:"any",placeholder:"-74.0060",value:n.longitude,onChange:u=>r(m=>({...m,longitude:u.target.value}))})]})]}),s.jsxs(E,{onClick:d,variant:"outline",className:"w-full",children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"radius",children:"Radius (meters)"}),s.jsx(q,{id:"radius",type:"number",min:"50",max:"5000",value:n.radius,onChange:u=>r(m=>({...m,radius:parseInt(u.target.value)}))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{htmlFor:"notify-exit",children:"Notify when leaving zone"}),s.jsx(Ls,{id:"notify-exit",checked:n.notifyOnExit,onCheckedChange:u=>r(m=>({...m,notifyOnExit:u}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{htmlFor:"notify-enter",children:"Notify when entering zone"}),s.jsx(Ls,{id:"notify-enter",checked:n.notifyOnEnter,onCheckedChange:u=>r(m=>({...m,notifyOnEnter:u}))})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{onClick:h,className:"flex-1",children:"Create Safe Zone"}),s.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})]})]}),s.jsx("div",{className:"space-y-3",children:!a||!Array.isArray(a)||a.length===0?s.jsx("div",{className:"text-sm text-gray-600 text-center py-4",children:"No safe zones set up yet. Create one to get caregiver notifications when you leave or enter specific locations."}):a.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-200 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zs,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:u.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:[u.radius,"m radius ",u.notifyOnExit&&" Exit alerts",u.notifyOnEnter&&" Entry alerts"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:u.isActive?"default":"secondary",children:u.isActive?"Active":"Inactive"}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>c.mutate(u.id),className:"text-red-600 hover:text-red-800",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]},u.id))}),o&&o.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Recent Zone Activity"}),s.jsx("div",{className:"space-y-2",children:o.slice(0,3).map(u=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-green-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${u.eventType==="exit"?"bg-orange-500":"bg-green-500"}`}),s.jsxs("span",{children:[u.eventType==="exit"?"Left":"Entered"," zone"]})]}),s.jsx("span",{className:"text-gray-500",children:Ti(new Date(u.timestamp))})]},u.id))})]}),s.jsx("p",{className:"text-xs text-green-600 mt-4",children:"Caregivers will receive instant notifications when you leave or enter designated safe zones. This helps them know you're safe without constant check-ins."})]})}function tC(){const[e,t]=b.useState(!1),{modules:n,reorderModules:r}=QK();YK();const i=l=>{if(!l.destination)return;const c=l.source.index,d=l.destination.index;if(c===d)return;const h=n.filter(x=>x.enabled),u=h[c].id,m=h[d].id,f=n.findIndex(x=>x.id===u),j=n.findIndex(x=>x.id===m);r(f,j)},a={DailySummary:Vee,DailyTasksModule:SY,MoodModule:kY,FinancialModule:CY,AppointmentsModule:zee,AchievementsModule:_Y,CaregiverModule:TY,PharmacyModule:$F,SafetyTransportationModule:Vte,LocationSafetyModule:qte,HealthWellnessModule:jte,AccessibilitySettingsModule:Ete,LifeSkillsModule:Ate,ProgressMotivationModule:Ite},o=(l,c,d=!1)=>{const h=a[c];return h?d&&e?s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"bg-blue-500 text-white rounded-full p-1 shadow-lg flex items-center gap-1 text-xs px-2",children:[s.jsx(Du,{className:"w-3 h-3"}),"Drag to reorder"]})}),s.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-2 hover:border-blue-400 transition-colors",children:s.jsx(h,{},l)})]}):s.jsx(h,{},l):null};return s.jsxs(s.Fragment,{children:[s.jsx(ZK,{}),s.jsxs("div",{className:"w-full max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx("div",{className:"flex-1",children:s.jsx(eQ,{})})}),s.jsx(oY,{}),e&&s.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx(Du,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Tile Reorder Mode Active"}),s.jsx("p",{className:"text-blue-600 text-sm",children:"Click and drag any tile below to reorder your dashboard"})]})]}),s.jsx(q0,{onDragEnd:i,children:s.jsx(G0,{droppableId:"dashboard-modules",isDropDisabled:!e,children:(l,c)=>s.jsxs("div",{...l.droppableProps,ref:l.innerRef,className:`space-y-4 sm:space-y-8 mt-4 sm:mt-8 w-full ${e&&c.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4":""}`,children:[n.filter(d=>d.enabled).map((d,h)=>{const u=n.findIndex(m=>m.id===d.id);return s.jsx(H0,{draggableId:d.id,index:h,isDragDisabled:!e,children:(m,f)=>s.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:`${f.isDragging?"opacity-75 transform scale-105 shadow-lg":""} transition-all duration-200`,children:[d.id==="daily-summary"?(()=>{const j=n[u+1],x=j&&j.id==="daily-tasks"&&j.enabled;return s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:o(d.id,d.component,e)}),s.jsx("div",{className:"lg:col-span-2",children:x?o(j.id,j.component,e):null})]})})():null,d.id==="daily-tasks"&&u>0&&(()=>{const j=n[u-1];return j&&j.id==="daily-summary"&&j.enabled?null:["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?s.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:s.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):s.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)})})(),d.id!=="daily-summary"&&d.id!=="daily-tasks"?["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?s.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:s.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):s.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)}):null]})},d.id)}),l.placeholder]})})})]}),s.jsx(dte,{})]})}function Fi(){var a;const[e,t]=On(),{data:n}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]});b.useEffect(()=>{var d,h;if(!n||!r||n.accountType==="admin"||n.username==="admin"||((d=n.name)==null?void 0:d.toLowerCase().includes("admin")))return;if(["/wearable-devices","/meal-planning","/medication-management","/location-safety","/analytics","/pharmacy"].some(u=>e.startsWith(u))){if(r.status==="expired"||r.status!=="active"&&r.trialDaysLeft===0){t("/subscription");return}const m=(h=Object.entries({"/wearable-devices":"wearableDevices","/meal-planning":"mealPlanning","/medication-management":"medicationManagement","/location-safety":"locationSafety","/analytics":"advancedAnalytics","/pharmacy":"medicationManagement"}).find(([f])=>e.startsWith(f)))==null?void 0:h[1];m&&!r.features[m]&&t("/subscription")}},[e,n,r,t]);const i=(n==null?void 0:n.accountType)==="admin"||(n==null?void 0:n.username)==="admin"||((a=n==null?void 0:n.name)==null?void 0:a.toLowerCase().includes("admin"));return{subscription:r,isPremiumUser:i||(r==null?void 0:r.status)==="active"||(r==null?void 0:r.status)==="trialing"&&((r==null?void 0:r.trialDaysLeft)||0)>0,hasFeature:o=>i||(r==null?void 0:r.features[o])||!1}}function pa({title:e,description:t,feature:n,requiredPlan:r,className:i=""}){const a={premium:"from-purple-600 to-pink-600",family:"from-blue-600 to-purple-600"},l={premium:qt,family:zp}[r];return s.jsxs(L,{className:`border-2 border-dashed border-gray-300 bg-gray-50 ${i}`,children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:s.jsx(Rr,{className:"w-8 h-8 text-gray-500"})}),s.jsx(ce,{className:"text-lg text-gray-700",children:e}),s.jsxs(ue,{variant:"secondary",className:`bg-gradient-to-r ${a[r]} text-white`,children:[s.jsx(l,{className:"w-3 h-3 mr-1"}),r==="premium"?"Premium":"Family"," Feature"]})]}),s.jsxs(V,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:t}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{href:"/subscription",children:s.jsxs(E,{className:`w-full bg-gradient-to-r ${a[r]} hover:opacity-90 text-white`,children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Upgrade to ",r==="premium"?"Premium":"Family"]})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Start with a 7-day free trial"})]})]})]})}function Wte(){const{isPremiumUser:e}=Fi();if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Daily Task Management",description:"Organize and track your daily tasks with reminders, categories, and progress tracking. Subscribe to continue using Adaptalyfe's core task management features.",feature:"tasks",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=dt(),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),[h,u]=b.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),{data:m=[],isLoading:f}=xe({queryKey:["/api/daily-tasks"]}),j=Ce({mutationFn:async T=>ye("POST","/api/daily-tasks",T),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),r(!1),d({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),t({title:"Task created!",description:"New task added to your daily list"})},onError:()=>{t({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}}),x=Ce({mutationFn:async({taskId:T,isCompleted:D,task:P})=>ye("PATCH",`/api/daily-tasks/${T}/complete`,{isCompleted:D}),onSuccess:(T,D)=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),xs.invalidateQueries({queryKey:["/api/points/balance"]});const{isCompleted:P,task:M}=D;let X="Great job staying on track!";P&&M&&M.pointValue>0&&(X=`Excellent! You earned ${M.pointValue} points for completing this task!`),t({title:P?"Task completed!":"Task updated!",description:X})}}),g=Ce({mutationFn:async({taskId:T,updates:D})=>ye("PATCH",`/api/daily-tasks/${T}`,D),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),a(!1),l(null),t({title:"Task updated!",description:"Your task has been updated successfully."})},onError:()=>{t({title:"Error",description:"Failed to update task. Please try again.",variant:"destructive"})}}),p=()=>{if(!c.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}j.mutate({...c,pointValue:parseInt(c.pointValue)||0,estimatedMinutes:parseInt(c.estimatedMinutes)||15})},y=T=>{var D,P;l(T),u({title:T.title,description:T.description||"",category:T.category,frequency:T.frequency||"daily",estimatedMinutes:((D=T.estimatedMinutes)==null?void 0:D.toString())||"",pointValue:((P=T.pointValue)==null?void 0:P.toString())||"",scheduledTime:T.scheduledTime||""}),a(!0)},v=()=>{if(!h.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}o&&g.mutate({taskId:o.id,updates:{...h,pointValue:parseInt(h.pointValue)||0,estimatedMinutes:parseInt(h.estimatedMinutes)||15}})},w=(m||[]).filter(T=>T.isCompleted).length,C=(m||[]).length,N=C>0?Math.round(w/C*100):0,S=(m||[]).reduce((T,D)=>(T[D.category]||(T[D.category]=[]),T[D.category].push(D),T),{}),k={morning:"bg-sunny-orange",cooking:"bg-vibrant-green",organization:"bg-bright-blue",planning:"bg-happy-purple"};return f?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"}),s.jsx("div",{className:"grid gap-6",children:[1,2,3].map(T=>s.jsx("div",{className:"h-64 bg-gray-200 rounded"},T))})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Daily Tasks"}),s.jsx(L,{className:"border-t-4 border-vibrant-green",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Today's Progress"}),s.jsxs("p",{className:"text-gray-600",children:[w," of ",C," tasks completed"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[N,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Complete"})]})]}),s.jsx("div",{className:"w-full bg-gradient-to-r from-gray-300 to-gray-400 rounded-full h-6 shadow-inner border border-gray-400",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-500 via-green-400 to-emerald-400 h-6 rounded-full transition-all duration-500 shadow-lg relative overflow-hidden border-2 border-green-600",style:{width:`${N}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-200 to-transparent opacity-50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-green-600/20 to-transparent"})]})})]})})]}),s.jsx("div",{className:"grid gap-6",children:Object.entries(S).map(([T,D])=>s.jsxs(L,{className:"border-t-4 border-gray-200",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 ${k[T]||"bg-gray-400"} rounded-lg`}),s.jsxs("span",{className:"capitalize",children:[T," Tasks"]}),s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",D.filter(P=>P.isCompleted).length,"/",D.length,")"]})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:D.map(P=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx(E,{variant:"ghost",size:"sm",className:`w-8 h-8 p-0 rounded-full flex items-center justify-center ${P.isCompleted?"bg-vibrant-green hover:bg-vibrant-green":"bg-green-500 hover:bg-vibrant-green"}`,onClick:()=>x.mutate({taskId:P.id,isCompleted:!P.isCompleted,task:P}),disabled:x.isPending,children:P.isCompleted?s.jsx($t,{className:"text-white",size:20}):s.jsx(mc,{className:"text-white",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-medium text-gray-900 ${P.isCompleted?"line-through":""}`,children:P.title}),s.jsx("p",{className:"text-sm text-gray-600",children:P.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ws,{size:14,className:"text-gray-400"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[P.estimatedMinutes," minutes"]})]}),P.frequency&&P.frequency!=="daily"&&s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full font-medium",children:P.frequency})}),P.scheduledTime&&s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:new Date(`2000-01-01T${P.scheduledTime}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})}),P.pointValue&&P.pointValue>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qt,{size:14,className:"text-yellow-500"}),s.jsxs("span",{className:"text-xs text-yellow-600 font-medium",children:[P.pointValue," points"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(E,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-blue-100",onClick:()=>y(P),children:s.jsx(E9,{className:"text-blue-600",size:16})}),P.isCompleted&&s.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-full flex items-center justify-center",children:s.jsx(qt,{className:"text-white",size:20})})]})]},P.id))})})]},T))}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-vibrant-green hover:bg-green-600 text-black font-bold shadow-lg border border-green-700",children:[s.jsx(ct,{size:20,className:"mr-2 text-black"}),s.jsx("span",{className:"text-black font-bold",children:"Add New Task"})]})}),s.jsxs(Ye,{className:"sm:max-w-md",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Daily Task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Task title",value:c.title,onChange:T=>d({...c,title:T.target.value})}),s.jsx(ot,{placeholder:"Description (optional)",value:c.description,onChange:T=>d({...c,description:T.target.value})}),s.jsxs(Ge,{value:c.category,onValueChange:T=>d({...c,category:T}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})}),s.jsxs(We,{children:[s.jsx(B,{value:"personal_care",children:"Personal Care"}),s.jsx(B,{value:"household",children:"Household"}),s.jsx(B,{value:"work",children:"Work"}),s.jsx(B,{value:"health",children:"Health"}),s.jsx(B,{value:"social",children:"Social"}),s.jsx(B,{value:"education",children:"Education"})]})]}),s.jsxs(Ge,{value:c.frequency,onValueChange:T=>d({...c,frequency:T}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select frequency"})}),s.jsxs(We,{children:[s.jsx(B,{value:"daily",children:"Daily"}),s.jsx(B,{value:"weekly",children:"Weekly"}),s.jsx(B,{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),s.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:c.scheduledTime,onChange:T=>d({...c,scheduledTime:T.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),s.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:c.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&d({...c,estimatedMinutes:D})}}),s.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),s.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:c.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&d({...c,pointValue:D})}}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:p,disabled:j.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:j.isPending?"Creating...":"Create Task"}),s.jsx(E,{onClick:()=>r(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),s.jsx(et,{open:i,onOpenChange:a,children:s.jsxs(Ye,{className:"sm:max-w-md",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Edit Task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Task title",value:h.title,onChange:T=>u({...h,title:T.target.value})}),s.jsx(ot,{placeholder:"Description (optional)",value:h.description,onChange:T=>u({...h,description:T.target.value})}),s.jsxs(Ge,{value:h.category,onValueChange:T=>u({...h,category:T}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})}),s.jsxs(We,{children:[s.jsx(B,{value:"personal_care",children:"Personal Care"}),s.jsx(B,{value:"household",children:"Household"}),s.jsx(B,{value:"work",children:"Work"}),s.jsx(B,{value:"health",children:"Health"}),s.jsx(B,{value:"social",children:"Social"}),s.jsx(B,{value:"education",children:"Education"})]})]}),s.jsxs(Ge,{value:h.frequency,onValueChange:T=>u({...h,frequency:T}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select frequency"})}),s.jsxs(We,{children:[s.jsx(B,{value:"daily",children:"Daily"}),s.jsx(B,{value:"weekly",children:"Weekly"}),s.jsx(B,{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),s.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:h.scheduledTime,onChange:T=>u({...h,scheduledTime:T.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),s.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:h.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&u({...h,estimatedMinutes:D})}}),s.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),s.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:h.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&u({...h,pointValue:D})}}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:v,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",disabled:g.isPending,children:g.isPending?"Updating...":"Update Task"}),s.jsx(E,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}const Gte=Ns({name:Ae().min(1,"Bill name is required"),amount:zs().min(.01,"Amount must be greater than 0"),dueDate:zs().min(1).max(31),category:Ae().min(1,"Category is required"),isRecurring:ko()}),Kte=Ns({category:Ae().min(1,"Category is required"),amount:zs().min(.01,"Amount must be greater than 0"),type:kl(["income","expense"]),description:Ae().optional()}),Qte=Ns({title:Ae().min(1,"Goal title is required"),description:Ae().optional(),targetAmount:zs().min(.01,"Target amount must be greater than 0"),currentAmount:zs().min(0,"Current amount cannot be negative"),targetDate:Ae().min(1,"Target date is required"),category:Ae().optional(),priority:kl(["low","medium","high"]).default("medium")}),Yte=Ns({name:Ae().min(1,"Category name is required"),type:kl(["income","expense"]),budgetedAmount:zs().min(0,"Budget amount cannot be negative"),color:Ae().optional()});function Xte(){const{isPremiumUser:e}=Fi(),{toast:t}=dt(),[n,r]=b.useState(!1);if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Financial Management",description:"Track bills, manage budgets, and monitor your financial health. Subscribe to continue using Adaptalyfe's financial management tools.",feature:"financial",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,u]=b.useState(null),[m,f]=b.useState(null),[j,x]=b.useState(null),[g,p]=b.useState("overview"),{data:y=[],isLoading:v}=xe({queryKey:["/api/bills"]}),{data:w=[],isLoading:C}=xe({queryKey:["/api/budget-entries"]}),{data:N=[]}=xe({queryKey:["/api/savings-goals"]}),{data:S=[]}=xe({queryKey:["/api/budget-categories"]}),k=Bt({resolver:Vt(Gte),defaultValues:{name:"",amount:0,dueDate:1,category:"",isRecurring:!0}}),T=Bt({resolver:Vt(Kte),defaultValues:{category:"",amount:0,type:"expense",description:""}}),D=Bt({resolver:Vt(Qte),defaultValues:{title:"",description:"",targetAmount:0,currentAmount:0,targetDate:"",category:"general",priority:"medium"}}),P=Bt({resolver:Vt(Yte),defaultValues:{name:"",type:"expense",budgetedAmount:0,color:"#3b82f6"}}),M=Ce({mutationFn:async $=>(await ye("POST","/api/budget-entries",$)).json(),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/budget-entries"]}),a(!1),T.reset(),t({title:"Success",description:"Budget entry added successfully!"})},onError:()=>{t({title:"Error",description:"Failed to add budget entry",variant:"destructive"})}}),X=Ce({mutationFn:async $=>{const oe=h?`/api/savings-goals/${h.id}`:"/api/savings-goals";return(await ye(h?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/savings-goals"]}),xs.refetchQueries({queryKey:["/api/savings-goals"]}),l(!1),u(null),D.reset(),t({title:"Success",description:h?"Savings goal updated successfully!":"Savings goal created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save savings goal",variant:"destructive"})}}),ee=Ce({mutationFn:async $=>{const oe=j?`/api/bills/${j.id}`:"/api/bills";return(await ye(j?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/bills"]}),xs.refetchQueries({queryKey:["/api/bills"]}),r(!1),x(null),k.reset(),t({title:"Success",description:j?"Bill updated successfully!":"Bill created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save bill",variant:"destructive"})}}),F=Ce({mutationFn:async $=>{const oe=m?`/api/budget-categories/${m.id}`:"/api/budget-categories";return(await ye(m?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/budget-categories"]}),xs.refetchQueries({queryKey:["/api/budget-categories"]}),d(!1),f(null),P.reset(),t({title:"Success",description:m?"Category updated successfully!":"Category created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save category",variant:"destructive"})}}),re=w.filter($=>$.type==="income").reduce(($,oe)=>$+oe.amount,0),fe=w.filter($=>$.type==="expense").reduce(($,oe)=>$+oe.amount,0),H=re>0?fe/re*100:0;return v||C?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-8",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"})]}),s.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Financial Management"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsx(L,{className:"border-t-4 border-bright-blue",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-bright-blue rounded-lg flex items-center justify-center",children:s.jsx(Pi,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Income"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(re)})]})]})})}),s.jsx(L,{className:"border-t-4 border-sunny-orange",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:s.jsx(uo,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(fe)})]})]})})}),s.jsx(L,{className:"border-t-4 border-vibrant-green",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Budget Status"}),s.jsxs("p",{className:`text-2xl font-bold ${H<80?"text-green-600":H<100?"text-yellow-600":"text-red-600"}`,children:[Math.round(H),"%"]})]})]})})})]}),s.jsxs(hn,{value:g,onValueChange:p,className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-5",children:[s.jsx($e,{value:"overview",children:"Overview"}),s.jsx($e,{value:"bills",children:"Bills"}),s.jsxs($e,{value:"savings",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),"Savings"]}),s.jsxs($e,{value:"categories",children:[s.jsx(bS,{className:"h-4 w-4 mr-1"}),"Categories"]}),s.jsx($e,{value:"banking",children:"Banking"})]}),s.jsx(Ue,{value:"overview",className:"mt-6",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(L,{className:"border-t-4 border-bright-blue",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Monthly Budget Overview"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(et,{open:i,onOpenChange:a,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-red-600 hover:bg-red-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Expense"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Budget Entry"})}),s.jsx(zt,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit($=>M.mutate($)),className:"space-y-4",children:[s.jsx(Z,{control:T.control,name:"type",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Entry Type"}),s.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select entry type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"income",children:"Income"}),s.jsx(B,{value:"expense",children:"Expense"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:T.control,name:"category",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Groceries, Gas, Shopping",...$})}),s.jsx(se,{})]})}),s.jsx(Z,{control:T.control,name:"amount",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Amount"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:T.control,name:"description",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Add a note...",...$})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:M.isPending,children:M.isPending?"Adding...":"Add Entry"})]})})]})]}),s.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{T.reset({type:"income",category:"",amount:0,description:""}),a(!0)},children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Income"]})]})]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Budget Usage"}),s.jsx("span",{className:`text-sm font-medium ${H<80?"text-green-600":H<100?"text-yellow-600":"text-red-600"}`,children:H<80?"On track":H<100?"Watch spending":"Over budget"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:s.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${H<80?"bg-gradient-to-r from-green-400 to-green-600":H<100?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.min(H,100)}%`},children:s.jsx("div",{className:"h-full rounded-full opacity-30 bg-white"})})}),s.jsxs("div",{className:"flex justify-between items-center mt-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-red-600",children:Fs(fe)})," spent"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-green-600",children:Fs(re)})," budget"]})]}),s.jsx("div",{className:"text-center mt-2",children:s.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${H<80?"bg-green-100 text-green-800":H<100?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(H),"% Used  ",Fs(re-fe)," Remaining"]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Transactions"}),w.length>0?s.jsx("div",{className:"space-y-3",children:w.slice(-5).reverse().map($=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${$.type==="income"?"bg-green-500":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:$.category}),s.jsx("p",{className:"text-sm text-gray-600",children:$.description||"No description"})]})]}),s.jsxs("span",{className:`font-semibold ${$.type==="income"?"text-green-600":"text-red-600"}`,children:[$.type==="income"?"+":"-",Fs($.amount)]})]},$.id))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No transactions yet"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Expense Categories"}),(()=>{const $=w.filter(oe=>oe.type==="expense").reduce((oe,be)=>(oe[be.category]=(oe[be.category]||0)+be.amount,oe),{});return Object.entries($).length>0?s.jsx("div",{className:"space-y-3",children:Object.entries($).map(([oe,be])=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-900",children:oe}),s.jsx("span",{className:"font-semibold text-red-600",children:Fs(be)})]},oe))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No expenses tracked yet"})})()]})]})]})})}),s.jsx(Ue,{value:"bills",className:"mt-6",children:s.jsxs(L,{className:"border-t-4 border-sunny-orange",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ht,{className:"text-sunny-orange",size:24}),s.jsx("span",{children:"Bill Calendar"})]}),s.jsxs(et,{open:n,onOpenChange:$=>{r($),$||(x(null),k.reset())},children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Bill"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:j?"Edit Bill":"Add New Bill"})}),s.jsx(zt,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit($=>ee.mutate($)),className:"space-y-4",children:[s.jsx(Z,{control:k.control,name:"name",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Bill Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Electric Bill, Rent",...$})}),s.jsx(se,{})]})}),s.jsx(Z,{control:k.control,name:"amount",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Amount"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:k.control,name:"dueDate",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Due Date (Day of Month)"}),s.jsx(J,{children:s.jsx(q,{type:"number",min:"1",max:"31",placeholder:"15",...$,onChange:oe=>$.onChange(parseInt(oe.target.value)||1)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:k.control,name:"category",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Utilities, Housing",...$})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:ee.isPending,children:ee.isPending?"Saving...":j?"Update Bill":"Add Bill"})]})})]})]})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(Ht,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No bills added yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add your recurring bills to track due dates"}),s.jsxs(E,{className:"bg-sunny-orange hover:bg-sunny-orange",onClick:()=>r(!0),children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Bill"]})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map($=>{const oe=$p($.dueDate),be=oe<0,st=oe<=3&&oe>=0;return s.jsx(L,{className:`border-l-4 ${be?"border-l-red-500":st?"border-l-sunny-orange":"border-l-bright-blue"}`,children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:$.name}),s.jsx("p",{className:"text-sm text-gray-600",children:$.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:Fs($.amount)}),s.jsx("p",{className:`text-sm ${be?"text-red-600":st?"text-sunny-orange":"text-gray-600"}`,children:be?`${Math.abs(oe)} days overdue`:st?`Due in ${oe} days`:`Due ${oe} days`})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>{x($),k.reset({name:$.name,amount:$.amount,dueDate:$.dueDate,category:$.category,isRecurring:$.isRecurring}),r(!0)},children:"Edit"}),s.jsx(E,{size:"sm",className:"bg-bright-blue hover:bg-blue-600",onClick:()=>{t({title:"Bill Payment",description:`Ready to pay ${$.name}! In the full version, this would redirect to your payment portal or banking app.`})},children:"Pay Bill"})]})]})},$.id)})})})})]})}),s.jsx(Ue,{value:"savings",className:"mt-6",children:s.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Us,{className:"text-vibrant-green",size:24}),s.jsx("span",{children:"Savings Goals"})]}),s.jsxs(et,{open:o,onOpenChange:l,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Goal"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:h?"Edit Savings Goal":"Create Savings Goal"})}),s.jsx(zt,{...D,children:s.jsxs("form",{onSubmit:D.handleSubmit($=>X.mutate($)),className:"space-y-4",children:[s.jsx(Z,{control:D.control,name:"title",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Goal Title"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Emergency Fund, Vacation",...$})}),s.jsx(se,{})]})}),s.jsx(Z,{control:D.control,name:"description",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"What are you saving for?",...$})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:D.control,name:"targetAmount",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Target Amount"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:D.control,name:"currentAmount",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Current Amount"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:D.control,name:"targetDate",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Target Date"}),s.jsx(J,{children:s.jsx(q,{type:"date",...$})}),s.jsx(se,{})]})}),s.jsx(Z,{control:D.control,name:"priority",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Priority"}),s.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select priority"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"low",children:"Low"}),s.jsx(B,{value:"medium",children:"Medium"}),s.jsx(B,{value:"high",children:"High"})]})]}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:X.isPending,children:X.isPending?"Saving...":h?"Update Goal":"Create Goal"})]})})]})]})]})}),s.jsx(V,{children:N.length>0?s.jsx("div",{className:"space-y-4",children:N.map($=>{const oe=$.currentAmount/$.targetAmount*100;return s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:$.title}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[Fs($.currentAmount)," / ",Fs($.targetAmount)]}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>{u($),D.reset({title:$.title,description:$.description||"",targetAmount:$.targetAmount,currentAmount:$.currentAmount,targetDate:$.targetDate?new Date($.targetDate).toISOString().split("T")[0]:"",category:$.category||"general",priority:$.priority||"medium"}),l(!0)},children:"Edit"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:$.description}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-vibrant-green rounded-full",style:{width:`${Math.min(oe,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(oe),"% complete"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",new Date($.targetDate).toLocaleDateString()]})]})]},$.id)})}):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No savings goals yet. Create your first goal!"})})]})}),s.jsx(Ue,{value:"categories",className:"mt-6",children:s.jsxs(L,{className:"border-t-4 border-bright-blue",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bS,{className:"text-bright-blue",size:24}),s.jsx("span",{children:"Budget Categories"})]}),s.jsxs(et,{open:c,onOpenChange:$=>{d($),$||(f(null),P.reset())},children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Category"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:m?"Edit Category":"Add New Category"})}),s.jsx(zt,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit($=>F.mutate($)),className:"space-y-4",children:[s.jsx(Z,{control:P.control,name:"name",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Food & Dining, Transportation",...$})}),s.jsx(se,{})]})}),s.jsx(Z,{control:P.control,name:"type",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category Type"}),s.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"income",children:"Income"}),s.jsx(B,{value:"expense",children:"Expense"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:P.control,name:"budgetedAmount",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Budgeted Amount"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:P.control,name:"color",render:({field:$})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Color"}),s.jsx(J,{children:s.jsx(q,{type:"color",...$,className:"w-full h-10"})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:F.isPending,children:F.isPending?"Saving...":m?"Update Category":"Add Category"})]})})]})]})]})}),s.jsx(V,{children:S.length>0?s.jsx("div",{className:"space-y-4",children:S.map($=>s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:$.color}}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:$.name}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:$.type})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:Fs($.budgetedAmount)}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>{f($),P.reset({name:$.name,type:$.type,budgetedAmount:$.budgetedAmount,color:$.color||"#3b82f6"}),d(!0)},children:"Edit"})]})]})},$.id))}):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No budget categories set up yet."})})]})}),s.jsx(Ue,{value:"banking",className:"mt-6",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Banking & Bill Pay Integration"})}),s.jsxs(V,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Connect your bank accounts for secure bill payments and balance checking."}),s.jsxs(E,{className:"bg-bright-blue hover:bg-blue-600",children:[s.jsx(m9,{className:"h-4 w-4 mr-2"}),"Connect Bank Account"]})]})]})})})]})]})})}function Zte(){var j,x,g;const{isPremiumUser:e}=Fi();if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Mood Tracking",description:"Monitor your emotional well-being with daily mood check-ins and progress tracking. Subscribe to continue using Adaptalyfe's mood management features.",feature:"mood",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=dt(),[n,r]=b.useState(null),[i,a]=b.useState(""),{data:o=[],isLoading:l}=xe({queryKey:["/api/mood-entries"]}),{data:c}=xe({queryKey:["/api/mood-entries/today"]}),d=[{value:1,emoji:"",label:"Very Sad",color:"bg-red-500"},{value:2,emoji:"",label:"Okay",color:"bg-yellow-500"},{value:3,emoji:"",label:"Good",color:"bg-green-500"},{value:4,emoji:"",label:"Great",color:"bg-blue-500"},{value:5,emoji:"",label:"Amazing",color:"bg-purple-500"}],h=Ce({mutationFn:async p=>{const y=await ye("POST","/api/mood-entries",p);if(!y.ok){const w=await y.json(),C=new Error(w.message||"Failed to save mood");throw C.status=y.status,C.data=w,C}return await y.json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/mood-entries"]}),xs.invalidateQueries({queryKey:["/api/mood-entries/today"]}),r(null),a(""),t({title:"Mood recorded!",description:"Thanks for checking in today!"})},onError:p=>{var y;if(console.error("Failed to save mood:",p),p.status===400&&((y=p.data)!=null&&y.existing)){t({title:"Already Logged Today",description:"You've already recorded your mood for today! Check back tomorrow for a new entry.",variant:"default"}),xs.invalidateQueries({queryKey:["/api/mood-entries/today"]});return}t({title:"Error",description:p.message||"Failed to save your mood. Please try again.",variant:"destructive"})}}),u=()=>{n&&h.mutate({mood:n,notes:i||void 0})},m=o.sort((p,y)=>{const v=p.entryDate?new Date(p.entryDate).getTime():0;return(y.entryDate?new Date(y.entryDate).getTime():0)-v}).slice(0,7),f=o.length>0?o.reduce((p,y)=>p+y.mood,0)/o.length:0;return l?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mood & Wellbeing"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsx(L,{className:"border-t-4 border-happy-purple",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-happy-purple rounded-lg flex items-center justify-center",children:s.jsx(lt,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Today's Mood"}),s.jsx("p",{className:"text-2xl",children:c?(j=d.find(p=>p.value===c.mood))==null?void 0:j.emoji:""})]})]})})}),s.jsx(L,{className:"border-t-4 border-sunny-orange",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:s.jsx(Ni,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Mood"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.toFixed(1),"/5"]})]})]})})}),s.jsx(L,{className:"border-t-4 border-vibrant-green",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:s.jsx(Ht,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Check-ins"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs(L,{className:"border-t-4 border-happy-purple",children:[s.jsx(le,{children:s.jsx(ce,{children:"How are you feeling today?"})}),s.jsx(V,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:(x=d.find(p=>p.value===c.mood))==null?void 0:x.emoji}),s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["You're feeling ",(g=d.find(p=>p.value===c.mood))==null?void 0:g.label]}),s.jsx("p",{className:"text-gray-600",children:"You've already checked in today!"}),s.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"Come back tomorrow for your next daily check-in."}),c.notes&&s.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:['"',c.notes,'"']})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-5 gap-3",children:d.map(p=>s.jsx(E,{variant:"outline",className:`p-4 h-auto border-2 transition-all ${n===p.value?"border-happy-purple bg-purple-50 scale-105":"border-gray-200 hover:border-happy-purple"}`,onClick:()=>r(p.value),children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:p.emoji}),s.jsx("p",{className:"text-xs text-gray-600",children:p.label})]})},p.value))}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),s.jsx(ot,{placeholder:"Tell us more about how you're feeling...",value:i,onChange:p=>a(p.target.value),className:"min-h-20"})]}),s.jsx(E,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:u,disabled:!n||h.isPending,children:h.isPending?"Recording...":"Record Mood"})]})})]}),s.jsxs(L,{className:"border-t-4 border-bright-blue",children:[s.jsx(le,{children:s.jsx(ce,{children:"Recent Check-ins"})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsx("p",{className:"text-gray-600 text-center py-8",children:"No mood entries yet"}):m.map(p=>{const y=d.find(v=>v.value===p.mood);return s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl",children:y==null?void 0:y.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:y==null?void 0:y.label}),s.jsx("span",{className:"text-xs text-gray-500",children:p.entryDate?Ti(new Date(p.entryDate)):"Unknown date"})]}),p.notes&&s.jsxs("p",{className:"text-sm text-gray-600",children:['"',p.notes,'"']})]})]},p.id)})})})]})]})]})}function Jte(){const[e,t]=b.useState(!1),[n,r]=b.useState(null),{toast:i}=dt(),a=Yt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/emergency-resources"]}),c=Bt({resolver:Vt(oee),defaultValues:{name:"",type:"crisis",phoneNumber:"",address:"",website:"",description:"",availabilityHours:"",isEmergencyOnly:!1,caregiverId:1}}),d=Ce({mutationFn:async g=>await ye("POST","/api/emergency-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource added successfully"}),c.reset(),t(!1)},onError:()=>{i({title:"Error",description:"Failed to add emergency resource",variant:"destructive"})}}),h=Ce({mutationFn:async({id:g,data:p})=>await ye("PUT",`/api/emergency-resources/${g}`,p),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource updated successfully"}),r(null),c.reset()},onError:()=>{i({title:"Error",description:"Failed to update emergency resource",variant:"destructive"})}}),u=Ce({mutationFn:async g=>await ye("DELETE",`/api/emergency-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource deleted successfully"})},onError:()=>{i({title:"Error",description:"Failed to delete emergency resource",variant:"destructive"})}}),m=g=>{n?h.mutate({id:n.id,data:g}):d.mutate(g)},f=g=>{r(g),t(!0),c.reset({name:g.name,type:g.type,phoneNumber:g.phoneNumber||"",address:g.address||"",website:g.website||"",description:g.description||"",availabilityHours:g.availabilityHours||"",isEmergencyOnly:g.isEmergencyOnly||!1,caregiverId:g.caregiverId})},j=g=>{switch(g){case"crisis":return s.jsx(Jt,{className:"w-4 h-4"});case"counselor":return s.jsx(lt,{className:"w-4 h-4"});case"hospital":return s.jsx(w9,{className:"w-4 h-4"});case"mental_health":return s.jsx(j9,{className:"w-4 h-4"});case"support_group":return s.jsx(ls,{className:"w-4 h-4"});default:return s.jsx(os,{className:"w-4 h-4"})}},x=g=>{switch(g){case"crisis":return"bg-red-100 text-red-800";case"counselor":return"bg-blue-100 text-blue-800";case"hospital":return"bg-purple-100 text-purple-800";case"mental_health":return"bg-green-100 text-green-800";case"support_group":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return l?s.jsx("div",{className:"animate-pulse",children:"Loading emergency resources..."}):s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-red-600"}),"Local Emergency Resources"]}),s.jsxs(E,{onClick:()=>{r(null),c.reset(),t(!e)},size:"sm",className:"flex items-center gap-2",children:[s.jsx(ct,{className:"w-4 h-4"}),"Add Resource"]})]})}),s.jsxs(V,{className:"space-y-4",children:[e&&s.jsx(L,{className:"border-2 border-blue-200",children:s.jsx(V,{className:"pt-6",children:s.jsx(zt,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(m),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Z,{control:c.control,name:"name",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Resource Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Crisis Hotline, Local Counselor, etc.",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"type",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Type"}),s.jsxs(Ge,{onValueChange:g.onChange,value:g.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select resource type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"crisis",children:"Crisis Hotline"}),s.jsx(B,{value:"counselor",children:"Personal Counselor"}),s.jsx(B,{value:"hospital",children:"Hospital/ER"}),s.jsx(B,{value:"mental_health",children:"Mental Health Center"}),s.jsx(B,{value:"support_group",children:"Support Group"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"phoneNumber",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Phone Number"}),s.jsx(J,{children:s.jsx(q,{placeholder:"(555) 123-4567",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"availabilityHours",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Availability"}),s.jsx(J,{children:s.jsx(q,{placeholder:"24/7, Mon-Fri 9-5, etc.",...g})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:c.control,name:"address",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Address"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Full address or general location",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"website",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Website"}),s.jsx(J,{children:s.jsx(q,{placeholder:"https://...",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"description",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Special notes, services offered, when to use this resource...",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:c.control,name:"isEmergencyOnly",render:({field:g})=>s.jsxs(Y,{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-base",children:"Emergency Only"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Only use this resource during emergencies"})]}),s.jsx(J,{children:s.jsx(Ls,{checked:g.value,onCheckedChange:g.onChange})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:d.isPending||h.isPending,children:n?"Update Resource":"Add Resource"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>{t(!1),r(null),c.reset()},children:"Cancel"})]})]})})})}),o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(os,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No emergency resources added yet."}),s.jsx("p",{className:"text-sm mt-2",children:"Caregivers can add local crisis support and counseling resources."})]}):s.jsx("div",{className:"grid gap-4",children:o.map(g=>s.jsx(L,{className:"border-l-4 border-l-red-500",children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j(g.type),s.jsx("h3",{className:"font-semibold text-lg",children:g.name}),s.jsx(ue,{className:x(g.type),children:g.type.replace("_"," ")}),g.isEmergencyOnly&&s.jsx(ue,{variant:"destructive",className:"text-xs",children:"Emergency Only"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.phoneNumber&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("a",{href:`tel:${g.phoneNumber}`,className:"text-blue-600 hover:underline font-medium",children:g.phoneNumber})]}),g.address&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-4 h-4"}),s.jsx("span",{children:g.address})]}),g.website&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ho,{className:"w-4 h-4"}),s.jsx("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]}),g.availabilityHours&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{children:g.availabilityHours})]}),g.description&&s.jsx("p",{className:"mt-2 text-gray-700",children:g.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(E,{onClick:()=>f(g),variant:"ghost",size:"sm",children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{onClick:()=>u.mutate(g.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},g.id))}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"For Caregivers"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Add local emergency resources, crisis hotlines, personal counselors, and support groups that are specific to your area. This helps ensure your loved one has quick access to appropriate help when needed."})]})]})]})}const ese={music:T9,videos:L9,websites:ho,apps:u9,relaxation:lt,entertainment:hw,other:ho},tse={music:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",videos:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",websites:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",apps:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",relaxation:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",entertainment:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",other:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};function sse(){const[e,t]=b.useState("all"),[n,r]=b.useState(!1),{toast:i}=dt(),a=Yt(),o=Bt({resolver:Vt(lee),defaultValues:{title:"",url:"",description:"",category:"websites",tags:"",isFavorite:!1}}),{data:l=[],isLoading:c}=xe({queryKey:e==="all"?["/api/personal-resources"]:["/api/personal-resources",{category:e}]}),d=Ce({mutationFn:async g=>await ye("POST","/api/personal-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),r(!1),o.reset(),i({title:"Success",description:"Personal resource added successfully!"})},onError:g=>{console.error("Error creating resource:",g),i({title:"Error",description:"Failed to add personal resource",variant:"destructive"})}}),h=Ce({mutationFn:async g=>await ye("DELETE",`/api/personal-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),i({title:"Success",description:"Personal resource deleted successfully!"})},onError:()=>{i({title:"Error",description:"Failed to delete personal resource",variant:"destructive"})}}),u=Ce({mutationFn:async({id:g,isFavorite:p})=>await ye("PATCH",`/api/personal-resources/${g}`,{isFavorite:p}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),m=Ce({mutationFn:async g=>await ye("PATCH",`/api/personal-resources/${g}/access`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),f=g=>{d.mutate(g)},j=g=>{m.mutate(g.id),window.open(g.url,"_blank")},x=[{value:"all",label:"All Resources"},{value:"music",label:"Music"},{value:"videos",label:"Videos"},{value:"websites",label:"Websites"},{value:"apps",label:"Apps"},{value:"relaxation",label:"Relaxation"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];return c?s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{children:"My Personal Resources"})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>s.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"},g))})})]}):s.jsxs(L,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(ce,{className:"text-xl font-semibold",children:"My Personal Resources"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Save and access your favorite links for relaxation, music, videos, and more"})]}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{size:"sm",children:[s.jsx(ct,{className:"h-4 w-4 mr-2"}),"Add Resource"]})}),s.jsxs(Ye,{className:"max-w-md",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Personal Resource"})}),s.jsx(zt,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-4",children:[s.jsx(Z,{control:o.control,name:"title",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Title"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Resource name",...g})})]})}),s.jsx(Z,{control:o.control,name:"url",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"URL"}),s.jsx(J,{children:s.jsx(q,{placeholder:"https://",...g})})]})}),s.jsx(Z,{control:o.control,name:"category",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsxs(Ge,{onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"music",children:"Music"}),s.jsx(B,{value:"videos",children:"Videos"}),s.jsx(B,{value:"websites",children:"Websites"}),s.jsx(B,{value:"apps",children:"Apps"}),s.jsx(B,{value:"relaxation",children:"Relaxation"}),s.jsx(B,{value:"entertainment",children:"Entertainment"}),s.jsx(B,{value:"other",children:"Other"})]})]})]})}),s.jsx(Z,{control:o.control,name:"description",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"What makes this resource helpful?",...g,value:g.value||""})})]})}),s.jsx(Z,{control:o.control,name:"tags",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Tags (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"calming, motivation, focus (comma-separated)",...g,value:g.value||""})})]})}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(E,{type:"submit",disabled:d.isPending,className:"flex-1",children:d.isPending?"Adding...":"Add Resource"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),s.jsxs(V,{children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:x.map(g=>s.jsx(E,{variant:e===g.value?"default":"outline",size:"sm",onClick:()=>t(g.value),children:g.label},g.value))}),l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ho,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg mb-2",children:"No resources saved yet"}),s.jsx("p",{className:"text-sm",children:"Add your favorite websites, music, videos, and apps to access them quickly."})]}):s.jsx("div",{className:"space-y-3",children:l.map(g=>{const p=ese[g.category]||ho;return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(p,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium truncate",children:g.title}),s.jsx(ue,{variant:"secondary",className:tse[g.category],children:g.category}),g.isFavorite&&s.jsx(qt,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),g.description&&s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.description}),g.tags&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.tags.split(",").map((y,v)=>s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-muted rounded",children:y.trim()},v))}),(g.accessCount||0)>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Accessed ",g.accessCount||0," times"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>u.mutate({id:g.id,isFavorite:!g.isFavorite}),children:g.isFavorite?s.jsx(F9,{className:"h-4 w-4"}):s.jsx(qt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>j(g),children:s.jsx(mx,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),children:s.jsx(Wn,{className:"h-4 w-4"})})]})]},g.id)})})]})]})}function nse(){const{toast:e}=dt(),t=Yt(),[n,r]=b.useState(!1),[i,a]=b.useState(null),[o,l]=b.useState({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""}),{data:c=[],isLoading:d}=xe({queryKey:["/api/emergency-contacts"],queryFn:()=>ye("GET","/api/emergency-contacts").then(v=>v.json())}),h=Ce({mutationFn:async v=>{const w=i?"PUT":"POST",C=i?`/api/emergency-contacts/${i.id}`:"/api/emergency-contacts";return ye(w,C,v)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),r(!1),a(null),m(),e({title:"Success",description:i?"Contact updated successfully":"Emergency contact added successfully"})},onError:()=>{e({title:"Error",description:"Failed to save contact. Please try again.",variant:"destructive"})}}),u=Ce({mutationFn:async v=>ye("DELETE",`/api/emergency-contacts/${v}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete contact. Please try again.",variant:"destructive"})}}),m=()=>{l({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""})},f=v=>{a(v),l({name:v.name,relationship:v.relationship,phoneNumber:v.phoneNumber,email:v.email||"",isPrimary:v.isPrimary,isEmergencyContact:v.isEmergencyContact,notes:v.notes||""}),r(!0)},j=v=>{v.preventDefault(),h.mutate(o)},x=(v,w)=>{window.location.href=`tel:${v}`,e({title:"Calling...",description:`Calling ${w} at ${v}`})},g=v=>{switch(v==null?void 0:v.toLowerCase()){case"parent":case"guardian":return s.jsx(lt,{className:"w-4 h-4 text-red-500"});case"sibling":return s.jsx(ta,{className:"w-4 h-4 text-blue-500"});case"doctor":case"therapist":return s.jsx(os,{className:"w-4 h-4 text-green-500"});case"crisis_hotline":case"emergency":return s.jsx(Jt,{className:"w-4 h-4 text-orange-500"});default:return s.jsx(bs,{className:"w-4 h-4 text-gray-500"})}},p=c.filter(v=>v.isPrimary),y=c.filter(v=>v.isEmergencyContact&&!v.isPrimary);return c.filter(v=>!v.isEmergencyContact&&!v.isPrimary),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(L,{className:"border-red-200 bg-red-50",children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ce,{className:"flex items-center gap-2 text-red-800 text-lg",children:[s.jsx(Jt,{className:"w-4 h-4"}),"Emergency Quick Dial"]}),s.jsx(ue,{variant:"destructive",className:"text-xs",children:"Emergency"})]})}),s.jsx(V,{className:"pt-0",children:y.length>0?s.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:y.slice(0,4).map(v=>s.jsx(E,{onClick:()=>x(v.phoneNumber,v.name),className:"h-12 bg-red-600 hover:bg-red-700 text-white",size:"sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-sm",children:v.name}),s.jsx("div",{className:"text-xs opacity-90",children:v.phoneNumber})]})]})},v.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jt,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),s.jsx("p",{className:"text-red-700 mb-4",children:"No emergency contacts set up yet"}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"destructive",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Emergency Contact"]})}),s.jsxs(Ye,{className:"max-w-md",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add Emergency Contact"}),s.jsx(es,{children:"Add a contact for emergency situations"})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Name *"}),s.jsx(q,{id:"name",value:o.name,onChange:v=>l({...o,name:v.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),s.jsxs(Ge,{value:o.relationship,onValueChange:v=>l({...o,relationship:v}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select relationship"})}),s.jsxs(We,{children:[s.jsx(B,{value:"parent",children:"Parent"}),s.jsx(B,{value:"guardian",children:"Guardian"}),s.jsx(B,{value:"sibling",children:"Sibling"}),s.jsx(B,{value:"caregiver",children:"Caregiver"}),s.jsx(B,{value:"doctor",children:"Doctor"}),s.jsx(B,{value:"therapist",children:"Therapist"}),s.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),s.jsx(B,{value:"friend",children:"Friend"}),s.jsx(B,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),s.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:v=>l({...o,phoneNumber:v.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email"}),s.jsx(q,{id:"email",type:"email",value:o.email,onChange:v=>l({...o,email:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{id:"notes",value:o.notes,onChange:v=>l({...o,notes:v.target.value}),placeholder:"Special instructions or notes"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:h.isPending,children:h.isPending?"Saving...":"Save Contact"})]})]})]})]})]})})]}),p.length>0&&s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-yellow-500"}),"Primary Contacts"]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-3",children:p.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(v.relationship),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[v.relationship,"  ",v.phoneNumber]}),v.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.notes})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{size:"sm",onClick:()=>x(v.phoneNumber,v.name),className:"bg-green-600 hover:bg-green-700",children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>f(v),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(v.id),disabled:u.isPending,children:s.jsx(Wn,{className:"w-4 h-4"})})]})]},v.id))})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5"}),"All Contacts"]}),s.jsxs(et,{open:n,onOpenChange:v=>{r(v),v||(a(null),m())},children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),s.jsxs(Ye,{className:"max-w-md",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:i?"Edit Contact":"Add Contact"}),s.jsx(es,{children:i?"Update contact information":"Add a new emergency contact"})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Name *"}),s.jsx(q,{id:"name",value:o.name,onChange:v=>l({...o,name:v.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),s.jsxs(Ge,{value:o.relationship,onValueChange:v=>l({...o,relationship:v}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select relationship"})}),s.jsxs(We,{children:[s.jsx(B,{value:"parent",children:"Parent"}),s.jsx(B,{value:"guardian",children:"Guardian"}),s.jsx(B,{value:"sibling",children:"Sibling"}),s.jsx(B,{value:"caregiver",children:"Caregiver"}),s.jsx(B,{value:"doctor",children:"Doctor"}),s.jsx(B,{value:"therapist",children:"Therapist"}),s.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),s.jsx(B,{value:"friend",children:"Friend"}),s.jsx(B,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),s.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:v=>l({...o,phoneNumber:v.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email"}),s.jsx(q,{id:"email",type:"email",value:o.email,onChange:v=>l({...o,email:v.target.value})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isPrimary",checked:o.isPrimary,onChange:v=>l({...o,isPrimary:v.target.checked})}),s.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isEmergencyContact",checked:o.isEmergencyContact,onChange:v=>l({...o,isEmergencyContact:v.target.checked})}),s.jsx(de,{htmlFor:"isEmergencyContact",children:"Emergency contact"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{id:"notes",value:o.notes,onChange:v=>l({...o,notes:v.target.value}),placeholder:"Special instructions or notes"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:h.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",children:h.isPending?"Saving...":i?"Update":"Save Contact"})]})]})]})]})]})}),s.jsx(V,{children:c.length>0?s.jsx("div",{className:"space-y-3",children:c.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(v.relationship),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:v.name}),v.isPrimary&&s.jsx(ue,{variant:"secondary",children:"Primary"}),v.isEmergencyContact&&s.jsx(ue,{variant:"destructive",children:"Emergency"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[v.relationship,"  ",v.phoneNumber]}),v.email&&s.jsx("p",{className:"text-sm text-gray-500",children:v.email}),v.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.notes})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{size:"sm",onClick:()=>x(v.phoneNumber,v.name),className:"bg-green-600 hover:bg-green-700",children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>f(v),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(v.id),disabled:u.isPending,children:s.jsx(Wn,{className:"w-4 h-4"})})]})]},v.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts added yet"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add emergency contacts for quick access during urgent situations"})]})})]})]})}function rse(){const[e,t]=b.useState(!1),[n,r]=b.useState("inhale"),[i,a]=b.useState(0),[o,l]=b.useState(0),[c,d]=b.useState(null),h=Ph(null),u=Ph(null),m=[{id:"grounding",title:"5-4-3-2-1 Grounding Technique",description:"Use your senses to ground yourself in the present moment",steps:["Notice 5 things you can see around you","Notice 4 things you can touch","Notice 3 things you can hear","Notice 2 things you can smell","Notice 1 thing you can taste"],color:"bg-vibrant-green"},{id:"progressive",title:"Progressive Muscle Relaxation",description:"Tense and relax different muscle groups to reduce stress",steps:["Start with your toes - tense for 5 seconds, then relax","Move to your calves - tense and relax","Continue with thighs, abdomen, hands, arms","Finish with shoulders, neck, and face","Take deep breaths throughout the process"],color:"bg-happy-purple"},{id:"positive",title:"Positive Self-Talk",description:"Replace negative thoughts with encouraging ones",steps:["Notice when you're being self-critical","Ask yourself: 'What would I tell a friend?'","Replace negative thoughts with realistic, kind ones","Use affirmations: 'I am capable and strong'","Practice daily to build this habit"],color:"bg-sunny-orange"},{id:"mindfulness",title:"Mindful Moment",description:"Take a pause to reconnect with the present",steps:["Stop what you're doing and sit comfortably","Close your eyes or soften your gaze","Notice your breath without changing it","When your mind wanders, gently return to your breath","Continue for 2-5 minutes"],color:"bg-calm-teal"}],f=[{name:"Crisis Text Line",description:"Text HOME to 741741",available:"24/7",color:"bg-red-500"},{name:"National Suicide Prevention Lifeline",description:"Call 988",available:"24/7",color:"bg-red-600"},{name:"SAMHSA National Helpline",description:"1-800-662-4357",available:"24/7",color:"bg-red-700"}],j=()=>{e||(t(!0),l(0),r("inhale"),a(0))},x=()=>{t(!1),a(0),r("inhale"),h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)};return b.useEffect(()=>{if(!e)return;const g=[{name:"inhale",duration:4e3},{name:"hold",duration:4e3},{name:"exhale",duration:4e3}];let p=0,y=0;const v=()=>{const w=g[p];r(w.name);const C=Date.now(),N=()=>{const S=Date.now()-C,k=Math.min(S/w.duration*100,100);a(k),k<100?h.current=requestAnimationFrame(N):(p=(p+1)%g.length,p===0&&(y++,l(y)),u.current=window.setTimeout(v,100))};h.current=requestAnimationFrame(N)};return v(),()=>{h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)}},[e]),s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Mental Health Resources"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Take care of your mental health with these helpful tools and resources."})]}),s.jsx("div",{className:"mb-8",children:s.jsx(nse,{})}),s.jsxs(L,{className:"border-t-4 border-red-500 mb-8",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-3 text-red-700",children:[s.jsx(bs,{size:24}),s.jsx("span",{children:"Emergency Support"})]})}),s.jsxs(V,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"If you're in crisis or having thoughts of self-harm, please reach out for help immediately."}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:f.map((g,p)=>s.jsxs("div",{className:`${g.color} text-white rounded-lg p-3 sm:p-4`,children:[s.jsx("h4",{className:"font-semibold mb-2 text-sm sm:text-base",children:g.name}),s.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:g.description}),s.jsx("p",{className:"text-xs opacity-80",children:g.available})]},p))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs(L,{className:"border-t-4 border-happy-purple",children:[s.jsx(le,{className:"pb-4",children:s.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[s.jsx(PD,{className:"text-happy-purple",size:20}),s.jsx("span",{children:"Breathing Exercise"})]})}),s.jsx(V,{className:"px-3 sm:px-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center transition-all duration-1000 ${n==="inhale"?"bg-blue-200 scale-110":n==="hold"?"bg-purple-200 scale-110":"bg-green-200 scale-90"}`,children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-700 px-2 text-center leading-tight",children:n==="inhale"?"Breathe In":n==="hold"?"Hold":"Breathe Out"})})}),s.jsx("div",{className:"mb-4 px-2",children:s.jsx(on,{value:i,className:"h-2"})}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base px-2",children:e?`Cycle ${o+1}  ${n}`:"4-4-4 Breathing Pattern"}),s.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 px-2",children:e?s.jsxs(s.Fragment,{children:[s.jsxs(E,{variant:"outline",onClick:x,className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[s.jsx(SD,{size:16,className:"mr-2"}),"Stop"]}),s.jsxs(E,{variant:"outline",onClick:()=>{x(),setTimeout(j,100)},className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[s.jsx(CD,{size:16,className:"mr-2"}),"Restart"]})]}):s.jsxs(E,{className:"bg-happy-purple hover:bg-happy-purple text-white w-full sm:w-auto",onClick:j,children:[s.jsx(dw,{size:16,className:"mr-2"}),"Start Breathing"]})})]})})]}),s.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[s.jsx(le,{className:"pb-4",children:s.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[s.jsx(Mu,{className:"text-vibrant-green",size:20}),s.jsx("span",{children:"Coping Strategies"})]})}),s.jsx(V,{className:"px-3 sm:px-6",children:s.jsx("div",{className:"space-y-2 sm:space-y-3",children:m.map(g=>s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"outline",className:"w-full justify-start h-auto p-3 sm:p-4 border-2 hover:shadow-md transition-all text-left",onClick:()=>d(g.id),children:[s.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0`,children:s.jsx(lt,{className:"text-white",size:14})}),s.jsxs("div",{className:"text-left min-w-0 flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:g.title}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 sm:line-clamp-none",children:g.description})]})]})}),s.jsxs(Ye,{className:"max-w-sm sm:max-w-md mx-2 sm:mx-auto max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{className:"pb-3",children:s.jsxs(Ze,{className:"flex items-center space-x-2 sm:space-x-3 text-base sm:text-lg",children:[s.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx(lt,{className:"text-white",size:14})}),s.jsx("span",{className:"leading-tight",children:g.title})]})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4 pb-2",children:[s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:g.description}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Steps:"}),s.jsx("ol",{className:"space-y-2 sm:space-y-3",children:g.steps.map((p,y)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("span",{className:`w-5 h-5 sm:w-6 sm:h-6 ${g.color} text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-medium flex-shrink-0 mt-0.5`,children:y+1}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:p})]},y))})]})]})]})]},g.id))})})]})]}),s.jsxs(L,{className:"border-t-4 border-sunny-orange mt-6 sm:mt-8",children:[s.jsx(le,{className:"pb-4",children:s.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[s.jsx(Hr,{className:"text-sunny-orange",size:20}),s.jsx("span",{children:"Educational Resources"})]})}),s.jsx(V,{className:"px-3 sm:px-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Understanding Anxiety"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn about anxiety symptoms and healthy ways to manage anxious feelings."}),s.jsx(E,{variant:"outline",size:"sm",className:"border-sunny-orange text-sunny-orange hover:bg-orange-50",children:"Learn More"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Building Resilience"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Discover strategies to bounce back from challenges and build emotional strength."}),s.jsx(E,{variant:"outline",size:"sm",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"Learn More"})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Healthy Habits"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Simple daily practices that support your mental and emotional wellbeing."}),s.jsx(E,{variant:"outline",size:"sm",className:"border-vibrant-green text-vibrant-green hover:bg-green-50",children:"Learn More"})]})]})})]}),s.jsx("div",{className:"col-span-full",children:s.jsx(Jte,{})}),s.jsx("div",{className:"col-span-full",children:s.jsx(sse,{})})]})}const ise=Ns({name:Ae().min(1,"Name is required"),relationship:Ae().min(1,"Relationship is required"),email:Ae().email("Valid email is required").optional().or(KR(""))}),ase=Ns({caregiverId:zs().min(1,"Please select a caregiver"),content:Ae().min(1,"Message cannot be empty")});function ose(){const{isPremiumUser:e}=Fi(),{toast:t}=dt(),[n,r]=b.useState(!1);if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Caregiver Communication",description:"Connect with your support network, share updates, and coordinate care. Subscribe to continue using Adaptalyfe's caregiver features.",feature:"caregiver",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[i,a]=b.useState(!1),[o,l]=b.useState(null),{data:c=[],isLoading:d}=xe({queryKey:["/api/caregivers"]}),{data:h=[],isLoading:u}=xe({queryKey:["/api/messages"]}),{data:m}=xe({queryKey:["/api/user"]}),{data:f=[]}=xe({queryKey:["/api/daily-tasks"]}),j=Bt({resolver:Vt(ise),defaultValues:{name:"",relationship:"",email:""}}),x=Bt({resolver:Vt(ase),defaultValues:{caregiverId:0,content:""}}),g=Ce({mutationFn:async k=>ye("POST","/api/caregivers",{...k,email:k.email||void 0}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/caregivers"]}),r(!1),j.reset(),t({title:"Caregiver added!",description:"Your support person has been added to your network."})}}),p=Ce({mutationFn:async k=>ye("POST","/api/messages",{...k,fromUser:!0}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/messages"]}),a(!1),x.reset(),t({title:"Message sent!",description:"Your message has been sent to your caregiver."})}}),y=Ce({mutationFn:async()=>new Promise(k=>setTimeout(k,1e3)),onSuccess:()=>{t({title:"Progress shared!",description:"Your progress has been shared with your caregivers."})}}),v=f.filter(k=>k.isCompleted).length,w=f.length,C=w>0?Math.round(v/w*100):0,N=h.reduce((k,T)=>(k[T.caregiverId]||(k[T.caregiverId]=[]),k[T.caregiverId].push(T),k),{}),S=h.sort((k,T)=>new Date(T.sentAt).getTime()-new Date(k.sentAt).getTime()).slice(0,5);return d||u?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Support Network"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Connect with your caregivers and support team to share your progress and get help when you need it."})]}),s.jsxs(L,{className:"border-t-4 border-calm-teal mb-8",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lt,{className:"text-calm-teal",size:24}),s.jsx("span",{children:"Your Progress Today"})]}),s.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",onClick:()=>y.mutate(),disabled:y.isPending,children:[s.jsx(_D,{size:16,className:"mr-2"}),"Share Progress"]})]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-calm-teal mb-2",children:[C,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Daily Tasks Complete"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-sunny-orange mb-2",children:(m==null?void 0:m.streakDays)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Day Streak"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-happy-purple mb-2",children:c.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Support Connections"})]})]})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ls,{className:"text-vibrant-green",size:24}),s.jsx("span",{children:"My Support Team"})]}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-vibrant-green hover:bg-vibrant-green text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Caregiver"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Caregiver"})}),s.jsx(zt,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(k=>g.mutate(k)),className:"space-y-4",children:[s.jsx(Z,{control:j.control,name:"name",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Mom, Dr. Smith",...k})}),s.jsx(se,{})]})}),s.jsx(Z,{control:j.control,name:"relationship",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Relationship"}),s.jsxs(Ge,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select relationship"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"parent",children:"Parent"}),s.jsx(B,{value:"therapist",children:"Therapist"}),s.jsx(B,{value:"support worker",children:"Support Worker"}),s.jsx(B,{value:"family member",children:"Family Member"}),s.jsx(B,{value:"friend",children:"Friend"}),s.jsx(B,{value:"other",children:"Other"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:j.control,name:"email",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Email (Optional)"}),s.jsx(J,{children:s.jsx(q,{type:"email",placeholder:"caregiver@example.com",...k})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:g.isPending,children:"Add Caregiver"})]})})]})]})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:c.length===0?s.jsx("p",{className:"text-gray-600 text-center py-8",children:"No caregivers added yet. Add someone to your support team!"}):c.map(k=>{var T;return s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-calm-teal rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:k.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),s.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[k.relationship,k.email&&`  ${k.email}`]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[((T=N[k.id])==null?void 0:T.length)||0," messages"]})]}),s.jsx(E,{variant:"outline",size:"sm",className:"border-calm-teal text-calm-teal hover:bg-teal-50",onClick:()=>{l(k.id),x.setValue("caregiverId",k.id),a(!0)},children:s.jsx(If,{size:16})})]},k.id)})})})]}),s.jsxs(L,{className:"border-t-4 border-bright-blue",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(If,{className:"text-bright-blue",size:24}),s.jsx("span",{children:"Messages"})]}),s.jsxs(et,{open:i,onOpenChange:a,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-bright-blue hover:bg-bright-blue text-white",disabled:c.length===0,children:[s.jsx(kD,{size:16,className:"mr-2"}),"Send Message"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Send Message"})}),s.jsx(zt,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(k=>p.mutate(k)),className:"space-y-4",children:[s.jsx(Z,{control:x.control,name:"caregiverId",render:({field:k})=>{var T;return s.jsxs(Y,{children:[s.jsx(Q,{children:"Send to"}),s.jsxs(Ge,{onValueChange:D=>k.onChange(parseInt(D)),defaultValue:(T=k.value)==null?void 0:T.toString(),children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select caregiver"})})}),s.jsx(We,{children:c.map(D=>s.jsx(B,{value:D.id.toString(),children:D.name},D.id))})]}),s.jsx(se,{})]})}}),s.jsx(Z,{control:x.control,name:"content",render:({field:k})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Message"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Type your message here...",className:"min-h-24",...k})}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:p.isPending,children:"Send Message"})]})})]})]})]})}),s.jsxs(V,{children:[s.jsx("div",{className:"space-y-4",children:S.length===0?s.jsx("p",{className:"text-gray-600 text-center py-8",children:"No messages yet. Send a message to start communicating!"}):S.map(k=>{const T=c.find(D=>D.id===k.caregiverId);return s.jsxs("div",{className:`p-4 rounded-lg border-2 ${k.fromUser?"bg-blue-50 border-blue-200 ml-8":"bg-teal-50 border-teal-200 mr-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:k.fromUser?"You":T==null?void 0:T.name}),s.jsx("span",{className:"text-xs text-gray-500",children:Ti(new Date(k.sentAt))})]}),s.jsx("p",{className:"text-gray-700",children:k.content})]},k.id)})}),h.length>5&&s.jsx("div",{className:"text-center mt-6",children:s.jsx(E,{variant:"outline",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"View All Messages"})})]})]})]}),s.jsxs(L,{className:"border-t-4 border-sunny-orange mt-8",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-3",children:[s.jsx(cl,{className:"text-sunny-orange",size:24}),s.jsx("span",{children:"Getting Help"})]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"When to Reach Out"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:" When you're feeling overwhelmed or stressed"}),s.jsx("li",{children:" If you need help with daily tasks"}),s.jsx("li",{children:" When you have questions about your progress"}),s.jsx("li",{children:" If you want to celebrate achievements"}),s.jsx("li",{children:" When you need emotional support"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Communication Tips"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:" Be specific about what you need"}),s.jsx("li",{children:" Share your feelings openly and honestly"}),s.jsx("li",{children:" Ask questions if you don't understand"}),s.jsx("li",{children:" Celebrate your wins, big and small"}),s.jsx("li",{children:" Remember that asking for help is a sign of strength"})]})]})]})})]})]})}const sC=Ns({userName:Ae().min(1,"Person's name is required"),userEmail:Ae().optional(),userAge:zs().optional(),relationship:Ae().min(1,"Relationship type is required"),permissions:sN(Ae()).default([])}),lse=[{value:"parent",label:"Parent/Guardian",icon:"",description:"Full access to all features and settings"},{value:"therapist",label:"Therapist/Counselor",icon:"",description:"Access to mood, goals, and session notes"},{value:"case_worker",label:"Case Worker",icon:"",description:"Access to appointments and resources"},{value:"teacher",label:"Teacher/Aide",icon:"",description:"Access to academic and daily tasks"},{value:"mentor",label:"Life Skills Mentor",icon:"",description:"Access to independence and life skills"},{value:"family_friend",label:"Family Friend",icon:"",description:"Limited access to check-ins"}],cse=[{id:"view_progress",label:"View Progress",description:"See completed tasks and achievements"},{id:"view_mood",label:"Mood Tracking",description:"Access mood entries and patterns"},{id:"view_medical",label:"Medical Information",description:"View medications and appointments"},{id:"view_financial",label:"Financial Management",description:"See bills and budget entries"},{id:"emergency_access",label:"Emergency Access",description:"Contact in emergencies"},{id:"location_tracking",label:"Location Sharing",description:"See location updates"},{id:"schedule_appointments",label:"Schedule Appointments",description:"Book medical/therapy appointments"},{id:"modify_tasks",label:"Modify Tasks",description:"Add or edit daily tasks"}];function dse(){const{toast:e}=dt(),t=Yt(),[n,r]=b.useState(null),[i,a]=b.useState("create"),[o,l]=b.useState(null),{data:c}=xe({queryKey:["/api/user"]}),{data:d=[]}=xe({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`],enabled:!!(c!=null&&c.id)}),{data:h=[]}=xe({queryKey:["/api/care-relationships/caregiver",c==null?void 0:c.id],enabled:!!(c!=null&&c.id)}),u=Bt({resolver:Vt(sC),defaultValues:{userName:"",userEmail:"",userAge:void 0,relationship:"",permissions:[]}}),m=Ce({mutationFn:y=>ye("POST","/api/caregiver-invitations",{...y,caregiverId:c==null?void 0:c.id,permissionsGranted:y.permissions}).then(v=>v.json()),onSuccess:y=>{t.invalidateQueries({queryKey:["/api/caregiver-invitations"]}),t.invalidateQueries({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`]}),e({title:"Invitation Created Successfully!",description:`Share this code with your caregiver: ${y.invitationCode}`}),u.reset(),a("manage")},onError:y=>{console.error("Invitation creation error:",y),e({title:"Unable to Create Invitation",description:"There was a problem saving your invitation. Please check your information and try again.",variant:"destructive"})}}),f=async(y,v)=>{try{await navigator.clipboard.writeText(y),r(v),setTimeout(()=>r(null),2e3),e({title:"Copied!",description:`${v} copied to clipboard`})}catch{e({title:"Copy Failed",description:"Please copy the code manually",variant:"destructive"})}},j=async y=>{l(y)},x=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},g=y=>{console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Form data:",y),console.log("Form errors:",u.formState.errors),console.log("Form is valid:",u.formState.isValid),console.log("Form values:",u.getValues()),console.log("Current permissions:",u.getValues().permissions);const v=sC.safeParse(y);if(console.log("Schema validation result:",v),!v.success){console.log("Schema validation failed:",v.error.issues),e({title:"Validation Error",description:`Please fix: ${v.error.issues.map(w=>w.message).join(", ")}`,variant:"destructive"});return}console.log("All validation passed, submitting..."),m.mutate(y)},p=y=>({parent:["view_progress","view_mood","view_medical","view_financial","emergency_access","location_tracking","schedule_appointments","modify_tasks"],therapist:["view_progress","view_mood","emergency_access","schedule_appointments"],case_worker:["view_progress","emergency_access","schedule_appointments"],teacher:["view_progress","modify_tasks"],mentor:["view_progress","modify_tasks"],family_friend:["view_progress","emergency_access"]})[y]||[];return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx(ls,{className:"text-white",size:28})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Caregiver Setup Center"}),s.jsx("p",{className:"text-gray-600",children:"Connect with family, therapists, and support team"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[s.jsx(L,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(V,{className:"p-4 text-center",children:[s.jsx(lt,{className:"mx-auto text-purple-600 mb-2",size:24}),s.jsx("p",{className:"font-medium text-purple-900",children:"Family-Centered"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Designed for families and care teams"})]})}),s.jsx(L,{className:"border-2 border-blue-200 bg-blue-50",children:s.jsxs(V,{className:"p-4 text-center",children:[s.jsx(os,{className:"mx-auto text-blue-600 mb-2",size:24}),s.jsx("p",{className:"font-medium text-blue-900",children:"Secure & Private"}),s.jsx("p",{className:"text-sm text-blue-700",children:"HIPAA-compliant data protection"})]})}),s.jsx(L,{className:"border-2 border-green-200 bg-green-50",children:s.jsxs(V,{className:"p-4 text-center",children:[s.jsx(mo,{className:"mx-auto text-green-600 mb-2",size:24}),s.jsx("p",{className:"font-medium text-green-900",children:"Customizable Access"}),s.jsx("p",{className:"text-sm text-green-700",children:"Control what each caregiver sees"})]})})]})]}),s.jsxs(hn,{value:i,onValueChange:a,className:"w-full",children:[s.jsxs(en,{className:"grid grid-cols-1 sm:grid-cols-3 max-w-2xl mx-auto gap-1 sm:gap-0 h-auto sm:h-10 p-1",children:[s.jsxs($e,{value:"create",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[s.jsx(ta,{size:16}),s.jsx("span",{className:"hidden sm:inline",children:"Create Invitation"}),s.jsx("span",{className:"sm:hidden",children:"Create"})]}),s.jsxs($e,{value:"manage",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[s.jsx(wy,{size:16}),s.jsx("span",{className:"hidden sm:inline",children:"Manage Invitations"}),s.jsx("span",{className:"sm:hidden",children:"Manage"})]}),s.jsxs($e,{value:"relationships",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[s.jsx(ls,{size:16}),s.jsx("span",{className:"hidden sm:inline",children:"Active Relationships"}),s.jsx("span",{className:"sm:hidden",children:"Active"})]})]}),s.jsx(Ue,{value:"create",className:"space-y-6 mt-6",children:s.jsxs(L,{className:"max-w-2xl mx-auto",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(ta,{className:"text-purple-600",size:24}),s.jsx("span",{children:"Invite New Caregiver"})]}),s.jsx(at,{children:"Create a secure invitation for a family member, therapist, or support team member"})]}),s.jsx(V,{children:s.jsx(zt,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Z,{control:u.control,name:"userName",render:({field:y})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Person's Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Sarah Johnson",...y})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"userEmail",render:({field:y})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Email Address (Optional)"}),s.jsx(J,{children:s.jsx(q,{type:"email",placeholder:"sarah@email.com",...y,value:y.value||""})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:u.control,name:"relationship",render:({field:y})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Relationship Type"}),s.jsxs(Ge,{onValueChange:v=>{y.onChange(v);const w=p(v);u.setValue("permissions",w),console.log(`Selected relationship: ${v}, setting permissions:`,w)},value:y.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select relationship type"})})}),s.jsx(We,{children:lse.map(v=>s.jsx(B,{value:v.value,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:v.icon}),s.jsxs("div",{children:[s.jsx("div",{children:v.label}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]})]})},v.value))})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"permissions",render:({field:y})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Access Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:cse.map(v=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${y.value.includes(v.id)?"border-purple-300 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const w=y.value,C=w.includes(v.id)?w.filter(N=>N!==v.id):[...w,v.id];y.onChange(C)},children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-4 h-4 border-2 rounded ${y.value.includes(v.id)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:y.value.includes(v.id)&&s.jsx(uc,{className:"text-white",size:12})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:v.label}),s.jsx("p",{className:"text-xs text-gray-600",children:v.description})]})]})},v.id))}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:m.isPending,onClick:()=>{console.log("Create Invitation button clicked"),console.log("Current form values:",u.getValues()),console.log("Form errors:",u.formState.errors)},children:m.isPending?"Creating...":"Create Invitation"})]})})})]})}),s.jsxs(Ue,{value:"manage",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invitation Management"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage caregiver invitations"})]}),s.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:d.length===0?s.jsx(L,{children:s.jsxs(V,{className:"text-center py-12",children:[s.jsx(wy,{className:"mx-auto text-gray-400 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Invitations Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first caregiver invitation to get started"}),s.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Create Invitation"})]})}):d.map(y=>s.jsx(L,{className:"border-l-4 border-l-purple-500",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.userName}),s.jsx(ue,{className:`${x(y.status)} border-none`,children:y.status.toUpperCase()})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Relationship:"})," ",y.relationship]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",y.userEmail||"Not provided"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Created:"})," ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires:"})," ",y.expiresAt?new Date(y.expiresAt).toLocaleDateString():"N/A"]})]}),s.jsx("div",{children:s.jsxs("p",{children:[s.jsx("strong",{children:"Permissions:"})," ",y.permissionsGranted?Array.isArray(y.permissionsGranted)?y.permissionsGranted.length:JSON.parse(y.permissionsGranted).length:0," granted"]})})]})]}),y.status==="pending"&&s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("code",{className:"px-3 py-1 bg-gray-100 rounded text-sm font-mono",children:y.invitationCode}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>f(y.invitationCode,"Invitation Code"),children:n==="Invitation Code"?s.jsx(uc,{className:"text-green-600",size:16}):s.jsx(vS,{size:16})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(`Join AdaptaLyfe with invitation code: ${y.invitationCode}

Visit: ${window.location.origin}/accept-invitation?code=${y.invitationCode}`,"Share Message"),children:[s.jsx(mx,{size:14,className:"mr-1"}),"Share Link"]}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>j(y.invitationCode),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[s.jsx(Rf,{size:14,className:"mr-1"}),"Share"]})]})]})]})})},y.id))})]}),s.jsxs(Ue,{value:"relationships",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Active Care Relationships"}),s.jsx("p",{className:"text-gray-600",children:"Manage connected caregivers and their access levels"})]}),s.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:h.length===0?s.jsx(L,{children:s.jsxs(V,{className:"text-center py-12",children:[s.jsx(ls,{className:"mx-auto text-gray-400 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Relationships"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"When caregivers accept invitations, they'll appear here"}),s.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Send First Invitation"})]})}):h.map(y=>s.jsx(L,{className:"border-l-4 border-l-green-500",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Care Relationship #",y.id]}),y.isPrimary&&s.jsx(ue,{className:"bg-yellow-100 text-yellow-800 border-none",children:"PRIMARY"}),s.jsx(ue,{className:"bg-green-100 text-green-800 border-none",children:"ACTIVE"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Relationship:"})," ",y.relationship]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Established:"})," ",y.establishedAt?new Date(y.establishedAt).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Method:"})," ",y.establishedVia]}),s.jsxs("p",{children:[s.jsx("strong",{children:"User ID:"})," ",y.userId]})]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(mo,{size:14,className:"mr-1"}),"Manage Access"]})})]})})},y.id))})]})]}),s.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsxs(V,{className:"p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Professional Healthcare Positioning"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"SkillBridge is designed to support individuals with neurodevelopmental disorders in building independence while maintaining strong connections with their care team. Perfect for families, therapists, and healthcare providers."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(os,{className:"text-blue-600",size:16}),s.jsx("span",{className:"text-gray-700",children:"HIPAA Compliant"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(lt,{className:"text-red-600",size:16}),s.jsx("span",{className:"text-gray-700",children:"Evidence-Based"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ls,{className:"text-green-600",size:16}),s.jsx("span",{className:"text-gray-700",children:"Care Team Focused"})]})]})]})}),s.jsx(et,{open:!!o,onOpenChange:()=>l(null),children:s.jsxs(Ye,{className:"max-w-md",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{className:"text-center",children:"Share Invitation with Caregiver"}),s.jsx(es,{className:"text-center",children:"Send your caregiver a simple message with the invitation code"})]}),s.jsx("div",{className:"space-y-4",children:o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border",children:[s.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:["Invitation Code: ",s.jsx("code",{className:"bg-white px-2 py-1 rounded border",children:o})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your caregiver can use this code when they sign in at the main login page."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(E,{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:()=>{const y=d==null?void 0:d.find(S=>S.invitationCode===o),v=(y==null?void 0:y.userName)||"my caregiver",w=`adaptalyfe://login?code=${o}`,C=`${window.location.origin}/login?code=${o}`,N=`Hi ${v}! I'd like you to join my Adaptalyfe support network.

If you have the Adaptalyfe app installed:
${w}

Otherwise, use this web link:
${C}

Invitation code: ${o}`;window.open(`sms:?body=${encodeURIComponent(N)}`,"_blank")},children:[s.jsx(Rf,{className:"w-4 h-4 mr-2"}),"Send Text Message"]}),s.jsxs(E,{variant:"outline",className:"w-full border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-semibold",onClick:()=>{const y=d==null?void 0:d.find(k=>k.invitationCode===o),v=(y==null?void 0:y.userName)||"my caregiver",w="Adaptalyfe Caregiver Invitation",C=`adaptalyfe://login?code=${o}`,N=`${window.location.origin}/login?code=${o}`,S=`Hi ${v}!

I'd like you to join my support network on Adaptalyfe, an app that helps me manage daily tasks and stay independent.

To join:

If you have the Adaptalyfe mobile app installed:
${C}

Otherwise, use this web link:
${N}

Your invitation code is: ${o}

Thanks!`;window.open(`mailto:?subject=${encodeURIComponent(w)}&body=${encodeURIComponent(S)}`,"_blank")},children:[s.jsx(wy,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(E,{variant:"ghost",className:"w-full text-gray-600 hover:bg-gray-50",onClick:()=>{const y=`Invitation Code: ${o}
Login at: ${window.location.origin}/login`;navigator.clipboard.writeText(y),e({title:"Copied!",description:"Invitation details copied to clipboard"}),r("invitation"),setTimeout(()=>r(null),2e3)},children:[n==="invitation"?s.jsx(uc,{className:"w-4 h-4 mr-2"}):s.jsx(vS,{className:"w-4 h-4 mr-2"}),"Copy Invitation Details"]})]})]})})]})})]})}const use=fm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vc=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Oe(use({variant:t}),e),...n}));vc.displayName="Alert";const hse=b.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));hse.displayName="AlertTitle";const bc=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));bc.displayName="AlertDescription";const mse=Ns({invitationCode:Ae().min(6,"Invitation code must be at least 6 characters"),confirmAccept:ko().default(!1)});function pse(){const{toast:e}=dt(),[t,n]=On(),[r,i]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(null),[d,h]=b.useState(!1);b.useEffect(()=>{(()=>{const C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);h(C),console.log("AcceptInvitation: Mobile detected:",C)})()},[]);const{data:u,isLoading:m}=xe({queryKey:["/api/user"],retry:d?3:1,retryDelay:d?1e3:500});if(m)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const f=Bt({resolver:Vt(mse),defaultValues:{invitationCode:"",confirmAccept:!1}});b.useEffect(()=>{try{console.log("AcceptInvitation: Checking URL for invitation code");const C=new URLSearchParams(window.location.search).get("code");console.log("AcceptInvitation: Code from URL:",C),C&&(f.setValue("invitationCode",C),j(C))}catch(w){console.error("AcceptInvitation: Error parsing URL:",w)}},[]);const j=async w=>{if(!(!w||w.length<6)){console.log("AcceptInvitation: Validating invitation code:",w),o(!0),c(null);try{const N=await(await ye("GET",`/api/invitation/${w}`)).json();console.log("AcceptInvitation: Invitation data received:",N),i(N)}catch(C){console.error("AcceptInvitation: Validation error:",C);const N=C.message.includes("404")?"Invitation code not found":C.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(N),i(null)}finally{o(!1)}}},x=Ce({mutationFn:w=>ye("POST","/api/accept-invitation",w).then(C=>C.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to Adaptalyfe!"}),setTimeout(()=>{n("/dashboard")},2e3)},onError:w=>{e({title:"Error",description:"Failed to accept invitation: "+w.message,variant:"destructive"})}}),g=w=>{f.setValue("invitationCode",w),w.length>=6?j(w):(i(null),c(null))},p=()=>{!u||!r||typeof u!="object"||!("id"in u)||x.mutate({invitationCode:r.invitationCode,userId:u.id})},y=w=>{const C={view_progress:"View your daily tasks and achievements",view_mood:"See your mood tracking entries",view_medical:"Access medical information and appointments",view_financial:"View bills and budget information",emergency_access:"Contact you in emergencies",location_tracking:"See your location updates",schedule_appointments:"Book appointments for you",modify_tasks:"Add or edit your daily tasks"};return w.map(N=>C[N]||N)},v={parent:"",therapist:"",case_worker:"",teacher:"",mentor:"",family_friend:""};return s.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 flex items-center justify-center ${d?"p-2":"p-4"}`,children:s.jsxs("div",{className:`${d?"max-w-sm":"max-w-2xl"} w-full space-y-8`,children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx(cl,{className:"text-white",size:28})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Join Your Care Team"}),s.jsx("p",{className:"text-gray-600",children:"Accept invitation to Adaptalyfe"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-lg mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(lt,{className:"mx-auto text-red-500 mb-2",size:20}),s.jsx("p",{className:"text-sm text-gray-700",children:"Support Network"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(os,{className:"mx-auto text-blue-500 mb-2",size:20}),s.jsx("p",{className:"text-sm text-gray-700",children:"Secure & Private"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(ls,{className:"mx-auto text-green-500 mb-2",size:20}),s.jsx("p",{className:"text-sm text-gray-700",children:"Care Team"})]})]})]}),s.jsxs(L,{className:"border-2 border-purple-200 shadow-lg",children:[s.jsxs(le,{className:"text-center",children:[s.jsxs(ce,{className:"flex items-center justify-center space-x-2",children:[s.jsx(cl,{className:"text-purple-600",size:24}),s.jsx("span",{children:"Caregiver Invitation"})]}),s.jsx(at,{children:"Enter your invitation code to connect with your caregiver"})]}),s.jsx(V,{className:"space-y-6",children:s.jsx(zt,{...f,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Z,{control:f.control,name:"invitationCode",render:({field:w})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Invitation Code"}),s.jsx(J,{children:s.jsx(q,{...w,placeholder:"Enter 6-character code",className:"text-center text-lg font-mono tracking-wider",onChange:C=>{w.onChange(C),g(C.target.value.toUpperCase())},value:w.value.toUpperCase(),maxLength:8})}),s.jsx(se,{})]})}),a&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&s.jsxs(vc,{className:"border-red-200 bg-red-50",children:[s.jsx(Jt,{className:"text-red-600",size:16}),s.jsx(bc,{className:"text-red-800",children:l})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(vc,{className:"border-green-200 bg-green-50",children:[s.jsx(cl,{className:"text-green-600",size:16}),s.jsx(bc,{className:"text-green-800",children:"Valid invitation found! Review the details below."})]}),s.jsx(L,{className:"border-purple-200 bg-purple-50",children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"text-3xl",children:v[r.relationship]||""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.userName}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:s.jsx("strong",{children:"Invitation expires:"})}),s.jsxs("div",{className:"flex items-center space-x-1 text-orange-600",children:[s.jsx(ws,{size:14}),s.jsx("span",{children:new Date(r.expiresAt).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:s.jsx("strong",{children:"Status:"})}),s.jsx(ue,{className:"bg-yellow-100 text-yellow-800 border-none",children:r.status.toUpperCase()})]})]}),r.permissionsGranted&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"This caregiver will have access to:"}),s.jsx("div",{className:"space-y-1",children:(()=>{try{const w=typeof r.permissionsGranted=="string"?JSON.parse(r.permissionsGranted):r.permissionsGranted;return Array.isArray(w)?y(w).map((C,N)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full"}),s.jsx("span",{children:String(C)})]},N)):s.jsx("span",{className:"text-sm text-gray-500",children:"No permissions specified"})}catch(w){return console.error("Error parsing permissions:",w),s.jsx("span",{className:"text-sm text-gray-500",children:"Permissions information not available"})}})()})]})]})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"By accepting this invitation, you agree to share the specified information with your caregiver to support your independence journey."}),s.jsx(E,{onClick:p,disabled:x.isPending||!u||typeof u!="object"||!("id"in u),className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg text-lg py-3",children:x.isPending?"Accepting Invitation...":"Accept Invitation & Join Care Team"}),!u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(vc,{className:"border-blue-200 bg-blue-50",children:[s.jsx(Jt,{className:"text-blue-600",size:16}),s.jsx(bc,{className:"text-blue-800",children:"Please log in or create an account first to accept this invitation."})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),n("/sign-in")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),s.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),n("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]})]})})})]}),s.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsxs(V,{className:"p-4 text-center",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Welcome to Adaptalyfe"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function fse(){const{toast:e}=dt(),[t,n]=On(),[r,i]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(null);console.log("MobileAcceptInvitation: Component loaded");const{data:d,isLoading:h}=xe({queryKey:["/api/user"],retry:3,retryDelay:1e3});b.useEffect(()=>{try{console.log("MobileAcceptInvitation: Checking URL for invitation code");const g=new URLSearchParams(window.location.search).get("code");console.log("MobileAcceptInvitation: Code from URL:",g),g&&u(g)}catch(x){console.error("MobileAcceptInvitation: Error parsing URL:",x)}},[]);const u=async x=>{if(!(!x||x.length<6)){console.log("MobileAcceptInvitation: Validating invitation code:",x),o(!0),c(null);try{const p=await(await ye("GET",`/api/invitation/${x}`)).json();console.log("MobileAcceptInvitation: Invitation data received:",p),i(p)}catch(g){console.error("MobileAcceptInvitation: Validation error:",g);const p=g.message.includes("404")?"Invitation code not found":g.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(p),i(null)}finally{o(!1)}}},m=Ce({mutationFn:x=>ye("POST","/api/accept-invitation",x).then(g=>g.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to SkillBridge!"}),setTimeout(()=>{n("/dashboard")},2e3)},onError:x=>{e({title:"Error",description:"Failed to accept invitation: "+x.message,variant:"destructive"})}}),f=()=>{!d||!r||typeof d!="object"||!("id"in d)||m.mutate({invitationCode:r.invitationCode,userId:d.id})};if(h)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const j={parent:"",therapist:"",case_worker:"",teacher:"",mentor:"",family_friend:""};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-2",children:s.jsxs("div",{className:"max-w-sm w-full space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx(cl,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Join Your Care Team"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Accept invitation to SkillBridge"})]})]}),s.jsxs("div",{className:"flex justify-center space-x-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(lt,{className:"mx-auto text-red-500 mb-1",size:16}),s.jsx("p",{className:"text-xs text-gray-700",children:"Support"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(os,{className:"mx-auto text-blue-500 mb-1",size:16}),s.jsx("p",{className:"text-xs text-gray-700",children:"Secure"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(ls,{className:"mx-auto text-green-500 mb-1",size:16}),s.jsx("p",{className:"text-xs text-gray-700",children:"Care Team"})]})]})]}),s.jsxs(L,{className:"border-2 border-purple-200 shadow-lg",children:[s.jsxs(le,{className:"text-center pb-4",children:[s.jsxs(ce,{className:"flex items-center justify-center space-x-2 text-lg",children:[s.jsx(cl,{className:"text-purple-600",size:20}),s.jsx("span",{children:"Caregiver Invitation"})]}),s.jsx(at,{className:"text-sm",children:"Connect with your caregiver"})]}),s.jsxs(V,{className:"space-y-4",children:[a&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&s.jsxs(vc,{className:"border-red-200 bg-red-50",children:[s.jsx(Jt,{className:"text-red-600",size:16}),s.jsx(bc,{className:"text-red-800 text-sm",children:l})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(L,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"text-2xl",children:j[r.relationship]||""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium text-gray-900",children:r.userName}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{children:s.jsxs("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"Expires:"})," ",new Date(r.expiresAt).toLocaleDateString()]})})})]})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"By accepting this invitation, you agree to share information with your caregiver to support your independence journey."}),s.jsx(E,{onClick:f,disabled:m.isPending||!d||typeof d!="object"||!("id"in d),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-3",children:m.isPending?"Accepting...":"Accept Invitation"}),!d&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(vc,{className:"border-blue-200 bg-blue-50",children:[s.jsx(Jt,{className:"text-blue-600",size:16}),s.jsx(bc,{className:"text-blue-800 text-sm",children:"Please log in or create an account first."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),n("/login")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),s.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),n("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]}),!r&&!a&&!l&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading invitation details..."})})]})]}),s.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsxs(V,{className:"p-3 text-center",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Welcome to SkillBridge"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function gse(){const[,e]=On(),{toast:t}=dt(),[n,r]=b.useState({username:"",password:""}),[i,a]=b.useState(!1),o=async l=>{l.preventDefault(),a(!0);try{await ye("POST","/api/login",{username:n.username,password:n.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"});const c=localStorage.getItem("pendingInvitation");c?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${c}`)):e("/dashboard")}catch(c){t({title:"Login Failed",description:c.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(Le,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),s.jsx(Le,{href:"/",children:s.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[s.jsx(hx,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),s.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:s.jsxs(L,{className:"border-2 shadow-lg",children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:s.jsx(jD,{className:"h-8 w-8 text-blue-600"})}),s.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),s.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"username",children:"Username"}),s.jsx(q,{id:"username",type:"text",value:n.username,onChange:l=>r({...n,username:l.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"password",children:"Password"}),s.jsx(q,{id:"password",type:"password",value:n.password,onChange:l=>r({...n,password:l.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),s.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),s.jsx("div",{className:"text-center space-y-4",children:s.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Le,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function xse(){const[e]=On(),{toast:t}=dt(),[n,r]=b.useState(null),[i,a]=b.useState(!0),[o,l]=b.useState("");b.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("code");m?(l(m),c(m)):a(!1)},[e]);const c=async u=>{try{const f=await(await ye("GET",`/api/invitation/${u}`)).json();r(f)}catch(m){console.error("Error fetching invitation:",m),t({title:"Invalid Invitation",description:"This invitation code is not valid or has expired.",variant:"destructive"})}finally{a(!1)}},d=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/register"},h=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/login"};return i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(Le,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Le,{href:"/login",children:s.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),s.jsx(Le,{href:"/register",children:s.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-4 rounded-full w-fit mx-auto mb-6",children:s.jsx(A9,{className:"h-12 w-12 text-blue-600"})}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"You're Invited to Join Adaptalyfe!"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Start your independence journey with support from someone who cares about you."})]}),n&&s.jsx(L,{className:"mb-8 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-3 rounded-full",children:s.jsx(lt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg text-gray-900",children:[n.caregiverName," wants to support you"]}),s.jsx("p",{className:"text-gray-600",children:n.message})]})]}),s.jsx("div",{className:"bg-white/60 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Invitation Code:"})," ",s.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded",children:o})]})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs(L,{className:"border-2 hover:border-blue-300 transition-colors",children:[s.jsxs(le,{children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit",children:s.jsx(pc,{className:"h-8 w-8 text-blue-600"})}),s.jsx(ce,{className:"text-xl",children:"Download the App"}),s.jsx(at,{children:"Get the full Adaptalyfe experience on your mobile device"})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(E,{className:"flex-1 bg-gray-900 hover:bg-gray-800",disabled:!0,children:[s.jsx(pc,{className:"h-4 w-4 mr-2"}),"App Store (Coming Soon)"]}),s.jsxs(E,{className:"flex-1 bg-green-600 hover:bg-green-700",disabled:!0,children:[s.jsx(pc,{className:"h-4 w-4 mr-2"}),"Google Play (Coming Soon)"]})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Native mobile apps launching soon with enhanced features"})]})})]}),s.jsxs(L,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[s.jsxs(le,{children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-3 rounded-lg w-fit",children:s.jsx(ta,{className:"h-8 w-8 text-purple-600"})}),s.jsx(ce,{className:"text-xl",children:"Start Now on Web"}),s.jsx(at,{children:"Create your account and begin immediately in your browser"})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs(E,{onClick:d,className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg py-3",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Create Account with Invitation",s.jsx(dd,{className:"h-4 w-4 ml-2"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Already have an account?"}),s.jsx(E,{onClick:h,variant:"outline",className:"w-full",children:"Sign In to Accept Invitation"})]})]})})]})]}),s.jsxs(L,{className:"bg-white/80 backdrop-blur-md",children:[s.jsxs(le,{className:"text-center",children:[s.jsx(ce,{className:"text-2xl",children:"What You'll Get with Adaptalyfe"}),s.jsx(at,{children:"Tools designed to help you live independently with confidence"})]}),s.jsx(V,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg w-fit mx-auto mb-3",children:s.jsx(os,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Task Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Organize daily tasks with reminders and progress tracking"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-lg w-fit mx-auto mb-3",children:s.jsx(lt,{className:"h-6 w-6 text-purple-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Mood Tracking"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Monitor emotional well-being and identify patterns"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-lg w-fit mx-auto mb-3",children:s.jsx(ta,{className:"h-6 w-6 text-green-600"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Caregiver Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Stay connected with your support network"})]})]})})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})})]})]})}function It(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ua(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function HF(e,t){const n=It(e);return isNaN(t)?ua(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const WF=6048e5,yse=864e5,dp=43200,nC=1440;let vse={};function _m(){return vse}function Eh(e,t){var l,c,d,h;const n=_m(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=It(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function fg(e){return Eh(e,{weekStartsOn:1})}function GF(e){const t=It(e),n=t.getFullYear(),r=ua(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=fg(r),a=ua(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=fg(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function gg(e){const t=It(e);return t.setHours(0,0,0,0),t}function xg(e){const t=It(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bse(e,t){const n=gg(e),r=gg(t),i=+n-xg(n),a=+r-xg(r);return Math.round((i-a)/yse)}function jse(e){const t=GF(e),n=ua(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fg(n)}function Kp(e,t){const n=It(e),r=It(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function fN(e){return ua(e,Date.now())}function KF(e,t){const n=gg(e),r=gg(t);return+n==+r}function wse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nse(e){if(!wse(e)&&typeof e!="number")return!1;const t=It(e);return!isNaN(Number(t))}function Sse(e,t){const n=It(e),r=It(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Cse(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function kse(e,t){return+It(e)-+It(t)}function _se(e){const t=It(e);return t.setHours(23,59,59,999),t}function Tse(e){const t=It(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Pse(e){const t=It(e);return+_se(t)==+Tse(t)}function Ese(e,t){const n=It(e),r=It(t),i=Kp(n,r),a=Math.abs(Sse(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let l=Kp(n,r)===-i;Pse(It(e))&&a===1&&Kp(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function Ase(e,t,n){const r=kse(e,t)/1e3;return Cse(n==null?void 0:n.roundingMethod)(r)}function Dse(e){const t=It(e),n=ua(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Mse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ise=(e,t,n)=>{let r;const i=Mse[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Rse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ose={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lse={date:Yy({formats:Rse,defaultWidth:"full"}),time:Yy({formats:Fse,defaultWidth:"full"}),dateTime:Yy({formats:Ose,defaultWidth:"full"})},$se={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Use=(e,t,n,r)=>$se[e];function su(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Bse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gse=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Kse={ordinalNumber:Gse,era:su({values:Bse,defaultWidth:"wide"}),quarter:su({values:zse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:su({values:Vse,defaultWidth:"wide"}),day:su({values:qse,defaultWidth:"wide"}),dayPeriod:su({values:Hse,defaultWidth:"wide",formattingValues:Wse,defaultFormattingWidth:"wide"})};function nu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Yse(l,u=>u.test(o)):Qse(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function Qse(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Yse(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Xse(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Zse=/^(\d+)(th|st|nd|rd)?/i,Jse=/\d+/i,ene={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tne={any:[/^b/i,/^(a|c)/i]},sne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nne={any:[/1/i,/2/i,/3/i,/4/i]},rne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ine={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ane={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},one={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dne={ordinalNumber:Xse({matchPattern:Zse,parsePattern:Jse,valueCallback:e=>parseInt(e,10)}),era:nu({matchPatterns:ene,defaultMatchWidth:"wide",parsePatterns:tne,defaultParseWidth:"any"}),quarter:nu({matchPatterns:sne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nu({matchPatterns:rne,defaultMatchWidth:"wide",parsePatterns:ine,defaultParseWidth:"any"}),day:nu({matchPatterns:ane,defaultMatchWidth:"wide",parsePatterns:one,defaultParseWidth:"any"}),dayPeriod:nu({matchPatterns:lne,defaultMatchWidth:"any",parsePatterns:cne,defaultParseWidth:"any"})},QF={code:"en-US",formatDistance:Ise,formatLong:Lse,formatRelative:Use,localize:Kse,match:dne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function une(e){const t=It(e);return bse(t,Dse(t))+1}function hne(e){const t=It(e),n=+fg(t)-+jse(t);return Math.round(n/WF)+1}function YF(e,t){var h,u,m,f;const n=It(e),r=n.getFullYear(),i=_m(),a=(t==null?void 0:t.firstWeekContainsDate)??((u=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=ua(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Eh(o,t),c=ua(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Eh(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function mne(e,t){var l,c,d,h;const n=_m(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=YF(e,t),a=ua(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Eh(a,t)}function pne(e,t){const n=It(e),r=+Eh(n,t)-+mne(n,t);return Math.round(r/WF)+1}function Ot(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const va={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ot(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ot(n+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ot(i,t.length)}},Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return va.y(e,t)},Y:function(e,t,n,r){const i=YF(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ot(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ot(a,t.length)},R:function(e,t){const n=GF(e);return Ot(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ot(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return va.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=pne(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ot(i,t.length)},I:function(e,t,n){const r=hne(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ot(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):va.d(e,t)},D:function(e,t,n){const r=une(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ot(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ot(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Fl.noon:r===0?i=Fl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Fl.evening:r>=12?i=Fl.afternoon:r>=4?i=Fl.morning:i=Fl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return va.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):va.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):va.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):va.s(e,t)},S:function(e,t){return va.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return aC(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return aC(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iC(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iC(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ot(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ot(r,t.length)}};function iC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Ot(a,2)}function aC(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ot(Math.trunc(r/60),2),a=Ot(r%60,2);return n+i+t+a}const oC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},XF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fne=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return oC(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",oC(r,t)).replace("{{time}}",XF(i,t))},gne={p:XF,P:fne},xne=/^D+$/,yne=/^Y+$/,vne=["D","DD","YY","YYYY"];function bne(e){return xne.test(e)}function jne(e){return yne.test(e)}function wne(e,t,n){const r=Nne(e,t,n);if(console.warn(r),vne.includes(e))throw new RangeError(r)}function Nne(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kne=/^'([^]*?)'?$/,_ne=/''/g,Tne=/[a-zA-Z]/;function Lt(e,t,n){var h,u,m,f;const r=_m(),i=r.locale??QF,a=r.firstWeekContainsDate??((u=(h=r.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,l=It(e);if(!Nse(l))throw new RangeError("Invalid time value");let c=t.match(Cne).map(j=>{const x=j[0];if(x==="p"||x==="P"){const g=gne[x];return g(j,i.formatLong)}return j}).join("").match(Sne).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const x=j[0];if(x==="'")return{isToken:!1,value:Pne(j)};if(rC[x])return{isToken:!0,value:j};if(x.match(Tne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const x=j.value;(jne(x)||bne(x))&&wne(x,t,String(e));const g=rC[x[0]];return g(l,x,i.localize,d)}).join("")}function Pne(e){const t=e.match(kne);return t?t[1].replace(_ne,"'"):e}function Ene(e,t,n){const r=_m(),i=(n==null?void 0:n.locale)??r.locale??QF,a=2520,o=Kp(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=It(t),d=It(e)):(c=It(e),d=It(t));const h=Ase(d,c),u=(xg(d)-xg(c))/1e3,m=Math.round((h-u)/60);let f;if(m<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,l):h<10?i.formatDistance("lessThanXSeconds",10,l):h<20?i.formatDistance("lessThanXSeconds",20,l):h<40?i.formatDistance("halfAMinute",0,l):h<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<nC){const j=Math.round(m/60);return i.formatDistance("aboutXHours",j,l)}else{if(m<a)return i.formatDistance("xDays",1,l);if(m<dp){const j=Math.round(m/nC);return i.formatDistance("xDays",j,l)}else if(m<dp*2)return f=Math.round(m/dp),i.formatDistance("aboutXMonths",f,l)}if(f=Ese(d,c),f<12){const j=Math.round(m/dp);return i.formatDistance("xMonths",j,l)}else{const j=f%12,x=Math.trunc(f/12);return j<3?i.formatDistance("aboutXYears",x,l):j<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function Ane(e,t){return Ene(e,fN(e),t)}function lC(e,t){const n=It(e),r=It(t);return n.getTime()>r.getTime()}function ZF(e){return KF(e,fN(e))}function Dne(e){return KF(e,HF(fN(e),1))}function cC(e,t){return HF(e,-t)}const Mne={1:"bg-green-100 text-green-800",2:"bg-green-100 text-green-800",3:"bg-yellow-100 text-yellow-800",4:"bg-yellow-100 text-yellow-800",5:"bg-orange-100 text-orange-800",6:"bg-orange-100 text-orange-800",7:"bg-red-100 text-red-800",8:"bg-red-100 text-red-800",9:"bg-red-100 text-red-800",10:"bg-red-100 text-red-800"},dC={1:"Very Mild",2:"Mild",3:"Mild-Moderate",4:"Moderate",5:"Moderate",6:"Moderate-Severe",7:"Severe",8:"Severe",9:"Very Severe",10:"Extreme"};function Ine(){const[e,t]=b.useState(!1),[n,r]=b.useState(null),{toast:i}=dt(),a=Yt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/symptom-entries"]}),c=Ce({mutationFn:g=>ye("POST","/api/symptom-entries",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),t(!1),i({title:"Success",description:"Symptom entry added successfully"})},onError:g=>{i({title:"Error",description:"Failed to add symptom entry",variant:"destructive"})}}),d=Ce({mutationFn:({id:g,data:p})=>ye("PATCH",`/api/symptom-entries/${g}`,p),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),r(null),i({title:"Success",description:"Symptom entry updated successfully"})},onError:g=>{i({title:"Error",description:"Failed to update symptom entry",variant:"destructive"})}}),h=Ce({mutationFn:g=>ye("DELETE",`/api/symptom-entries/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),i({title:"Success",description:"Symptom entry deleted successfully"})},onError:g=>{i({title:"Error",description:"Failed to delete symptom entry",variant:"destructive"})}}),u=Bt({resolver:Vt(K2),defaultValues:{symptomName:"",severity:1,startTime:new Date,endTime:null,triggers:"",location:"",description:"",notes:""}}),m=Bt({resolver:Vt(K2)}),f=g=>{c.mutate({...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null})},j=g=>{n&&d.mutate({id:n.id,data:{...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null}})},x=g=>{r(g),m.reset({symptomName:g.symptomName,severity:g.severity,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null,triggers:g.triggers||"",location:g.location||"",description:g.description||"",notes:g.notes||""})};return l?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:"space-y-6 h-80 overflow-y-scroll",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Symptom Tracker"}),s.jsx("p",{className:"text-gray-600",children:"Track your symptoms to identify patterns and triggers"})]}),s.jsxs(et,{open:e,onOpenChange:t,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"flex items-center gap-2 border-2 border-blue-300 shadow-md hover:shadow-lg transition-shadow",children:[s.jsx(ct,{className:"w-4 h-4"}),"Log Symptom"]})}),s.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Log New Symptom"}),s.jsx(es,{children:"Record details about your symptom to track patterns over time"})]}),s.jsx(zt,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(Z,{control:u.control,name:"symptomName",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Symptom Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"severity",render:({field:g})=>{var p;return s.jsxs(Y,{children:[s.jsx(Q,{children:"Severity (1-10)"}),s.jsxs(Ge,{onValueChange:y=>g.onChange(parseInt(y)),defaultValue:(p=g.value)==null?void 0:p.toString(),children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select severity"})})}),s.jsx(We,{children:Array.from({length:10},(y,v)=>v+1).map(y=>s.jsxs(B,{value:y.toString(),children:[y," - ",dC[y]]},y))})]}),s.jsx(se,{})]})}}),s.jsx(Z,{control:u.control,name:"startTime",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Start Time"}),s.jsx(J,{children:s.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(new Date(p.target.value))})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"endTime",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"End Time (Optional)"}),s.jsx(J,{children:s.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(p.target.value?new Date(p.target.value):null)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"location",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Location (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"triggers",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Possible Triggers (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),s.jsx(se,{})]})}),s.jsx(Z,{control:u.control,name:"description",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Describe the symptom in detail",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),s.jsx(se,{})]})}),s.jsxs(Q0,{children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:c.isPending,className:"border-2 border-green-400 shadow-md hover:shadow-lg transition-shadow",children:c.isPending?"Adding...":"Add Entry"})]})]})})]})]})]}),!o||o.length===0?s.jsx(L,{children:s.jsxs(V,{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Jt,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Symptoms Logged"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking symptoms to identify patterns and triggers"}),s.jsxs(E,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[s.jsx(ct,{className:"w-4 h-4"}),"Log Your First Symptom"]})]})}):s.jsx("div",{className:"space-y-4",children:o.map(g=>s.jsx(L,{children:s.jsxs(V,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"font-medium text-lg",children:g.symptomName}),s.jsxs(ue,{className:Mne[g.severity],children:["Level ",g.severity]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>x(g),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{children:Lt(new Date(g.startTime),"MMM d, yyyy 'at' h:mm a")})]}),g.endTime&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Ended ",Ane(new Date(g.endTime))," ago"]})]}),g.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{children:g.location})]})]}),(g.description||g.triggers)&&s.jsxs(s.Fragment,{children:[s.jsx(ec,{className:"my-3"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[g.description&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description: "}),s.jsx("span",{className:"text-gray-700",children:g.description})]}),g.triggers&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Triggers: "}),s.jsx("span",{className:"text-gray-700",children:g.triggers})]})]})]})]})},g.id))}),s.jsx(et,{open:!!n,onOpenChange:()=>r(null),children:s.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Edit Symptom Entry"}),s.jsx(es,{children:"Update the details of this symptom entry"})]}),s.jsx(zt,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(Z,{control:m.control,name:"symptomName",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Symptom Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),s.jsx(se,{})]})}),s.jsx(Z,{control:m.control,name:"severity",render:({field:g})=>{var p;return s.jsxs(Y,{children:[s.jsx(Q,{children:"Severity (1-10)"}),s.jsxs(Ge,{onValueChange:y=>g.onChange(parseInt(y)),value:(p=g.value)==null?void 0:p.toString(),children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select severity"})})}),s.jsx(We,{children:Array.from({length:10},(y,v)=>v+1).map(y=>s.jsxs(B,{value:y.toString(),children:[y," - ",dC[y]]},y))})]}),s.jsx(se,{})]})}}),s.jsx(Z,{control:m.control,name:"startTime",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Start Time"}),s.jsx(J,{children:s.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(new Date(p.target.value))})}),s.jsx(se,{})]})}),s.jsx(Z,{control:m.control,name:"location",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Location (Optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),s.jsx(se,{})]})}),s.jsx(Z,{control:m.control,name:"triggers",render:({field:g})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Possible Triggers (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),s.jsx(se,{})]})}),s.jsxs(Q0,{children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(null),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:d.isPending,children:d.isPending?"Updating...":"Update Entry"})]})]})})]})})]})}const uC={mild:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",severe:"bg-red-100 text-red-800","life-threatening":"bg-red-200 text-red-900"},Rne={active:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800",resolved:"bg-green-100 text-green-800"};function Fne(){const{toast:e}=dt(),t=Yt(),[n,r]=b.useState(null),[i,a]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(null),[h,u]=b.useState(null),{data:m=[]}=xe({queryKey:["/api/allergies"]}),{data:f=[]}=xe({queryKey:["/api/medical-conditions"]}),{data:j=[]}=xe({queryKey:["/api/adverse-medications"]}),{data:x=[]}=xe({queryKey:["/api/emergency-contacts"]}),{data:g=[]}=xe({queryKey:["/api/primary-care-providers"]}),p=Ce({mutationFn:P=>ye("POST","/api/allergies",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/allergies/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy updated successfully"}),r(null)}});const y=Ce({mutationFn:P=>ye("DELETE",`/api/allergies/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy deleted successfully"})}}),v=Ce({mutationFn:async P=>(await ye("POST","/api/medical-conditions",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition added successfully"})},onError:P=>{console.error("Failed to create medical condition:",P),e({title:"Error",description:"Failed to add medical condition. Please try again.",variant:"destructive"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/medical-conditions/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition updated successfully"}),a(null)}});const w=Ce({mutationFn:P=>ye("DELETE",`/api/medical-conditions/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition deleted successfully"})}}),C=Ce({mutationFn:async P=>(await ye("POST","/api/adverse-medications",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/adverse-medications/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication updated successfully"}),l(null)}});const N=Ce({mutationFn:P=>ye("DELETE",`/api/adverse-medications/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication deleted successfully"})}}),S=Ce({mutationFn:P=>ye("POST","/api/emergency-contacts",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/emergency-contacts/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact updated successfully"}),d(null)}});const k=Ce({mutationFn:P=>ye("DELETE",`/api/emergency-contacts/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})}}),T=Ce({mutationFn:P=>ye("POST","/api/primary-care-providers",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/primary-care-providers/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider updated successfully"}),u(null)}});const D=Ce({mutationFn:P=>ye("DELETE",`/api/primary-care-providers/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider deleted successfully"})}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Medical Information"}),s.jsx("p",{className:"text-gray-600",children:"Manage your medical history, allergies, and healthcare contacts"})]}),s.jsxs(hn,{defaultValue:"allergies",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-3 md:grid-cols-6 h-16 md:h-12 p-1 gap-1",children:[s.jsx($e,{value:"allergies",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Allergies"}),s.jsx($e,{value:"conditions",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Conditions"}),s.jsx($e,{value:"adverse",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Adverse"}),s.jsx($e,{value:"contacts",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Emergency"}),s.jsx($e,{value:"providers",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Providers"}),s.jsx($e,{value:"symptoms",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Symptoms"})]}),s.jsxs(Ue,{value:"allergies",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Allergies"}),s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Allergy"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Allergy"})}),s.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);p.mutate({allergen:M.get("allergen"),severity:M.get("severity"),reaction:M.get("reaction"),notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"allergen",children:"Allergen"}),s.jsx(q,{name:"allergen",required:!0,placeholder:"e.g., Peanuts, Penicillin"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"severity",children:"Severity"}),s.jsxs(Ge,{name:"severity",required:!0,children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select severity"})}),s.jsxs(We,{children:[s.jsx(B,{value:"mild",children:"Mild"}),s.jsx(B,{value:"moderate",children:"Moderate"}),s.jsx(B,{value:"severe",children:"Severe"}),s.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"reaction",children:"Reaction"}),s.jsx(q,{name:"reaction",placeholder:"e.g., Hives, difficulty breathing"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),s.jsx(E,{type:"submit",disabled:p.isPending,children:p.isPending?"Adding...":"Add Allergy"})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:!m||m.length===0?s.jsx(L,{children:s.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No allergies recorded. Click "Add Allergy" to get started.'})}):m.map(P=>s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:P.allergen}),s.jsx(ue,{className:uC[P.severity],children:P.severity})]}),P.reaction&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.notes&&s.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{size:"sm",variant:"outline",onClick:()=>r(P),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>y.mutate(P.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),s.jsxs(Ue,{value:"conditions",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Medical Conditions"}),s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Condition"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Medical Condition"})}),s.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("diagnosedDate");v.mutate({condition:M.get("condition"),status:M.get("status"),diagnosedDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"condition",children:"Condition"}),s.jsx(q,{name:"condition",required:!0,placeholder:"e.g., Diabetes, Asthma"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"status",children:"Status"}),s.jsxs(Ge,{name:"status",required:!0,children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select status"})}),s.jsxs(We,{children:[s.jsx(B,{value:"active",children:"Active"}),s.jsx(B,{value:"inactive",children:"Inactive"}),s.jsx(B,{value:"resolved",children:"Resolved"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"diagnosedDate",children:"Diagnosed Date"}),s.jsx(q,{name:"diagnosedDate",type:"date"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),s.jsx(E,{type:"submit",disabled:v.isPending,children:v.isPending?"Adding...":"Add Condition"})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:!f||f.length===0?s.jsx(L,{children:s.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No medical conditions recorded. Click "Add Condition" to get started.'})}):f.map(P=>s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:P.condition}),s.jsx(ue,{className:Rne[P.status],children:P.status})]}),P.diagnosedDate&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Diagnosed: ",new Date(P.diagnosedDate).toLocaleDateString()]}),P.notes&&s.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{size:"sm",variant:"outline",onClick:()=>a(P),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>w.mutate(P.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),s.jsxs(Ue,{value:"adverse",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Adverse Medications"}),s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Adverse Medication"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Adverse Medication"})}),s.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("reactionDate");C.mutate({medicationName:M.get("medicationName"),reaction:M.get("reaction"),severity:M.get("severity"),reactionDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"medicationName",children:"Medication Name"}),s.jsx(q,{name:"medicationName",required:!0,placeholder:"e.g., Amoxicillin, Aspirin"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"reaction",children:"Reaction"}),s.jsx(q,{name:"reaction",required:!0,placeholder:"e.g., Rash, nausea, dizziness"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"severity",children:"Severity"}),s.jsxs(Ge,{name:"severity",required:!0,children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select severity"})}),s.jsxs(We,{children:[s.jsx(B,{value:"mild",children:"Mild"}),s.jsx(B,{value:"moderate",children:"Moderate"}),s.jsx(B,{value:"severe",children:"Severe"}),s.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"reactionDate",children:"Reaction Date"}),s.jsx(q,{name:"reactionDate",type:"date"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),s.jsx(E,{type:"submit",disabled:C.isPending,children:C.isPending?"Adding...":"Add Adverse Medication"})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:!j||j.length===0?s.jsx(L,{children:s.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No adverse medications recorded. Click "Add Adverse Medication" to get started.'})}):j.map(P=>s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:P.medicationName}),s.jsx(ue,{className:uC[P.severity],children:P.severity})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.reactionDate&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(P.reactionDate).toLocaleDateString()]}),P.notes&&s.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{size:"sm",variant:"outline",onClick:()=>l(P),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>N.mutate(P.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),s.jsxs(Ue,{value:"contacts",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Emergency Contacts"}),s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Emergency Contact"})}),s.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);S.mutate({name:M.get("name"),relationship:M.get("relationship"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Name"}),s.jsx(q,{name:"name",required:!0,placeholder:"Contact name"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"relationship",children:"Relationship"}),s.jsx(q,{name:"relationship",placeholder:"e.g., Parent, Sibling, Friend"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),s.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Phone number"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email"}),s.jsx(q,{name:"email",type:"email",placeholder:"Email address"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"address",children:"Address"}),s.jsx(ot,{name:"address",placeholder:"Home address"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),s.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),s.jsx(E,{type:"submit",disabled:S.isPending,children:S.isPending?"Adding...":"Add Contact"})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:!x||x.length===0?s.jsx(L,{children:s.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No emergency contacts recorded. Click "Add Contact" to get started.'})}):x.map(P=>s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&s.jsx(ue,{className:"bg-blue-100 text-blue-800",children:"Primary"})]}),P.relationship&&s.jsx("p",{className:"text-sm text-gray-600",children:P.relationship}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&s.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&s.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{size:"sm",variant:"outline",onClick:()=>d(P),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>k.mutate(P.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),s.jsxs(Ue,{value:"providers",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Primary Care Providers"}),s.jsxs(et,{children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Provider"]})}),s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add Primary Care Provider"})}),s.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);T.mutate({name:M.get("name"),specialty:M.get("specialty"),practiceName:M.get("practiceName"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Provider Name"}),s.jsx(q,{name:"name",required:!0,placeholder:"Dr. Smith"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"specialty",children:"Specialty"}),s.jsx(q,{name:"specialty",required:!0,placeholder:"e.g., Family Medicine, Cardiology"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"practiceName",children:"Practice Name"}),s.jsx(q,{name:"practiceName",placeholder:"Medical center or clinic name"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),s.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Office phone number"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email"}),s.jsx(q,{name:"email",type:"email",placeholder:"Office email"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"address",children:"Address"}),s.jsx(ot,{name:"address",placeholder:"Office address"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),s.jsx(de,{htmlFor:"isPrimary",children:"Primary care provider"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),s.jsx(E,{type:"submit",disabled:T.isPending,children:T.isPending?"Adding...":"Add Provider"})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:!g||g.length===0?s.jsx(L,{children:s.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No providers recorded. Click "Add Provider" to get started.'})}):g.map(P=>s.jsx(L,{children:s.jsx(V,{className:"pt-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&s.jsx(ue,{className:"bg-green-100 text-green-800",children:"Primary"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:P.specialty}),P.practiceName&&s.jsx("p",{className:"text-sm text-gray-600",children:P.practiceName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&s.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&s.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{size:"sm",variant:"outline",onClick:()=>u(P),children:s.jsx(fi,{className:"w-4 h-4"})}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>D.mutate(P.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),s.jsx(Ue,{value:"symptoms",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:s.jsx(Ine,{})})]})]})}function One(){const{isPremiumUser:e}=Fi();return e?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Medical Information"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your medical history, allergies, healthcare contacts, and track symptoms"})]}),s.jsx(Fne,{})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(pa,{title:"Medical Information Management",description:"Securely store and manage your medical history, allergies, medications, and healthcare contacts. Subscribe to continue using Adaptalyfe's medical features.",feature:"medical",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Lne(){const e=Yt(),{toast:t}=dt(),{data:n,isLoading:r}=xe({queryKey:["/api/meal-plans"]}),i=Ce({mutationFn:async u=>(await ye("POST","/api/meal-plans",u)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]}),o.reset(),t({title:"Success",description:"Meal plan saved successfully!"})},onError:u=>{console.error("Failed to create meal plan:",u),t({title:"Error",description:"Failed to save meal plan. Please try again.",variant:"destructive"})}}),a=Ce({mutationFn:async({id:u,isCompleted:m})=>await ye("PATCH",`/api/meal-plans/${u}/completion`,{isCompleted:m}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]})}}),o=Bt({resolver:Vt(iee.omit({userId:!0})),defaultValues:{mealType:"breakfast",mealName:"",plannedDate:Lt(new Date,"yyyy-MM-dd"),isCompleted:!1,recipe:"",cookingTime:30}}),l=u=>{console.log("Submitting meal plan data:",u),i.mutate(u)},c=u=>{a.mutate({id:u.id,isCompleted:!u.isCompleted})},d=u=>{switch(u){case"breakfast":return"bg-sunny-orange text-white";case"lunch":return"bg-vibrant-green text-white";case"dinner":return"bg-bright-blue text-white";case"snack":return"bg-cheerful-pink text-white";default:return"bg-gray-500 text-white"}},h=n==null?void 0:n.reduce((u,m)=>{const f=m.plannedDate;return u[f]||(u[f]=[]),u[f].push(m),u},{});return r?s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"text-sunny-orange"}),s.jsx("span",{children:"Meal Planning"})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>s.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},u))})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"text-sunny-orange"}),s.jsx("span",{children:"Add New Meal"})]}),s.jsx(at,{children:"Plan your meals to develop healthy eating habits and cooking skills"})]}),s.jsx(V,{children:s.jsx(zt,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l,u=>{console.error("Form validation errors:",u),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Z,{control:o.control,name:"mealName",render:({field:u})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Meal Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Scrambled eggs and toast",...u})}),s.jsx(se,{})]})}),s.jsx(Z,{control:o.control,name:"mealType",render:({field:u})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Meal Type"}),s.jsxs(Ge,{onValueChange:u.onChange,defaultValue:u.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select meal type"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"breakfast",children:"Breakfast"}),s.jsx(B,{value:"lunch",children:"Lunch"}),s.jsx(B,{value:"dinner",children:"Dinner"}),s.jsx(B,{value:"snack",children:"Snack"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:o.control,name:"plannedDate",render:({field:u})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Planned Date"}),s.jsx(J,{children:s.jsx(q,{type:"date",...u})}),s.jsx(se,{})]})}),s.jsx(Z,{control:o.control,name:"cookingTime",render:({field:u})=>{var m;return s.jsxs(Y,{children:[s.jsx(Q,{children:"Cooking Time (minutes)"}),s.jsx(J,{children:s.jsx(q,{type:"number",placeholder:"30",value:((m=u.value)==null?void 0:m.toString())||"",onChange:f=>u.onChange(parseInt(f.target.value)||0),onBlur:u.onBlur,name:u.name})}),s.jsx(se,{})]})}})]}),s.jsx(Z,{control:o.control,name:"recipe",render:({field:u})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Recipe/Instructions (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Write simple cooking instructions or notes...",className:"min-h-[100px]",value:u.value||"",onChange:u.onChange,onBlur:u.onBlur,name:u.name})}),s.jsx(se,{})]})}),s.jsxs(E,{type:"submit",disabled:i.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>console.log("Button clicked, form values:",o.getValues()),children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),i.isPending?"Adding...":"Add Meal Plan"]})]})})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"text-bright-blue"}),s.jsx("span",{children:"Meal Schedule"})]})}),s.jsx(V,{children:!h||Object.keys(h).length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(hc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No meals planned yet. Add your first meal plan above!"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(h).sort(([u],[m])=>new Date(u).getTime()-new Date(m).getTime()).map(([u,m])=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:Lt(new Date(u),"EEEE, MMMM d, yyyy")}),s.jsx("div",{className:"grid gap-3",children:m.sort((f,j)=>{const x={breakfast:1,lunch:2,dinner:3,snack:4};return x[f.mealType]-x[j.mealType]}).map(f=>s.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${f.isCompleted?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ci,{checked:f.isCompleted||!1,onCheckedChange:()=>c(f),disabled:a.isPending}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium",children:f.mealName}),s.jsx(ue,{className:d(f.mealType),children:f.mealType})]}),f.cookingTime&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mt-1",children:[s.jsx(ws,{className:"w-3 h-3"}),s.jsxs("span",{children:[f.cookingTime," minutes"]})]}),f.recipe&&s.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-2xl",children:f.recipe})]})]}),f.isCompleted&&s.jsx(oh,{className:"w-5 h-5 text-vibrant-green"})]})},f.id))})]},u))})})]})]})}function $ne(){const e=Yt(),{toast:t}=dt(),[n,r]=b.useState(!1);b.useState(null);const{data:i,isLoading:a}=xe({queryKey:["/api/shopping-lists"]}),{data:o}=xe({queryKey:["/api/shopping-lists/active"]}),{data:l=[]}=xe({queryKey:["/api/grocery-stores"]}),c=Ce({mutationFn:async p=>(await ye("POST","/api/shopping-lists",p)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]}),h.reset(),t({title:"Success",description:"Shopping item added successfully!"})},onError:p=>{console.error("Failed to create shopping item:",p),t({title:"Error",description:"Failed to save shopping item. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:p,isPurchased:y,actualCost:v})=>await ye("PATCH",`/api/shopping-lists/${p}/purchased`,{isPurchased:y,actualCost:v}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]})}}),h=Bt({resolver:Vt(aee.omit({userId:!0})),defaultValues:{itemName:"",category:"produce",quantity:"",isPurchased:!1,estimatedCost:void 0,actualCost:void 0}}),u=p=>{console.log("Submitting shopping list data:",p),c.mutate(p)},m=(p,y)=>{d.mutate({id:p.id,isPurchased:!p.isPurchased,actualCost:y})},f=p=>{switch(p){case"produce":return"bg-vibrant-green text-white";case"dairy":return"bg-bright-blue text-white";case"meat":return"bg-cheerful-pink text-white";case"pantry":return"bg-sunny-orange text-white";case"frozen":return"bg-calm-teal text-white";case"household":return"bg-happy-purple text-white";default:return"bg-gray-500 text-white"}},j=o==null?void 0:o.reduce((p,y)=>{const v=y.category;return p[v]||(p[v]=[]),p[v].push(y),p},{}),x=(o==null?void 0:o.reduce((p,y)=>p+(y.estimatedCost||0),0))||0,g=(i==null?void 0:i.filter(p=>p.isPurchased).reduce((p,y)=>p+(y.actualCost||0),0))||0;return a?s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(ll,{className:"text-bright-blue"}),s.jsx("span",{children:"Shopping List"})]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>s.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},p))})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(P9,{className:"text-sunny-orange"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Items"}),s.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.length)||0})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"text-vibrant-green"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Total"}),s.jsx("p",{className:"text-2xl font-bold",children:Fs(x)})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oh,{className:"text-bright-blue"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Spent This Month"}),s.jsx("p",{className:"text-2xl font-bold",children:Fs(g)})]})]})})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(F0,{className:"text-blue-600"}),s.jsx("span",{children:"Your Grocery Stores"})]}),s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(mo,{className:"w-4 h-4 mr-2"}),"Manage Stores"]})}),s.jsx(Une,{stores:l,onClose:()=>r(!1)})]})]})}),s.jsx(V,{children:l.length===0?s.jsxs("div",{className:"text-center py-6 text-gray-500",children:[s.jsx(F0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No grocery stores added yet"}),s.jsx("p",{className:"text-sm",children:"Add your favorite stores to enable online ordering"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(p=>s.jsxs("div",{className:`p-4 rounded-lg border ${p.isPreferred?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:p.name}),p.isPreferred&&s.jsx(ue,{variant:"secondary",className:"mt-1",children:"Preferred"}),s.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[p.address&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:p.address})]}),p.phoneNumber&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bs,{className:"w-3 h-3"}),s.jsx("span",{children:p.phoneNumber})]})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[p.deliveryAvailable&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Delivery"}),p.pickupAvailable&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Pickup"})]})]})}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[p.onlineOrderingUrl&&s.jsxs(E,{size:"sm",className:"flex-1",onClick:()=>p.onlineOrderingUrl&&window.open(p.onlineOrderingUrl,"_blank"),children:[s.jsx(mx,{className:"w-3 h-3 mr-1"}),"Order Online"]}),p.website&&s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>p.website&&window.open(p.website,"_blank"),children:[s.jsx(ho,{className:"w-3 h-3 mr-1"}),"Website"]})]})]},p.id))})})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(ct,{className:"text-vibrant-green"}),s.jsx("span",{children:"Add Shopping Item"})]}),s.jsx(at,{children:"Build your shopping list and track your grocery spending"})]}),s.jsx(V,{children:s.jsx(zt,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(u,p=>{console.error("Form validation errors:",p),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Z,{control:h.control,name:"itemName",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Item Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Bananas",...p})}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"category",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsxs(Ge,{onValueChange:p.onChange,defaultValue:p.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})})}),s.jsxs(We,{children:[s.jsx(B,{value:"produce",children:"Produce"}),s.jsx(B,{value:"dairy",children:"Dairy"}),s.jsx(B,{value:"meat",children:"Meat & Seafood"}),s.jsx(B,{value:"pantry",children:"Pantry"}),s.jsx(B,{value:"frozen",children:"Frozen"}),s.jsx(B,{value:"household",children:"Household"})]})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"quantity",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Quantity"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., 2 lbs, 1 gallon",value:p.value||"",onChange:p.onChange,onBlur:p.onBlur,name:p.name})}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"estimatedCost",render:({field:p})=>{var y;return s.jsxs(Y,{children:[s.jsx(Q,{children:"Est. Cost ($)"}),s.jsx(J,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:"5.99",value:((y=p.value)==null?void 0:y.toString())||"",onChange:v=>p.onChange(parseFloat(v.target.value)||void 0),onBlur:p.onBlur,name:p.name})}),s.jsx(se,{})]})}})]}),s.jsxs(E,{type:"submit",disabled:c.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>console.log("Button clicked, form values:",h.getValues()),children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),c.isPending?"Adding...":"Add to Shopping List"]})]})})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center space-x-2",children:[s.jsx(ll,{className:"text-bright-blue"}),s.jsx("span",{children:"Shopping List"})]})}),s.jsx(V,{children:!j||Object.keys(j).length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Your shopping list is empty. Add some items above!"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([p,y])=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ue,{className:f(p),children:p.charAt(0).toUpperCase()+p.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",y.length," items)"]})]}),s.jsx("div",{className:"grid gap-2",children:y.map(v=>s.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${v.isPurchased?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ci,{checked:v.isPurchased||!1,onCheckedChange:()=>m(v),disabled:d.isPending}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium",children:v.itemName}),v.quantity&&s.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.quantity,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[v.estimatedCost&&s.jsxs("span",{children:["Est: ",Fs(v.estimatedCost)]}),v.actualCost&&s.jsxs("span",{className:"text-vibrant-green font-medium",children:["Actual: ",Fs(v.actualCost)]})]})]})]}),v.isPurchased&&s.jsx(oh,{className:"w-5 h-5 text-vibrant-green"})]})},v.id))})]},p))})})]})]})}function Une({stores:e,onClose:t}){const n=Yt(),[r,i]=b.useState(null),[a,o]=b.useState(!1),l=Ce({mutationFn:async h=>(await fetch("/api/grocery-stores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/grocery-stores"]}),o(!1)}}),c=Ce({mutationFn:async({id:h,...u})=>(await fetch(`/api/grocery-stores/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/grocery-stores"]}),i(null)}}),d=Ce({mutationFn:async h=>(await fetch(`/api/grocery-stores/${h}`,{method:"DELETE"})).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/grocery-stores"]})}});return s.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Manage Grocery Stores"}),s.jsx(es,{children:"Add your favorite grocery stores for easy online ordering and shopping list management"})]}),s.jsxs(hn,{defaultValue:"stores",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-2",children:[s.jsx($e,{value:"stores",children:"Your Stores"}),s.jsx($e,{value:"add",children:"Add New Store"})]}),s.jsx(Ue,{value:"stores",className:"space-y-4",children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(F0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No stores added yet"}),s.jsx("p",{className:"text-sm",children:'Switch to "Add New Store" tab to get started'})]}):s.jsx("div",{className:"space-y-4",children:e.map(h=>s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:h.name}),h.isPreferred&&s.jsx(ue,{variant:"secondary",children:"Preferred"})]}),s.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[h.address&&s.jsxs("p",{children:[s.jsx(Zs,{className:"w-3 h-3 inline mr-1"}),h.address]}),h.phoneNumber&&s.jsxs("p",{children:[s.jsx(bs,{className:"w-3 h-3 inline mr-1"}),h.phoneNumber]}),h.website&&s.jsxs("p",{children:[s.jsx(ho,{className:"w-3 h-3 inline mr-1"}),h.website]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[h.deliveryAvailable&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Delivery"}),h.pickupAvailable&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Pickup"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>i(h),children:"Edit"}),s.jsx(E,{variant:"destructive",size:"sm",onClick:()=>d.mutate(h.id),disabled:d.isPending,children:s.jsx(Wn,{className:"w-3 h-3"})})]})]})},h.id))})}),s.jsx(Ue,{value:"add",children:s.jsx(hC,{store:null,onSubmit:h=>l.mutate(h),onCancel:()=>o(!1),isLoading:l.isPending})})]}),r&&s.jsx(et,{open:!!r,onOpenChange:()=>i(null),children:s.jsxs(Ye,{children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Edit Store"})}),s.jsx(hC,{store:r,onSubmit:h=>c.mutate({id:r.id,...h}),onCancel:()=>i(null),isLoading:c.isPending})]})})]})}function hC({store:e,onSubmit:t,onCancel:n,isLoading:r}){const i=Bt({defaultValues:{name:(e==null?void 0:e.name)||"",address:(e==null?void 0:e.address)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",website:(e==null?void 0:e.website)||"",onlineOrderingUrl:(e==null?void 0:e.onlineOrderingUrl)||"",deliveryAvailable:(e==null?void 0:e.deliveryAvailable)||!1,pickupAvailable:(e==null?void 0:e.pickupAvailable)||!0,isPreferred:(e==null?void 0:e.isPreferred)||!1}}),a=o=>{t(o)};return s.jsx(zt,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[s.jsx(Z,{control:i.control,name:"name",render:({field:o})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Store Name *"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Walmart Supercenter",...o})}),s.jsx(se,{})]})}),s.jsx(Z,{control:i.control,name:"address",render:({field:o})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Address"}),s.jsx(J,{children:s.jsx(q,{placeholder:"123 Main St, City, State 12345",...o})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:i.control,name:"phoneNumber",render:({field:o})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Phone Number"}),s.jsx(J,{children:s.jsx(q,{placeholder:"(555) 123-4567",...o})}),s.jsx(se,{})]})}),s.jsx(Z,{control:i.control,name:"website",render:({field:o})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Website"}),s.jsx(J,{children:s.jsx(q,{placeholder:"https://walmart.com",...o})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:i.control,name:"onlineOrderingUrl",render:({field:o})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Online Ordering URL"}),s.jsx(J,{children:s.jsx(q,{placeholder:"https://grocery.walmart.com",...o})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Z,{control:i.control,name:"deliveryAvailable",render:({field:o})=>s.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(J,{children:s.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Q,{children:"Delivery Available"})})]})}),s.jsx(Z,{control:i.control,name:"pickupAvailable",render:({field:o})=>s.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(J,{children:s.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Q,{children:"Pickup Available"})})]})}),s.jsx(Z,{control:i.control,name:"isPreferred",render:({field:o})=>s.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(J,{children:s.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Q,{children:"Preferred Store"})})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:r,className:"flex-1",children:r?"Saving...":e?"Update Store":"Add Store"}),s.jsx(E,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})}function Bne(){const{hasFeature:e}=Fi();return e("mealPlanning")?s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meal Planning & Shopping"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Plan nutritious meals and manage your grocery shopping efficiently"})]}),s.jsxs(hn,{defaultValue:"meal-planning",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-2",children:[s.jsxs($e,{value:"meal-planning",className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Meal Planning"})]}),s.jsxs($e,{value:"shopping-list",className:"flex items-center space-x-2",children:[s.jsx(ll,{className:"w-4 h-4"}),s.jsx("span",{children:"Shopping List"})]})]}),s.jsx(Ue,{value:"meal-planning",className:"mt-6",children:s.jsx(Lne,{})}),s.jsx(Ue,{value:"shopping-list",className:"mt-6",children:s.jsx($ne,{})})]})]}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Meal Planning & Shopping",description:"Create personalized meal plans, manage recipes, and generate smart shopping lists. This premium feature helps you maintain a healthy diet and budget.",feature:"mealPlanning",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})}function zne(){const{hasFeature:e}=Fi();return e("medicationManagement")?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pharmacy & Medications"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your pharmacies, track medications, and order refills easily"})]}),s.jsx($F,{})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(pa,{title:"Pharmacy & Medication Management",description:"Track medications, set reminders, manage pharmacy information, and order refills. This premium feature ensures you never miss a dose and stay on top of your health.",feature:"medicationManagement",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Vne(){const{hasFeature:e}=Fi();if(!e("advancedAnalytics"))return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Academic Planner",description:"Manage classes, assignments, study sessions, and campus navigation. This comprehensive academic tool helps students with developmental disabilities succeed in their educational journey.",feature:"advancedAnalytics",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[t,n]=b.useState("schedule"),[r,i]=b.useState(!1),[a,o]=b.useState(!1),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[u,m]=b.useState(!1),[f,j]=b.useState(!1),[x,g]=b.useState({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2}),[p,y]=b.useState({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"}),[v,w]=b.useState({subject:"",topic:"",technique:"",duration:60,notes:""}),[C,N]=b.useState({name:"",building:"",floor:"",description:"",category:"academic"}),[S,k]=b.useState({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15}),[T,D]=b.useState({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6}),P=Yt(),{data:M=[],isLoading:X,refetch:ee}=xe({queryKey:["/api/academic-classes"],queryFn:async()=>{const O=await fetch("/api/academic-classes");if(!O.ok)throw new Error("Failed to fetch classes");return O.json()},staleTime:0,cacheTime:0}),{data:F=[],isLoading:re,refetch:fe}=xe({queryKey:["/api/assignments"],queryFn:async()=>{const O=await fetch("/api/assignments");if(!O.ok)throw new Error("Failed to fetch assignments");return O.json()},staleTime:0,cacheTime:0}),{data:H=[],isLoading:$,refetch:oe}=xe({queryKey:["/api/study-sessions"],queryFn:async()=>{const O=await fetch("/api/study-sessions");if(!O.ok)throw new Error("Failed to fetch study sessions");return O.json()},staleTime:0,cacheTime:0}),{data:be=[],isLoading:st}=xe({queryKey:["/api/campus-locations"],queryFn:async()=>{const O=await fetch("/api/campus-locations");if(!O.ok)throw new Error("Failed to fetch locations");return O.json()},staleTime:0,cacheTime:0}),{data:_t=[],isLoading:Ft}=xe({queryKey:["/api/campus-transport"],queryFn:async()=>{const O=await fetch("/api/campus-transport");if(!O.ok)throw new Error("Failed to fetch transport");return O.json()},staleTime:0,cacheTime:0}),{data:ps=[],isLoading:Xt}=xe({queryKey:["/api/study-groups"],queryFn:async()=>{const O=await fetch("/api/study-groups");if(!O.ok)throw new Error("Failed to fetch study groups");return O.json()},staleTime:0,cacheTime:0}),Be=Ce({mutationFn:async O=>ye("POST","/api/assignments",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/assignments"]}),fe(),i(!1),g({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2})}}),yt=Ce({mutationFn:async O=>ye("POST","/api/academic-classes",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/academic-classes"]}),ee(),o(!1),y({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"})}}),Et=Ce({mutationFn:async O=>{console.log("Creating study session with data:",O);try{const it=await ye("POST","/api/study-sessions",O);return console.log("API response:",it),it}catch(it){throw console.error("API request failed:",it),it}},onSuccess:O=>{console.log("Study session created successfully:",O),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""})},onError:O=>{var it;console.error("Failed to create study session:",O),(it=O==null?void 0:O.message)!=null&&it.includes("cross-origin")&&(console.log("Cross-origin error detected, but session may have been created successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""}))}}),vt=Ce({mutationFn:async O=>ye("POST","/api/study-groups",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/study-groups"]}),j(!1),D({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6})}}),bt=Ce({mutationFn:async O=>await ye("POST","/api/campus-locations",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-locations"]}),h(!1),N({name:"",building:"",floor:"",description:"",category:"academic"})}}),rt=Ce({mutationFn:async O=>await ye("POST","/api/campus-transport",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-transport"]}),m(!1),k({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15})}}),ts=()=>{!x.title.trim()||!x.dueDate||Be.mutate({...x,dueDate:new Date(x.dueDate).toISOString()})},mn=()=>{!p.className.trim()||!p.instructor.trim()||yt.mutate({...p,isActive:!0})},Oi=async()=>{if(console.log("=== handleCreateStudySession CALLED ==="),console.log("Current newStudySession:",v),!v.subject.trim()){console.log("Subject is empty, returning early");return}try{const O={...v,startedAt:new Date().toISOString(),completedAt:null,effectiveness:null};console.log("About to create session with data:",O),console.log("Mutation object:",Et),console.log("Calling mutation..."),await Et.mutateAsync(O),console.log("Mutation completed successfully")}catch(O){console.error("Error in handleCreateStudySession:",O)}},ei=()=>{!C.name.trim()||!C.building.trim()||bt.mutate(C)},ti=()=>{!S.routeName.trim()||!S.fromStop.trim()||rt.mutate(S)},$d=()=>{!T.groupName.trim()||!T.subject.trim()||vt.mutate({...T,isActive:!0,currentMembers:1})},fa=()=>{try{if(!Array.isArray(F))return[];const O=new Date;return F.filter(Tt=>Tt&&Tt.dueDate&&new Date(Tt.dueDate)>O&&Tt.status!=="completed").sort((Tt,Ud)=>new Date(Tt.dueDate).getTime()-new Date(Ud.dueDate).getTime()).slice(0,5)}catch(O){return console.error("Error in getUpcomingAssignments:",O),[]}},DN=()=>{try{if(!Array.isArray(M))return[];const O=new Date().getDay();return M.filter(it=>it&&it.dayOfWeek===O&&it.isActive)}catch(O){return console.error("Error in getTodayClasses:",O),[]}},Em=()=>{try{if(!Array.isArray(M)||!Array.isArray(H))return 0;const O=M.length,it=H.filter(Tt=>Tt&&Tt.classId).length;return O>0?Math.round(it/O*100):0}catch(O){return console.error("Error in getClassProgress:",O),0}},U=()=>{try{if(!Array.isArray(F))return{total:0,completed:0,inProgress:0,overdue:0};const O=F.length,it=F.filter(_n=>_n&&_n.status==="completed").length,Tt=F.filter(_n=>_n&&_n.status==="in_progress").length,Ud=F.filter(_n=>_n&&_n.dueDate&&new Date(_n.dueDate)<new Date&&_n.status!=="completed").length;return{total:O,completed:it,inProgress:Tt,overdue:Ud}}catch(O){return console.error("Error in getAssignmentStats:",O),{total:0,completed:0,inProgress:0,overdue:0}}},G=O=>{const it=new Date(O);return ZF(it)?"Today":Dne(it)?"Tomorrow":Lt(it,"MMM d")},ie=O=>{switch(O){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};if(X||re)return s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(O=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},O))})]})});let De=[],Te=[],ve=0,Ie={total:0,completed:0,inProgress:0,overdue:0};try{De=DN(),Te=fa(),ve=Em(),Ie=U()}catch(O){console.error("Error in helper functions:",O)}return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Planner"}),s.jsx("p",{className:"text-gray-600",children:"Manage your classes, assignments, study sessions, and campus navigation"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Classes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.length})]}),s.jsx(Hr,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Due This Week"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Te.length})]}),s.jsx(ws,{className:"w-8 h-8 text-orange-600"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assignment Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Ie.completed,"/",Ie.total]})]}),s.jsx(Us,{className:"w-8 h-8 text-green-600"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Study Hours"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(H.reduce((O,it)=>O+(it.duration||0),0)/60),"h"]})]}),s.jsx(Ni,{className:"w-8 h-8 text-purple-600"})]})})})]}),s.jsxs(hn,{value:t,onValueChange:n,className:"space-y-8",children:[s.jsxs(en,{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 w-full gap-1 h-auto p-1 mb-6",children:[s.jsx($e,{value:"schedule",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Schedule"}),s.jsx($e,{value:"assignments",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Assignments"}),s.jsx($e,{value:"study",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Study"}),s.jsx($e,{value:"campus",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Campus"}),s.jsx($e,{value:"social",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Social"})]}),s.jsx(Ue,{value:"schedule",className:"space-y-6 mt-6",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Today's Schedule"]}),s.jsx(at,{children:"Your classes and study sessions for today"})]}),s.jsx(V,{children:De.length>0?s.jsx("div",{className:"space-y-4",children:De.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:O.className}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.instructor,"  ",O.building," ",O.room]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[O.startTime," - ",O.endTime]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.credits," credits"]})]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No classes scheduled for today"}),s.jsxs(et,{open:a,onOpenChange:o,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"mt-4",size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),s.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Class"})}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(q,{placeholder:"Class name",value:p.className,onChange:O=>y({...p,className:O.target.value})}),s.jsx(q,{placeholder:"Instructor",value:p.instructor,onChange:O=>y({...p,instructor:O.target.value})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(q,{placeholder:"Building",value:p.building,onChange:O=>y({...p,building:O.target.value})}),s.jsx(q,{placeholder:"Room",value:p.room,onChange:O=>y({...p,room:O.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(q,{type:"time",value:p.startTime,onChange:O=>y({...p,startTime:O.target.value})}),s.jsx(q,{type:"time",value:p.endTime,onChange:O=>y({...p,endTime:O.target.value})})]}),s.jsxs(Ge,{value:p.dayOfWeek.toString(),onValueChange:O=>y({...p,dayOfWeek:parseInt(O)}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Day of week"})}),s.jsxs(We,{children:[s.jsx(B,{value:"1",children:"Monday"}),s.jsx(B,{value:"2",children:"Tuesday"}),s.jsx(B,{value:"3",children:"Wednesday"}),s.jsx(B,{value:"4",children:"Thursday"}),s.jsx(B,{value:"5",children:"Friday"})]})]}),s.jsx(q,{type:"number",placeholder:"Credits",value:p.credits,onChange:O=>y({...p,credits:parseInt(O.target.value)||3}),min:"1",max:"6"}),s.jsxs(Ge,{value:p.semester,onValueChange:O=>y({...p,semester:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Semester"})}),s.jsxs(We,{children:[s.jsx(B,{value:"Fall 2025",children:"Fall 2025"}),s.jsx(B,{value:"Spring 2026",children:"Spring 2026"}),s.jsx(B,{value:"Summer 2025",children:"Summer 2025"}),s.jsx(B,{value:"Winter 2025",children:"Winter 2025"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:mn,disabled:yt.isPending,className:"flex-1",children:yt.isPending?"Creating...":"Create Class"}),s.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),s.jsx(Ue,{value:"assignments",className:"space-y-6 mt-6",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5"}),"Upcoming Assignments"]}),s.jsx(at,{children:"Track your homework, projects, and deadlines"})]}),s.jsx(V,{children:F.length>0?s.jsx("div",{className:"space-y-4",children:F.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${O.priority==="urgent"?"bg-red-500":O.priority==="high"?"bg-orange-500":O.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:O.title}),s.jsx("p",{className:"text-sm text-gray-600",children:O.type})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ue,{className:ie(O.priority),children:G(O.dueDate)}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[O.estimatedHours,"h estimated"]})]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No assignments yet"}),s.jsxs(et,{open:r,onOpenChange:i,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"mt-4",size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Assignment"]})}),s.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Assignment"})}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(q,{placeholder:"Assignment title",value:x.title,onChange:O=>g({...x,title:O.target.value})}),s.jsx(ot,{placeholder:"Description (optional)",value:x.description,onChange:O=>g({...x,description:O.target.value})}),s.jsxs(Ge,{value:x.type,onValueChange:O=>g({...x,type:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Assignment type"})}),s.jsxs(We,{children:[s.jsx(B,{value:"homework",children:"Homework"}),s.jsx(B,{value:"project",children:"Project"}),s.jsx(B,{value:"exam",children:"Exam"}),s.jsx(B,{value:"quiz",children:"Quiz"}),s.jsx(B,{value:"paper",children:"Paper"})]})]}),s.jsx(q,{type:"date",placeholder:"Due date",value:x.dueDate,onChange:O=>g({...x,dueDate:O.target.value})}),s.jsxs(Ge,{value:x.priority,onValueChange:O=>g({...x,priority:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Priority"})}),s.jsxs(We,{children:[s.jsx(B,{value:"low",children:"Low"}),s.jsx(B,{value:"medium",children:"Medium"}),s.jsx(B,{value:"high",children:"High"}),s.jsx(B,{value:"urgent",children:"Urgent"})]})]}),s.jsx(q,{type:"number",placeholder:"Estimated hours",value:x.estimatedHours,onChange:O=>g({...x,estimatedHours:parseInt(O.target.value)||2}),min:"1",max:"100"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:ts,disabled:Be.isPending,className:"flex-1",children:Be.isPending?"Creating...":"Create Assignment"}),s.jsx(E,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),s.jsx(Ue,{value:"study",className:"space-y-6 mt-6",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"w-5 h-5"}),"Study Tracker"]}),s.jsx(at,{children:"Track your study sessions and techniques"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs(E,{onClick:O=>{O.preventDefault(),O.stopPropagation(),console.log("=== HEADER BUTTON CLICKED ==="),console.log("isAddStudySessionOpen before:",l),c(!0),console.log("setIsAddStudySessionOpen(true) called"),console.log("Dialog should be opening now...")},className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Start New Study Session"]})}),H.length>0?s.jsx("div",{className:"space-y-4",children:H.slice(0,5).map(O=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:O.subject}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.technique,"  ",O.duration," minutes"]}),O.location&&s.jsx("p",{className:"text-xs text-gray-500",children:O.location})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:O.completedAt?"Completed":"In Progress"}),O.effectiveness&&s.jsxs("p",{className:"text-xs text-gray-500",children:[O.effectiveness,"/5 stars"]}),!O.completedAt&&s.jsx(E,{size:"sm",variant:"outline",className:"mt-1",onClick:it=>{it.preventDefault(),console.log("Complete button clicked for session:",O.id),fetch(`/api/study-sessions/${O.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completedAt:new Date().toISOString(),effectiveness:4})}).then(Tt=>{Tt.ok?(console.log("Session completed successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]})):console.error("Failed to complete session:",Tt.status)}).catch(Tt=>console.error("Failed to complete session:",Tt))},children:"Complete"})]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Start tracking your study sessions"})]}),s.jsx(et,{open:l,onOpenChange:c,children:s.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Start Study Session"})}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(q,{placeholder:"Subject (required)",value:v.subject,onChange:O=>w({...v,subject:O.target.value})}),s.jsx(q,{placeholder:"Topic",value:v.topic,onChange:O=>w({...v,topic:O.target.value})}),s.jsxs(Ge,{value:v.technique,onValueChange:O=>w({...v,technique:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Study technique"})}),s.jsxs(We,{children:[s.jsx(B,{value:"reading",children:"Reading"}),s.jsx(B,{value:"flashcards",children:"Flashcards"}),s.jsx(B,{value:"practice-problems",children:"Practice Problems"}),s.jsx(B,{value:"note-taking",children:"Note Taking"}),s.jsx(B,{value:"group-study",children:"Group Study"}),s.jsx(B,{value:"online-resources",children:"Online Resources"})]})]}),s.jsx(q,{type:"number",placeholder:"Duration (minutes)",value:v.duration,onChange:O=>w({...v,duration:parseInt(O.target.value)||60}),min:"5",max:"300"}),s.jsx(ot,{placeholder:"Notes (optional)",value:v.notes,onChange:O=>w({...v,notes:O.target.value})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{type:"button",onClick:async O=>{O.preventDefault(),O.stopPropagation(),console.log("=== START SESSION BUTTON CLICKED ==="),console.log("newStudySession data:",v),console.log("Subject value:",v.subject),console.log("Subject trimmed:",v.subject.trim()),console.log("Is subject empty?",!v.subject.trim()),console.log("Mutation pending:",Et.isPending);try{await Oi(),console.log("handleCreateStudySession completed")}catch(it){console.error("Button click error handled:",it)}},disabled:Et.isPending,className:"flex-1",children:Et.isPending?"Starting...":"Start Session"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}),s.jsx(Ue,{value:"campus",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Campus Locations"]}),s.jsx(at,{children:"Your saved places and favorite spots"})]}),s.jsxs(V,{children:[st?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Loading locations..."})]}):be.length>0?s.jsx("div",{className:"space-y-3",children:be.map(O=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.building,O.floor&&`, Floor ${O.floor}`]}),O.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.description})]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No campus locations saved"})]}),s.jsxs(et,{open:d,onOpenChange:h,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"w-full mt-4",variant:"outline",size:"sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Location"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add Campus Location"}),s.jsx(es,{children:"Save important campus locations for quick reference"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Location name (required)",value:C.name,onChange:O=>N({...C,name:O.target.value})}),s.jsx(q,{placeholder:"Building (required)",value:C.building,onChange:O=>N({...C,building:O.target.value})}),s.jsx(q,{placeholder:"Floor (optional)",value:C.floor,onChange:O=>N({...C,floor:O.target.value})}),s.jsxs(Ge,{value:C.category,onValueChange:O=>N({...C,category:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Category"})}),s.jsxs(We,{children:[s.jsx(B,{value:"academic",children:"Academic"}),s.jsx(B,{value:"dining",children:"Dining"}),s.jsx(B,{value:"recreation",children:"Recreation"}),s.jsx(B,{value:"services",children:"Services"}),s.jsx(B,{value:"transportation",children:"Transportation"})]})]}),s.jsx(ot,{placeholder:"Description (optional)",value:C.description,onChange:O=>N({...C,description:O.target.value})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:ei,disabled:bt.isPending,className:"flex-1",children:bt.isPending?"Adding...":"Add Location"}),s.jsx(E,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(to,{className:"w-5 h-5"}),"Campus Transportation"]}),s.jsx(at,{children:"Bus schedules and routes"})]}),s.jsxs(V,{children:[Ft?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Loading routes..."})]}):_t.length>0?s.jsx("div",{className:"space-y-3",children:_t.map(O=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(to,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:O.routeName}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.fromStop,"  ",O.toStop]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Departs: ",O.departureTime,"  ~",O.estimatedDuration," min"]})]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(to,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No transportation routes saved"})]}),s.jsxs(et,{open:u,onOpenChange:m,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"mt-4 w-full",size:"sm",variant:"outline",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add Transportation Route"}),s.jsx(es,{children:"Save bus routes and schedules for easy access"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Route name (required)",value:S.routeName,onChange:O=>k({...S,routeName:O.target.value})}),s.jsx(q,{placeholder:"From stop (required)",value:S.fromStop,onChange:O=>k({...S,fromStop:O.target.value})}),s.jsx(q,{placeholder:"To stop",value:S.toStop,onChange:O=>k({...S,toStop:O.target.value})}),s.jsx(q,{type:"time",placeholder:"Departure time",value:S.departureTime,onChange:O=>k({...S,departureTime:O.target.value})}),s.jsx(q,{type:"number",placeholder:"Estimated duration (minutes)",value:S.estimatedDuration,onChange:O=>k({...S,estimatedDuration:parseInt(O.target.value)||15}),min:"5",max:"120"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:ti,disabled:rt.isPending,className:"flex-1",children:rt.isPending?"Adding...":"Add Route"}),s.jsx(E,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})]})}),s.jsx(Ue,{value:"social",className:"space-y-6 mt-6",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-5 h-5"}),"Study Groups"]}),s.jsx(at,{children:"Collaborate and learn with classmates"})]}),s.jsxs(V,{children:[Xt?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Loading study groups..."})]}):ps.length>0?s.jsx("div",{className:"space-y-3",children:ps.map(O=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(ls,{className:"w-5 h-5 text-purple-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:O.groupName}),s.jsx("p",{className:"text-sm text-gray-600",children:O.subject}),O.meetingDay&&O.meetingTime&&s.jsxs("p",{className:"text-xs text-gray-500",children:[O.meetingDay,"s at ",O.meetingTime]})]}),s.jsxs(ue,{variant:"outline",children:[O.currentMembers||1," member",(O.currentMembers||1)!==1?"s":""]})]},O.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No study groups yet"})]}),s.jsxs(et,{open:f,onOpenChange:j,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"w-full mt-4",size:"sm",variant:"outline",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Study Group"]})}),s.jsxs(Ye,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Create Study Group"}),s.jsx(es,{children:"Start a study group to collaborate with classmates"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Group name (required)",value:T.groupName,onChange:O=>D({...T,groupName:O.target.value})}),s.jsx(q,{placeholder:"Subject (required)",value:T.subject,onChange:O=>D({...T,subject:O.target.value})}),s.jsx(ot,{placeholder:"Description (optional)",value:T.description,onChange:O=>D({...T,description:O.target.value})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(Ge,{value:T.meetingDay,onValueChange:O=>D({...T,meetingDay:O}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Meeting day"})}),s.jsxs(We,{children:[s.jsx(B,{value:"Monday",children:"Monday"}),s.jsx(B,{value:"Tuesday",children:"Tuesday"}),s.jsx(B,{value:"Wednesday",children:"Wednesday"}),s.jsx(B,{value:"Thursday",children:"Thursday"}),s.jsx(B,{value:"Friday",children:"Friday"}),s.jsx(B,{value:"Saturday",children:"Saturday"}),s.jsx(B,{value:"Sunday",children:"Sunday"})]})]}),s.jsx(q,{type:"time",placeholder:"Meeting time",value:T.meetingTime,onChange:O=>D({...T,meetingTime:O.target.value})})]}),s.jsx(q,{type:"number",placeholder:"Max members (default: 6)",value:T.maxMembers,onChange:O=>D({...T,maxMembers:parseInt(O.target.value)||6}),min:"2",max:"20"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:$d,disabled:vt.isPending,className:"flex-1",children:vt.isPending?"Creating...":"Create Group"}),s.jsx(E,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})})]})]})}const mC=Ns({skillName:Ae().min(1,"Skill name is required"),description:Ae().optional(),skillCategory:kl(["academic","social","independent_living","career","personal","health"]),currentLevel:zs().min(1).max(10).default(1),targetLevel:zs().min(1).max(10).default(5),targetDate:Ae().optional(),priority:kl(["low","medium","high","critical"]).default("medium")}),To={academic:{label:"Academic Skills",icon:Hr,color:"bg-blue-500"},social:{label:"Social Skills",icon:ls,color:"bg-green-500"},independent_living:{label:"Independent Living",icon:lw,color:"bg-purple-500"},career:{label:"Career Readiness",icon:h9,color:"bg-orange-500"},personal:{label:"Personal Development",icon:lt,color:"bg-pink-500"},health:{label:"Health & Wellness",icon:mr,color:"bg-teal-500"}};function qne(){var k;const e=Yt(),[t,n]=b.useState(!1),[r,i]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState("all"),d=Bt({resolver:Vt(mC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),h=Bt({resolver:Vt(mC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),{data:u=[],isLoading:m,refetch:f}=xe({queryKey:["/api/transition-skills"],queryFn:async()=>{const T=await fetch("/api/transition-skills");if(!T.ok)throw new Error("Failed to fetch skills");return T.json()},staleTime:0}),j=Ce({mutationFn:async T=>ye("POST","/api/transition-skills",T),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),n(!1),d.reset(),ja({title:"Success",description:"New skill milestone added!"})},onError:()=>{ja({title:"Error",description:"Failed to add skill milestone",variant:"destructive"})}}),x=Ce({mutationFn:async({id:T,currentLevel:D})=>ye("PATCH",`/api/transition-skills/${T}`,{currentLevel:D}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),ja({title:"Progress Updated",description:"Great job on improving your skills!"})}}),g=Ce({mutationFn:async({id:T,skillData:D})=>ye("PATCH",`/api/transition-skills/${T}`,D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),i(!1),o(null),h.reset(),ja({title:"Success",description:"Skill updated successfully!"})},onError:()=>{ja({title:"Error",description:"Failed to update skill",variant:"destructive"})}}),p=Ce({mutationFn:async T=>ye("DELETE",`/api/transition-skills/${T}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),ja({title:"Success",description:"Skill deleted successfully!"})},onError:()=>{ja({title:"Error",description:"Failed to delete skill",variant:"destructive"})}}),y=(T,D)=>{x.mutate({id:T,currentLevel:D})},v=T=>{o(T),h.reset({skillName:T.skillName||"",description:T.description||"",skillCategory:T.skillCategory||"independent_living",currentLevel:T.currentLevel||1,targetLevel:T.targetLevel||5,targetDate:T.targetDate||"",priority:T.priority||"medium"}),i(!0)},w=T=>{window.confirm("Are you sure you want to delete this skill? This action cannot be undone.")&&p.mutate(T)},C=(T,D)=>Math.min(T/D*100,100),N=(T,D)=>{const P=C(T,D);return P>=100?{text:"Completed",color:"text-green-600"}:P>=75?{text:"Almost There",color:"text-blue-600"}:P>=50?{text:"Good Progress",color:"text-yellow-600"}:{text:"Getting Started",color:"text-gray-600"}},S=l==="all"?u:u.filter(T=>T.skillCategory===l);return m?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your skills and milestones..."})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills & Milestones"}),s.jsx("p",{className:"text-gray-600",children:"Track your progress in life skills, set goals, and celebrate achievements"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Us,{className:"text-blue-600",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Skills"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.length})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"text-green-600",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>(T.currentLevel||1)>=(T.targetLevel||5)).length})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(ws,{className:"text-yellow-600",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>{const D=T.currentLevel||1,P=T.targetLevel||5;return D<P&&D>1}).length})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Ni,{className:"text-purple-600",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.length>0?Math.round(u.reduce((T,D)=>T+C(D.currentLevel||1,D.targetLevel||5),0)/u.length):0,"%"]})]})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs(Ge,{value:l,onValueChange:c,children:[s.jsx(He,{className:"w-full sm:w-64",children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"all",children:"All Categories"}),Object.entries(To).map(([T,D])=>s.jsx(B,{value:T,children:D.label},T))]})]}),s.jsxs(et,{open:t,onOpenChange:n,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Skill Milestone"]})}),s.jsxs(Ye,{className:"max-w-md",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Add New Skill Milestone"}),s.jsx(es,{children:"Set a new skill goal to track your progress"})]}),s.jsx(zt,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(T=>j.mutate(T)),className:"space-y-4",children:[s.jsx(Z,{control:d.control,name:"skillName",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Skill Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),s.jsx(se,{})]})}),s.jsx(Z,{control:d.control,name:"skillCategory",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{})})}),s.jsx(We,{children:Object.entries(To).map(([D,P])=>s.jsx(B,{value:D,children:P.label},D))})]}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:d.control,name:"currentLevel",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Current Level (1-10)"}),s.jsx(J,{children:s.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:d.control,name:"targetLevel",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Target Level (1-10)"}),s.jsx(J,{children:s.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:d.control,name:"description",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Describe what this skill involves and why it's important...",...T})}),s.jsx(se,{})]})}),s.jsx(Z,{control:d.control,name:"priority",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Priority"}),s.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{})})}),s.jsxs(We,{children:[s.jsx(B,{value:"low",children:"Low"}),s.jsx(B,{value:"medium",children:"Medium"}),s.jsx(B,{value:"high",children:"High"}),s.jsx(B,{value:"critical",children:"Critical"})]})]}),s.jsx(se,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:j.isPending,children:j.isPending?"Adding...":"Add Skill Milestone"})]})})]})]}),s.jsx(et,{open:r,onOpenChange:i,children:s.jsxs(Ye,{className:"max-w-md",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Edit Skill Milestone"}),s.jsx(es,{children:"Update your skill details and progress goals"})]}),s.jsx(zt,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(T=>{a&&g.mutate({id:a.id,skillData:T})}),className:"space-y-4",children:[s.jsx(Z,{control:h.control,name:"skillName",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Skill Name"}),s.jsx(J,{children:s.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"skillCategory",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{})})}),s.jsx(We,{children:Object.entries(To).map(([D,P])=>s.jsx(B,{value:D,children:P.label},D))})]}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:h.control,name:"currentLevel",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Current Level (1-10)"}),s.jsx(J,{children:s.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"targetLevel",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Target Level (1-10)"}),s.jsx(J,{children:s.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:h.control,name:"description",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Describe what this skill involves and why it's important...",...T})}),s.jsx(se,{})]})}),s.jsx(Z,{control:h.control,name:"priority",render:({field:T})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Priority"}),s.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{})})}),s.jsxs(We,{children:[s.jsx(B,{value:"low",children:"Low"}),s.jsx(B,{value:"medium",children:"Medium"}),s.jsx(B,{value:"high",children:"High"}),s.jsx(B,{value:"critical",children:"Critical"})]})]}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(E,{type:"button",variant:"outline",className:"flex-1",onClick:()=>i(!1),children:"Cancel"}),s.jsx(E,{type:"submit",variant:"outline",className:"flex-1",disabled:g.isPending,children:g.isPending?"Updating...":"Update Skill"})]})]})})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>{var X,ee,F;const D=((X=To[T.skillCategory])==null?void 0:X.icon)||Us,P=N(T.currentLevel||1,T.targetLevel||5),M=C(T.currentLevel||1,T.targetLevel||5);return s.jsxs(L,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${((ee=To[T.skillCategory])==null?void 0:ee.color)||"bg-gray-500"}`,children:s.jsx(D,{className:"text-white",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ce,{className:"text-lg",children:T.skillName}),s.jsx(ue,{variant:"outline",className:"mt-1",children:((F=To[T.skillCategory])==null?void 0:F.label)||T.skillCategory})]})]}),M>=100&&s.jsx(po,{className:"text-yellow-500",size:20})]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[T.description&&s.jsx("p",{className:"text-sm text-gray-600",children:T.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Progress"}),s.jsx("span",{className:`text-sm font-medium ${P.color}`,children:P.text})]}),s.jsx(on,{value:M,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Level ",T.currentLevel||1]}),s.jsxs("span",{children:["Target: ",T.targetLevel||5]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>y(T.id,Math.max(1,(T.currentLevel||1)-1)),disabled:x.isPending||(T.currentLevel||1)<=1,children:"-"}),s.jsx(E,{variant:"default",size:"sm",className:"flex-1",onClick:()=>y(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:x.isPending||(T.currentLevel||1)>=10,children:"Update Progress"}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>y(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:x.isPending||(T.currentLevel||1)>=10,children:"+"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(T),children:[s.jsx(fi,{size:14,className:"mr-1"}),"Edit"]}),s.jsxs(E,{variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>w(T.id),disabled:p.isPending,children:[s.jsx(Wn,{size:14,className:"mr-1"}),"Delete"]})]})]})]})})]},T.id)})}),S.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Us,{className:"mx-auto text-gray-400 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Skills Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:l==="all"?"Start tracking your progress by adding your first skill milestone!":`No skills found in the ${((k=To[l])==null?void 0:k.label)||l} category.`}),s.jsxs(E,{onClick:()=>n(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Skill"]})]})]})}const cb=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Oe("w-full caption-bottom text-sm",e),...t})}));cb.displayName="Table";const db=b.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Oe("[&_tr]:border-b",e),...t}));db.displayName="TableHeader";const ub=b.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Oe("[&_tr:last-child]:border-0",e),...t}));ub.displayName="TableBody";const Hne=b.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Hne.displayName="TableFooter";const gu=b.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gu.displayName="TableRow";const $n=b.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$n.displayName="TableHead";const Un=b.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Un.displayName="TableCell";const Wne=b.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Oe("mt-4 text-sm text-muted-foreground",e),...t}));Wne.displayName="TableCaption";const pC=[{key:"location_sharing",name:"Location Sharing",description:"Allows caregivers to see user's current location",category:"safety"},{key:"emergency_contacts",name:"Emergency Contacts",description:"Access to view and modify emergency contact information",category:"safety"},{key:"medication_reminders",name:"Medication Reminders",description:"Automatic reminders for medication schedules",category:"health"},{key:"appointment_notifications",name:"Appointment Notifications",description:"Notifications for upcoming medical appointments",category:"health"},{key:"safety_alerts",name:"Safety Alerts",description:"Alerts for unusual activity or missed check-ins",category:"safety"},{key:"financial_monitoring",name:"Financial Monitoring",description:"Oversight of budgets and bill payment tracking",category:"financial"}],Xy=[{id:1,name:"Primary Caregiver",type:"primary",description:"Full access - parent or guardian",color:"bg-green-100 text-green-800"},{id:2,name:"School Therapist",type:"secondary",description:"Academic and emotional support only",color:"bg-blue-100 text-blue-800"},{id:3,name:"Medical Therapist",type:"secondary",description:"Health and safety management",color:"bg-purple-100 text-purple-800"},{id:4,name:"Respite Worker",type:"temporary",description:"Emergency contacts and basic supervision",color:"bg-orange-100 text-orange-800"},{id:5,name:"Extended Family",type:"secondary",description:"Limited monitoring access",color:"bg-gray-100 text-gray-800"}];function JF({userId:e,caregiverId:t}){const{toast:n}=dt(),r=Yt(),[i,a]=b.useState(t||1),[o,l]=b.useState("user_locks"),[c,d]=b.useState({settingKey:"",settingValue:"",lockReason:"",canUserView:!0}),{data:h=[],isLoading:u}=xe({queryKey:["/api/locked-settings",e],queryFn:()=>ye("GET",`/api/locked-settings/${e}`).then(v=>v.json())});xe({queryKey:["/api/caregiver-permissions",e,i],queryFn:()=>ye("GET",`/api/caregiver-permissions/${e}/${i}`).then(v=>v.json()),enabled:!!i});const m=Xy.find(v=>v.id===i)||Xy[0],f=Ce({mutationFn:v=>ye("POST","/api/locked-settings",v).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),n({title:"Setting Locked",description:"User setting has been successfully locked."}),d({settingKey:"",settingValue:"",lockReason:"",canUserView:!0})},onError:v=>{n({title:"Error",description:"Failed to lock setting: "+v.message,variant:"destructive"})}}),j=Ce({mutationFn:({settingKey:v})=>ye("DELETE",`/api/locked-settings/${e}/${v}`,{caregiverId}).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),n({title:"Setting Unlocked",description:"User setting has been successfully unlocked."})},onError:v=>{n({title:"Error",description:"Failed to unlock setting: "+v.message,variant:"destructive"})}});Ce({mutationFn:v=>ye("POST","/api/caregiver-permissions",v).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/caregiver-permissions",e,i]}),n({title:"Permission Updated",description:"Caregiver permission has been updated."})},onError:v=>{n({title:"Error",description:"Failed to update permission: "+v.message,variant:"destructive"})}});const x=()=>{if(!c.settingKey||!c.settingValue){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}f.mutate({userId:e,settingKey:c.settingKey,settingValue:c.settingValue,isLocked:!0,lockedBy:i,lockReason:c.lockReason,canUserView:c.canUserView})},g=(v,w)=>{f.mutate({userId:e,settingKey:v,settingValue:"locked",isLocked:!0,lockedBy:t||1,lockReason:`User safety protection: ${w}`,canUserView:!1})},p=v=>{j.mutate({settingKey:v})},y=v=>{switch(v){case"safety":return"destructive";case"health":return"default";case"financial":return"secondary";default:return"outline"}};return u?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>l("user_locks"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="user_locks"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" User Lock Controls"}),s.jsx("button",{onClick:()=>l("caregiver_permissions"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="caregiver_permissions"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Caregiver Permissions"})]}),o==="user_locks"&&s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-5 w-5"}),"User Safety Lock Controls"]}),s.jsx(at,{children:"Lock critical features to prevent the user from accidentally changing important safety settings."})]}),s.jsx(V,{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock User Settings"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:pC.map(v=>{const w=h.some(C=>C.settingKey===v.key&&C.isLocked);return s.jsx(L,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:v.name}),s.jsx(ue,{variant:y(v.category),className:"text-xs",children:v.category}),w&&s.jsxs(ue,{variant:"destructive",className:"text-xs",children:[s.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Locked"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:v.description}),s.jsx("div",{className:"flex flex-col gap-2",children:w?s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(v.key),disabled:j.isPending,children:[s.jsx(jy,{className:"h-4 w-4 mr-1"}),"Unlock from User"]}):s.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>g(v.key,v.description),disabled:f.isPending,children:[s.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock from User"]})})]})})},v.key)})})]})})]}),o==="caregiver_permissions"&&s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"h-5 w-5"}),"Caregiver Permission Controls"]}),s.jsx(at,{children:"Manage what other caregivers can see and access for this user."})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"caregiver-select",className:"text-sm font-medium",children:"Select Caregiver Type"}),s.jsxs(Ge,{value:i==null?void 0:i.toString(),onValueChange:v=>a(parseInt(v)),children:[s.jsx(He,{className:"w-full mt-1",children:s.jsx(Ke,{placeholder:"Choose caregiver type..."})}),s.jsx(We,{children:Xy.map(v=>s.jsx(B,{value:v.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{className:v.color,variant:"secondary",children:v.type}),s.jsx("span",{className:"font-medium",children:v.name})]})},v.id))})]})]}),s.jsx(L,{className:"p-3 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ue,{className:m.color,variant:"secondary",children:m.type}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:m.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]})})]})}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Critical Safety Settings"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:pC.map(v=>{const w=h.some(N=>N.settingKey===v.key),C=h.find(N=>N.settingKey===v.key);return s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:v.name}),s.jsx(ue,{variant:y(v.category),children:v.category}),w&&s.jsx(Rr,{className:"h-4 w-4 text-red-500"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description}),w&&s.jsxs("div",{className:"text-xs text-red-600",children:[s.jsx("strong",{children:"Locked:"})," ",(C==null?void 0:C.lockReason)||"Safety requirement"]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:w?s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(v.key),disabled:j.isPending,children:[s.jsx(jy,{className:"h-4 w-4 mr-1"}),"Unlock"]}):s.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>{d({settingKey:v.key,settingValue:"enabled",lockReason:`Critical safety setting: ${v.description}`,canUserView:!0}),x()},disabled:f.isPending,children:[s.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock"]})})]})},v.key)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock Custom Setting"}),s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"settingKey",children:"Setting Key"}),s.jsx(q,{id:"settingKey",placeholder:"e.g., location_sharing",value:c.settingKey,onChange:v=>d(w=>({...w,settingKey:v.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"settingValue",children:"Setting Value"}),s.jsx(q,{id:"settingValue",placeholder:"e.g., enabled",value:c.settingValue,onChange:v=>d(w=>({...w,settingValue:v.target.value}))})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(de,{htmlFor:"lockReason",children:"Lock Reason"}),s.jsx(ot,{id:"lockReason",placeholder:"Why is this setting being locked?",value:c.lockReason,onChange:v=>d(w=>({...w,lockReason:v.target.value}))})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ls,{checked:c.canUserView,onCheckedChange:v=>d(w=>({...w,canUserView:v}))}),s.jsx(de,{children:"User can view this setting"}),c.canUserView?s.jsx(gm,{className:"h-4 w-4"}):s.jsx(R0,{className:"h-4 w-4"})]}),s.jsxs(E,{onClick:x,disabled:f.isPending,children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Lock Setting"]})]})]})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Currently Locked Settings"}),s.jsx("div",{className:"space-y-3",children:h.map(v=>s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:v.settingKey}),s.jsx(ue,{variant:"destructive",children:"LOCKED"}),!v.canUserView&&s.jsx(R0,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",v.settingValue]}),v.lockReason&&s.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",v.lockReason]})]}),s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(v.settingKey),disabled:j.isPending,children:[s.jsx(jy,{className:"h-4 w-4 mr-1"}),"Unlock"]})]})},v.id))})]})]})]})]})}function fC(){const[e,t]=b.useState("30d"),[n,r]=b.useState(!1),[i,a]=b.useState(!1),{toast:o}=dt(),l={overview:{totalUsers:1847,activeUsers:1203,newUsersToday:47,newUsersThisMonth:234,totalRevenue:28420,monthlyRecurringRevenue:7680,churnRate:2.8,averageRevenuePerUser:15.42,conversionRate:12.4,lifetimeValue:186.5},subscriptions:{basic:{count:489,revenue:2445,percentage:39.2},premium:{count:623,revenue:8089,percentage:49.9},family:{count:136,revenue:3398,percentage:10.9}},recentUsers:[{id:1,name:"Sarah Johnson",email:"sarah.j@email.com",plan:"Premium",joinDate:"2025-07-06",status:"Active",lastActivity:"2 hours ago",tasksCompleted:47,streakDays:12},{id:2,name:"Michael Chen",email:"m.chen@email.com",plan:"Family",joinDate:"2025-07-05",status:"Active",lastActivity:"1 day ago",tasksCompleted:23,streakDays:8},{id:3,name:"Emma Rodriguez",email:"emma.r@email.com",plan:"Basic",joinDate:"2025-07-04",status:"Trial",lastActivity:"3 hours ago",tasksCompleted:15,streakDays:4},{id:4,name:"David Park",email:"d.park@email.com",plan:"Premium",joinDate:"2025-07-03",status:"Active",lastActivity:"5 minutes ago",tasksCompleted:82,streakDays:21},{id:5,name:"Lisa Thompson",email:"lisa.t@email.com",plan:"Family",joinDate:"2025-07-02",status:"Churned",lastActivity:"1 week ago",tasksCompleted:34,streakDays:0}],payments:[{id:1,user:"Sarah Johnson",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-06"},{id:2,user:"Michael Chen",plan:"Family",amount:24.99,status:"Completed",date:"2025-07-06"},{id:3,user:"Emma Rodriguez",plan:"Basic",amount:4.99,status:"Failed",date:"2025-07-05"},{id:4,user:"David Park",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-05"},{id:5,user:"Lisa Thompson",plan:"Family",amount:24.99,status:"Refunded",date:"2025-07-04"}],engagement:{averageSessionTime:"24 minutes",dailyActiveUsers:743,tasksCompletedToday:2847,moodEntriesLogged:1203,caregiverMessagesExchanged:456,emergencyAlertsTriggered:3},healthMetrics:{usersWithHealthIntegration:423,medicationComplianceRate:87.3,appointmentAttendanceRate:92.1,averageMoodScore:3.8,usersWithActiveStreaks:678,averageStreakLength:8.4}},c=h=>{switch(h){case"Active":return s.jsx(ue,{className:"bg-green-100 text-green-700 border-green-300",children:"Active"});case"Trial":return s.jsx(ue,{className:"bg-blue-100 text-blue-700 border-blue-300",children:"Trial"});case"Churned":return s.jsx(ue,{className:"bg-red-100 text-red-700 border-red-300",children:"Churned"});default:return s.jsx(ue,{variant:"outline",children:h})}},d=h=>{switch(h){case"Completed":return s.jsx(ue,{className:"bg-green-100 text-green-700 border-green-300",children:"Completed"});case"Failed":return s.jsx(ue,{className:"bg-red-100 text-red-700 border-red-300",children:"Failed"});case"Refunded":return s.jsx(ue,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:"Refunded"});default:return s.jsx(ue,{variant:"outline",children:h})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("main",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor platform performance and user engagement"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ge,{value:e,onValueChange:t,children:[s.jsx(He,{className:"w-32",children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"7d",children:"Last 7 days"}),s.jsx(B,{value:"30d",children:"Last 30 days"}),s.jsx(B,{value:"90d",children:"Last 90 days"}),s.jsx(B,{value:"1y",children:"Last year"})]})]}),s.jsxs(E,{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"h-4 w-4"}),"Export Data"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(L,{children:[s.jsx(le,{className:"pb-2",children:s.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4"}),"Total Users"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.totalUsers.toLocaleString()}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ni,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{className:"text-green-600",children:["+",l.overview.newUsersThisMonth," this month"]})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{className:"pb-2",children:s.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx(Pi,{className:"h-4 w-4"}),"Monthly Revenue"]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ni,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-green-600",children:"+18.2% from last month"})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{className:"pb-2",children:s.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx(Mf,{className:"h-4 w-4"}),"Active Users"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.activeUsers.toLocaleString()}),s.jsx("div",{className:"flex items-center gap-1 text-sm",children:s.jsxs("span",{className:"text-gray-500",children:[(l.overview.activeUsers/l.overview.totalUsers*100).toFixed(1),"% of total"]})})]})]}),s.jsxs(L,{children:[s.jsx(le,{className:"pb-2",children:s.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4"}),"Conversion Rate"]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.overview.conversionRate,"%"]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ni,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-green-600",children:"+2.1% improvement"})]})]})]})]}),s.jsxs(hn,{defaultValue:"overview",className:"space-y-12",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-4",children:s.jsxs(en,{className:"flex w-max min-w-full h-20 p-4 gap-4 mx-auto justify-center",children:[s.jsx($e,{value:"overview",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Overview"}),s.jsx($e,{value:"users",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Users"}),s.jsx($e,{value:"revenue",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Revenue"}),s.jsx($e,{value:"engagement",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Engagement"}),s.jsx($e,{value:"health",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Health Metrics"}),s.jsx($e,{value:"caregiver",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Caregiver Monitor"})]})}),s.jsxs(Ue,{value:"overview",className:"space-y-12 mt-16",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"h-5 w-5"}),"Subscription Distribution"]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Basic Plan"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.basic.count," users"]})]}),s.jsx(on,{value:l.subscriptions.basic.percentage,className:"h-2"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.basic.revenue,"/month revenue"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Premium Plan"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.premium.count," users"]})]}),s.jsx(on,{value:l.subscriptions.premium.percentage,className:"h-2"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.premium.revenue,"/month revenue"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Family Plan"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.family.count," users"]})]}),s.jsx(on,{value:l.subscriptions.family.percentage,className:"h-2"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.family.revenue,"/month revenue"]})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ow,{className:"h-5 w-5"}),"Revenue Metrics"]})}),s.jsx(V,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.totalRevenue.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"ARPU"}),s.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.averageRevenuePerUser]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Churn Rate"}),s.jsxs("div",{className:"text-xl font-bold",children:[l.overview.churnRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"LTV"}),s.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.lifetimeValue]})]})]})})]})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"h-5 w-5"}),"Recent Payments"]}),s.jsx(at,{children:"Latest payment transactions"})]}),s.jsx(V,{children:s.jsxs(cb,{children:[s.jsx(db,{children:s.jsxs(gu,{children:[s.jsx($n,{children:"User"}),s.jsx($n,{children:"Plan"}),s.jsx($n,{children:"Amount"}),s.jsx($n,{children:"Status"}),s.jsx($n,{children:"Date"})]})}),s.jsx(ub,{children:l.payments.map(h=>s.jsxs(gu,{children:[s.jsx(Un,{className:"font-medium",children:h.user}),s.jsx(Un,{children:h.plan}),s.jsxs(Un,{children:["$",h.amount]}),s.jsx(Un,{children:d(h.status)}),s.jsx(Un,{children:h.date})]},h.id))})]})})]})]}),s.jsx(Ue,{value:"users",className:"space-y-12 mt-16",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-5 w-5"}),"User Management"]}),s.jsx(at,{children:"Monitor user activity and engagement"})]}),s.jsx(V,{children:s.jsxs(cb,{children:[s.jsx(db,{children:s.jsxs(gu,{children:[s.jsx($n,{children:"User"}),s.jsx($n,{children:"Plan"}),s.jsx($n,{children:"Status"}),s.jsx($n,{children:"Tasks Completed"}),s.jsx($n,{children:"Streak"}),s.jsx($n,{children:"Last Activity"}),s.jsx($n,{children:"Join Date"})]})}),s.jsx(ub,{children:l.recentUsers.map(h=>s.jsxs(gu,{children:[s.jsx(Un,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})}),s.jsx(Un,{children:h.plan}),s.jsx(Un,{children:c(h.status)}),s.jsx(Un,{children:h.tasksCompleted}),s.jsx(Un,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:h.streakDays}),h.streakDays>0&&s.jsx("span",{className:"text-orange-500",children:""})]})}),s.jsx(Un,{children:h.lastActivity}),s.jsx(Un,{children:h.joinDate})]},h.id))})]})})]})}),s.jsx(Ue,{value:"revenue",className:"space-y-12 mt-16",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{className:"text-lg",children:"Monthly Recurring Revenue"})}),s.jsxs(V,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"+18.2% from last month"})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{className:"text-lg",children:"Average Revenue Per User"})}),s.jsxs(V,{children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",l.overview.averageRevenuePerUser]}),s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Across all plans"})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{className:"text-lg",children:"Customer Lifetime Value"})}),s.jsxs(V,{children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",l.overview.lifetimeValue]}),s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Average LTV"})]})]})]})}),s.jsx(Ue,{value:"engagement",className:"space-y-12 mt-16",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-5 w-5"}),"Session Time"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.engagement.averageSessionTime}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average per session"})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Tasks Completed"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.engagement.tasksCompletedToday.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Today"})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Mood Entries"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.engagement.moodEntriesLogged.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"This week"})]})]})]})}),s.jsx(Ue,{value:"health",className:"space-y-12 mt-16",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Health Integration"]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Users with Health Data"}),s.jsx("span",{className:"font-bold",children:l.healthMetrics.usersWithHealthIntegration})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Medication Compliance"}),s.jsxs("span",{className:"font-bold text-green-600",children:[l.healthMetrics.medicationComplianceRate,"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Appointment Attendance"}),s.jsxs("span",{className:"font-bold text-blue-600",children:[l.healthMetrics.appointmentAttendanceRate,"%"]})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Wellness Metrics"]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Average Mood Score"}),s.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageMoodScore,"/5"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Active Streak Users"}),s.jsx("span",{className:"font-bold text-orange-600",children:l.healthMetrics.usersWithActiveStreaks})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Average Streak Length"}),s.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageStreakLength," days"]})]})]})]})]})}),s.jsxs(Ue,{value:"caregiver",className:"space-y-12 mt-16",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Caregiver Monitoring Center"}),s.jsx("p",{className:"text-gray-600",children:"Monitor user progress and set granular permission controls for different caregiver types"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-5 w-5"}),"Select User to Monitor"]})}),s.jsx(V,{children:s.jsxs(Ge,{defaultValue:"2",children:[s.jsx(He,{className:"w-full",children:s.jsx(Ke,{placeholder:"Select a user"})}),s.jsxs(We,{children:[s.jsx(B,{value:"1",children:"Sarah Johnson (ID: 1)"}),s.jsx(B,{value:"2",children:"Alex Johnson (ID: 2) - Demo User"}),s.jsx(B,{value:"3",children:"Michael Chen (ID: 3)"}),s.jsx(B,{value:"4",children:"Emma Rodriguez (ID: 4)"})]})]})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(mo,{className:"h-5 w-5"}),"Caregiver Type Settings"]})}),s.jsxs(V,{children:[s.jsxs(Ge,{defaultValue:"school-therapist",children:[s.jsx(He,{className:"w-full",children:s.jsx(Ke,{placeholder:"Select caregiver type"})}),s.jsxs(We,{children:[s.jsx(B,{value:"school-therapist",children:" School Therapist"}),s.jsx(B,{value:"medical-therapist",children:" Medical Therapist"}),s.jsx(B,{value:"respite-worker",children:" Respite Worker"}),s.jsx(B,{value:"family-member",children:" Family Member"}),s.jsx(B,{value:"full-access",children:" Full Access Caregiver"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Select the caregiver type to configure appropriate permission levels and data access."})]})]})]}),s.jsx(JF,{userId:2,caregiverId:2}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Streak"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"12 days"})]}),s.jsx(Us,{className:"w-8 h-8 text-orange-500"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"})]}),s.jsx($t,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Mood"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"3.8/5"})]}),s.jsx(lt,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:"1"})]}),s.jsx(Jt,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs(E,{className:"bg-blue-600 hover:bg-blue-700 h-12",onClick:()=>{const h={patient:"Alex Johnson (Demo User)",dateGenerated:new Date().toISOString().split("T")[0],streak:"12 days",completionRate:"85%",averageMood:"3.8/5",alerts:"1 active"},u=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),m=URL.createObjectURL(u),f=document.createElement("a");f.href=m,f.download=`medical-report-alex-johnson-${new Date().toISOString().split("T")[0]}.json`,f.click(),URL.revokeObjectURL(m),o({title:"Medical Report Generated",description:"Report has been downloaded successfully"})},children:[s.jsx(pc,{className:"w-4 h-4 mr-2"}),"Generate Medical Report"]}),s.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{r(!0),o({title:"Loading Progress Charts",description:"Displaying user progress visualization"})},children:[s.jsx(Mf,{className:"w-4 h-4 mr-2"}),"View Progress Charts"]}),s.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{a(!0),o({title:"Opening Schedule",description:"Loading appointment scheduling interface"})},children:[s.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Schedule Check-in"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Recent Tasks"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Take medication"}),s.jsx(ue,{className:"bg-green-100 text-green-700",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Wash hair"}),s.jsx(ue,{className:"bg-green-100 text-green-700",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Grocery shopping"}),s.jsx(ue,{className:"bg-yellow-100 text-yellow-700",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Call doctor"}),s.jsx(ue,{className:"bg-gray-100 text-gray-700",children:"Scheduled"})]})]})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Mood Tracking"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Today"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Good"}),s.jsxs("div",{className:"flex",children:[[1,2,3,4].map(h=>s.jsx(lt,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),s.jsx(lt,{className:"w-4 h-4 text-gray-300"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Yesterday"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Okay"}),s.jsxs("div",{className:"flex",children:[[1,2,3].map(h=>s.jsx(lt,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),[4,5].map(h=>s.jsx(lt,{className:"w-4 h-4 text-gray-300"},h))]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Trend:"})," Mood has been stable over the past week with slight improvement"]})})]})})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5 text-amber-500"}),"Alerts & Recommendations"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(Jt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Medication Refill Due"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Sertraline prescription needs refill within 3 days"}),s.jsx(E,{size:"sm",className:"mt-2 bg-amber-600 hover:bg-amber-700",children:"Send Reminder"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx($t,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:"Excellent Progress"}),s.jsx("p",{className:"text-sm text-green-700",children:"User has maintained daily task streak for 12 days"})]})]})]})})]})]})]})]}),s.jsx(et,{open:n,onOpenChange:r,children:s.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Alex Johnson - Progress Charts"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Task Completion Over Time"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((h,u)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:h}),s.jsx("div",{className:`h-20 rounded ${u<5?"bg-green-500":"bg-gray-300"}`}),s.jsx("div",{className:"text-xs mt-1",children:u<5?"100%":"0%"})]},h))})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Mood Trends (Last 7 Days)"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:[4,3,4,5,3,4,4].map((h,u)=>s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Day ",u+1]}),s.jsx("div",{className:"flex justify-center",children:[1,2,3,4,5].map(m=>s.jsx(lt,{className:`w-3 h-3 ${m<=h?"fill-pink-500 text-pink-500":"text-gray-300"}`},m))}),s.jsxs("div",{className:"text-xs mt-1",children:[h,"/5"]})]},u))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Days Streak"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.8"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Mood"})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Done"})]})]})]})]})}),s.jsx(et,{open:i,onOpenChange:a,children:s.jsxs(Ye,{className:"max-w-md",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Schedule Check-in for Alex Johnson"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Check-in Type"}),s.jsxs("select",{className:"w-full border rounded-md p-2",children:[s.jsx("option",{children:"Weekly Progress Review"}),s.jsx("option",{children:"Emergency Check-in"}),s.jsx("option",{children:"Medication Review"}),s.jsx("option",{children:"Goal Setting Session"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date & Time"}),s.jsx("input",{type:"datetime-local",className:"w-full border rounded-md p-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),s.jsx("textarea",{className:"w-full border rounded-md p-2 h-20",placeholder:"Any specific topics to discuss..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{o({title:"Check-in Scheduled",description:"Appointment has been added to calendar"}),a(!1)},children:"Schedule Check-in"}),s.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})})]})}function Gne(){const[e,t]=b.useState(null);b.useState("medical");const[n,r]=b.useState(null),{toast:i}=dt(),{data:a}=xe({queryKey:["/api/user"]}),{data:o}=xe({queryKey:["/api/caregiver-access"],enabled:!!a}),l=[{userId:2,userName:"Alex Johnson",streakDays:12,lastActive:"2025-07-08T10:30:00Z",completionRate:85,moodTrend:"stable",alertsCount:1}],c=l.find(N=>N.userId===e)||l[0];xe({queryKey:["/api/user",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0});const{data:d}=xe({queryKey:["/api/daily-tasks",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0}),{data:h}=xe({queryKey:["/api/mood-entries",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0}),{data:u}=xe({queryKey:["/api/appointments",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0}),{data:m}=xe({queryKey:["/api/medications",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0}),{data:f}=xe({queryKey:["/api/emergency-contacts",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&n===!0}),j=(d==null?void 0:d.filter(N=>N.isCompleted&&lC(new Date(N.lastCompletedAt||N.createdAt),cC(new Date,7))).length)||0,x=(h==null?void 0:h.slice(-7))||[],g=x.length>0?(x.reduce((N,S)=>N+S.mood,0)/x.length).toFixed(1):0,p=(u==null?void 0:u.filter(N=>lC(new Date(N.appointmentDate),new Date)).slice(0,3))||[],y=(m==null?void 0:m.filter(N=>!N.isDiscontinued))||[],v=(m==null?void 0:m.filter(N=>N.pillsRemaining<7&&!N.isDiscontinued))||[],w=Ce({mutationFn:async()=>{const N={patient:c==null?void 0:c.userName,dateRange:`${Lt(cC(new Date,30),"MMM dd, yyyy")} - ${Lt(new Date,"MMM dd, yyyy")}`,moodSummary:{averageMood:g,entries:x.length,trend:c==null?void 0:c.moodTrend},taskCompletion:{weeklyRate:j,totalTasks:(d==null?void 0:d.length)||0,completedTasks:(d==null?void 0:d.filter(S=>S.isCompleted).length)||0},medications:y,upcomingAppointments:p,alerts:(c==null?void 0:c.alertsCount)||0,emergencyContacts:f};return new Promise(S=>setTimeout(()=>S(N),1e3))},onSuccess:()=>{i({title:"Medical Report Generated",description:`Comprehensive medical report for ${c==null?void 0:c.userName} has been created and downloaded.`})}}),C=async()=>{const N=`
MEDICAL SUMMARY - ${c==null?void 0:c.userName}
Generated: ${Lt(new Date,"MMM dd, yyyy HH:mm")}

CURRENT STATUS:
 Mood Average (7 days): ${g}/5.0 (${c==null?void 0:c.moodTrend})
 Task Completion Rate: ${c==null?void 0:c.completionRate}%
 Activity Streak: ${c==null?void 0:c.streakDays} days
 Active Medications: ${y.length}
 Pending Refills: ${v.length}

UPCOMING APPOINTMENTS:
${p.map(S=>` ${Lt(new Date(S.appointmentDate),"MMM dd")} - ${S.title}`).join(`
`)}

ALERTS: ${(c==null?void 0:c.alertsCount)||0} active alerts requiring attention

This summary was generated by Adaptalyfe for medical provider review.
    `;if(navigator.share)try{await navigator.share({title:`Medical Summary - ${c==null?void 0:c.userName}`,text:N})}catch{navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})}else navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})};return b.useEffect(()=>{o!==void 0&&r(o.isCaregiver)},[o]),b.useEffect(()=>{!e&&l.length>0&&t(l[0].userId)},[e,l]),n===null?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Verifying access permissions..."})]})}):n?c?s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 text-sm font-bold",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:"Soft Launch Testing Mode"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You're viewing the professional caregiver dashboard. This demonstrates monitoring tools for caregivers to track user progress."})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(E,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-700",children:"View as User"})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Caregiver Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Monitor progress and generate reports for your care recipients"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(L,{children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-semibold",children:c.userName.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:c.userName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Last active: ",c.lastActive?Lt(new Date(c.lastActive),"MMM dd, HH:mm"):"Unknown"]})]})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Activity Streak"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.streakDays})]}),s.jsx(Ni,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.completionRate,"%"]})]}),s.jsx($t,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(L,{children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Active Alerts"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.alertsCount})]}),s.jsx(Jt,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[s.jsxs(E,{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-sm px-3 py-2 min-h-[44px]",children:[s.jsx(Ff,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"truncate",children:"Share Medical Summary"})]}),s.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[s.jsx(pc,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"truncate",children:w.isPending?"Generating...":"Download Report"})]}),s.jsxs(E,{variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[s.jsx(bs,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"truncate",children:"Emergency Contact"})]})]}),s.jsxs(hn,{defaultValue:"overview",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-2",children:[s.jsxs($e,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"w-4 h-4"}),"Overview & Reports"]}),s.jsxs($e,{value:"security",className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-4 h-4"})," Security Controls"]})]}),s.jsx(Ue,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"w-5 h-5"}),"Recent Activity"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Tasks completed today"}),s.jsx(ue,{variant:"secondary",children:(d==null?void 0:d.filter(N=>{try{return N.isCompleted&&Lt(new Date(N.lastCompletedAt||N.createdAt),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}}).length)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Mood logged today"}),s.jsx(ue,{variant:h!=null&&h.some(N=>{try{return Lt(new Date(N.entryDate),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}})?"default":"destructive",children:h!=null&&h.some(N=>{try{return Lt(new Date(N.entryDate),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}})?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Medications due"}),s.jsx(ue,{variant:v.length>0?"destructive":"default",children:v.length})]})]})})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Upcoming Schedule"]})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-3",children:p.length>0?p.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:N.title}),s.jsx(ue,{variant:"outline",children:N.appointmentDate?Lt(new Date(N.appointmentDate),"MMM dd"):"TBD"})]},N.id)):s.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments"})})})]})]})}),s.jsx(Ue,{value:"security",className:"space-y-4",children:s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5"}),"User Safety & Security Controls"]}),s.jsx(at,{children:"Lock critical settings to ensure user safety and prevent accidental changes"})]}),s.jsx(V,{children:s.jsx(JF,{userId:c.userId,caregiverId:a==null?void 0:a.id})})]})})]})]}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Caregiver Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"No users assigned to your care account."})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(L,{className:"w-full max-w-md",children:s.jsx(V,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Rr,{className:"w-8 h-8 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"This dashboard is only accessible to authorized caregivers."})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(os,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-amber-800",children:[s.jsx("p",{className:"font-medium",children:"Need access?"}),s.jsx("p",{children:"Contact your system administrator to request caregiver permissions."})]})]})}),s.jsx(E,{onClick:()=>window.location.href="/",className:"w-full",variant:"outline",children:"Return to Dashboard"})]})})})})}var eO=["PageUp","PageDown"],tO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ld="Slider",[hb,Kne,Qne]=cx(Ld),[nO,Fhe]=Fn(Ld,[Qne]),[Yne,Lx]=nO(Ld),rO=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:h,onValueChange:u=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:j,...x}=e,g=b.useRef(new Set),p=b.useRef(0),v=o==="horizontal"?Xne:Zne,[w=[],C]=_i({prop:h,defaultProp:d,onChange:P=>{var X;(X=[...g.current][p.current])==null||X.focus(),u(P)}}),N=b.useRef(w);function S(P){const M=nre(w,P);D(P,M)}function k(P){D(P,p.current)}function T(){const P=N.current[p.current];w[p.current]!==P&&m(w)}function D(P,M,{commit:X}={commit:!1}){const ee=ore(a),F=lre(Math.round((P-r)/a)*a+r,ee),re=fh(F,[r,i]);C((fe=[])=>{const H=tre(fe,re,M);if(are(H,c*a)){p.current=H.indexOf(re);const $=String(H)!==String(fe);return $&&X&&m(H),$?H:fe}else return fe})}return s.jsx(Yne,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:p,thumbs:g.current,values:w,orientation:o,form:j,children:s.jsx(hb.Provider,{scope:e.__scopeSlider,children:s.jsx(hb.Slot,{scope:e.__scopeSlider,children:s.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:Fe(x.onPointerDown,()=>{l||(N.current=w)}),min:r,max:i,inverted:f,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&D(r,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,w.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const F=eO.includes(P.key)||P.shiftKey&&tO.includes(P.key)?10:1,re=p.current,fe=w[re],H=a*F*M;D(fe+H,re,{commit:!0})}}})})})})});rO.displayName=Ld;var[iO,aO]=nO(Ld,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xne=b.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,[u,m]=b.useState(null),f=xt(t,v=>m(v)),j=b.useRef(void 0),x=jm(i),g=x==="ltr",p=g&&!a||!g&&a;function y(v){const w=j.current||u.getBoundingClientRect(),C=[0,w.width],S=gN(C,p?[n,r]:[r,n]);return j.current=w,S(v-w.left)}return s.jsx(iO,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:s.jsx(oO,{dir:x,"data-orientation":"horizontal",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const w=y(v.clientX);o==null||o(w)},onSlideMove:v=>{const w=y(v.clientX);l==null||l(w)},onSlideEnd:()=>{j.current=void 0,c==null||c()},onStepKeyDown:v=>{const C=sO[p?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:C?-1:1})}})})}),Zne=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,h=b.useRef(null),u=xt(t,h),m=b.useRef(void 0),f=!i;function j(x){const g=m.current||h.current.getBoundingClientRect(),p=[0,g.height],v=gN(p,f?[r,n]:[n,r]);return m.current=g,v(x-g.top)}return s.jsx(iO,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:s.jsx(oO,{"data-orientation":"vertical",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=j(x.clientY);a==null||a(g)},onSlideMove:x=>{const g=j(x.clientY);o==null||o(g)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const p=sO[f?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:p?-1:1})}})})}),oO=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=Lx(Ld,n);return s.jsx(Ve.span,{...d,ref:t,onKeyDown:Fe(e.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):eO.concat(tO).includes(u.key)&&(c(u),u.preventDefault())}),onPointerDown:Fe(e.onPointerDown,u=>{const m=u.target;m.setPointerCapture(u.pointerId),u.preventDefault(),h.thumbs.has(m)?m.focus():r(u)}),onPointerMove:Fe(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Fe(e.onPointerUp,u=>{const m=u.target;m.hasPointerCapture(u.pointerId)&&(m.releasePointerCapture(u.pointerId),a(u))})})}),lO="SliderTrack",cO=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Lx(lO,n);return s.jsx(Ve.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});cO.displayName=lO;var mb="SliderRange",dO=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Lx(mb,n),a=aO(mb,n),o=b.useRef(null),l=xt(t,o),c=i.values.length,d=i.values.map(m=>hO(m,i.min,i.max)),h=c>1?Math.min(...d):0,u=100-Math.max(...d);return s.jsx(Ve.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:u+"%"}})});dO.displayName=mb;var pb="SliderThumb",uO=b.forwardRef((e,t)=>{const n=Kne(e.__scopeSlider),[r,i]=b.useState(null),a=xt(t,l=>i(l)),o=b.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(Jne,{...e,ref:a,index:o})}),Jne=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,o=Lx(pb,n),l=aO(pb,n),[c,d]=b.useState(null),h=xt(t,y=>d(y)),u=c?o.form||!!c.closest("form"):!0,m=sx(c),f=o.values[r],j=f===void 0?0:hO(f,o.min,o.max),x=sre(r,o.values.length),g=m==null?void 0:m[l.size],p=g?rre(g,j,l.direction):0;return b.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${p}px)`},children:[s.jsx(hb.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ve.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:f===void 0?{display:"none"}:e.style,onFocus:Fe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&s.jsx(ere,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});uO.displayName=pb;var ere=e=>{const{value:t,...n}=e,r=b.useRef(null),i=Tx(t);return b.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&c){const d=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[i,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function tre(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function hO(e,t,n){const a=100/(n-t)*(e-t);return fh(a,[0,100])}function sre(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nre(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function rre(e,t,n){const r=e/2,a=gN([0,50],[0,r]);return(r-a(t)*n)*n}function ire(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function are(e,t){if(t>0){const n=ire(e);return Math.min(...n)>=t}return!0}function gN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ore(e){return(String(e).split(".")[1]||"").length}function lre(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var mO=rO,cre=cO,dre=dO,ure=uO;const fb=b.forwardRef(({className:e,...t},n)=>s.jsxs(mO,{ref:n,className:Oe("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(cre,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(dre,{className:"absolute h-full bg-primary"})}),s.jsx(ure,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fb.displayName=mO.displayName;function hre(){const{toast:e}=dt(),[t,n]=b.useState({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0});xe({queryKey:["/api/user"]});const r={locationTracking:{isLocked:!0,lockedBy:"Mom (Primary Caregiver)",reason:"Safety - Elopement Risk"},emergencyAlerts:{isLocked:!0,lockedBy:"Dr. Sarah Johnson",reason:"Medical Supervision Required"},caregiverAccess:{isLocked:!1,lockedBy:"",reason:""},medicalDataSharing:{isLocked:!0,lockedBy:"Case Manager",reason:"Treatment Coordination"},automaticCheckIns:{isLocked:!1,lockedBy:"",reason:""}},i=()=>{localStorage.setItem("user-settings",JSON.stringify(t)),e({title:"Settings Saved",description:"Your preferences have been saved successfully."})},a=()=>{n({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0}),e({title:"Settings Reset",description:"All settings have been reset to defaults."})},o=(c,d)=>{var h,u;if((h=r[c])!=null&&h.isLocked){e({title:"Setting Locked",description:`This setting has been locked by ${(u=r[c])==null?void 0:u.lockedBy} for your safety and wellbeing.`,variant:"destructive"});return}n(m=>({...m,[c]:d}))},l=(c,d,h,u,m)=>{const f=r[c],j=f==null?void 0:f.isLocked;return s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${u&&!j?"bg-white border-green-400 shadow-md":j?"bg-gray-100 border-gray-400 opacity-75":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:c,className:"flex items-center gap-2",children:[h,d,u&&!j&&s.jsx(ue,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"}),j&&s.jsx(X5,{children:s.jsxs(Oz,{children:[s.jsx(Lz,{children:s.jsxs(ue,{variant:"secondary",className:"ml-2 text-xs",children:[s.jsx(Rr,{className:"w-3 h-3 mr-1"}),"LOCKED"]})}),s.jsx(Z5,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-semibold",children:["Locked by: ",f==null?void 0:f.lockedBy]}),s.jsx("div",{className:"text-muted-foreground",children:f==null?void 0:f.reason})]})})]})})]}),s.jsx(Ls,{id:c,checked:u,onCheckedChange:m,disabled:j,className:`scale-125 ${j?"opacity-60 cursor-not-allowed bg-gray-400":u?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]})};return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[s.jsx(mo,{className:"w-8 h-8 text-purple-600"}),"Settings & Customization"]}),s.jsx("p",{className:"text-gray-600",children:"Personalize your AdaptaLyfe experience with accessibility options, themes, and feature preferences."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ND,{className:"w-5 h-5 text-blue-600"}),"Appearance"]}),s.jsx(at,{children:"Customize the look and feel of your dashboard"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"theme",children:"Theme"}),s.jsxs(Ge,{value:t.theme,onValueChange:c=>o("theme",c),children:[s.jsx(He,{children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"light",children:"Light"}),s.jsx(B,{value:"dark",children:"Dark"}),s.jsx(B,{value:"auto",children:"Auto"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{children:["Font Size: ",t.fontSize,"px"]}),s.jsx(fb,{value:[t.fontSize],onValueChange:c=>o("fontSize",c[0]),min:12,max:24,step:1,className:"w-full"})]}),s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.highContrast?"bg-yellow-100 border-yellow-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"high-contrast",className:"flex items-center gap-2",children:[s.jsx(gm,{className:`w-4 h-4 ${t.highContrast?"text-yellow-600":"text-gray-400"}`}),"High Contrast Mode",t.highContrast&&s.jsx(ue,{variant:"secondary",className:"bg-yellow-200 text-yellow-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"high-contrast",checked:t.highContrast,onCheckedChange:c=>o("highContrast",c),className:`scale-125 ${t.highContrast?"data-[state=checked]:bg-yellow-600 shadow-lg shadow-yellow-200":"bg-gray-300 opacity-60"}`})]})]})]}),s.jsxs(L,{className:"border-red-200 bg-red-50",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-red-600"}),"Safety & Emergency Settings"]}),s.jsx(at,{children:"Critical safety features managed by your care team"})]}),s.jsxs(V,{className:"space-y-6",children:[l("locationTracking","Location Tracking",s.jsx(Zs,{className:"w-4 h-4 text-red-500"}),t.locationTracking,()=>o("locationTracking",!t.locationTracking)),l("emergencyAlerts","Emergency Alerts",s.jsx(Jt,{className:"w-4 h-4 text-red-500"}),t.emergencyAlerts,()=>o("emergencyAlerts",!t.emergencyAlerts)),l("automaticCheckIns","Automatic Check-ins",s.jsx(lt,{className:"w-4 h-4 text-red-500"}),t.automaticCheckIns,()=>o("automaticCheckIns",!t.automaticCheckIns))]})]}),s.jsxs(L,{className:"border-purple-200 bg-purple-50",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-purple-600"}),"Privacy & Caregiver Access"]}),s.jsx(at,{children:"Control what information caregivers can access"})]}),s.jsxs(V,{className:"space-y-6",children:[l("medicalDataSharing","Medical Data Sharing",s.jsx(lt,{className:"w-4 h-4 text-purple-500"}),t.medicalDataSharing,()=>o("medicalDataSharing",!t.medicalDataSharing)),l("caregiverAccess","Caregiver Dashboard Access",s.jsx(bs,{className:"w-4 h-4 text-purple-500"}),t.caregiverAccess,()=>o("caregiverAccess",!t.caregiverAccess)),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ha,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Why are some settings locked?"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Your caregivers have locked certain safety-critical settings to ensure your wellbeing. This is especially important for individuals who may be at risk of wandering or have medical conditions requiring supervision."})]})]})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(dl,{className:"w-5 h-5 text-green-600"}),"Voice & Audio"]}),s.jsx(at,{children:"Configure speech and audio preferences"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.voiceEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"voice-enabled",className:"flex items-center gap-2",children:[s.jsx(dl,{className:`w-4 h-4 ${t.voiceEnabled?"text-green-600":"text-gray-400"}`}),"Enable Voice Commands",t.voiceEnabled&&s.jsx(ue,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"voice-enabled",checked:t.voiceEnabled,onCheckedChange:c=>o("voiceEnabled",c),className:`scale-125 ${t.voiceEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{children:["Voice Speed: ",t.voiceSpeed,"x"]}),s.jsx(fb,{value:[t.voiceSpeed],onValueChange:c=>o("voiceSpeed",c[0]),min:.5,max:2,step:.1,className:"w-full"})]}),s.jsx(E,{onClick:()=>{if("speechSynthesis"in window){const c=new SpeechSynthesisUtterance("This is a test of the voice settings at the current speed.");c.rate=t.voiceSpeed,speechSynthesis.speak(c)}},variant:"outline",className:"w-full",children:"Test Voice Settings"})]})]}),s.jsxs(L,{className:"border-orange-200 bg-orange-50",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(M0,{className:"w-5 h-5 text-orange-600"}),"Notifications"]}),s.jsx(at,{children:"Manage alerts and reminders"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.notificationsEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"notifications",className:"flex items-center gap-2",children:[s.jsx(M0,{className:`w-4 h-4 ${t.notificationsEnabled?"text-green-600":"text-gray-400"}`}),"Enable Notifications",t.notificationsEnabled&&s.jsx(ue,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"notifications",checked:t.notificationsEnabled,onCheckedChange:c=>o("notificationsEnabled",c),className:`scale-125 ${t.notificationsEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"reminder-timing",children:"Default Reminder Time"}),s.jsxs(Ge,{value:t.reminderTiming,onValueChange:c=>o("reminderTiming",c),children:[s.jsx(He,{children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsx(B,{value:"5",children:"5 minutes before"}),s.jsx(B,{value:"15",children:"15 minutes before"}),s.jsx(B,{value:"30",children:"30 minutes before"}),s.jsx(B,{value:"60",children:"1 hour before"})]})]})]})]})]}),s.jsxs(L,{className:"border-indigo-200 bg-indigo-50",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5 text-indigo-600"}),"Features"]}),s.jsx(at,{children:"Enable or disable specific features"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.quickActionsEnabled?"bg-blue-100 border-blue-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"quick-actions",className:"flex items-center gap-2",children:[s.jsx(ca,{className:`w-4 h-4 ${t.quickActionsEnabled?"text-blue-600":"text-gray-400"}`}),"Quick Actions Bar",t.quickActionsEnabled&&s.jsx(ue,{variant:"secondary",className:"bg-blue-200 text-blue-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"quick-actions",checked:t.quickActionsEnabled,onCheckedChange:c=>o("quickActionsEnabled",c),className:`scale-125 ${t.quickActionsEnabled?"data-[state=checked]:bg-blue-600 shadow-lg shadow-blue-200":"bg-gray-300 opacity-60"}`})]}),s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.premiumFeatures?"bg-purple-100 border-purple-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"premium-features",className:"flex items-center gap-2",children:[s.jsx(qt,{className:`w-4 h-4 ${t.premiumFeatures?"text-purple-600":"text-gray-400"}`}),"Premium Features",t.premiumFeatures&&s.jsx(ue,{variant:"secondary",className:"bg-purple-200 text-purple-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"premium-features",checked:t.premiumFeatures,onCheckedChange:c=>o("premiumFeatures",c),className:`scale-125 ${t.premiumFeatures?"data-[state=checked]:bg-purple-600 shadow-lg shadow-purple-200":"bg-gray-300 opacity-60"}`})]}),s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.autoSave?"bg-emerald-100 border-emerald-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"auto-save",className:"flex items-center gap-2",children:[s.jsx(CS,{className:`w-4 h-4 ${t.autoSave?"text-emerald-600":"text-gray-400"}`}),"Auto-save Changes",t.autoSave&&s.jsx(ue,{variant:"secondary",className:"bg-emerald-200 text-emerald-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"auto-save",checked:t.autoSave,onCheckedChange:c=>o("autoSave",c),className:`scale-125 ${t.autoSave?"data-[state=checked]:bg-emerald-600 shadow-lg shadow-emerald-200":"bg-gray-300 opacity-60"}`})]})]})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-red-600"}),"Privacy & Security"]}),s.jsx(at,{children:"Control your privacy and data settings"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.privacyMode?"bg-red-100 border-red-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[s.jsxs(de,{htmlFor:"privacy-mode",className:"flex items-center gap-2",children:[s.jsx(os,{className:`w-4 h-4 ${t.privacyMode?"text-red-600":"text-gray-400"}`}),"Privacy Mode",t.privacyMode&&s.jsx(ue,{variant:"secondary",className:"bg-red-200 text-red-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),s.jsx(Ls,{id:"privacy-mode",checked:t.privacyMode,onCheckedChange:c=>o("privacyMode",c),className:`scale-125 ${t.privacyMode?"data-[state=checked]:bg-red-600 shadow-lg shadow-red-200":"bg-gray-300 opacity-60"}`})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Privacy mode hides sensitive information in screenshots and when screen sharing."}),s.jsxs(E,{variant:"outline",className:"w-full",children:[s.jsx(os,{className:"w-4 h-4 mr-2"}),"View Privacy Policy"]})]})]}),s.jsxs(L,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Ha,{className:"w-5 h-5 text-purple-600"}),"Help & Support"]}),s.jsx(at,{children:"Get help and learn about features"})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ha,{className:"w-4 h-4 mr-2"}),"View User Guide"]}),s.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[s.jsx(dl,{className:"w-4 h-4 mr-2"}),"Accessibility Tutorial"]}),s.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[s.jsx(qt,{className:"w-4 h-4 mr-2"}),"Feature Walkthrough"]})]})]})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsxs(E,{onClick:a,variant:"outline",className:"flex items-center gap-2",children:[s.jsx(CD,{className:"w-4 h-4"}),"Reset to Defaults"]}),s.jsxs(E,{onClick:i,className:"flex items-center gap-2",children:[s.jsx(CS,{className:"w-4 h-4"}),"Save Settings"]})]})]})}function mre(){const{isPremiumUser:e}=Fi();if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(pa,{title:"Calendar & Scheduling",description:"View and manage all your appointments, tasks, and events in one integrated calendar. Subscribe to continue using Adaptalyfe's scheduling features.",feature:"calendar",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[t,n]=b.useState(new Date("2025-07-08")),[r,i]=b.useState("month"),[a,o]=b.useState(!1),[l,c]=b.useState({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15}),d=Yt(),{data:h=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:u=[]}=xe({queryKey:["/api/bills"]}),{data:m=[]}=xe({queryKey:["/api/appointments"]}),{data:f=[]}=xe({queryKey:["/api/mood-entries"]}),{data:j=[]}=xe({queryKey:["/api/calendar-events"]}),x=Ce({mutationFn:async S=>{let k;if(l.allDay)k=`${S.startDate}T00:00:00`;else{const P=S.startTime||"12:00";k=`${S.startDate}T${P}:00`}let T=null;S.endDate&&S.endTime&&(T=`${S.endDate}T${S.endTime}:00`);const D={title:S.title,description:S.description||"",startDate:k,endDate:T,allDay:S.allDay,category:S.category,color:S.color,location:S.location||"",reminderMinutes:S.reminderMinutes||15};return console.log("Creating calendar event with payload:",D),ye("POST","/api/calendar-events",D)},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/calendar-events"]}),o(!1),c({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15})}}),g=S=>{const k=new Date(t);r==="month"?k.setMonth(k.getMonth()+(S==="next"?1:-1)):r==="week"?k.setDate(k.getDate()+(S==="next"?7:-7)):k.setDate(k.getDate()+(S==="next"?1:-1)),n(k)},p=()=>{!l.title.trim()||!l.startDate||x.mutate(l)},y=S=>{const k=S.toISOString().split("T")[0],T=[];j.forEach(M=>{if(M.startDate.split("T")[0]===k){let ee=null;M.allDay||(ee=new Date(M.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),T.push({id:`event-${M.id}`,type:"event",title:M.title,time:ee,completed:M.isCompleted,category:M.category,icon:Ht,color:M.isCompleted?"text-green-600":"text-blue-600",location:M.location})}}),h.forEach(M=>{(M.frequency==="daily"||!M.frequency)&&T.push({id:`task-${M.id}`,type:"task",title:M.title,time:null,completed:M.isCompleted,category:M.category||"daily",icon:M.isCompleted?$t:mc,color:M.isCompleted?"text-green-600":"text-blue-600"})}),h.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`scheduled-task-${M.id}`,type:"task",title:M.title,time:M.dueDate?new Date(M.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,completed:M.isCompleted,category:M.frequency||"scheduled",icon:M.isCompleted?$t:Jt,color:M.isCompleted?"text-green-600":"text-orange-600"})}),u.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`bill-${M.id}`,type:"bill",title:`${M.name} - $${M.amount}`,time:null,completed:M.isPaid,category:"financial",icon:Pi,color:M.isPaid?"text-green-600":"text-red-600"})}),m.filter(M=>new Date(M.appointmentDate).toISOString().split("T")[0]===k).forEach(M=>{T.push({id:`appointment-${M.id}`,type:"appointment",title:M.title,time:new Date(M.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),completed:M.isCompleted,category:M.provider||"appointment",icon:Ht,color:M.isCompleted?"text-green-600":"text-purple-600"})});const P=f.find(M=>M.entryDate?new Date(M.entryDate).toISOString().split("T")[0]===k:!1);if(P){const M=["","","","",""];T.push({id:`mood-${P.id}`,type:"mood",title:`Mood: ${M[P.mood-1]}`,time:null,completed:!0,category:"wellness",icon:lt,color:"text-pink-600"})}return T.sort((M,X)=>{const ee=M.time||"",F=X.time||"";return typeof ee=="string"&&typeof F=="string"?ee.localeCompare(F):ee&&!F?-1:!ee&&F?1:0})},v=()=>{const S=new Date(t.getFullYear(),t.getMonth(),1);new Date(t.getFullYear(),t.getMonth()+1,0);const k=new Date(S);k.setDate(k.getDate()-S.getDay());const T=[],D=new Date(k);for(let P=0;P<42;P++){const M=y(D),X=D.getMonth()===t.getMonth(),ee=D.toDateString()===new Date().toDateString(),F=new Date(D);T.push(s.jsxs("div",{className:`min-h-36 p-3 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${X?"bg-white":"bg-gray-50"} ${ee?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>{n(F),i("day")},title:`Click to view ${M.length} events for ${F.toLocaleDateString()}`,children:[s.jsx("div",{className:`text-lg font-bold mb-3 ${X?"text-gray-900":"text-gray-400"} ${ee?"text-blue-700":""}`,children:D.getDate()}),s.jsxs("div",{className:"space-y-1.5",children:[M.slice(0,3).map(re=>s.jsxs("div",{onClick:fe=>{fe.stopPropagation(),re.type==="event"&&(n(F),i("day"))},className:`text-xs px-2 py-1 rounded-md font-medium cursor-pointer hover:shadow-sm transition-all duration-200 border-l-2 ${re.type==="task"?"bg-blue-50 text-blue-800 border-blue-400 hover:bg-blue-100":re.type==="bill"?"bg-red-50 text-red-800 border-red-400 hover:bg-red-100":re.type==="appointment"?"bg-purple-50 text-purple-800 border-purple-400 hover:bg-purple-100":re.type==="event"?"bg-indigo-50 text-indigo-800 border-indigo-400 hover:bg-indigo-100":"bg-pink-50 text-pink-800 border-pink-400 hover:bg-pink-100"}`,title:`${re.title}${re.time?` at ${re.time}`:""}${re.location?` - ${re.location}`:""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"truncate flex-1",children:re.title}),re.time&&s.jsx("div",{className:"ml-1 text-xs opacity-70 font-normal",children:re.time})]}),re.completed&&s.jsx("div",{className:"text-xs opacity-60 mt-0.5",children:" Completed"})]},re.id)),M.length>3&&s.jsxs("div",{className:"text-xs text-gray-500 font-semibold bg-gray-100 px-2 py-1 rounded-md text-center",children:["+",M.length-3," more events"]})]})]},P)),D.setDate(D.getDate()+1)}return s.jsxs("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>s.jsx("div",{className:"bg-gray-100 p-3 text-center font-semibold text-gray-700 border-b border-gray-200",children:P},P)),T]})},w=()=>{const S=new Date(t);S.setDate(t.getDate()-t.getDay());const k=[];for(let T=0;T<7;T++){const D=new Date(S);D.setDate(S.getDate()+T),k.push(D)}return s.jsxs("div",{className:"bg-white rounded-lg border max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:["Week of ",S.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[S.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",(()=>{const T=new Date(S);return T.setDate(S.getDate()+6),T.toLocaleDateString("en-US",{month:"short",day:"numeric"})})()]})]}),s.jsx("div",{className:"space-y-1",children:k.map(T=>{const D=y(T),P=T.toDateString()===new Date().toDateString();return s.jsx("div",{className:`border-b last:border-b-0 ${P?"bg-blue-50":"hover:bg-gray-50"} transition-colors`,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`text-center ${P?"text-blue-700":"text-gray-900"}`,children:[s.jsx("div",{className:"text-2xl font-bold",children:T.getDate()}),s.jsx("div",{className:"text-xs font-medium",children:T.toLocaleDateString("en-US",{month:"short"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-lg font-bold ${P?"text-blue-700":"text-gray-900"}`,children:T.toLocaleDateString("en-US",{weekday:"long"})}),s.jsxs("div",{className:"text-sm text-gray-500",children:[D.length," ",D.length===1?"event":"events"," scheduled"]})]})]}),P&&s.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Today"})]}),D.length>0?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:D.map(M=>s.jsxs("div",{onClick:()=>{M.type==="event"&&(n(T),i("day"))},className:`p-4 rounded-lg text-white font-medium cursor-pointer hover:opacity-90 transition-all hover:scale-105 shadow-sm border-l-4 ${M.type==="task"?"bg-blue-600 border-blue-400":M.type==="bill"?"bg-red-600 border-red-400":M.type==="appointment"?"bg-purple-600 border-purple-400":M.type==="event"?"bg-indigo-600 border-indigo-400":"bg-pink-600 border-pink-400"}`,title:`${M.title}${M.time?` at ${M.time}`:""}${M.location?` - ${M.location}`:""}`,children:[s.jsx("div",{className:"font-bold mb-2 leading-tight",children:M.title}),s.jsxs("div",{className:"space-y-1",children:[M.time&&s.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[s.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:M.time})]}),M.location&&s.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[s.jsx(Zs,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:M.location})]})]}),s.jsx("div",{className:"text-xs opacity-75 mt-2 capitalize",children:M.type==="task"?"Daily Task":M.type==="bill"?"Bill Due":M.type==="appointment"?"Appointment":M.type==="event"?"Event":"Other"})]},M.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("div",{className:"text-sm font-medium",children:"No events scheduled"}),s.jsx("div",{className:"text-xs mt-1",children:"Free day to relax!"})]})]})},T.toISOString())})})]})},C=()=>{const S=y(t),k=t.toDateString()===new Date().toDateString();return s.jsxs(L,{className:k?"ring-2 ring-blue-500":"",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),s.jsx(V,{className:"space-y-4",children:S.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No events scheduled for this day"}):S.map(T=>s.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsx(T.icon,{className:`w-5 h-5 ${T.color}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:T.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.time&&s.jsxs(ue,{variant:"outline",className:"text-xs",children:[s.jsx(ws,{className:"w-3 h-3 mr-1"}),T.time]}),s.jsx(ue,{variant:"secondary",className:"text-xs",children:T.category}),T.completed&&s.jsx(ue,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})]},T.id))})]})},N=()=>{if(r==="month")return t.toLocaleDateString("en-US",{year:"numeric",month:"long"});if(r==="week"){const S=new Date(t);S.setDate(t.getDate()-t.getDay());const k=new Date(S);return k.setDate(S.getDate()+6),`${S.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Ht,{className:"w-8 h-8 text-blue-600"}),"Calendar"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(et,{open:a,onOpenChange:o,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Event"]})}),s.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Event"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{placeholder:"Event title",value:l.title,onChange:S=>c({...l,title:S.target.value})}),s.jsx(ot,{placeholder:"Description (optional)",value:l.description,onChange:S=>c({...l,description:S.target.value})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),s.jsx(q,{type:"date",value:l.startDate,onChange:S=>c({...l,startDate:S.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),s.jsx(q,{type:"time",disabled:l.allDay,value:l.startTime,onChange:S=>c({...l,startTime:S.target.value})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ci,{checked:l.allDay,onCheckedChange:S=>c({...l,allDay:!!S})}),s.jsx("label",{className:"text-sm font-medium",children:"All Day Event"})]}),s.jsxs(Ge,{value:l.category,onValueChange:S=>c({...l,category:S}),children:[s.jsx(He,{children:s.jsx(Ke,{placeholder:"Category"})}),s.jsxs(We,{children:[s.jsx(B,{value:"personal",children:"Personal"}),s.jsx(B,{value:"work",children:"Work"}),s.jsx(B,{value:"health",children:"Health"}),s.jsx(B,{value:"social",children:"Social"}),s.jsx(B,{value:"education",children:"Education"})]})]}),s.jsx(q,{placeholder:"Location (optional)",value:l.location,onChange:S=>c({...l,location:S.target.value})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:p,disabled:x.isPending,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:x.isPending?"Creating...":"Create Event"}),s.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),s.jsx(E,{onClick:()=>n(new Date),variant:"outline",children:"Today"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{onClick:()=>g("prev"),variant:"outline",size:"sm",children:s.jsx(p9,{className:"w-4 h-4"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:N()}),s.jsx(E,{onClick:()=>g("next"),variant:"outline",size:"sm",children:s.jsx(f9,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"flex gap-1 border border-gray-300 rounded-lg overflow-hidden min-w-fit",children:[s.jsx("button",{onClick:()=>i("month"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="month"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Month"}),s.jsx("button",{onClick:()=>i("week"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap border-l border-r border-gray-300 transition-all ${r==="week"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Week"}),s.jsx("button",{onClick:()=>i("day"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="day"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Day"})]})})]}),s.jsxs("div",{className:"mb-6",children:[r==="month"&&v(),r==="week"&&w(),r==="day"&&C()]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{className:"text-lg",children:"Legend"})}),s.jsx(V,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mc,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Daily Tasks"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:"Bills"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Appointments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"w-4 h-4 text-pink-600"}),s.jsx("span",{className:"text-sm",children:"Mood Check-ins"})]})]})})]})]})}function pre(){const[e,t]=b.useState("all"),n=[{id:"smart-notifications",title:"Smart Notifications",description:"Intelligent reminder system with priority levels and customizable scheduling",icon:M0,status:"integrated",category:"core"},{id:"achievement-system",title:"Achievement System",description:"Gamification features with points, levels, and progress tracking",icon:qt,status:"integrated",category:"motivation"},{id:"voice-commands",title:"Voice Commands",description:"Hands-free navigation and task management with speech recognition",icon:dl,status:"integrated",category:"accessibility"},{id:"dashboard-insights",title:"Dashboard Insights",description:"AI-powered personalized recommendations and behavior analysis",icon:ca,status:"integrated",category:"ai"},{id:"enhanced-communication",title:"Enhanced Communication",description:"Improved messaging with emoji reactions and quick responses",icon:Ha,status:"integrated",category:"communication"},{id:"personalization-engine",title:"Personalization Engine",description:"Adaptive UI themes and AI-powered customization based on usage patterns",icon:mo,status:"integrated",category:"customization"},{id:"ai-coach",title:"AI Life Skills Coach",description:"Personalized guidance and real-time support for daily challenges",icon:mr,status:"premium",category:"ai"},{id:"progress-photos",title:"Visual Progress Journals",description:"Photo documentation of achievements and daily accomplishments",icon:ah,status:"premium",category:"tracking"},{id:"advanced-analytics",title:"Advanced Analytics & Insights",description:"Detailed progress reports and behavioral pattern analysis",icon:ow,status:"premium",category:"analytics"},{id:"skill-challenges",title:"Interactive Skill Challenges",description:"Gamified learning experiences with custom difficulty levels",icon:Us,status:"premium",category:"learning"},{id:"smart-reminders",title:"Smart Location-Based Reminders",description:"GPS-triggered alerts for medications, tasks, and appointments",icon:Rf,status:"premium",category:"location"},{id:"offline-mode",title:"Offline Mode & Sync",description:"Full app functionality without internet, auto-sync when connected",icon:ol,status:"premium",category:"reliability"},{id:"custom-templates",title:"Custom Task Templates",description:"Create and share personalized task sequences and routines",icon:Hr,status:"premium",category:"customization"},{id:"health-integration",title:"Health Data Integration",description:"Connect with Apple Health, Google Fit, and medical devices",icon:lt,status:"premium",category:"health"}],r=[{id:"all",name:"All Features",count:n.length},{id:"core",name:"Core Features",count:n.filter(c=>c.category==="core").length},{id:"ai",name:"AI Enhanced",count:n.filter(c=>c.category==="ai").length},{id:"accessibility",name:"Accessibility",count:n.filter(c=>c.category==="accessibility").length},{id:"motivation",name:"Motivation",count:n.filter(c=>c.category==="motivation").length},{id:"communication",name:"Communication",count:n.filter(c=>c.category==="communication").length},{id:"customization",name:"Customization",count:n.filter(c=>c.category==="customization").length},{id:"tracking",name:"Progress Tracking",count:n.filter(c=>c.category==="tracking").length},{id:"learning",name:"Learning",count:n.filter(c=>c.category==="learning").length},{id:"health",name:"Health & Wellness",count:n.filter(c=>c.category==="health").length}],i=e==="all"?n:n.filter(c=>c.category===e),a=c=>{switch(c){case"integrated":return"text-green-600 bg-green-100 border-green-300";case"premium":return"text-purple-600 bg-purple-100 border-purple-300";case"coming-soon":return"text-blue-600 bg-blue-100 border-blue-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},o=c=>{switch(c){case"integrated":return s.jsx(oh,{className:"w-3 h-3"});case"premium":return s.jsx(Rr,{className:"w-3 h-3"});case"coming-soon":return s.jsx(dd,{className:"w-3 h-3"});default:return null}},l=c=>{switch(c){case"integrated":return"Available Now";case"premium":return"Premium Feature";case"coming-soon":return"Coming Soon";default:return"Unknown"}};return s.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Adaptalyfe Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover all the tools and features available to help you achieve independence and build life skills"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(c=>s.jsxs(E,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"text-sm",children:[c.name,s.jsx(ue,{variant:"secondary",className:"ml-2 text-xs",children:c.count})]},c.id))})}),s.jsx("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(c=>{const d=c.icon;return s.jsxs(L,{className:"h-full hover:shadow-lg transition-shadow",children:[s.jsxs(le,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(d,{className:"w-5 h-5 text-blue-600"})}),s.jsx(ue,{variant:"outline",className:`text-xs font-medium px-2 py-1 ${a(c.status)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[o(c.status),l(c.status)]})})]}),s.jsx(ce,{className:"text-lg",children:c.title})]}),s.jsxs(V,{children:[s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:c.description}),c.status==="premium"&&s.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:s.jsx("p",{className:"text-xs text-purple-700",children:"Upgrade to Premium to unlock this feature and gain access to advanced tools designed to enhance your independence journey."})})]})]},c.id)})}),i.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No features found in this category."})}),s.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[s.jsxs(L,{className:"border-green-200 bg-green-50",children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-green-800 flex items-center gap-2",children:[s.jsx(oh,{className:"w-5 h-5"}),"Available Now"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:n.filter(c=>c.status==="integrated").length}),s.jsx("p",{className:"text-sm text-green-600",children:"Features ready to use"})]})]}),s.jsxs(L,{className:"border-purple-200 bg-purple-50",children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-purple-800 flex items-center gap-2",children:[s.jsx(Rr,{className:"w-5 h-5"}),"Premium Features"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:n.filter(c=>c.status==="premium").length}),s.jsx("p",{className:"text-sm text-purple-600",children:"Advanced capabilities available"})]})]}),s.jsxs(L,{className:"border-blue-200 bg-blue-50",children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-blue-800 flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5"}),"Total Features"]})}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:n.length}),s.jsx("p",{className:"text-sm text-blue-600",children:"Tools to support your journey"})]})]})]})]})}var pO={exports:{}},fre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gre=fre,xre=gre;function fO(){}function gO(){}gO.resetWarningCache=fO;var yre=function(){function e(r,i,a,o,l,c){if(c!==xre){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gO,resetWarningCache:fO};return n.PropTypes=n,n};pO.exports=yre();var vre=pO.exports;const ns=Mi(vre);function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){xO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qp=function(t){return typeof t}:Qp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function xO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bre(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jre(e,t){if(e==null)return{};var n=bre(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yO(e,t){return wre(e)||Nre(e,t)||Sre(e,t)||Cre()}function wre(e){if(Array.isArray(e))return e}function Nre(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Sre(e,t){if(e){if(typeof e=="string")return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(e,t)}}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ln=function(t,n,r){var i=!!r,a=me.useRef(r);me.useEffect(function(){a.current=r},[r]),me.useEffect(function(){if(!i||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,a])},gb=function(t){var n=me.useRef(t);return me.useEffect(function(){n.current=t},[t]),n.current},jd=function(t){return t!==null&&Qp(t)==="object"},kre=function(t){return jd(t)&&typeof t.then=="function"},_re=function(t){return jd(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},vC="[object Object]",Tre=function e(t,n){if(!jd(t)||!jd(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(t)===vC,o=Object.prototype.toString.call(n)===vC;if(a!==o)return!1;if(!a&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var d={},h=0;h<l.length;h+=1)d[l[h]]=!0;for(var u=0;u<c.length;u+=1)d[c[u]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var f=t,j=n,x=function(p){return e(f[p],j[p])};return m.every(x)},vO=function(t,n,r){return jd(t)?Object.keys(t).reduce(function(i,a){var o=!jd(n)||!Tre(t[a],n[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?xC(xC({},i||{}),{},xO({},a,t[a])):i},null):null},bO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",bC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bO;if(t===null||_re(t))return t;throw new Error(n)},Pre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bO;if(kre(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return bC(i,n)})};var r=bC(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ere=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},$x=me.createContext(null);$x.displayName="ElementsContext";var jO=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},wO=function(t){var n=t.stripe,r=t.options,i=t.children,a=me.useMemo(function(){return Pre(n)},[n]),o=me.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=yO(o,2),c=l[0],d=l[1];me.useEffect(function(){var m=!0,f=function(x){d(function(g){return g.stripe?g:{stripe:x,elements:x.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(j){j&&m&&f(j)}):a.tag==="sync"&&!c.stripe&&f(a.stripe),function(){m=!1}},[a,c,r]);var h=gb(n);me.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var u=gb(r);return me.useEffect(function(){if(c.elements){var m=vO(r,u,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,u,c.elements]),me.useEffect(function(){Ere(c.stripe)},[c.stripe]),me.createElement($x.Provider,{value:c},i)};wO.propTypes={stripe:ns.any,options:ns.object};var Are=function(t){var n=me.useContext($x);return jO(n,t)},Dre=function(){var t=Are("calls useElements()"),n=t.elements;return n};ns.func.isRequired;var NO=me.createContext(null);NO.displayName="CheckoutSdkContext";var Mre=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},Ire=me.createContext(null);Ire.displayName="CheckoutContext";ns.any,ns.shape({fetchClientSecret:ns.func.isRequired,elementsOptions:ns.object}).isRequired;var xb=function(t){var n=me.useContext(NO),r=me.useContext($x);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?Mre(n,t):jO(r,t)},Rre=["mode"],Fre=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ss=function(t,n){var r="".concat(Fre(t),"Element"),i=function(c){var d=c.id,h=c.className,u=c.options,m=u===void 0?{}:u,f=c.onBlur,j=c.onFocus,x=c.onReady,g=c.onChange,p=c.onEscape,y=c.onClick,v=c.onLoadError,w=c.onLoaderStart,C=c.onNetworksChange,N=c.onConfirm,S=c.onCancel,k=c.onShippingAddressChange,T=c.onShippingRateChange,D=xb("mounts <".concat(r,">")),P="elements"in D?D.elements:null,M="checkoutSdk"in D?D.checkoutSdk:null,X=me.useState(null),ee=yO(X,2),F=ee[0],re=ee[1],fe=me.useRef(null),H=me.useRef(null);Ln(F,"blur",f),Ln(F,"focus",j),Ln(F,"escape",p),Ln(F,"click",y),Ln(F,"loaderror",v),Ln(F,"loaderstart",w),Ln(F,"networkschange",C),Ln(F,"confirm",N),Ln(F,"cancel",S),Ln(F,"shippingaddresschange",k),Ln(F,"shippingratechange",T),Ln(F,"change",g);var $;x&&(t==="expressCheckout"?$=x:$=function(){x(F)}),Ln(F,"ready",$),me.useLayoutEffect(function(){if(fe.current===null&&H.current!==null&&(P||M)){var be=null;if(M)switch(t){case"payment":be=M.createPaymentElement(m);break;case"address":if("mode"in m){var st=m.mode,_t=jre(m,Rre);if(st==="shipping")be=M.createShippingAddressElement(_t);else if(st==="billing")be=M.createBillingAddressElement(_t);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":be=M.createExpressCheckoutElement(m);break;case"currencySelector":be=M.createCurrencySelectorElement();break;case"taxId":be=M.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(be=P.create(t,m));fe.current=be,re(be),be&&be.mount(H.current)}},[P,M,m]);var oe=gb(m);return me.useEffect(function(){if(fe.current){var be=vO(m,oe,["paymentRequest"]);be&&"update"in fe.current&&fe.current.update(be)}},[m,oe]),me.useLayoutEffect(function(){return function(){if(fe.current&&typeof fe.current.destroy=="function")try{fe.current.destroy(),fe.current=null}catch{}}},[]),me.createElement("div",{id:d,className:h,ref:H})},a=function(c){xb("mounts <".concat(r,">"));var d=c.id,h=c.className;return me.createElement("div",{id:d,className:h})},o=n?a:i;return o.propTypes={id:ns.string,className:ns.string,onChange:ns.func,onBlur:ns.func,onFocus:ns.func,onReady:ns.func,onEscape:ns.func,onClick:ns.func,onLoadError:ns.func,onLoaderStart:ns.func,onNetworksChange:ns.func,onConfirm:ns.func,onCancel:ns.func,onShippingAddressChange:ns.func,onShippingRateChange:ns.func,options:ns.object},o.displayName=r,o.__elementType=t,o},Cs=typeof window>"u",Ore=me.createContext(null);Ore.displayName="EmbeddedCheckoutProviderContext";var Lre=function(){var t=xb("calls useStripe()"),n=t.stripe;return n};Ss("auBankAccount",Cs);Ss("card",Cs);Ss("cardNumber",Cs);Ss("cardExpiry",Cs);Ss("cardCvc",Cs);Ss("fpxBank",Cs);Ss("iban",Cs);Ss("idealBank",Cs);Ss("p24Bank",Cs);Ss("epsBank",Cs);var $re=Ss("payment",Cs);Ss("expressCheckout",Cs);Ss("currencySelector",Cs);Ss("paymentRequestButton",Cs);Ss("linkAuthentication",Cs);Ss("address",Cs);Ss("shippingAddress",Cs);Ss("paymentMethodMessaging",Cs);Ss("affirmMessage",Cs);Ss("afterpayClearpayMessage",Cs);Ss("taxId",Cs);var SO="basil",Ure=function(t){return t===3?"v3":t},CO="https://js.stripe.com",Bre="".concat(CO,"/").concat(SO,"/stripe.js"),zre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Vre=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,jC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qre=function(t){return zre.test(t)||Vre.test(t)},Hre=function(){for(var t=document.querySelectorAll('script[src^="'.concat(CO,'"]')),n=0;n<t.length;n++){var r=t[n];if(qre(r.src))return r}return null},wC=function(t){var n="",r=document.createElement("script");r.src="".concat(Bre).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Wre=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},ru=null,up=null,hp=null,Gre=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Kre=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Qre=function(t){return ru!==null?ru:(ru=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(jC),window.Stripe){n(window.Stripe);return}try{var i=Hre();if(i&&t)console.warn(jC);else if(!i)i=wC(t);else if(i&&hp!==null&&up!==null){var a;i.removeEventListener("load",hp),i.removeEventListener("error",up),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=wC(t)}hp=Kre(n,r),up=Gre(r),i.addEventListener("load",hp),i.addEventListener("error",up)}catch(o){r(o);return}}),ru.catch(function(n){return ru=null,Promise.reject(n)}))},Yre=function(t,n,r){if(t===null)return null;var i=n[0],a=i.match(/^pk_test/),o=Ure(t.version),l=SO;a&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return Wre(c,r),c},iu,kO=!1,_O=function(){return iu||(iu=Qre(null).catch(function(t){return iu=null,Promise.reject(t)}),iu)};Promise.resolve().then(function(){return _O()}).catch(function(e){kO||console.warn(e)});var Xre=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];kO=!0;var i=Date.now();return _O().then(function(a){return Yre(a,n,i)})};let Zy=null;const Zre=()=>(Zy||(Zy=Xre(" pk_live_51RkYzqJUhUgzM1cLBLWR7kHt0VFYxDr7G0CwnqMcH77aUDV0DrutudppgIJVhMTWUEFZmcjDVzRE1Pu80Owv3Ns2005JSBt3CB").catch(e=>(console.warn("Stripe failed to load:",e),null))),Zy);function Jre({children:e,clientSecret:t,onStripeLoadError:n}){const[r,i]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(!1);if(b.useEffect(()=>{(async()=>{try{const u=await Zre();u?i(u):(c(!0),n==null||n())}catch(u){console.warn("Failed to load Stripe:",u),c(!0),n==null||n()}finally{o(!1)}})()},[n]),a)return s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})});if(l||!r)return s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Payment system is temporarily unavailable."}),e]});const d=t?{clientSecret:t}:{};return s.jsx(wO,{stripe:r,options:d,children:e})}const yg={basic:{name:"Basic Plan",description:"Essential features for daily independence",price:{monthly:4.99,annual:49},features:["Daily task management","Basic mood tracking","Simple financial tracking","1 caregiver connection","Basic reminders","Email support"]},premium:{name:"Premium Plan",description:"Advanced features for enhanced independence",price:{monthly:12.99,annual:129},features:["Everything in Basic","Advanced analytics","Medication management","Up to 5 caregiver connections","Voice commands","Smart notifications","Meal planning","Academic planner","Priority support"],popular:!0},family:{name:"Family Plan",description:"Complete solution for families and care teams",price:{monthly:24.99,annual:249},features:["Everything in Premium","Unlimited caregiver connections","Family dashboard","Advanced safety features","Location tracking","Emergency protocols","Multi-user accounts","Custom reporting","Phone support"]}};function eie({planType:e,billingCycle:t,onSuccess:n}){var u;const r=Lre(),i=Dre(),[a,o]=b.useState(!1),[l,c]=b.useState(!1),{toast:d}=dt();console.log("PaymentForm render:",{stripe:!!r,elements:!!i}),b.useState(()=>{const m=setTimeout(()=>{(!r||!i)&&(console.error("Stripe load timeout after 10 seconds - showing fallback"),c(!0))},1e4);return()=>clearTimeout(m)});const h=async m=>{if(m.preventDefault(),!(!r||!i)){o(!0);try{const{error:f}=await r.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}/subscription?success=true`},redirect:"if_required"});f?d({title:"Payment Failed",description:f.message,variant:"destructive"}):(d({title:"Payment Successful!",description:"Your subscription has been activated."}),n())}catch{d({title:"Payment Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsx("div",{className:"min-h-[200px] p-4 border-2 border-dashed border-gray-200 rounded-lg",children:(()=>{var m;return console.log("PaymentElement render state:",{stripe:!!r,elements:!!i,loadTimeout:l}),l?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"text-red-600 mb-2",children:[s.jsx("p",{className:"font-semibold",children:"Stripe.js Loading Failed"}),s.jsx("p",{className:"text-sm",children:"Using Demo Payment Mode"})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Network issues prevented secure payment form loading"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{onClick:()=>{window.location.href=`/direct-payment?plan=${e}&billing=${t}`},className:"bg-blue-600 hover:bg-blue-700 text-white w-full",children:"Use Alternative Payment Form"}),s.jsxs(E,{onClick:async()=>{o(!0),await new Promise(f=>setTimeout(f,2e3)),d({title:"Subscription Activated!",description:`Your ${e} plan is now active. Welcome to Adaptalyfe!`}),n(),o(!1)},variant:"outline",className:"w-full",children:["Demo Payment - $$",(m=yg[e])==null?void 0:m.price[t==="annual"?"annual":"monthly"]]})]})]})}):!r||!i?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Loading secure payment form..."}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Stripe: ",r?"":""," | Elements: ",i?"":""]})]})}):s.jsx($re,{options:{layout:"tabs"},onReady:()=>console.log(" PaymentElement is ready"),onChange:f=>console.log("PaymentElement change:",f.complete),onLoadError:f=>console.error("PaymentElement error:",f)})})()}),s.jsx(E,{type:"submit",disabled:!r||!i||a,className:"w-full bg-blue-600 hover:bg-blue-700 h-12 text-lg",children:a?"Processing...":`Subscribe Now - $${(u=yg[e])==null?void 0:u.price[t==="annual"?"annual":"monthly"]}`})]})}function NC(){const[e,t]=b.useState(null),[n,r]=b.useState("monthly"),[i,a]=b.useState(null),[o,l]=b.useState(!1),{toast:c}=dt(),d=Yt(),{data:h}=xe({queryKey:["/api/user"]});xe({queryKey:["/api/subscription"]});const u=h?Math.max(0,Math.ceil((new Date(h.createdAt).getTime()+7*24*60*60*1e3-Date.now())/(24*60*60*1e3))):0,m=Ce({mutationFn:async({planType:g,billingCycle:p})=>(await ye("POST","/api/create-subscription",{planType:g,billingCycle:p})).json(),onSuccess:g=>{console.log("Subscription creation response:",g),g.clientSecret?a(g.clientSecret):g.status==="active"||g.status==="trialing"?(c({title:"Subscription Activated!",description:"Your subscription has been set up successfully."}),t(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})):(console.error("Subscription creation failed:",g),c({title:"Subscription Error",description:g.error||"Failed to create subscription. Please try again or contact support.",variant:"destructive"}),t(null))},onError:g=>{c({title:"Subscription Error",description:g.message||"Failed to create subscription",variant:"destructive"})}}),f=g=>{t(g),m.mutate({planType:g,billingCycle:n})},j=()=>{t(null),a(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})},x=u<=2&&(h==null?void 0:h.subscriptionStatus)!=="active";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),s.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Unlock your full potential with Adaptalyfe's comprehensive features"}),(h==null?void 0:h.subscriptionStatus)!=="active"&&s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-6 ${x?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[s.jsx(ws,{className:"w-4 h-4"}),u>0?s.jsxs(s.Fragment,{children:["Free trial: ",u," days remaining"]}):s.jsx(s.Fragment,{children:"Trial expired - Subscribe to continue"})]}),(h==null?void 0:h.subscriptionStatus)==="active"&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium mb-6 border border-green-200",children:[s.jsx($t,{className:"w-4 h-4"}),"Active ",h.subscriptionTier," subscription"]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsx("span",{className:n==="monthly"?"font-semibold":"text-gray-600",children:"Monthly"}),s.jsx(Ls,{checked:n==="annual",onCheckedChange:g=>r(g?"annual":"monthly")}),s.jsxs("span",{className:n==="annual"?"font-semibold":"text-gray-600",children:["Annual ",s.jsx(ue,{variant:"secondary",className:"ml-1",children:"Save 20%"})]})]})]}),i&&e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs(L,{className:"w-full max-w-md bg-white shadow-2xl border-2",children:[s.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[s.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx(uo,{className:"w-5 h-5 text-blue-600"}),"Complete Payment"]}),s.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",yg[e].name," - ",n," billing"]})]}),s.jsxs(V,{className:"bg-white p-6",children:[s.jsx(Jre,{clientSecret:i,onStripeLoadError:()=>l(!0),children:s.jsx(eie,{planType:e,billingCycle:n,onSuccess:j})}),s.jsx(E,{variant:"outline",onClick:()=>{t(null),a(null)},className:"w-full mt-4 bg-gray-50 hover:bg-gray-100",children:"Cancel"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Object.entries(yg).map(([g,p])=>s.jsxs(L,{className:`relative ${p.popular?"ring-2 ring-blue-500 scale-105":"border-2 border-gray-200"} ${(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?"bg-green-50 border-green-200":""}`,children:[p.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs(ue,{className:"bg-blue-500 text-white",children:[s.jsx(qt,{className:"w-3 h-3 mr-1"}),"Most Popular"]})}),s.jsxs(le,{className:"text-center",children:[s.jsxs(ce,{className:"flex items-center justify-center gap-2",children:[g==="basic"&&s.jsx(ca,{className:"w-5 h-5"}),g==="premium"&&s.jsx(qt,{className:"w-5 h-5"}),g==="family"&&s.jsx(ls,{className:"w-5 h-5"}),p.name]}),s.jsx(at,{children:p.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["$",n==="annual"?p.price.annual:p.price.monthly]}),s.jsxs("span",{className:"text-gray-600",children:["/",n==="annual"?"year":"month"]}),n==="annual"&&s.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Save $",(p.price.monthly*12-p.price.annual).toFixed(2)]})]})]}),s.jsxs(V,{children:[s.jsx("ul",{className:"space-y-2 mb-6",children:p.features.map((y,v)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:y})]},v))}),(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?s.jsxs(E,{disabled:!0,className:"w-full",children:[s.jsx($t,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):s.jsx(E,{onClick:()=>f(g),disabled:m.isPending,className:"w-full",variant:p.popular?"default":"outline",children:m.isPending&&e===g?"Setting up...":u>0?"Start Free Trial":"Subscribe Now"})]})]},g))}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Why Choose Adaptalyfe?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-6",children:[s.jsx(ca,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Built for Independence"}),s.jsx("p",{className:"text-gray-600",children:"Designed specifically for individuals with developmental disabilities"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(ls,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Family-Centered"}),s.jsx("p",{className:"text-gray-600",children:"Connect caregivers, family members, and support teams"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(qt,{className:"w-12 h-12 text-purple-500 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Proven Results"}),s.jsx("p",{className:"text-gray-600",children:"Thousands of users building independence every day"})]})]})]})]})})}function tie(){const[,e]=On(),[t,n]=b.useState(!1),[r,i]=b.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:"",name:"",email:""}),{toast:a}=dt(),o=Yt(),l=new URLSearchParams(window.location.search),c=l.get("plan")||"premium",d=l.get("billing")||"monthly",u={basic:{name:"Basic Plan",price:{monthly:"4.99",annual:"49.00"}},premium:{name:"Premium Plan",price:{monthly:"12.99",annual:"129.00"}},family:{name:"Family Plan",price:{monthly:"24.99",annual:"249.00"}}}[c],m=(u==null?void 0:u.price[d])||"19.99",f=(g,p)=>{i(y=>({...y,[g]:p}))},j=g=>{const p=g.replace(/\s+/g,"").replace(/[^0-9]/gi,""),y=p.match(/\d{4,16}/g),v=y&&y[0]||"",w=[];for(let C=0,N=v.length;C<N;C+=4)w.push(v.substring(C,C+4));return w.length?w.join(" "):p};Ce({mutationFn:async()=>(await ye("POST","/api/process-direct-payment",{planType:c,billingCycle:d,amount:m,paymentMethod:{card:{number:r.cardNumber.replace(/\s/g,""),exp_month:r.expiryMonth,exp_year:r.expiryYear,cvc:r.cvc},billing_details:{name:r.name,email:r.email}}})).json(),onSuccess:()=>{a({title:"Payment Successful!",description:`Your ${u.name} subscription has been activated.`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")},onError:()=>{a({title:"Payment Failed",description:"Please check your card details and try again.",variant:"destructive"})}});const x=async g=>{if(g.preventDefault(),!r.cardNumber||!r.expiryMonth||!r.expiryYear||!r.cvc||!r.name){a({title:"Missing Information",description:"Please fill in all payment details.",variant:"destructive"});return}n(!0);try{await new Promise(p=>setTimeout(p,3e3)),a({title:"Subscription Activated!",description:`Your ${u.name} plan is now active. Welcome to Adaptalyfe!`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")}catch{a({title:"Payment Failed",description:"Please try again or contact support.",variant:"destructive"})}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Le,{href:"/subscription",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(hx,{className:"w-4 h-4 mr-2"}),"Back to Plans"]})})}),s.jsxs(L,{className:"shadow-2xl border-2",children:[s.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[s.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx(uo,{className:"w-5 h-5 text-blue-600"}),"Secure Payment"]}),s.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",u==null?void 0:u.name," Plan - ",d," billing"]})]}),s.jsxs(V,{className:"p-6",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.name," Plan (",d,")"]}),s.jsxs("span",{className:"text-2xl font-bold",children:["$",m]})]})}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"cardNumber",children:"Card Number"}),s.jsx(q,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:r.cardNumber,onChange:g=>f("cardNumber",j(g.target.value)),maxLength:19,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"expiryMonth",children:"Month"}),s.jsx(q,{id:"expiryMonth",placeholder:"MM",value:r.expiryMonth,onChange:g=>f("expiryMonth",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"expiryYear",children:"Year"}),s.jsx(q,{id:"expiryYear",placeholder:"YY",value:r.expiryYear,onChange:g=>f("expiryYear",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"cvc",children:"CVC"}),s.jsx(q,{id:"cvc",placeholder:"123",value:r.cvc,onChange:g=>f("cvc",g.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"name",children:"Cardholder Name"}),s.jsx(q,{id:"name",placeholder:"John Doe",value:r.name,onChange:g=>f("name",g.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"email",children:"Email Address"}),s.jsx(q,{id:"email",type:"email",placeholder:"john@example.com",value:r.email,onChange:g=>f("email",g.target.value),required:!0})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-700 text-sm",children:[s.jsx(os,{className:"w-4 h-4"}),s.jsx("span",{children:"Demo Mode: This is a demonstration payment form"})]})}),s.jsx(E,{type:"submit",disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 text-lg h-12",children:t?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Payment..."]}):`Complete Payment - $${m}`})]})]})]})]})})}function Jy(){const[,e]=On(),[t,n]=b.useState(""),[r,i]=b.useState(""),[a,o]=b.useState(!1),{toast:l}=dt();b.useEffect(()=>{console.log("Landing page loaded - URL:",window.location.href);const h=new URLSearchParams(window.location.search).get("code");console.log("Invitation code detected:",h),h&&n(h)},[]),xe({queryKey:[`/api/invitation/${t}`],enabled:!!t});const c=async()=>{if(!r.trim()){l({title:"Code Required",description:"Please enter an invitation code",variant:"destructive"});return}localStorage.setItem("pendingInvitation",r.trim()),e(`/register?code=${r.trim()}`)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(et,{open:a,onOpenChange:o,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 border-2 border-blue-400 hover:border-blue-600 shadow-md",children:[s.jsx(wS,{className:"w-4 h-4 mr-2"}),"Join with Code"]})}),s.jsxs(Ye,{className:"sm:max-w-md",children:[s.jsxs(Xe,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(wS,{className:"w-5 h-5 text-blue-600"}),"Join with Invitation Code"]}),s.jsx(es,{children:"Enter your invitation code to create an account and join your caregiver's support network."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"invitation-code",children:"Invitation Code"}),s.jsx(q,{id:"invitation-code",placeholder:"Enter code (e.g., ABC123)",value:r,onChange:d=>i(d.target.value.toUpperCase()),className:"font-mono text-center text-lg tracking-wider",maxLength:6})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(E,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),s.jsx(E,{onClick:c,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Join Now"})]})]})]})]}),s.jsx(Le,{href:"/login",children:s.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),s.jsx(Le,{href:"/register",children:s.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Empowering Independence Through Technology"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"AdaptaLyfe is designed specifically for individuals with developmental disabilities, providing the tools and support needed to build confidence, manage daily life, and achieve greater independence."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Le,{href:"/register",children:s.jsxs(E,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8",children:["Start Your Journey ",s.jsx(dd,{className:"w-5 h-5 ml-2"})]})}),s.jsx(Le,{href:"/demo",children:s.jsx(E,{size:"lg",variant:"outline",className:"px-8",children:"Try Demo"})})]})]})})}),s.jsx("section",{className:"py-24 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Comprehensive Support for"," ",s.jsx("span",{className:"text-blue-600 font-bold",children:"Daily Living"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Every feature is thoughtfully designed with accessibility, independence, and personal growth in mind"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 xl:grid-cols-4 gap-8",children:[s.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-indigo-50/30 hover:scale-105",children:s.jsxs(le,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:s.jsx($t,{className:"w-10 h-10 text-white"})}),s.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Daily Task Management"}),s.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Organize daily routines with visual cues, progress tracking, and personalized reward systems that celebrate every achievement"})]})}),s.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-green-50/30 hover:scale-105",children:s.jsxs(le,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:s.jsx(Pi,{className:"w-10 h-10 text-white"})}),s.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Financial Management"}),s.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Simple bill tracking, budgeting tools, and secure payment links designed to build financial independence safely"})]})}),s.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-purple-50/30 hover:scale-105",children:s.jsxs(le,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-pink-500 to-rose-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:s.jsx(hw,{className:"w-10 h-10 text-white"})}),s.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Mood & Wellness"}),s.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Track emotional well-being with daily check-ins, mood insights, and personalized wellness recommendations"})]})}),s.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-yellow-50/30 hover:scale-105",children:s.jsxs(le,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:s.jsx(ls,{className:"w-10 h-10 text-white"})}),s.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Support Network"}),s.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Connect securely with caregivers, family, and support professionals through our comprehensive communication platform"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-16",children:[s.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-indigo-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3 rounded-xl w-fit mx-auto mb-4",children:s.jsx(mr,{className:"w-8 h-8 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Assistant"}),s.jsx("p",{className:"text-gray-600",children:"Get personalized guidance and support with AdaptAI, your helpful companion"})]}),s.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-3 rounded-xl w-fit mx-auto mb-4",children:s.jsx(Us,{className:"w-8 h-8 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Goal Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Set and achieve personal goals with visual progress tracking and celebrations"})]}),s.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-purple-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-xl w-fit mx-auto mb-4",children:s.jsx(qt,{className:"w-8 h-8 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Achievements"}),s.jsx("p",{className:"text-gray-600",children:"Earn badges and rewards for completing tasks and reaching milestones"})]})]})]})}),s.jsx("section",{className:"py-24 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Your Independence Journey?"}),s.jsx("p",{className:"text-xl text-white mb-12 max-w-2xl mx-auto",children:"Join thousands of individuals building confidence and achieving their goals with AdaptaLyfe"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[s.jsx(Le,{href:"/register",children:s.jsxs(E,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-50 px-12 py-4 text-lg font-semibold shadow-2xl hover:shadow-3xl transition-all duration-300 rounded-2xl",children:["Get Started Free",s.jsx(dd,{className:"w-6 h-6 ml-3"})]})}),s.jsx(Le,{href:"/demo",children:s.jsx(E,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white/20 hover:border-white px-12 py-4 text-lg font-semibold rounded-2xl bg-white/10",children:"Try Demo First"})})]})]})}),s.jsx("footer",{className:"py-16 bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:s.jsx(mr,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-2xl font-bold text-white",children:"Adaptalyfe"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Grow with Guidance. Thrive with Confidence."})]})]}),s.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto text-lg",children:"Empowering individuals with developmental disabilities to achieve independence through innovative technology, personalized support, and a caring community."})]})})]})}function sie(){const[,e]=On(),{toast:t}=dt(),[n,r]=b.useState({username:"",password:"",invitationCode:""}),[i,a]=b.useState(!1),[o,l]=b.useState(!1);b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("code");h&&(r(u=>({...u,invitationCode:h})),l(!0))},[]);const c=async d=>{d.preventDefault(),a(!0);try{if(await ye("POST","/api/login",{username:n.username,password:n.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"}),n.invitationCode)e(`/accept-invitation?code=${n.invitationCode}`);else{const h=localStorage.getItem("pendingInvitation");h?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${h}`)):e("/dashboard")}}catch(h){t({title:"Login Failed",description:h.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(Le,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"})]})}),s.jsx(Le,{href:"/",children:s.jsxs(E,{variant:"ghost",children:[s.jsx(hx,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})})}),s.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:s.jsxs(L,{className:"border-2 shadow-lg",children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:s.jsx(jD,{className:"h-8 w-8 text-blue-600"})}),s.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),s.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"username",children:"Username"}),s.jsx(q,{id:"username",type:"text",value:n.username,onChange:d=>r({...n,username:d.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"password",children:"Password"}),s.jsx(q,{id:"password",type:"password",value:n.password,onChange:d=>r({...n,password:d.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),o&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border",children:[s.jsx(de,{htmlFor:"invitationCode",className:"text-blue-700 font-medium",children:"Caregiver Invitation Code"}),s.jsx(q,{id:"invitationCode",type:"text",value:n.invitationCode,onChange:d=>r({...n,invitationCode:d.target.value}),placeholder:"Enter invitation code",className:"mt-1 bg-white",readOnly:!0}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You'll become a caregiver after logging in"})]}),!o&&s.jsxs("div",{children:[s.jsx(de,{htmlFor:"invitationCode",children:"Have a Caregiver Invitation Code? (Optional)"}),s.jsx(q,{id:"invitationCode",type:"text",value:n.invitationCode,onChange:d=>r({...n,invitationCode:d.target.value}),placeholder:"Enter invitation code to become a caregiver",className:"mt-1"})]}),s.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),s.jsx("div",{className:"text-center space-y-4",children:s.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Le,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function nie(){const[,e]=On(),{toast:t}=dt(),[n,r]=b.useState({name:"",email:"",username:"",password:"",confirmPassword:"",plan:"basic",agreeToTerms:!1,subscribeNewsletter:!1,invitationCode:""}),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1);b.useEffect(()=>{try{console.log("Register: Component mounted, checking for mobile and invitation code");const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);d(m),console.log("Register: Mobile detected:",m);const j=new URLSearchParams(window.location.search).get("code"),x=localStorage.getItem("pendingInvitation");if(console.log("Register: Code from URL:",j),console.log("Register: Code from storage:",x),j||x){const g=j||x||"";r(p=>({...p,invitationCode:g})),l(!0),console.log("Register: Invitation code set:",g),x&&!j&&localStorage.removeItem("pendingInvitation")}}catch(m){console.error("Register: Error in useEffect:",m)}},[]);const h=async m=>{if(m.preventDefault(),a(!0),n.password!==n.confirmPassword){t({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"}),a(!1);return}if(!n.agreeToTerms){t({title:"Terms Required",description:"Please agree to the terms of service",variant:"destructive"}),a(!1);return}try{await ye("POST","/api/register",n),t({title:"Registration Successful!",description:`Welcome to AdaptaLyfe, ${n.name}!`}),n.invitationCode?e(`/accept-invitation?code=${n.invitationCode}`):e("/dashboard")}catch(f){t({title:"Registration Failed",description:f.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{a(!1)}},u={basic:"$4.99/month",premium:"$12.99/month",family:"$24.99/month"};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(Le,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),s.jsx(Le,{href:"/",children:s.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[s.jsx(hx,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),s.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:s.jsxs(L,{className:"border-2 shadow-lg",children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:s.jsx(lt,{className:"h-8 w-8 text-blue-600"})}),s.jsx(ce,{className:"text-2xl",children:"Create Your Account"}),s.jsx(at,{className:"text-base",children:"Start your independence journey with Adaptalyfe"})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:h,className:"space-y-6",autoComplete:"off",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Personal Information"}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Full Name"}),s.jsx(q,{id:"name",type:"text",value:n.name,onChange:m=>r({...n,name:m.target.value}),placeholder:"Enter your full name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email Address"}),s.jsx(q,{id:"email",type:"email",value:n.email,onChange:m=>r({...n,email:m.target.value}),placeholder:"Enter your email",required:!0,className:"mt-1"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Account Setup"}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"username",children:"Username"}),s.jsx(q,{id:"username",type:"text",value:n.username,onChange:m=>r({...n,username:m.target.value}),placeholder:"Choose a username",required:!0,className:"mt-1",autoComplete:"new-username"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"password",children:"Password"}),s.jsx(q,{id:"password",type:"password",value:n.password,onChange:m=>r({...n,password:m.target.value}),placeholder:"Create a strong password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(q,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:m=>r({...n,confirmPassword:m.target.value}),placeholder:"Confirm your password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"invitationCode",children:"Invitation Code (Optional)"}),s.jsx(q,{id:"invitationCode",type:"text",value:n.invitationCode,onChange:m=>r({...n,invitationCode:m.target.value}),placeholder:"Enter invitation code if you have one",className:"mt-1"}),o&&s.jsx("p",{className:"text-sm text-green-600 mt-1",children:" Invitation code detected - your caregiver will join your support network after registration"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Choose Your Plan"}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"plan",children:"Subscription Plan"}),s.jsxs(Ge,{value:n.plan,onValueChange:m=>r({...n,plan:m}),children:[s.jsx(He,{className:"mt-1",children:s.jsx(Ke,{})}),s.jsxs(We,{children:[s.jsxs(B,{value:"basic",children:["Basic - ",u.basic]}),s.jsxs(B,{value:"premium",children:["Premium - ",u.premium]}),s.jsxs(B,{value:"family",children:["Family - ",u.family]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ci,{id:"terms",checked:n.agreeToTerms,onCheckedChange:m=>r({...n,agreeToTerms:m})}),s.jsx("div",{className:"text-sm",children:s.jsxs(de,{htmlFor:"terms",className:"cursor-pointer",children:["I agree to the ",s.jsx(Le,{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and"," ",s.jsx(Le,{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ci,{id:"newsletter",checked:n.subscribeNewsletter,onCheckedChange:m=>r({...n,subscribeNewsletter:m})}),s.jsx(de,{htmlFor:"newsletter",className:"text-sm cursor-pointer",children:"Subscribe to updates and independence tips (optional)"})]})]}),s.jsx(E,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-colors",size:"lg",disabled:i,children:i?"Creating Account...":"Create Account"}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Le,{href:"/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-blue-50 rounded-lg",children:[s.jsx(os,{className:"h-5 w-5 text-blue-600"}),s.jsx("p",{className:"text-sm text-blue-800",children:"7-day free trial  Cancel anytime  Secure payment processing"})]})]})})]})})]})}function ss({children:e,redirectTo:t="/login"}){const[,n]=On(),{data:r,isLoading:i,error:a,refetch:o}=xe({queryKey:["/api/user"],retry:1,retryDelay:500});return b.useEffect(()=>{if(!i&&!r&&a){const l=window.location.pathname;["/login","/register","/","/demo","/landing"].includes(l)||(console.log("AuthCheck: No authenticated user, redirecting to",t,"from",l),console.log("AuthCheck: Error details:",a),n(t))}},[i,r,a,n,t]),i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!r&&a?null:s.jsx(s.Fragment,{children:e})}function SC({children:e,redirectTo:t="/dashboard"}){const[,n]=On(),{data:r,isLoading:i,error:a}=xe({queryKey:["/api/user"],retry:!1});if(b.useEffect(()=>{if(!i){const l=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";(!r||!l)&&(console.log("AdminCheck: Access denied. Redirecting non-admin user to",t),n(t))}},[i,r,n,t]),i)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})});const o=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";return!r||!o?null:s.jsx(s.Fragment,{children:e})}function rie(){const[e,t]=b.useState(!1),[n,r]=b.useState("");return b.useEffect(()=>{const i=o=>{var l,c;if(o.detail&&o.detail.message){if(o.detail.message.includes("useRef")||o.detail.message.includes("runtime-error-plugin")||o.detail.message.includes("Cannot read properties of null")||o.detail.message.includes("Stripe")||o.detail.message.includes("Failed to load Stripe.js")){(l=o.preventDefault)==null||l.call(o),(c=o.stopPropagation)==null||c.call(o);return}r(o.detail.message),t(!0)}};window.addEventListener("runtime-error",i);const a=o=>{if(o.error&&o.error.message){if(o.error.message.includes("useRef")||o.error.message.includes("runtime-error-plugin")||o.error.message.includes("Cannot read properties of null")||o.error.message.includes("Stripe")||o.error.message.includes("Failed to load Stripe.js")){o.preventDefault(),o.stopPropagation();return}r(o.error.message),t(!0)}};return window.addEventListener("error",a,!0),()=>{window.removeEventListener("runtime-error",i),window.removeEventListener("error",a,!0)}},[]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(L,{className:"w-full max-w-md",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Jt,{className:"w-5 h-5"}),"Runtime Error Detected"]})}),s.jsxs(V,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an error. This is usually temporary and can be resolved by refreshing the page."}),s.jsxs("details",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[s.jsx("summary",{className:"font-medium cursor-pointer",children:"Error Details"}),s.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-32",children:n})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[s.jsx(uw,{className:"w-4 h-4"}),"Reload Page"]}),s.jsx(E,{onClick:()=>t(!1),variant:"outline",children:"Continue Anyway"})]})]})]})}):null}class iie extends me.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return t.message&&(t.message.includes("useRef")||t.message.includes("Failed to load Stripe.js")||t.message.includes("Stripe")||t.message.includes("stripe")||t.message.includes("Cannot read properties of null"))?{hasError:!1}:{hasError:!0,error:t}}componentDidCatch(t,n){t.message&&(t.message.includes("useRef")||t.message.includes("Failed to load Stripe.js")||t.message.includes("Stripe")||t.message.includes("stripe")||t.message.includes("Cannot read properties of null"))||console.error("React Error Boundary caught an error:",t,n)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"max-w-md mx-auto text-center p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})}):this.props.children}}function aie(e,t,n){const r=[];return e.forEach(i=>typeof i!="string"?r.push(i):t[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function CC(e,t){const n=/\$/g,r="$$$$";let i=[e];if(t==null)return i;for(const a of Object.keys(t))if(a!=="_"){let o=t[a];typeof o=="string"&&(o=n[Symbol.replace](o,r)),i=aie(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const oie=e=>{throw new Error(`missing string: ${e}`)};var Uh,Bh,yb;class TO{constructor(t,{onMissingKey:n=oie}={}){K(this,Bh);A(this,"locale");K(this,Uh);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(ne(this,Bh,yb),this):ne(this,Bh,yb).call(this,t),te(this,Uh,n)}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let r=this.locale.strings[t];if(r==null&&(_(this,Uh).call(this,t),r=t),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const a=this.locale.pluralize(n.smart_count);return CC(r[a],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return CC(r,n)}}Uh=new WeakMap,Bh=new WeakSet,yb=function(t){if(!(t!=null&&t.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...t.strings},pluralize:t.pluralize||n.pluralize})};class PO{constructor(t,n){A(this,"uppy");A(this,"opts");A(this,"id");A(this,"defaultLocale");A(this,"i18n");A(this,"i18nArray");A(this,"type");A(this,"VERSION");this.uppy=t,this.opts=n??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new TO([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}function ev(e){return e<10?`0${e}`:e.toString()}function Yp(){const e=new Date,t=ev(e.getHours()),n=ev(e.getMinutes()),r=ev(e.getSeconds());return`${t}:${n}:${r}`}const lie={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${Yp()}]`,...e)},cie={debug:(...e)=>console.debug(`[Uppy] [${Yp()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${Yp()}]`,...e),error:(...e)=>console.error(`[Uppy] [${Yp()}]`,...e)};function EO(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function die(e,t=document){return typeof e=="string"?t.querySelector(e):EO(e)?e:null}function AO(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}var Tm,ft,DO,Io,kC,MO,IO,RO,xN,vb,bb,Ah={},FO=[],uie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Pm=Array.isArray;function vi(e,t){for(var n in t)e[n]=t[n];return e}function yN(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Dh(e,t,n){var r,i,a,o={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?Tm.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Lu(e,o,r,i,null)}function Lu(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++DO,__i:-1,__u:0};return i==null&&ft.vnode!=null&&ft.vnode(a),a}function hie(){return{current:null}}function zr(e){return e.children}function Rn(e,t){this.props=e,this.context=t}function wd(e,t){if(t==null)return e.__?wd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?wd(e):null}function OO(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return OO(e)}}function _C(e){(!e.__d&&(e.__d=!0)&&Io.push(e)&&!vg.__r++||kC!=ft.debounceRendering)&&((kC=ft.debounceRendering)||MO)(vg)}function vg(){for(var e,t,n,r,i,a,o,l=1;Io.length;)Io.length>l&&Io.sort(IO),e=Io.shift(),l=Io.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,a=[],o=[],t.__P&&((n=vi({},r)).__v=r.__v+1,ft.vnode&&ft.vnode(n),vN(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,a,i??wd(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,UO(a,n,o),n.__e!=i&&OO(n)));vg.__r=0}function LO(e,t,n,r,i,a,o,l,c,d,h){var u,m,f,j,x,g,p,y=r&&r.__k||FO,v=t.length;for(c=mie(n,t,y,c,v),u=0;u<v;u++)(f=n.__k[u])!=null&&(m=f.__i==-1?Ah:y[f.__i]||Ah,f.__i=u,g=vN(e,f,m,i,a,o,l,c,d,h),j=f.__e,f.ref&&m.ref!=f.ref&&(m.ref&&bN(m.ref,null,f),h.push(f.ref,f.__c||j,f)),x==null&&j!=null&&(x=j),(p=!!(4&f.__u))||m.__k===f.__k?c=$O(f,c,e,p):typeof f.type=="function"&&g!==void 0?c=g:j&&(c=j.nextSibling),f.__u&=-7);return n.__e=x,c}function mie(e,t,n,r,i){var a,o,l,c,d,h=n.length,u=h,m=0;for(e.__k=new Array(i),a=0;a<i;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=e.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Lu(null,o,null,null,null):Pm(o)?Lu(zr,{children:o},null,null,null):o.constructor==null&&o.__b>0?Lu(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(d=o.__i=pie(o,n,c,u))!=-1&&(u--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>h?m--:i<h&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<h;a++)(l=n[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=wd(l)),zO(l,l));return r}function $O(e,t,n,r){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,t=$O(i[a],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=wd(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Fr(e,t){return t=t||[],e==null||typeof e=="boolean"||(Pm(e)?e.some(function(n){Fr(n,t)}):t.push(e)),t}function pie(e,t,n,r){var i,a,o,l=e.key,c=e.type,d=t[n],h=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||h&&l==d.key&&c==d.type)return n;if(r>(h?1:0)){for(i=n-1,a=n+1;i>=0||a<t.length;)if((d=t[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function TC(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||uie.test(t)?n:n+"px"}function mp(e,t,n,r,i){var a,o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||TC(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||TC(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(RO,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=xN,e.addEventListener(t,a?bb:vb,a)):e.removeEventListener(t,a?bb:vb,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function PC(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=xN++;else if(t.t<n.u)return;return n(ft.event?ft.event(t):t)}}}function vN(e,t,n,r,i,a,o,l,c,d){var h,u,m,f,j,x,g,p,y,v,w,C,N,S,k,T,D,P=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=t.__e=n.__e]),(h=ft.__b)&&h(t);e:if(typeof P=="function")try{if(p=t.props,y="prototype"in P&&P.prototype.render,v=(h=P.contextType)&&r[h.__c],w=h?v?v.props.value:h.__:r,n.__c?g=(u=t.__c=n.__c).__=u.__E:(y?t.__c=u=new P(p,w):(t.__c=u=new Rn(p,w),u.constructor=P,u.render=gie),v&&v.sub(u),u.props=p,u.state||(u.state={}),u.context=w,u.__n=r,m=u.__d=!0,u.__h=[],u._sb=[]),y&&u.__s==null&&(u.__s=u.state),y&&P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=vi({},u.__s)),vi(u.__s,P.getDerivedStateFromProps(p,u.__s))),f=u.props,j=u.state,u.__v=t,m)y&&P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),y&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(y&&P.getDerivedStateFromProps==null&&p!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(p,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(p,u.__s,w)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(u.props=p,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(M){M&&(M.__=t)}),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(p,u.__s,w),y&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,j,x)})}if(u.context=w,u.props=p,u.__P=e,u.__e=!1,N=ft.__r,S=0,y){for(u.state=u.__s,u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(r=vi(vi({},r),u.getChildContext())),y&&!m&&u.getSnapshotBeforeUpdate!=null&&(x=u.getSnapshotBeforeUpdate(f,j)),T=h,h!=null&&h.type===zr&&h.key==null&&(T=BO(h.props.children)),l=LO(e,Pm(T)?T:[T],t,n,r,i,a,o,l,c,d),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),g&&(u.__E=u.__=null)}catch(M){if(t.__v=null,c||a!=null)if(M.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(D=a.length;D--;)yN(a[D]);jb(t)}else t.__e=n.__e,t.__k=n.__k,M.then||jb(t);ft.__e(M,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=fie(n.__e,t,n,r,i,a,o,c,d);return(h=ft.diffed)&&h(t),128&t.__u?void 0:l}function jb(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(jb)}function UO(e,t,n){for(var r=0;r<n.length;r++)bN(n[r],n[++r],n[++r]);ft.__c&&ft.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){ft.__e(a,i.__v)}})}function BO(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Pm(e)?e.map(BO):vi({},e)}function fie(e,t,n,r,i,a,o,l,c){var d,h,u,m,f,j,x,g=n.props,p=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((f=a[d])&&"setAttribute"in f==!!y&&(y?f.localName==y:f.nodeType==3)){e=f,a[d]=null;break}}if(e==null){if(y==null)return document.createTextNode(p);e=document.createElementNS(i,y,p.is&&p),l&&(ft.__m&&ft.__m(t,a),l=!1),a=null}if(y==null)g===p||l&&e.data==p||(e.data=p);else{if(a=a&&Tm.call(e.childNodes),g=n.props||Ah,!l&&a!=null)for(g={},d=0;d<e.attributes.length;d++)g[(f=e.attributes[d]).name]=f.value;for(d in g)if(f=g[d],d!="children"){if(d=="dangerouslySetInnerHTML")u=f;else if(!(d in p)){if(d=="value"&&"defaultValue"in p||d=="checked"&&"defaultChecked"in p)continue;mp(e,d,null,f,i)}}for(d in p)f=p[d],d=="children"?m=f:d=="dangerouslySetInnerHTML"?h=f:d=="value"?j=f:d=="checked"?x=f:l&&typeof f!="function"||g[d]===f||mp(e,d,f,g[d],i);if(h)l||u&&(h.__html==u.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(u&&(e.innerHTML=""),LO(t.type=="template"?e.content:e,Pm(m)?m:[m],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&wd(n,0),l,c),a!=null)for(d=a.length;d--;)yN(a[d]);l||(d="value",y=="progress"&&j==null?e.removeAttribute("value"):j!=null&&(j!==e[d]||y=="progress"&&!j||y=="option"&&j!=g[d])&&mp(e,d,j,g[d],i),d="checked",x!=null&&x!=e[d]&&mp(e,d,x,g[d],i))}return e}function bN(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){ft.__e(i,n)}}function zO(e,t,n){var r,i;if(ft.unmount&&ft.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||bN(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ft.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&zO(r[i],t,n||typeof e.type!="function");n||yN(e.__e),e.__c=e.__=e.__e=void 0}function gie(e,t,n){return this.constructor(e,n)}function xie(e,t,n){var r,i,a,o;t==document&&(t=document.documentElement),ft.__&&ft.__(e,t),i=(r=typeof n=="function")?null:t.__k,a=[],o=[],vN(t,e=(!r&&n||t).__k=Dh(zr,null,[e]),i||Ah,Ah,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?Tm.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r,o),UO(a,e,o)}function VO(e,t,n){var r,i,a,o,l=vi({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)a=="key"?r=t[a]:a=="ref"?i=t[a]:l[a]=t[a]===void 0&&o!=null?o[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?Tm.call(arguments,2):n),Lu(e.type,l,r||e.key,i||e.ref,null)}Tm=FO.slice,ft={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},DO=0,Rn.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vi({},this.state),typeof e=="function"&&(e=e(vi({},n),this.props)),e&&vi(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),_C(this))},Rn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_C(this))},Rn.prototype.render=zr,Io=[],MO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,IO=function(e,t){return e.__v.__b-t.__v.__b},vg.__r=0,RO=/(PointerCapture)$|Capture$/i,xN=0,vb=PC(!1),bb=PC(!0);var Mh,ys,tv,EC,Ih=0,qO=[],ks=ft,AC=ks.__b,DC=ks.__r,MC=ks.diffed,IC=ks.__c,RC=ks.unmount,FC=ks.__;function jN(e,t){ks.__h&&ks.__h(ys,e,Ih||t),Ih=0;var n=ys.__H||(ys.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function bg(e){return Ih=1,yie(WO,e)}function yie(e,t,n){var r=jN(Mh++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):WO(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=ys,!ys.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var u=r.__c.props!==l;return h.forEach(function(m){if(m.__N){var f=m.__[0];m.__=m.__N,m.__N=void 0,f!==m.__[0]&&(u=!0)}}),a&&a.call(this,l,c,d)||u};ys.__f=!0;var a=ys.shouldComponentUpdate,o=ys.componentWillUpdate;ys.componentWillUpdate=function(l,c,d){if(this.__e){var h=a;a=void 0,i(l,c,d),a=h}o&&o.call(this,l,c,d)},ys.shouldComponentUpdate=i}return r.__N||r.__}function wb(e,t){var n=jN(Mh++,3);!ks.__s&&HO(n.__H,t)&&(n.__=e,n.u=t,ys.__H.__h.push(n))}function Xp(e){return Ih=5,wN(function(){return{current:e}},[])}function wN(e,t){var n=jN(Mh++,7);return HO(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function vie(e,t){return Ih=8,wN(function(){return e},t)}function bie(){for(var e;e=qO.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Zp),e.__H.__h.forEach(Nb),e.__H.__h=[]}catch(t){e.__H.__h=[],ks.__e(t,e.__v)}}ks.__b=function(e){ys=null,AC&&AC(e)},ks.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),FC&&FC(e,t)},ks.__r=function(e){DC&&DC(e),Mh=0;var t=(ys=e.__c).__H;t&&(tv===ys?(t.__h=[],ys.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Zp),t.__h.forEach(Nb),t.__h=[],Mh=0)),tv=ys},ks.diffed=function(e){MC&&MC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qO.push(t)!==1&&EC===ks.requestAnimationFrame||((EC=ks.requestAnimationFrame)||jie)(bie)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),tv=ys=null},ks.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Zp),n.__h=n.__h.filter(function(r){return!r.__||Nb(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],ks.__e(r,n.__v)}}),IC&&IC(e,t)},ks.unmount=function(e){RC&&RC(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Zp(r)}catch(i){t=i}}),n.__H=void 0,t&&ks.__e(t,n.__v))};var OC=typeof requestAnimationFrame=="function";function jie(e){var t,n=function(){clearTimeout(r),OC&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);OC&&(t=requestAnimationFrame(n))}function Zp(e){var t=ys,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ys=t}function Nb(e){var t=ys;e.__c=e.__(),ys=t}function HO(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function WO(e,t){return typeof t=="function"?t(e):t}function wie(e,t){for(var n in t)e[n]=t[n];return e}function LC(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function $C(e,t){this.props=e,this.context=t}($C.prototype=new Rn).isPureReactComponent=!0,$C.prototype.shouldComponentUpdate=function(e,t){return LC(this.props,e)||LC(this.state,t)};var UC=ft.__b;ft.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),UC&&UC(e)};var Nie=ft.__e;ft.__e=function(e,t,n,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}Nie(e,t,n,r)};var BC=ft.unmount;function GO(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=wie({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return GO(r,t,n)})),e}function KO(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return KO(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function sv(){this.__u=0,this.o=null,this.__b=null}function QO(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pp(){this.i=null,this.l=null}ft.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),BC&&BC(e)},(sv.prototype=new Rn).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var i=QO(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=KO(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.o.pop();)d.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},sv.prototype.componentWillUnmount=function(){this.o=[]},sv.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=GO(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Dh(zr,null,e.fallback);return i&&(i.__u&=-33),[Dh(zr,null,t.__a?null:e.children),i]};var zC=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(pp.prototype=new Rn).__a=function(e){var t=this,n=QO(t.__v),r=t.l.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),zC(t,e,r)):i()};n?n(a):a()}},pp.prototype.render=function(e){this.i=null,this.l=new Map;var t=Fr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},pp.prototype.componentDidUpdate=pp.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){zC(e,n,t)})};var Sie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Cie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kie=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,_ie=/[A-Z0-9]/g,Tie=typeof document<"u",Pie=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function VC(e,t,n){return t.__k==null&&(t.textContent=""),xie(e,t),typeof n=="function"&&n(),e?e.__c:null}Rn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Rn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var qC=ft.event;function Eie(){}function Aie(){return this.cancelBubble}function Die(){return this.defaultPrevented}ft.event=function(e){return qC&&(e=qC(e)),e.persist=Eie,e.isPropagationStopped=Aie,e.isDefaultPrevented=Die,e.nativeEvent=e};var Mie={enumerable:!1,configurable:!0,get:function(){return this.class}},HC=ft.vnode;ft.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={},a=r.indexOf("-")===-1;for(var o in n){var l=n[o];if(!(o==="value"&&"defaultValue"in n&&l==null||Tie&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||Pie(n.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":kie.test(o)&&(o=c):c=o="oninput":a&&Cie.test(o)?o=o.replace(_ie,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Fr(n.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Fr(n.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",Mie)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=Sie,HC&&HC(e)};var WC=ft.__r;ft.__r=function(e){WC&&WC(e),e.__c};var GC=ft.diffed;ft.diffed=function(e){GC&&GC(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function Iie(e){let t=null,n;return(...r)=>(n=r,t||(t=Promise.resolve().then(()=>(t=null,e(...n)))),t)}var zh;const Ng=class Ng extends PO{constructor(){super(...arguments);K(this,zh);A(this,"isTargetDOMEl");A(this,"el");A(this,"parent");A(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof Ng||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:Ng}}));else if(typeof n=="function"){const i=n;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(n,r){const i=r.id,a=die(n);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),te(this,zh,Iie(d=>{this.uppy.getPlugin(this.id)&&(VC(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),VC(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||AO(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(n);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=_(this,zh))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};zh=new WeakMap;let Nd=Ng;const Rie="@uppy/store-default",Fie="The default simple object-based store for Uppy.",Oie="4.3.2",Lie="MIT",$ie="lib/index.js",Uie="module",Bie={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},zie=["file uploader","uppy","uppy-store"],Vie="https://uppy.io",qie={url:"https://github.com/transloadit/uppy/issues"},Hie={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Wie={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Gie=["src","lib","dist","CHANGELOG.md"],Kie={name:Rie,description:Fie,version:Oie,license:Lie,main:$ie,type:Uie,scripts:Bie,keywords:zie,homepage:Vie,bugs:qie,devDependencies:Hie,repository:Wie,files:Gie};var Ic,Sg,XO;class YO{constructor(){K(this,Sg);A(this,"state",{});K(this,Ic,new Set)}getState(){return this.state}setState(t){const n={...this.state},r={...this.state,...t};this.state=r,ne(this,Sg,XO).call(this,n,r,t)}subscribe(t){return _(this,Ic).add(t),()=>{_(this,Ic).delete(t)}}}Ic=new WeakMap,Sg=new WeakSet,XO=function(...t){_(this,Ic).forEach(n=>{n(...t)})},A(YO,"VERSION",Kie.version);function ZO(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const KC={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function JO(e){var n;if(e.type)return e.type;const t=e.name?(n=ZO(e.name).extension)==null?void 0:n.toLowerCase():null;return t&&t in KC?KC[t]:"application/octet-stream"}function Qie(e){return e.charCodeAt(0).toString(32)}function QC(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${Qie(n)}`,"/"))+t}function Yie(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${QC(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${QC(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function Xie(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function Zie(e,t){if(Xie(e))return e.id;const n=JO(e);return Yie({...e,type:n},t)}function Jie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var NN=Jie,eae=typeof Dm=="object"&&Dm&&Dm.Object===Object&&Dm,tae=eae,sae=tae,nae=typeof self=="object"&&self&&self.Object===Object&&self,rae=sae||nae||Function("return this")(),eL=rae,iae=eL,aae=function(){return iae.Date.now()},oae=aae,lae=/\s/;function cae(e){for(var t=e.length;t--&&lae.test(e.charAt(t)););return t}var dae=cae,uae=dae,hae=/^\s+/;function mae(e){return e&&e.slice(0,uae(e)+1).replace(hae,"")}var pae=mae,fae=eL,gae=fae.Symbol,tL=gae,YC=tL,sL=Object.prototype,xae=sL.hasOwnProperty,yae=sL.toString,au=YC?YC.toStringTag:void 0;function vae(e){var t=xae.call(e,au),n=e[au];try{e[au]=void 0;var r=!0}catch{}var i=yae.call(e);return r&&(t?e[au]=n:delete e[au]),i}var bae=vae,jae=Object.prototype,wae=jae.toString;function Nae(e){return wae.call(e)}var Sae=Nae,XC=tL,Cae=bae,kae=Sae,_ae="[object Null]",Tae="[object Undefined]",ZC=XC?XC.toStringTag:void 0;function Pae(e){return e==null?e===void 0?Tae:_ae:ZC&&ZC in Object(e)?Cae(e):kae(e)}var Eae=Pae;function Aae(e){return e!=null&&typeof e=="object"}var Dae=Aae,Mae=Eae,Iae=Dae,Rae="[object Symbol]";function Fae(e){return typeof e=="symbol"||Iae(e)&&Mae(e)==Rae}var Oae=Fae,Lae=pae,JC=NN,$ae=Oae,ek=NaN,Uae=/^[-+]0x[0-9a-f]+$/i,Bae=/^0b[01]+$/i,zae=/^0o[0-7]+$/i,Vae=parseInt;function qae(e){if(typeof e=="number")return e;if($ae(e))return ek;if(JC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=JC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lae(e);var n=Bae.test(e);return n||zae.test(e)?Vae(e.slice(2),n?2:8):Uae.test(e)?ek:+e}var Hae=qae,Wae=NN,nv=oae,tk=Hae,Gae="Expected a function",Kae=Math.max,Qae=Math.min;function Yae(e,t,n){var r,i,a,o,l,c,d=0,h=!1,u=!1,m=!0;if(typeof e!="function")throw new TypeError(Gae);t=tk(t)||0,Wae(n)&&(h=!!n.leading,u="maxWait"in n,a=u?Kae(tk(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function f(N){var S=r,k=i;return r=i=void 0,d=N,o=e.apply(k,S),o}function j(N){return d=N,l=setTimeout(p,t),h?f(N):o}function x(N){var S=N-c,k=N-d,T=t-S;return u?Qae(T,a-k):T}function g(N){var S=N-c,k=N-d;return c===void 0||S>=t||S<0||u&&k>=a}function p(){var N=nv();if(g(N))return y(N);l=setTimeout(p,x(N))}function y(N){return l=void 0,m&&r?f(N):(r=i=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function w(){return l===void 0?o:y(nv())}function C(){var N=nv(),S=g(N);if(r=arguments,i=this,c=N,S){if(l===void 0)return j(c);if(u)return clearTimeout(l),l=setTimeout(p,t),f(c)}return l===void 0&&(l=setTimeout(p,t)),o}return C.cancel=v,C.flush=w,C}var nL=Yae;const Xae=Mi(nL);var Zae=nL,Jae=NN,eoe="Expected a function";function toe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(eoe);return Jae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zae(e,t,{leading:r,maxWait:t,trailing:i})}var soe=toe;const noe=Mi(soe);var roe=function(){var t={},n=t._fns={};t.emit=function(o,l,c,d,h,u,m){var f=r(o);f.length&&i(o,f,[l,c,d,h,u,m])},t.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},t.once=function(o,l){function c(){l.apply(this,arguments),t.off(o,c)}this.on(o,c)},t.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],h=0,u=d?d.length:0;for(h;h<u;h++)d[h]!==l&&c.push(d[h])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=n[a]?n[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(n),h=0,u=d.length;for(h;h<u;h++){var m=d[h];if(m==="*"&&(o=o.concat(n[m])),c.length===2&&c[0]===m){o=o.concat(n[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return t};const ioe=Mi(roe);let aoe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ooe=(e=21)=>{let t="",n=e|0;for(;n--;)t+=aoe[Math.random()*64|0];return t};const loe="@uppy/core",coe="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",doe="4.5.2",uoe="MIT",hoe="lib/index.js",moe="dist/style.min.css",poe="module",foe=["*.css"],goe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},xoe=["file uploader","uppy","uppy-plugin"],yoe="https://uppy.io",voe={url:"https://github.com/transloadit/uppy/issues"},boe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},joe=["src","lib","dist","CHANGELOG.md"],woe={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Noe={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Soe={name:loe,description:coe,version:doe,license:uoe,main:hoe,style:moe,type:poe,sideEffects:foe,scripts:goe,keywords:xoe,homepage:yoe,bugs:voe,repository:boe,files:joe,dependencies:woe,devDependencies:Noe};function Coe(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const koe={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var _oe=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const n=t<0;let r=Math.abs(t);if(n&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Uo=Mi(_oe);function rL(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}rL.prototype.match=function(e){var t=!0,n=this.parts,r,i=n.length,a;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(a=(e||"").split(this.separator),r=0;t&&r<i;r++)n[r]!=="*"&&(r<a.length?t=n[r]===a[r]:t=!1);t=t&&a}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var Toe=function(e,t,n){var r=new rL(e,n||/[\/\.]/);return typeof t<"u"?r.match(t):r},Poe=Toe,Eoe=/[\/\+\.]/,Aoe=function(e,t){function n(r){var i=Poe(r,e,Eoe);return i&&i.length>=2}return t?n(t.split(";")[0]):n};const Doe=Mi(Aoe),Moe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Ar extends Error{constructor(n,r){super(n);A(this,"isUserFacing");A(this,"file");A(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class Ioe{constructor(t,n){A(this,"getI18n");A(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var i;const r=t();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(t,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(o=>!o.isGhost).length+n.length>i)throw new Ar(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...t,...n].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Ar(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Uo(r),size:Uo(a)}))}}validateSingleFile(t){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?t.type?Doe(t.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&t.extension?t.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Ar(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:t})}if(n&&t.size!=null&&t.size>n)throw new Ar(this.getI18n()("exceedsSize",{size:Uo(n),file:t.name??this.getI18n()("unnamed")}),{file:t});if(r&&t.size!=null&&t.size<r)throw new Ar(this.getI18n()("inferiorSize",{size:Uo(r)}),{file:t})}validate(t,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new Ar(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){const n=new Ar(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(t.meta,a)||t.meta[a]==="")&&i.push(a);return{missingFields:i,error:n}}}function Roe(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const fp={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Sr,Cr,Vh,Ko,Rc,Fc,Qo,Qe,Mo,Cb,iL,kb,aL,_b,Tb,Pb,Eb,Cg,Ab,Yo,oL,lL,Ua,qh,xu,cL,Jp,yu;const kg=class kg{constructor(t){K(this,Qe);K(this,Sr,Object.create(null));K(this,Cr);K(this,Vh);K(this,Ko,ioe());K(this,Rc,new Set);K(this,Fc,new Set);K(this,Qo,new Set);A(this,"defaultLocale");A(this,"locale");A(this,"opts");A(this,"store");A(this,"i18n");A(this,"i18nArray");A(this,"scheduledAutoProceed",null);A(this,"wasOffline",!1);K(this,Cg,(t,n)=>{const r=t?this.getFile(t.id):void 0;if(t==null||!r){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...r.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(t.id,{progress:{...r.progress,...i}}),_(this,Yo).call(this)});K(this,Yo,noe(()=>ne(this,Qe,Ab).call(this),500,{leading:!0,trailing:!0}));K(this,Ua,this.updateOnlineStatus.bind(this));K(this,qh,new Map);this.defaultLocale=koe;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Moe,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new YO,logger:lie,infoTimeout:5e3},r={...n,...t};this.opts={...r,restrictions:{...n.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=cie),this.log(`Using Core v${kg.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...fp,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Roe(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),te(this,Cr,new Ioe(()=>this.opts,()=>this.i18n)),te(this,Vh,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ne(this,Qe,lL).call(this)}emit(t,...n){_(this,Ko).emit(t,...n)}on(t,n){return _(this,Ko).on(t,n),this}once(t,n){return _(this,Ko).once(t,n),this}off(t,n){return _(this,Ko).off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(([r,i])=>[r,{...n[r],...i}]))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){const t=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new TO([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...fp})}clear(){const{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...fp,files:{}})}addPreProcessor(t){_(this,Rc).add(t)}removePreProcessor(t){return _(this,Rc).delete(t)}addPostProcessor(t){_(this,Qo).add(t)}removePostProcessor(t){return _(this,Qo).delete(t)}addUploader(t){_(this,Fc).add(t)}removeUploader(t){return _(this,Fc).delete(t)}setMeta(t){const n={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:r})}setFileMeta(t,n){const r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const i={...r[t].meta,...n};r[t]={...r[t],meta:i},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:t,totalProgress:n,error:r}=this.getState(),i=Object.values(t),a=[],o=[],l=[],c=[],d=[],h=[],u=[],m=[],f=[];for(const j of i){const{progress:x}=j;!x.uploadComplete&&x.uploadStarted&&(a.push(j),j.isPaused||m.push(j)),x.uploadStarted||o.push(j),(x.uploadStarted||x.preprocess||x.postprocess)&&l.push(j),x.uploadStarted&&c.push(j),j.isPaused&&d.push(j),x.uploadComplete&&h.push(j),j.error&&u.push(j),(x.preprocess||x.postprocess)&&f.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:h,erroredFiles:u,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:c.length>0,isAllComplete:n===100&&h.length===i.length&&f.length===0,isAllErrored:!!r&&u.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(j=>j.isGhost)}}validateRestrictions(t,n=this.getFiles()){try{_(this,Cr).validate(n,[t])}catch(r){return r}return null}validateSingleFile(t){try{_(this,Cr).validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){const n=this.getFiles();try{_(this,Cr).validateAggregateRestrictions(n,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){const{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}addFile(t){ne(this,Qe,kb).call(this,t);const{nextFilesState:n,validFilesToAdd:r,errors:i}=ne(this,Qe,Tb).call(this,[t]),a=i.filter(l=>l.isRestriction);if(ne(this,Qe,Mo).call(this,a),i.length>0)throw i[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),ne(this,Qe,_b).call(this),o.id}addFiles(t){ne(this,Qe,kb).call(this);const{nextFilesState:n,validFilesToAdd:r,errors:i}=ne(this,Qe,Tb).call(this,t),a=i.filter(l=>l.isRestriction);ne(this,Qe,Mo).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&ne(this,Qe,_b).call(this)}removeFiles(t){const{files:n,currentUploads:r}=this.getState(),i={...n},a={...r},o=Object.create(null);t.forEach(h=>{n[h]&&(o[h]=n[h],delete i[h])});function l(h){return o[h]===void 0}Object.keys(a).forEach(h=>{const u=r[h].fileIDs.filter(l);if(u.length===0){delete a[h];return}const{capabilities:m}=this.getState();if(u.length!==r[h].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[h]={...r[h],fileIDs:u}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),_(this,Yo).call(this);const d=Object.keys(o);d.forEach(h=>{this.emit("file-removed",o[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const n=this.getFile(t),i=!(n.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!0};t[r]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!1,error:null};t[r]=i}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await ne(this,Qe,Eb).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(fp)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const n=ne(this,Qe,xu).call(this,[t],{forceAllowNewUpload:!0});return ne(this,Qe,yu).call(this,n)}logout(){this.iteratePlugins(t=>{var n,r;(r=(n=t.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return ne(this,Qe,Ab).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...n){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new t(this,...n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),r.type in _(this,Sr)?_(this,Sr)[r.type].push(r):_(this,Sr)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(t){for(const n of Object.values(_(this,Sr))){const r=n.find(i=>i.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return _(this,Sr)[t]}iteratePlugins(t){Object.values(_(this,Sr)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const n=_(this,Sr)[t.type],r=n.findIndex(o=>o.id===t.id);r!==-1&&n.splice(r,1);const a={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),_(this,Vh).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_(this,Ua)),window.removeEventListener("offline",_(this,Ua)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n="info",r=3e3){const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,n){const{logger:r}=this.opts;switch(n){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,n){_(this,qh).set(t,n)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const n=_(this,qh).get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?ne(this,Qe,yu).call(this,t):(ne(this,Qe,Jp).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return ne(this,Qe,xu).call(this,...t)}addResultData(t,n){if(!ne(this,Qe,cL).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:r}=this.getState(),i={...r[t],result:{...r[t].result,...n}};this.setState({currentUploads:{...r,[t]:i}})}async upload(){var i;(i=_(this,Sr).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(ne(this,Qe,Pb).call(this).length>0){const a=await ne(this,Qe,Eb).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:t}=this.getState())}const r=this.opts.onBeforeUpload(t);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>_(this,Cr).validateMinNumberOfFiles(t)).catch(a=>{throw ne(this,Qe,Mo).call(this,[a]),a}).then(()=>{if(!ne(this,Qe,iL).call(this,t))throw new Ar(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(h=>h.fileIDs),l=[];Object.keys(t).forEach(h=>{const u=this.getFile(h);!u.progress.uploadStarted&&o.indexOf(h)===-1&&l.push(u.id)});const c=ne(this,Qe,xu).call(this,l),d=await ne(this,Qe,yu).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};Sr=new WeakMap,Cr=new WeakMap,Vh=new WeakMap,Ko=new WeakMap,Rc=new WeakMap,Fc=new WeakMap,Qo=new WeakMap,Qe=new WeakSet,Mo=function(t){for(const o of t)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=t.filter(o=>o.isUserFacing),r=4,i=n.slice(0,r),a=n.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Cb=function(t){const{missingFields:n,error:r}=_(this,Cr).getMissingRequiredMetaFields(t);return n.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",t,r),!1):(n.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},iL=function(t){let n=!0;for(const r of Object.values(t))ne(this,Qe,Cb).call(this,r)||(n=!1);return n},kb=function(t){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new Ar(this.i18n("noMoreFilesAllowed"),{file:t});throw ne(this,Qe,Mo).call(this,[r]),r}},aL=function(t){const n=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=JO(n),i=Coe(r,n),a=ZO(i).extension,o=Zie(n,this.getID()),l=n.meta||{};l.name=i,l.type=r;const c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,data:n.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:n.isRemote||!1,remote:n.remote,preview:n.preview}},_b=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},Tb=function(t){var o;let{files:n}=this.getState(),r={...n};const i=[],a=[];for(const l of t)try{let c=ne(this,Qe,aL).call(this,l);const d=(o=n[c.id])==null?void 0:o.isGhost;d&&(c={...n[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const h=this.opts.onBeforeFileAdded(c,r);if(n=this.getState().files,r={...n,...r},!h&&this.checkIfFileAlreadyExists(c.id))throw new Ar(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!d)throw new Ar("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(c=h),_(this,Cr).validateSingleFile(c),r[c.id]=c,i.push(c)}catch(c){a.push(c)}try{_(this,Cr).validateAggregateRestrictions(Object.values(n),i)}catch(l){return a.push(l),{nextFilesState:n,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Pb=function(){const{files:t}=this.getState();return Object.keys(t).filter(n=>t[n].error)},Eb=async function(){const t=ne(this,Qe,Pb).call(this),n={...this.getState().files};if(t.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const r=ne(this,Qe,xu).call(this,t,{forceAllowNewUpload:!0});return ne(this,Qe,yu).call(this,r)},Cg=new WeakMap,Ab=function(){const t=ne(this,Qe,oL).call(this);let n=null;t!=null&&(n=Math.round(t*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},Yo=new WeakMap,oL=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=n.filter(r),a=n.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},lL=function(){const t=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",t),this.on("upload-error",(i,a,o)=>{if(t(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),ne(this,Qe,Mo).call(this,[l])}else ne(this,Qe,Mo).call(this,[a])});let n=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",_(this,Cg)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...o,postprocess:_(this,Qo).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),_(this,Yo).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{_(this,Yo).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ne(this,Qe,Cb).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_(this,Ua)),window.addEventListener("offline",_(this,Ua)),setTimeout(_(this,Ua),3e3))},Ua=new WeakMap,qh=new WeakMap,xu=function(t,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=ooe();return this.emit("upload",o,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:t,step:0,result:{}}}}),o},cL=function(t){const{currentUploads:n}=this.getState();return n[t]},Jp=function(t){const n={...this.getState().currentUploads};delete n[t],this.setState({currentUploads:n})},yu=async function(t){const n=()=>{const{currentUploads:o}=this.getState();return o[t]};let r=n();const i=[..._(this,Rc),..._(this,Fc),..._(this,Qo)];try{for(let o=r.step||0;o<i.length&&r;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:o}}});const{fileIDs:c}=r;await l(c,t),r=n()}}catch(o){throw ne(this,Qe,Jp).call(this,t),o}if(r){r.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),r=n()}let a;return r&&(a=r.result,ne(this,Qe,Jp).call(this,t)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),a={successful:[],failed:[],uploadID:t}),a},A(kg,"VERSION",Soe.version);let Sb=kg;var Foe=0;function I(e,t,n,r,i,a){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var d={type:e,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Foe,__i:-1,__u:0,__source:i,__self:a};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return ft.vnode&&ft.vnode(d),d}const Ooe="@uppy/informer",Loe="A notification and error pop-up bar for Uppy.",$oe="4.3.2",Uoe="MIT",Boe="lib/index.js",zoe="dist/style.min.css",Voe="module",qoe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},Hoe=["file uploader","uppy","uppy-plugin","notification","bar","ui"],Woe="https://uppy.io",Goe={url:"https://github.com/transloadit/uppy/issues"},Koe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Qoe=["src","lib","dist","CHANGELOG.md"],Yoe={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},Xoe={"@uppy/core":"^4.5.2"},Zoe={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Joe={name:Ooe,description:Loe,version:$oe,license:Uoe,main:Boe,style:zoe,type:Voe,scripts:qoe,keywords:Hoe,homepage:Woe,bugs:Goe,repository:Koe,files:Qoe,dependencies:Yoe,peerDependencies:Xoe,devDependencies:Zoe},sk=300;class ele extends Rn{constructor(){super(...arguments);A(this,"ref",hie())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,sk)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,sk)}render(){const{children:n}=this.props;return I("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function tle(e,t){return Object.assign(e,t)}function sle(e,t){return(e==null?void 0:e.key)??t}function nle(e,t){const n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=r=>{e.refs[t]=r})}function ou(e){const t={};for(let n=0;n<e.length;n++)if(e[n]!=null){const r=sle(e[n],n.toString(36));t[r]=e[n]}return t}function rle(e,t){e=e||{},t=t||{};const n=o=>Object.hasOwn(t,o)?t[o]:e[o],r={};let i=[];for(const o in e)Object.hasOwn(t,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in t){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=n(c)}a[o]=n(o)}for(let o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}const ile=e=>e;class dL extends Rn{constructor(t,n){super(t,n),this.refs={},this.state={children:ou(Fr(Fr(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const n in t)t[n]&&this.performAppear(n)}componentWillReceiveProps(t){const n=ou(Fr(t.children)||[]),r=this.state.children;this.setState(a=>({children:rle(a.children,n)}));let i;for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(t){const n=this.keysToAbortLeave.indexOf(t);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const n=this.refs[t];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=ou(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const n=this.refs[t];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=ou(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const r=this.refs[t];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const i=ou(Fr(this.props.children)||[]);if(i&&Object.hasOwn(i,t))this.performEnter(t);else{const a=tle({},this.state.children);delete a[t],this.setState({children:a})}}render({childFactory:t,transitionLeave:n,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...h},{children:u}){const m=Object.entries(u).map(([f,j])=>{if(!j)return;const x=nle(this,f);return VO(t(j),{ref:x,key:f})}).filter(Boolean);return Dh(d,h,m)}}dL.defaultProps={component:"span",childFactory:ile};class uL extends Nd{constructor(n,r){super(n,r);A(this,"render",n=>I("div",{className:"uppy uppy-Informer",children:I(dL,{children:n.info.map(r=>I(ele,{children:I("p",{role:"alert",children:[r.message," ",r.details&&I("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:n}=this.opts;n&&this.mount(n,this)}}A(uL,"VERSION",Joe.version);var hL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hL);var ale=hL.exports;const Xr=Mi(ale),ole={position:"relative",width:"100%",minHeight:"100%"},lle={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class cle extends Rn{constructor(n){super(n);A(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});A(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var n;(n=this.focusElement)!=null&&n.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:n}=this.state;n!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:n,rowHeight:r,renderRow:i,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/r),h=Math.floor(c/r);a&&(d=Math.max(0,d-d%a),h+=a);const u=d+h+4,m=n.slice(d,u),f={...ole,height:n.length*r},j={...lle,top:d*r};return I("div",{onScroll:this.handleScroll,...o,children:I("div",{role:"presentation",style:f,children:I("div",{role:"presentation",style:j,children:m.map(i)})})})}}function dle(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:I("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function nk(e,t,n,r){return e===t?e:r===0?t:e+(t-e)*2**(-r/n)}const ule="@uppy/status-bar",hle="A progress bar for Uppy, with many bells and whistles.",mle="4.2.3",ple="MIT",fle="lib/index.js",gle="dist/style.min.css",xle="module",yle={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},vle=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],ble="https://uppy.io",jle={url:"https://github.com/transloadit/uppy/issues"},wle={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Nle=["src","lib","dist","CHANGELOG.md"],Sle={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},Cle={"@uppy/core":"^4.5.2"},kle={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},_le={name:ule,description:hle,version:mle,license:ple,main:fle,style:gle,type:xle,scripts:yle,keywords:vle,homepage:ble,bugs:jle,repository:wle,files:Nle,dependencies:Sle,peerDependencies:Cle,devDependencies:kle},Tle={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ii={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function Ple(e){const t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:n,seconds:r}}function Ele(e){const t=Ple(e),n=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}const Ale="",rk=()=>` ${Ale} `;function Dle(e){const{newFiles:t,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=e,c=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ii.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=t&&n&&!r?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return I("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function Mle(e){const{i18n:t,uppy:n}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:I("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function Ile(e){const{i18n:t,uppy:n}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Rle(e){const{isAllPaused:t,i18n:n,isAllComplete:r,resumableUploads:i,uppy:a}=e,o=n(t?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(t){a.resumeAll();return}a.pauseAll()}}return I("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Fle(e){const{i18n:t,doneButtonHandler:n}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:t("done")})}function mL(){return I("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:I("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Ole(e){const{progress:t}=e,{value:n,mode:r,message:i}=t;return I("div",{className:"uppy-StatusBar-content",children:[I(mL,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",i]})}function Lle(e){const{numUploads:t,complete:n,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=e,l=t>1,c=Uo(r);return I("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),I("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&rk(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Uo(i)}):o("dataUploadedOfUnknown",{complete:c}),rk(),a!=null&&o("xTimeLeft",{time:Ele(a)})]})]})}function pL(e){const{i18n:t,complete:n,numUploads:r}=e;return I("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:n,smart_count:r})})}function $le(e){const{i18n:t,newFiles:n,startUpload:r}=e,i=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return I("div",{className:"uppy-StatusBar-statusSecondary",children:[I("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:n})}),I("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r,children:t("upload")})]})}function Ule(e){const{i18n:t,supportsUploadProgress:n,totalProgress:r,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:f,startUpload:j}=e,x=c&&a;if(!a||o)return null;const g=t(l?"paused":"uploading");function p(){return!l&&!x&&i?n?I(Lle,{numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:f,i18n:t}):I(pL,{i18n:t,complete:h,numUploads:d}):null}return I("div",{className:"uppy-StatusBar-content",title:g,children:[l?null:I(mL,{}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${g}: ${r}%`:g}),p(),x?I($le,{i18n:t,newFiles:c,startUpload:j}):null]})]})}function Ble(e){const{i18n:t}=e;return I("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:I("div",{className:"uppy-StatusBar-status",children:I("div",{className:"uppy-StatusBar-statusPrimary",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:I("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function zle(e){const{error:t,i18n:n,complete:r,numUploads:i}=e;function a(){const o=`${n("uploadFailed")} 

 ${t}`;alert(o)}return I("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),I("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),I(pL,{i18n:n,complete:r,numUploads:i})]})]})}function rv(e){const t=[];let n="indeterminate",r;for(const{progress:a}of Object.values(e)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:n,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const i=t.reduce((a,o)=>a+o/t.length,0);return{mode:n,message:r,value:i}}const{STATE_ERROR:ik,STATE_WAITING:Vle,STATE_PREPROCESSING:iv,STATE_UPLOADING:gp,STATE_POSTPROCESSING:av,STATE_COMPLETE:xp}=ii;function qle({newFiles:e,allowNewUpload:t,isUploadInProgress:n,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:u,totalProgress:m,files:f,supportsUploadProgress:j,hideAfterFinish:x=!1,isSomeGhost:g,doneButtonHandler:p=void 0,isUploadStarted:y,i18n:v,startUpload:w,uppy:C,isAllComplete:N,showProgressDetails:S=void 0,numUploads:k,complete:T,totalSize:D,totalETA:P,totalUploadedSize:M}){function X(){switch(u){case av:case iv:{const yt=rv(f);return yt.mode==="determinate"?yt.value*100:m}case ik:return null;case gp:return j?m:null;default:return m}}function ee(){switch(u){case av:case iv:{const{mode:yt}=rv(f);return yt==="indeterminate"}case gp:return!j;default:return!1}}const F=X(),re=F??100,fe=!a&&e&&(!n&&!r||h)&&t&&!o,H=!c&&u!==Vle&&u!==xp,$=i&&!l&&u===gp,oe=a&&!N&&!d,be=p&&u===xp,st=Xr("uppy-StatusBar-progress",{"is-indeterminate":ee()}),_t=Xr("uppy-StatusBar",`is-${u}`,{"has-ghosts":g}),Ft=(()=>{switch(u){case iv:case av:return I(Ole,{progress:rv(f)});case xp:return I(Ble,{i18n:v});case ik:return I(zle,{error:a,i18n:v,numUploads:k,complete:T});case gp:return I(Ule,{i18n:v,supportsUploadProgress:j,totalProgress:m,showProgressDetails:S,isUploadStarted:y,isAllComplete:N,isAllPaused:r,newFiles:e,numUploads:k,complete:T,totalUploadedSize:M,totalSize:D,totalETA:P,startUpload:w});default:return null}})();return!(fe||oe||$||H||be)&&!Ft||u===xp&&x?null:I("div",{className:_t,children:[I("div",{className:st,style:{width:`${re}%`},role:"progressbar","aria-label":`${re}%`,"aria-valuetext":`${re}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":F}),Ft,I("div",{className:"uppy-StatusBar-actions",children:[fe?I(Dle,{newFiles:e,isUploadStarted:y,recoveredState:h,i18n:v,isSomeGhost:g,startUpload:w,uploadState:u}):null,oe?I(Mle,{i18n:v,uppy:C}):null,$?I(Rle,{isAllPaused:r,i18n:v,isAllComplete:N,resumableUploads:i,uppy:C}):null,H?I(Ile,{i18n:v,uppy:C}):null,be?I(Fle,{i18n:v,doneButtonHandler:p}):null]})]})}const Hle=2e3,Wle=2e3;function Gle(e,t,n,r){if(e)return ii.STATE_ERROR;if(t)return ii.STATE_COMPLETE;if(n)return ii.STATE_WAITING;let i=ii.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ii.STATE_UPLOADING;l.preprocess&&(i=ii.STATE_PREPROCESSING),l.postprocess&&i!==ii.STATE_PREPROCESSING&&(i=ii.STATE_POSTPROCESSING)}return i}const Kle={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var fv,Ba,za,Xo,Wi,_g,fL,Hh;let Qle=(fv=class extends Nd{constructor(n,r){super(n,{...Kle,...r});K(this,_g);K(this,Ba);K(this,za);K(this,Xo);K(this,Wi);A(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));K(this,Hh,()=>{const{recoveredState:n}=this.uppy.getState();if(te(this,Xo,null),te(this,Wi,null),n){te(this,za,Object.values(n.files).reduce((r,{progress:i})=>r+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}te(this,Ba,performance.now()),te(this,za,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Tle,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(n){const{capabilities:r,files:i,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=n,{newFiles:d,startedFiles:h,completeFiles:u,isUploadStarted:m,isAllComplete:f,isAllPaused:j,isUploadInProgress:x,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),p=c?Object.values(i):d,y=!!r.resumableUploads,v=r.uploadProgress!==!1;let w=null,C=0;h.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(w=0,h.forEach(S=>{w+=S.progress.bytesTotal||0,C+=S.progress.bytesUploaded||0})):h.forEach(S=>{C+=S.progress.bytesUploaded||0});const N=ne(this,_g,fL).call(this,{uploaded:C,total:w});return qle({error:l,uploadState:Gle(l,f,c,n.files||{}),allowNewUpload:a,totalProgress:o,totalSize:w,totalUploadedSize:C,isAllComplete:!1,isAllPaused:j,isUploadStarted:m,isUploadInProgress:x,isSomeGhost:g,recoveredState:c,complete:u.length,newFiles:p.length,numUploads:h.length,totalETA:N,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:v,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const n=this.el;AO(n)||(n.dir="ltr")}install(){const{target:n}=this.opts;n&&this.mount(n,this),this.uppy.on("upload",_(this,Hh)),te(this,Ba,performance.now()),te(this,za,this.uppy.getFiles().reduce((r,i)=>r+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",_(this,Hh))}},Ba=new WeakMap,za=new WeakMap,Xo=new WeakMap,Wi=new WeakMap,_g=new WeakSet,fL=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;_(this,Ba)??te(this,Ba,performance.now());const i=performance.now()-_(this,Ba);if(i===0)return Math.round((_(this,Wi)??0)/100)/10;const a=n.uploaded-_(this,za);if(te(this,za,n.uploaded),a<=0)return Math.round((_(this,Wi)??0)/100)/10;const o=a/i,l=_(this,Xo)==null?o:nk(o,_(this,Xo),Hle,i);te(this,Xo,l);const c=r/l,d=Math.max(_(this,Wi)-i,0),h=_(this,Wi)==null?c:nk(c,d,Wle,i);return te(this,Wi,h),te(this,Ba,performance.now()),Math.round(h/100)/10},Hh=new WeakMap,A(fv,"VERSION",_le.version),fv);const Yle=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Xle(e,t,n){const r=Yle.exec(e),i=t.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}function ak(e){return e.startsWith("blob:")}function ok(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gL=typeof self<"u"?self:global;const Rh=typeof navigator<"u",Zle=Rh&&typeof HTMLImageElement>"u",lk=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),xL=gL.Buffer,yL=!!xL,Jle=e=>e!==void 0;function vL(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(Jle).length===0)}function Vs(e){let t=new Error(e);throw delete t.stack,t}function ck(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const ov=e=>String.fromCharCode.apply(null,e),dk=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class $r{static from(t,n){return t instanceof this&&t.le===n?t:new $r(t,void 0,void 0,n)}constructor(t,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let a=new DataView(t,n,r);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof $r){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&Vs("Creating view outside of available memory in ArrayBuffer");let a=new DataView(t.buffer,n,r);this._swapDataView(a)}else if(typeof t=="number"){let a=new DataView(new ArrayBuffer(t));this._swapDataView(a)}else Vs("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=$r){return t instanceof DataView||t instanceof $r?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Vs("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new $r(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return i=this.getUint8Array(t,n),dk?dk.decode(i):yL?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(ov(i)));var i}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return ov(r)}getUnicodeString(t=0,n=this.byteLength){const r=[];for(let i=0;i<n&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return ov(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function Db(e,t){Vs(`${e} '${t}' was not loaded, try using full build of exifr.`)}class SN extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||Db(this.kind,t),n&&(t in n||function(r,i){Vs(`Unknown ${r} '${i}'.`)}(this.kind,t),n[t].enabled||Db(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var bL=new SN("file parser"),Dr=new SN("segment parser"),CN=new SN("file reader");let ece=gL.fetch;function uk(e,t){return(n=e).startsWith("data:")||n.length>1e4?Ib(e,t,"base64"):lk&&e.includes("://")?Mb(e,t,"url",hk):lk?Ib(e,t,"fs"):Rh?Mb(e,t,"url",hk):void Vs("Invalid input argument");var n}async function Mb(e,t,n,r){return CN.has(n)?Ib(e,t,n):r?async function(i,a){let o=await a(i);return new $r(o)}(e,r):void Vs(`Parser ${n} is not loaded`)}async function Ib(e,t,n){let r=new(CN.get(n))(e,t);return await r.read(),r}const hk=e=>ece(e).then(t=>t.arrayBuffer()),Rb=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}),kN=new Map,tce=new Map,sce=new Map,yp=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],jL=["jfif","xmp","icc","iptc","ihdr"],Fb=["tiff",...jL],Rs=["ifd0","ifd1","exif","gps","interop"],vp=[...Fb,...Rs],bp=["makerNote","userComment"],wL=["translateKeys","translateValues","reviveValues","multiSegment"],jp=[...wL,"sanitize","mergeOutput","silentErrors"];class NL{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class lu extends NL{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,i){if(super(),Dt(this,"enabled",!1),Dt(this,"skip",new Set),Dt(this,"pick",new Set),Dt(this,"deps",new Set),Dt(this,"translateKeys",!1),Dt(this,"translateValues",!1),Dt(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Rs.includes(t),this.canBeFiltered&&(this.dict=kN.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Vs(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of wL)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of t)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&n.add(Number(a[i]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,jg(this.pick,this.deps)):this.enabled&&this.pick.size>0&&jg(this.pick,this.deps)}}var fn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},mk=new Map;class _N extends NL{static useCached(t){let n=mk.get(t);return n!==void 0||(n=new this(t),mk.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Vs(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Rh?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of yp)this[t]=fn[t];for(t of jp)this[t]=fn[t];for(t of bp)this[t]=fn[t];for(t of vp)this[t]=new lu(t,fn[t],void 0,this)}setupFromTrue(){let t;for(t of yp)this[t]=fn[t];for(t of jp)this[t]=fn[t];for(t of bp)this[t]=!0;for(t of vp)this[t]=new lu(t,!0,void 0,this)}setupFromArray(t){let n;for(n of yp)this[n]=fn[n];for(n of jp)this[n]=fn[n];for(n of bp)this[n]=fn[n];for(n of vp)this[n]=new lu(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,Rs)}setupFromObject(t){let n;for(n of(Rs.ifd0=Rs.ifd0||Rs.image,Rs.ifd1=Rs.ifd1||Rs.thumbnail,Object.assign(this,t),yp))this[n]=lv(t[n],fn[n]);for(n of jp)this[n]=lv(t[n],fn[n]);for(n of bp)this[n]=lv(t[n],fn[n]);for(n of Fb)this[n]=new lu(n,fn[n],t[n],this);for(n of Rs)this[n]=new lu(n,fn[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Rs,vp),t.tiff===!0?this.batchEnableWithBool(Rs,!0):t.tiff===!1?this.batchEnableWithUserValue(Rs,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Rs):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Rs)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,n,r,i=r){if(t&&t.length){for(let o of i)this[o].enabled=!1;let a=pk(t,r);for(let[o,l]of a)jg(this[o].pick,l),this[o].enabled=!0}else if(n&&n.length){let a=pk(n,r);for(let[o,l]of a)jg(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:i,icc:a}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),a.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Rs.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Rs)this[a].finalizeFilters()}get onlyTiff(){return!jL.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Fb)this[t].enabled&&!Dr.has(t)&&Db("segment parser",t)}}function pk(e,t){let n,r,i,a,o=[];for(i of t){for(a of(n=kN.get(i),r=[],n))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function lv(e,t){return e!==void 0?e:t!==void 0?t:void 0}function jg(e,t){for(let n of t)e.add(n)}Dt(_N,"default",fn);class nce{constructor(t){Dt(this,"parsers",{}),Dt(this,"output",{}),Dt(this,"errors",[]),Dt(this,"pushToErrors",n=>this.errors.push(n)),this.options=_N.useCached(t)}async read(t){this.file=await function(n,r){return typeof n=="string"?uk(n,r):Rh&&!Zle&&n instanceof HTMLImageElement?uk(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new $r(n):Rh&&n instanceof Blob?Mb(n,r,"blob",Rb):void Vs("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,i]of bL)if(i.canHandle(t,n))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),Vs("Unknown file format")}async parse(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),vL(r=t)?void 0:r;var r}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(t,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:t,file:n}=this,r=Dr.get("tiff",t);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,t,n),l=await o.extractThumbnail();return n.close&&n.close(),l}}class tc{static findPosition(t,n){let r=t.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,a=n+i,o=r-i;return{offset:n,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(t,n={}){return new this(t,new _N({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof $r?t:new $r(t)}constructor(t,n={},r){Dt(this,"errors",[]),Dt(this,"raw",new Map),Dt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=sce.get(n),i=tce.get(n),a=kN.get(n),o=this.options[n],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,h={};for(let[u,m]of t)l&&r.has(u)?m=r.get(u)(m):c&&i.has(u)&&(m=this.translateValue(m,i.get(u))),d&&a.has(u)&&(u=a.get(u)||u),h[u]=m;return h}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}}Dt(tc,"headerLength",4),Dt(tc,"type",void 0),Dt(tc,"multiSegment",!1),Dt(tc,"canHandle",()=>!1);function rce(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function ice(e){return e>=224&&e<=239}function ace(e,t,n){for(let[r,i]of Dr)if(i.canHandle(e,t,n))return r}class fk extends class{constructor(t,n,r){Dt(this,"errors",[]),Dt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){Vs(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):Vs("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new(Dr.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:i}=n,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(t){let n=t.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...t){super(...t),Dt(this,"appSegments",[]),Dt(this,"jpegSegments",[]),Dt(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Dr.keyList())):(t=t===void 0?Dr.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&Dr.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Dr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(l=t>c&&!d?!await r.readNextChunk(t):!await r.readNextChunk(c),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,n){n-=2;let r,i,a,o,l,c,{file:d,findAll:h,wanted:u,remaining:m,options:f}=this;for(;t<n;t++)if(d.getUint8(t)===255){if(r=d.getUint8(t+1),ice(r)){if(i=d.getUint16(t+2),a=ace(d,t,i),a&&u.has(a)&&(o=Dr.get(a),l=o.findPosition(d,t),c=f[a],l.type=a,this.appSegments.push(l),!h&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;f.recordUnknownSegments&&(l=tc.findPosition(d,t),l.marker=r,this.unknownSegments.push(l)),t+=i+1}else if(rce(r)){if(i=d.getUint16(t+2),r===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let i,a,o,l=new Map;for(let c=0;c<n.length;c++)i=n[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let i=Dr.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}async getOrFindSegment(t){let n=this.getSegment(t);return n===void 0&&(await this.findAppSegments(0,[t]),n=this.getSegment(t)),n}}Dt(fk,"type","jpeg"),bL.set("jpeg",fk);const oce=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class lce extends tc{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:i,skip:a}=this.options[n];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(t);t+=2;for(let d=0;d<c;d++){let h=this.chunk.getUint16(t);if(o){if(i.has(h)&&(r.set(h,this.parseTag(t,h,n)),i.delete(h),i.size===0))break}else!l&&a.has(h)||r.set(h,this.parseTag(t,h,n));t+=12}return r}parseTag(t,n,r){let{chunk:i}=this,a=i.getUint16(t+2),o=i.getUint32(t+4),l=oce[a];if(l*o<=4?t+=8:t=i.getUint32(t+8),(a<1||a>13)&&Vs(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${t}`),t>i.byteLength&&Vs(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${t} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(t,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(t,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(t,o);if(o===1)return this.parseTagValue(a,t);{let d=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),h=l;for(let u=0;u<o;u++)d[u]=this.parseTagValue(a,t),t+=h;return d}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Vs(`Invalid tiff type ${t}`)}}}class cv extends lce{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Vs("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Vs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,ck(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,ck(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",gk(...t.get(2),t.get(1))),t.set("longitude",gk(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,i={};for(n of Rs)if(t=this[n],!vL(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(t,r,i)}}function gk(e,t,n,r){var i=e+t/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Dt(cv,"type","tiff"),Dt(cv,"headerLength",10),Dr.set("tiff",cv);const TN={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},TN,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},TN,{tiff:!1,ifd1:!0,mergeOutput:!1});const cce=Object.assign({},TN,{firstChunkSize:4e4,ifd0:[274]});async function dce(e){let t=new nce(cce);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const uce=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let vu=!0,bu=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;vu=Number(n)+.1*Number(r)<13.4,bu=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);vu=bu=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);vu=bu=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);vu=bu=Number(t)<77}}async function hce(e){let t=await dce(e);return Object.assign({canvas:vu,css:bu},uce[t])}class mce extends $r{constructor(...t){super(...t),Dt(this,"ranges",new pce),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+n;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(t){let n;n=yL?xL.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let i=super.set(t,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(t,n){this.chunked&&(this.ranges.available(t,n)||await this.readChunk(t,n))}available(t,n){return this.ranges.available(t,n)}}class pce{constructor(){Dt(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let i=t+n,a=this.list.filter(o=>xk(t,o.offset,i)||xk(t,o.end,i));if(a.length>0){t=Math.min(t,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),n=i-t;let o=a.shift();o.offset=t,o.length=n,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:t,length:n,end:i})}available(t,n){let r=t+n;return this.list.some(i=>i.offset<=t&&r<=i.end)}}function xk(e,t,n){return e<=t&&t<=n}class fce extends mce{constructor(t,n){super(0),Dt(this,"chunksRead",0),this.input=t,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(t,n);return!!r&&r.byteLength===n}async readChunk(t,n){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}CN.set("blob",class extends fce{async readWhole(){this.chunked=!1;let e=await Rb(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Rb(r);return this.set(i,e,!0)}});const gce="@uppy/thumbnail-generator",xce="Uppy plugin that generates small previews of images to show on your upload UI.",yce="4.2.2",vce="MIT",bce="lib/index.js",jce="module",wce={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Nce=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],Sce="https://uppy.io",Cce={url:"https://github.com/transloadit/uppy/issues"},kce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},_ce=["src","lib","dist","CHANGELOG.md"],Tce={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},Pce={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Ece={"@uppy/core":"^4.5.2"},Ace={name:gce,description:xce,version:yce,license:vce,main:bce,type:jce,scripts:wce,keywords:Nce,homepage:Sce,bugs:Cce,repository:kce,files:_ce,dependencies:Tce,devDependencies:Pce,peerDependencies:Ece},Dce={strings:{generatingThumbnails:"Generating thumbnails..."}};function Mce(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(r=>{e.toBlob(r,t,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>Xle(e.toDataURL(t,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function Ice(e,t){let n=e.width,r=e.height;(t.deg===90||t.deg===270)&&(n=e.height,r=e.width);const i=document.createElement("canvas");i.width=n,i.height=r;const a=i.getContext("2d");return a.translate(n/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}function Rce(e){const t=e.width/e.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*t)),a=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}const Fce={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class SL extends Nd{constructor(n,r){super(n,{...Fce,...r});A(this,"queue");A(this,"queueProcessing");A(this,"defaultThumbnailDimension");A(this,"thumbnailType");A(this,"onFileAdded",n=>{!n.preview&&n.data&&ok(n.type)&&!n.isRemote&&this.addToQueue(n.id)});A(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});A(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&ak(n.preview)&&URL.revokeObjectURL(n.preview)});A(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||ak(r.preview))&&this.addToQueue(r.id)})});A(this,"onAllFilesRemoved",()=>{this.queue=[]});A(this,"waitUntilAllProcessed",n=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Dce,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,i){const a=URL.createObjectURL(n.data),o=new Promise((c,d)=>{const h=new Image;h.src=a,h.addEventListener("load",()=>{URL.revokeObjectURL(a),c(h)}),h.addEventListener("error",u=>{URL.revokeObjectURL(a),d(u.error||new Error("Could not create thumbnail"))})}),l=hce(n.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const h=this.getProportionalDimensions(c,r,i,d.deg),u=Ice(c,d),m=this.resizeImage(u,h.width,h.height);return Mce(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,r,i,a){let o=n.width/n.height;return(a===90||a===270)&&(o=n.height/n.width),r!=null?{width:r,height:Math.round(r/o)}:i!=null?{width:Math.round(i*o),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(n,r,i){let a=Rce(n),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(a,0,0,l,c),a=h,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return ok(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}A(SL,"VERSION",Ace.version);function yk(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&EO(e)?[e]:null}const $u=Array.from;function Oce(e){const t=$u(e.files);return Promise.resolve(t)}function CL(e,t,n,{onSuccess:r}){e.readEntries(i=>{const a=[...t,...i];i.length?queueMicrotask(()=>{CL(e,a,n,{onSuccess:r})}):r(a)},i=>{n(i),r(t)})}function kL(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((n,r)=>e.file(n,r))},async*values(){const n=e.createReader();yield*await new Promise(i=>{CL(n,[],t,{onSuccess:a=>i(a.map(o=>kL(o,t)))})})},isSameEntry:void 0}}async function*_L(e,t,n=void 0){const r=()=>`${t}/${e.name}`;if(e.kind==="file"){const i=await e.getFile();i!=null?(i.relativePath=t?r():null,yield i):n!=null&&(yield n)}else if(e.kind==="directory")for await(const i of e.values())yield*_L(i,t?r():e.name);else n!=null&&(yield n)}async function*Lce(e,t){const n=await Promise.all(Array.from(e.items,async r=>{let i;return i??(i=kL(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),t)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*_L(i,"",r)}catch(a){r!=null?yield r:t(a)}else r!=null&&(yield r)}async function $ce(e,t){const n=(t==null?void 0:t.logDropError)??Function.prototype;try{const r=[];for await(const i of Lce(e,n))r.push(i);return r}catch{return Oce(e)}}let Uce="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",TL=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Uce[Math.random()*64|0];return t};const Bce="@uppy/dashboard",zce="Universal UI plugin for Uppy.",Vce="4.4.3",qce="MIT",Hce="lib/index.js",Wce="dist/style.min.css",Gce="module",Kce={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Qce=["file uploader","uppy","uppy-plugin","dashboard","ui"],Yce="https://uppy.io",Xce={url:"https://github.com/transloadit/uppy/issues"},Zce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Jce=["src","lib","dist","CHANGELOG.md"],ede={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},tde={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},sde={"@uppy/core":"^4.5.2"},nde={name:Bce,description:zce,version:Vce,license:qce,main:Hce,style:Wce,type:Gce,scripts:Kce,keywords:Qce,homepage:Yce,bugs:Xce,repository:Zce,files:Jce,dependencies:ede,devDependencies:tde,peerDependencies:sde};function rde(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}class PL extends Rn{constructor(){super(...arguments);A(this,"fileInput",null);A(this,"folderInput",null);A(this,"mobilePhotoFileInput",null);A(this,"mobileVideoFileInput",null);A(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});A(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});A(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});A(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});A(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});A(this,"renderHiddenInput",(n,r)=>{var i;return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});A(this,"renderHiddenCameraInput",(n,r,i)=>{const o={photo:"image/*",video:"video/*"}[n];return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});A(this,"renderMyDeviceAcquirer",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));A(this,"renderPhotoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));A(this,"renderVideoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));A(this,"renderBrowseButton",(n,r)=>{const i=this.props.acquirers.length;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:n})});A(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return I("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});A(this,"renderAcquirer",n=>{var r;return I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[I("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),I("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});A(this,"renderAcquirers",n=>{const r=[...n],i=r.splice(n.length-2,n.length);return I(zr,{children:[r.map(a=>this.renderAcquirer(a)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});A(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...n.map(u=>({key:u.id,elements:this.renderAcquirer(u)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],h=d.splice(o.length-2,o.length);return I(zr,{children:[this.renderDropPasteBrowseTagline(o.length),I("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:u,elements:m})=>I(zr,{children:m},u)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:u,elements:m})=>I(zr,{children:m},u))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=I("span",{children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),I("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=n("poweredBy",{uppy:r});return I("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return I("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),n&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),I("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&I("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const ide=e=>I("div",{className:Xr("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),I(PL,{...e})]});function ade(e){const t=e.files[e.fileCardFor],n=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return I("div",{className:Xr("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:e.i18n("cancel")}),I("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),I("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))})]})}function ode(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#686DE0",fillRule:"evenodd",children:[I("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),I("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),I("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function lde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function cde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function dde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function ude(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function hde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[I("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),I("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function mde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function PN(e){const t={color:"#838999",icon:hde()};if(!e)return t;const n=e.split("/")[0],r=e.split("/")[1];return n==="text"?{color:"#5a5e69",icon:mde()}:n==="image"?{color:"#686de0",icon:ode()}:n==="audio"?{color:"#068dbb",icon:lde()}:n==="video"?{color:"#19af67",icon:cde()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:dde()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:ude()}:t}function Wa(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function EL(e){const{file:t}=e;if(t.preview)return I("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:n,icon:r}=PN(t.type);return I("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[I("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:I("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function pde(e){const{computedMetaFields:t,requiredMetaFields:n,updateMeta:r,form:i,formState:a}=e,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=n.includes(l.id);return I("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[I("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:h=>r(h,l.id),fieldCSSClasses:o,required:d,form:i.id},Dh):I("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:h=>r(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function fde(e){const{files:t,fileCardFor:n,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:h,canEditFile:u}=e,m=()=>typeof a=="function"?a(t[n]):a,f=t[n],j=m()??[],x=u(f),g={};j.forEach(S=>{g[S.id]=f.meta[S.id]??""});const[p,y]=bg(g),v=vie(S=>{S.preventDefault(),i(p,n)},[i,p,n]),w=(S,k)=>{y({...p,[k]:S})},C=()=>{r(!1)},[N]=bg(()=>{const S=document.createElement("form");return S.setAttribute("tabindex","-1"),S.id=TL(),S});return wb(()=>(document.body.appendChild(N),N.addEventListener("submit",v),()=>{N.removeEventListener("submit",v),document.body.removeChild(N)}),[N,v]),I("div",{className:Xr("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:f.meta?f.meta.name:f.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",form:N.id,title:c("finishEditingFile"),onClick:C,children:c("cancel")})]}),I("div",{className:"uppy-Dashboard-FileCard-inner",children:[I("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:PN(f.type).color},children:[I(EL,{file:f}),x&&I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:S=>{v(S),l(f)},children:c("editImage")})]}),I("div",{className:"uppy-Dashboard-FileCard-info",children:I(pde,{computedMetaFields:j,requiredMetaFields:o,updateMeta:w,form:N,formState:p})}),I("div",{className:"uppy-Dashboard-FileCard-actions",children:[I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:N.id,children:c("saveChanges")}),I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:C,form:N.id,children:c("cancel")})]})]})]})}function gde(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function xde(e,t="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch{return document.body.removeChild(r),i()}})}function yde({file:e,uploadInProgressOrComplete:t,metaFields:n,canEditFile:r,i18n:i,onClick:a}){return!t&&n&&n.length>0||!t&&r(e)?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:e.meta.name}),title:i("editFileWithFilename",{file:e.meta.name}),onClick:()=>a(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:I("g",{fillRule:"evenodd",children:[I("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),I("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),I("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function vde({i18n:e,onClick:t,file:n}){return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:()=>t(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[I("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),I("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function bde({file:e,uppy:t,i18n:n}){const r=i=>{xde(e.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>i.target.focus({preventScroll:!0}))};return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:i=>r(i),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:I("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function jde(e){const{uppy:t,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:h}=e;return I("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[I(yde,{i18n:c,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,n.id):h(n)}}),o&&n.uploadURL?I(bde,{file:n,uppy:t,i18n:c}):null,l?I(vde,{i18n:c,file:n,onClick:()=>t.removeFile(n.id)}):null]})}const dv="...";function AL(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=dv.length+1)return`${e.slice(0,t-1)}`;const n=t-dv.length,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+dv+e.slice(-i)}const wde=(e,t)=>(typeof t=="function"?t():t).filter(i=>i.id===e)[0].name;function DL(e){const{file:t,toggleFileCard:n,i18n:r,metaFields:i}=e,{missingRequiredMetaFields:a}=t;if(!(a!=null&&a.length))return null;const o=a.map(l=>wde(l,i)).join(", ");return I("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",I("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,t.id),children:r("editFile")})]})}const Nde=e=>{const{author:t,name:n}=e.file.meta;function r(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return I("div",{className:"uppy-Dashboard-Item-name",title:n,children:AL(n,r())})},Sde=e=>{var i;const{author:t}=e.file.meta,n=(i=e.file.remote)==null?void 0:i.providerName,r="";return t?I("div",{className:"uppy-Dashboard-Item-author",children:[I("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:AL(t.name,13)}),n?I(zr,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Cde=e=>e.file.size&&I("div",{className:"uppy-Dashboard-Item-statusSize",children:Uo(e.file.size)}),kde=e=>e.file.isGhost&&I("span",{children:["  ",I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),_de=({file:e,onClick:t})=>e.error?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function Tde(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=e;return I("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[I("div",{className:"uppy-Dashboard-Item-fileName",children:[Nde({file:t,isSingleFile:o,containerHeight:l,containerWidth:c}),I(_de,{file:t,onClick:()=>alert(t.error)})]}),I("div",{className:"uppy-Dashboard-Item-status",children:[Sde({file:t}),Cde({file:t}),kde({file:t,toggleAddFilesPanel:a,i18n:n})]}),I(DL,{file:t,i18n:n,toggleFileCard:r,metaFields:i})]})}function Pde(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":PN(t.type).color;return I("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&t.uploadURL&&I("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:I("span",{hidden:!0,children:t.meta.name})}),I(EL,{file:t}),I(DL,{file:t,i18n:n,toggleFileCard:r,metaFields:i})]})}function Ede(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function vk(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function uv(e){return I("div",{className:"uppy-Dashboard-Item-progress",children:I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":vk(e),title:vk(e),onClick:()=>Ede(e),children:e.children})})}function wp({children:e}){return I("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function hv({progress:e}){const t=2*Math.PI*15;return I("g",{children:[I("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),I("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function Ade(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(wp,{children:[I("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),I("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?I(uv,{...e,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[I("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),I("path",{d:"M7.9 3H10v2H7.9z"}),I("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),I("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?I(uv,{...e,children:I(wp,{children:[I(hv,{progress:e.file.progress.percentage}),e.file.isPaused?I("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):I("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[I("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),I("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?I(uv,{...e,children:I(wp,{children:[I(hv,{progress:e.file.progress.percentage}),I("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(wp,{children:I(hv,{progress:e.file.progress.percentage})})})})}class Dde extends Rn{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!gde(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,n=t.progress.preprocess||t.progress.postprocess,r=!!t.progress.uploadComplete&&!n&&!t.error,i=!!t.progress.uploadStarted||!!n,a=t.progress.uploadStarted&&!t.progress.uploadComplete||n,o=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Xr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return I("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[I("div",{className:"uppy-Dashboard-Item-preview",children:[I(Pde,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),I(Ade,{uppy:this.props.uppy,file:t,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),I("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[I(Tde,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),I(jde,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Mde(e,t){const n=[];let r=[];return e.forEach(i=>{r.length<t?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}function Ide({id:e,i18n:t,uppy:n,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:u,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:j,recoveredState:x,individualCancellation:g,itemsPerRow:p,openFileEditor:y,canEditFile:v,toggleAddFilesPanel:w,containerWidth:C,containerHeight:N}){const S=p===1?71:200,k=wN(()=>{const D=(M,X)=>Number(r[X].isGhost)-Number(r[M].isGhost),P=Object.keys(r);return x&&P.sort(D),Mde(P,p)},[r,p,x]),T=D=>I("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:D.map(P=>I(Dde,{uppy:n,id:e,i18n:t,resumableUploads:i,individualCancellation:g,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:x,isSingleFile:u,containerWidth:C,containerHeight:N,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:j,role:"listitem",openFileEditor:y,canEditFile:v,toggleAddFilesPanel:w,file:r[P]},P))},D[0]);return u?I("div",{class:"uppy-Dashboard-files",children:T(k[0])}):I(cle,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:T,rowHeight:S})}function Rde({activePickerPanel:e,className:t,hideAllPanels:n,i18n:r,state:i,uppy:a}){const o=Xp(null);return I("div",{className:Xr("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:e.name})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),I("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(e.id).render(i,o.current)})]})}const ni={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Fde(e,t,n,r={}){if(e)return ni.STATE_ERROR;if(t)return ni.STATE_COMPLETE;if(n)return ni.STATE_PAUSED;let i=ni.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ni.STATE_UPLOADING;l.preprocess&&i!==ni.STATE_UPLOADING&&(i=ni.STATE_PREPROCESSING),l.postprocess&&i!==ni.STATE_UPLOADING&&i!==ni.STATE_PREPROCESSING&&(i=ni.STATE_POSTPROCESSING)}return i}function Ode({files:e,i18n:t,isAllComplete:n,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Fde(r,n,i,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:o.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function Lde(e){const{i18n:t,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=e;let{allowNewUpload:l}=e;return l&&i&&(l=e.totalFileCount<e.maxNumberOfFiles),I("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:t("cancel")}):I("div",{}),I("div",{className:"uppy-DashboardContent-title",children:I(Ode,{...e})}),l?I("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>a(!0),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:I("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),I("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):I("div",{})]})}const Ol="uppy-transition-slideDownUp",bk=250;function Np({children:e}){const[t,n]=bg(null),[r,i]=bg(""),a=Xp(),o=Xp(),l=Xp(),c=()=>{i(`${Ol}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-enter ${Ol}-enter-active`),a.current=setTimeout(()=>{i("")},bk)})},d=()=>{i(`${Ol}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-leave ${Ol}-leave-active`),o.current=setTimeout(()=>{n(null),i("")},bk)})};return wb(()=>{const h=Fr(e)[0];t!==h&&(h&&!t?c():t&&!h&&!o.current&&d(),n(h))},[e,t]),wb(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),t?VO(t,{className:Xr(r,t.props.className)}):null}const jk=900,wk=700,mv=576,Nk=330;function $de(e){const t=e.totalFileCount===0,n=e.totalFileCount===1,r=e.containerWidth>mv,i=e.containerHeight>Nk,a=Xr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>mv,"uppy-size--lg":e.containerWidth>wk,"uppy-size--xl":e.containerWidth>jk,"uppy-size--height-md":e.containerHeight>Nk,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i});let o=1;e.containerWidth>jk?o=5:e.containerWidth>wk?o=4:e.containerWidth>mv&&(o=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(m=>e.files[m].isGhost).length:0,h=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return I("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&rde(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[I("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),I("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:I("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:I("span",{"aria-hidden":"true",children:""})}),I("div",{className:"uppy-Dashboard-innerWrap",children:[I("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&I(Lde,{...e}),c&&I("div",{className:"uppy-Dashboard-serviceMsg",children:[I("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:I("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[I("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),I("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),I("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),I("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),I("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?I(Ide,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):I(PL,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),I(Np,{children:e.showAddFilesPanel?I(ide,{...e,isSizeMD:r},"AddFiles"):null}),I(Np,{children:e.fileCardFor?I(fde,{...e},"FileCard"):null}),I(Np,{children:e.activePickerPanel?I(Rde,{...e},"Picker"):null}),I(Np,{children:e.showFileEditor?I(ade,{...e},"Editor"):null}),I("div",{className:"uppy-Dashboard-progressindicators",children:e.progressindicators.map(m=>e.uppy.getPlugin(m.id).render(e.state))})]})]})]})}const Ude={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},ML=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function IL(e,t){if(t){const n=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(n)return n}return e}function Bde(){let e=!1;return Xae((n,r)=>{const i=IL(n,r),a=i.contains(document.activeElement);if(a&&e)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const l=i.querySelector(ML);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function Sk(e,t){const n=t[0];n&&(n.focus(),e.preventDefault())}function zde(e,t){const n=t[t.length-1];n&&(n.focus(),e.preventDefault())}function Vde(e){return e.contains(document.activeElement)}function RL(e,t,n){const r=IL(n,t),i=$u(r.querySelectorAll(ML)),a=i.indexOf(document.activeElement);Vde(r)?e.shiftKey&&a===0?zde(e,i):!e.shiftKey&&a===i.length-1&&Sk(e,i):Sk(e,i)}function qde(e,t,n){t===null||RL(e,t,n)}const Ck=9,Hde=27;function kk(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}const Wde={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:dle,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var gv,Oc,Zo,Wh,Lc,Tg,Pg,Eg,Jo,Ag,Dg,$c,Hs,Ob,Lb,FL,$b,Ub,OL;let Gde=(gv=class extends Nd{constructor(n,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(n,{...Wde,...r,autoOpen:i});K(this,Hs);K(this,Oc);A(this,"modalName",`uppy-Dashboard-${TL()}`);A(this,"superFocus",Bde());A(this,"ifFocusedOnUppyRecently",!1);A(this,"dashboardIsDisabled");A(this,"savedScrollPosition");A(this,"savedActiveElement");A(this,"resizeObserver");A(this,"darkModeMediaQuery");A(this,"makeDashboardInsidesVisibleAnywayTimeout");A(this,"removeTarget",n=>{const i=this.getPluginState().targets.filter(a=>a.id!==n.id);this.setPluginState({targets:i})});A(this,"addTarget",n=>{const r=n.id||n.constructor.name,i=n.title||r,a=n.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});A(this,"hideAllPanels",()=>{var i;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=n.activePickerPanel)==null?void 0:i.id))});A(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===n);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});A(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return _(this,Jo).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(n))});A(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),i=_(this,Jo).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(n)})});A(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});A(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();_(this,Jo).call(this,n).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});A(this,"openModal",()=>{const{promise:n,resolve:r}=kk();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});A(this,"closeModal",n=>{var c;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=kk();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});A(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);A(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());A(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});A(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});A(this,"toggleFileCard",(n,r)=>{const i=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});A(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});A(this,"addFiles",n=>{const r=n.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});A(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});A(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});A(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});A(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=_(this,Oc)??$u(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",n):a.disabled=n;n?te(this,Oc,i):te(this,Oc,null),this.dashboardIsDisabled=n});A(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});A(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});A(this,"handleKeyDownInModal",n=>{n.keyCode===Hde&&this.requestCloseModal(),n.keyCode===Ck&&RL(n,this.getPluginState().activeOverlayType,this.el)});A(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});A(this,"handlePaste",n=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,n))});const r=$u(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});A(this,"handleInputChange",n=>{n.preventDefault();const r=$u(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});A(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,n)&&(l=!0)}),l},i=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});A(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});A(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,n))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await $ce(n.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(n)});A(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});A(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});A(this,"handleKeyDownInInline",n=>{n.keyCode===Ck&&qde(n,this.getPluginState().activeOverlayType,this.el)});A(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});A(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});A(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});K(this,Zo,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:n});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});K(this,Wh,n=>{const r=n[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});A(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=yk(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_(this,$c)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_(this,Zo)),this.uppy.on("file-removed",_(this,Zo)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",_(this,Wh))});A(this,"removeEvents",()=>{const n=yk(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_(this,$c)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_(this,Zo)),this.uppy.off("file-removed",_(this,Zo)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",_(this,Wh))});A(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});A(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});A(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});K(this,Lc,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});K(this,Tg,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});K(this,Pg,n=>n.filter(r=>r.type==="acquirer"&&_(this,Tg).call(this,r)).map(_(this,Lc)));K(this,Eg,n=>n.filter(r=>r.type==="progressindicator").map(_(this,Lc)));K(this,Jo,n=>n.filter(r=>r.type==="editor").map(_(this,Lc)));A(this,"render",n=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:j,isAllComplete:x,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),p=_(this,Pg).call(this,r.targets),y=_(this,Eg).call(this,r.targets),v=_(this,Jo).call(this,r.targets);let w;return this.opts.theme==="auto"?w=a.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),$de({state:n,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:j,isAllComplete:x,isAllPaused:g,totalFileCount:Object.keys(i).length,totalProgress:n.totalProgress,allowNewUpload:o,acquirers:p,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:y,editors:v,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});K(this,Ag,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});K(this,Dg,()=>{this.uppy.iteratePlugins(_(this,$c))});K(this,$c,n=>{var i;const r=["acquirer","editor"];n&&!((i=n.opts)!=null&&i.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(o=>n.id===o.id)||n.mount(this,n))});A(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(Qle,{id:ne(this,Hs,$b).call(this),target:this,...ne(this,Hs,Ob).call(this)}),this.opts.disableInformer||this.uppy.use(uL,{id:ne(this,Hs,OL).call(this),target:this,...ne(this,Hs,FL).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(SL,{id:ne(this,Hs,Ub).call(this),...ne(this,Hs,Lb).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),_(this,Ag).call(this),_(this,Dg).call(this),this.initEvents()});A(this,"uninstall",()=>{var r;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:n}=this.opts;n.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Ude,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r,i;super.setOptions(n),(r=this.uppy.getPlugin(ne(this,Hs,$b).call(this)))==null||r.setOptions(ne(this,Hs,Ob).call(this)),(i=this.uppy.getPlugin(ne(this,Hs,Ub).call(this)))==null||i.setOptions(ne(this,Hs,Lb).call(this))}},Oc=new WeakMap,Zo=new WeakMap,Wh=new WeakMap,Lc=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,Eg=new WeakMap,Jo=new WeakMap,Ag=new WeakMap,Dg=new WeakMap,$c=new WeakMap,Hs=new WeakSet,Ob=function(){const{hideUploadButton:n,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:n,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Lb=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},FL=function(){return{}},$b=function(){return`${this.id}:StatusBar`},Ub=function(){return`${this.id}:ThumbnailGenerator`},OL=function(){return`${this.id}:Informer`},A(gv,"VERSION",nde.version),gv);const Kde=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qde=/^(aria-|data-)/,LL=e=>Object.fromEntries(Object.entries(e).filter(([t])=>Qde.test(t)||Kde.includes(t)));function Yde(e,t){const n=LL(e);return Object.keys(e).some(r=>!Object.hasOwn(n,r)&&e[r]!==t[r])}class $L extends b.Component{constructor(){super(...arguments);A(this,"container");A(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){const{uppy:r,open:i,onRequestClose:a}=this.props;if(n.uppy!==r)this.uninstallPlugin(n),this.installPlugin();else if(Yde(this.props,n)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}n.open&&!i?this.plugin.closeModal():!n.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:n=this.container,open:r,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:n,open:r,onRequestCloseModal:i};a.use(Gde,l),this.plugin=a.getPlugin(l.id),r&&this.plugin.openModal()}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return b.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...LL(this.props)})}}A($L,"defaultProps",{open:void 0,onRequestClose:void 0});b.createContext({uppy:void 0,status:"init",progress:0});function UL(e,t){return Object.hasOwn(e,t)}class Xde extends Error{constructor(n,r){super(n);A(this,"isNetworkError");A(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&UL(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Zde extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");A(this,"cause");A(this,"isNetworkError");A(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function Jde(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new Zde(t)})}function eue(e){var i;const n=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:i[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${n}`}class tue extends Error{constructor(){super(...arguments);A(this,"name","UserFacingApiError")}}var BL={};function xr(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var sue=xr;xr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};xr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};xr.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};xr.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};xr.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};xr.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};xr.prototype.start=xr.prototype.try;xr.prototype.errors=function(){return this._errors};xr.prototype.attempts=function(){return this._attempts};xr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=n&&(t=i,n=o)}return t};(function(e){var t=sue;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=n[l];n[l]=(function(h){var u=e.operation(r),m=Array.prototype.slice.call(arguments,1),f=m.pop();m.push(function(j){u.retry(j)||(j&&(arguments[0]=u.mainError()),f.apply(this,arguments))}),u.attempt(function(){h.apply(n,m)})}).bind(n,c),n[l].options=r}}})(BL);var nue=BL;const rue=Mi(nue),iue=Object.prototype.toString,aue=e=>iue.call(e)==="[object Error]",oue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function lue(e){return e&&aue(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:oue.has(e.message):!1}class Bb extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const _k=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function Tk(e,t){return new Promise((n,r)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const i=rue.operation(t),a=()=>{var l;i.stop(),r((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await e(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Bb)throw c.originalError;if(c instanceof TypeError&&!lue(c))throw c;if(_k(c,l,t),await t.shouldRetry(c)||(i.stop(),r(c)),await t.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){_k(d,l,t),o(),r(d)}}})})}const cue="@uppy/companion-client",due="Client library for communication with Companion. Intended for use in Uppy plugins.",uue="4.5.2",hue="MIT",mue="lib/index.js",pue="module",fue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},gue=["file uploader","uppy","uppy-plugin","companion","provider"],xue="https://uppy.io",yue={url:"https://github.com/transloadit/uppy/issues"},vue={type:"git",url:"git+https://github.com/transloadit/uppy.git"},bue=["src","lib","dist","CHANGELOG.md"],jue={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},wue={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Nue={"@uppy/core":"^4.5.2"},Sue={name:cue,description:due,version:uue,license:hue,main:mue,type:pue,scripts:fue,keywords:gue,homepage:xue,bugs:yue,repository:vue,files:bue,dependencies:jue,devDependencies:wue,peerDependencies:Nue};class Cue extends Error{constructor(){super("Authorization required");A(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function kue(e){return e.replace(/\/$/,"")}const Pk=10,_ue=5*60*1e3,Tue=401;class Pue extends Error{constructor({statusCode:n,message:r}){super(r);A(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function Eue(e){if(e.status===Tue)throw new Cue;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,n;try{n=await e.json(),n.message&&(t=`${t} message: ${n.message}`),n.requestId&&(t=`${t} request-Id: ${n.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&n.message?new tue(n.message):new Pue({statusCode:e.status,message:t})}function Aue(e,t,n){const{progress:r,bytesUploaded:i,bytesTotal:a}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var el,bo,zb,Mg,Vb;class zL{constructor(t,n){K(this,bo);K(this,el);A(this,"uppy");A(this,"opts");K(this,Mg,async({file:t,postBody:n,signal:r})=>{var a;if(((a=t.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...n},{signal:r})).token});this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),te(this,el,n.companionHeaders)}setCompanionHeaders(t){te(this,el,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return _(this,el)}get hostname(){const{companion:t}=this.uppy.getState(),n=this.opts.companionUrl;return kue(t!=null&&t[n]?t[n]:n)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},..._(this,el)}}onReceiveResponse(t){const{headers:n}=t,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:n.get("i-am")}})}async request({path:t,method:n="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await Jde(ne(this,bo,zb).call(this,t),{method:n,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await Eue(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new Xde(`Could not ${n} ${ne(this,bo,zb).call(this,t)}`,{cause:o})}}async get(t,n){return this.request({...n,path:t})}async post(t,n,r){return this.request({...r,path:t,method:"POST",data:n})}async delete(t,n,r){return this.request({...r,path:t,method:"DELETE",data:n})}async uploadRemoteFile(t,n,r){try{const{signal:i,getQueue:a}=r||{};return await Tk(async()=>{var d;const o=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),ne(this,bo,Vb).call(this,{file:t,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...h)=>{try{return await _(this,Mg).call(this,...h)}catch(u){if(u.isAuthError)throw new Bb(u);if(u.cause==null)throw u;const m=u.cause,f=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!f()?new Bb(m):m}},{priority:-1})({file:t,postBody:n,signal:i}).abortOn(i);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),ne(this,bo,Vb).call(this,{file:this.uppy.getFile(t.id),queue:a(),signal:i})},{retries:Pk,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",t,i),i}}}el=new WeakMap,bo=new WeakSet,zb=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},Mg=new WeakMap,Vb=async function({file:t,queue:n,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=t.serverToken,d=eue(t.remote.companionUrl);let h,u,m,{isPaused:f}=t;const j=(S,k)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${S}" to socket ${t.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:S,payload:k??{}}))};function x(){a.resumableUploads&&j(f?"pause":"resume")}const g=async()=>{u&&u.abort(),u=new AbortController;const S=T=>{var D;this.uppy.setFileState(t.id,{serverToken:null}),(D=u==null?void 0:u.abort)==null||D.call(u),l(T)};function k(){clearTimeout(m),!f&&(m=setTimeout(()=>S(new Error("Timeout waiting for message from Companion socket")),_ue))}try{await n.wrapPromiseFunction(async()=>{await Tk(async()=>new Promise((D,P)=>{h=new WebSocket(`${d}/api/${c}`),k(),h.addEventListener("close",()=>{h=void 0,P(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",X=>{this.uppy.log(`Companion socket error ${JSON.stringify(X)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{x()}),h.addEventListener("message",X=>{var ee,F,re;k();try{const{action:fe,payload:H}=JSON.parse(X.data);switch(fe){case"progress":{Aue(this,H,this.uppy.getFile(t.id));break}case"success":{const $=(ee=H.response)==null?void 0:ee.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:H.url,status:((F=H.response)==null?void 0:F.status)??200,body:$?JSON.parse($):void 0}),(re=u==null?void 0:u.abort)==null||re.call(u),o();break}case"error":{const{message:$}=H.error;throw Object.assign(new Error($),{cause:H.error})}default:this.uppy.log(`Companion socket unknown action ${fe}`,"warning")}}catch(fe){S(fe)}});const M=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(m),h&&h.close(),h=void 0};u.signal.addEventListener("abort",()=>{M()})}),{retries:Pk,signal:u.signal,onFailedAttempt:()=>{u.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(u.signal)}catch(T){if(u.signal.aborted)return;S(T)}},p=S=>{a.resumableUploads&&(f=S,h&&x())},y=S=>{var k;a.individualCancellation&&S.id===t.id&&(j("cancel"),(k=u==null?void 0:u.abort)==null||k.call(u),this.uppy.log(`upload ${t.id} was removed`),o())},v=()=>{var S;j("cancel"),(S=u==null?void 0:u.abort)==null||S.call(u),this.uppy.log(`upload ${t.id} was canceled`),o()},w=(S,k)=>{(S==null?void 0:S.id)===t.id&&p(k)},C=()=>p(!0),N=()=>p(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",v),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",C),this.uppy.on("resume-all",N),i=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",v),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",C),this.uppy.off("resume-all",N)},r.addEventListener("abort",()=>{u==null||u.abort()}),g()})}finally{i==null||i()}},A(zL,"VERSION",Sue.version);var di,Gh;class Due{constructor(t){K(this,di);K(this,Gh,[]);te(this,di,t)}on(t,n){return _(this,Gh).push([t,n]),_(this,di).on(t,n)}remove(){for(const[t,n]of _(this,Gh).splice(0))_(this,di).off(t,n)}onFilePause(t,n){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&n(i)})}onFileRemove(t,n){this.on("file-removed",r=>{t===r.id&&n(r.id)})}onPause(t,n){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&n(i)})}onRetry(t,n){this.on("upload-retry",r=>{t===(r==null?void 0:r.id)&&n()})}onRetryAll(t,n){this.on("retry-all",()=>{_(this,di).getFile(t)&&n()})}onPauseAll(t,n){this.on("pause-all",()=>{_(this,di).getFile(t)&&n()})}onCancelAll(t,n){this.on("cancel-all",(...r)=>{_(this,di).getFile(t)&&n(...r)})}onResumeAll(t,n){this.on("resume-all",()=>{_(this,di).getFile(t)&&n()})}}di=new WeakMap,Gh=new WeakMap;const{AbortController:pv}=globalThis,VL=(e="Aborted",t)=>{const n=new DOMException(e,"AbortError");return t!=null&&UL(t,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),n};function Mue(e){const t=n=>"error"in n&&!!n.error;return e.filter(n=>!t(n))}function Iue(e){return e.filter(t=>{var n;return!((n=t.progress)!=null&&n.uploadStarted)||!t.isRestored})}function Ek(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function Rue(e){return new Error("Cancelled",{cause:e})}function Ak(e){var t;if(e!=null){const n=()=>this.abort(e.reason);e.addEventListener("abort",n,{once:!0});const r=()=>{e.removeEventListener("abort",n)};(t=this.then)==null||t.call(this,r,r)}return this}var Gi,ui,Ki,Uc,hi,Bc,tl,ln,qb,ju,qL,HL,WL,Ig,zc;class Fue{constructor(t){K(this,ln);K(this,Gi,0);K(this,ui,[]);K(this,Ki,!1);K(this,Uc);K(this,hi,1);K(this,Bc);K(this,tl);A(this,"limit");K(this,Ig,()=>this.resume());K(this,zc,()=>{if(_(this,Ki)){te(this,tl,setTimeout(_(this,zc),0));return}te(this,hi,this.limit),this.limit=Math.ceil((_(this,Bc)+_(this,hi))/2);for(let t=_(this,hi);t<=this.limit;t++)ne(this,ln,ju).call(this);_(this,Bc)-_(this,hi)>3?te(this,tl,setTimeout(_(this,zc),2e3)):te(this,hi,Math.floor(_(this,hi)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,n){return!_(this,Ki)&&_(this,Gi)<this.limit?ne(this,ln,qb).call(this,t):ne(this,ln,HL).call(this,t,n)}wrapSyncFunction(t,n){return(...r)=>{const i=this.run(()=>(t(...r),queueMicrotask(()=>i.done()),()=>{}),n);return{abortOn:Ak,abort(){i.abort()}}}}wrapPromiseFunction(t,n){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(t(...r))}catch(h){d=Promise.reject(h)}return d.then(h=>{c?l(c):(i.done(),o(h))},h=>{c?l(c):(i.done(),l(h))}),h=>{c=Rue(h)}},n)});return a.abort=o=>{i.abort(o)},a.abortOn=Ak,a}}resume(){te(this,Ki,!1),clearTimeout(_(this,Uc));for(let t=0;t<this.limit;t++)ne(this,ln,ju).call(this)}pause(t=null){te(this,Ki,!0),clearTimeout(_(this,Uc)),t!=null&&te(this,Uc,setTimeout(_(this,Ig),t))}rateLimit(t){clearTimeout(_(this,tl)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(te(this,Bc,this.limit-1),this.limit=_(this,hi),te(this,tl,setTimeout(_(this,zc),t)))}get isPaused(){return _(this,Ki)}}Gi=new WeakMap,ui=new WeakMap,Ki=new WeakMap,Uc=new WeakMap,hi=new WeakMap,Bc=new WeakMap,tl=new WeakMap,ln=new WeakSet,qb=function(t){te(this,Gi,_(this,Gi)+1);let n=!1,r;try{r=t()}catch(i){throw te(this,Gi,_(this,Gi)-1),i}return{abort:i=>{n||(n=!0,te(this,Gi,_(this,Gi)-1),r==null||r(i),ne(this,ln,ju).call(this))},done:()=>{n||(n=!0,te(this,Gi,_(this,Gi)-1),ne(this,ln,ju).call(this))}}},ju=function(){queueMicrotask(()=>ne(this,ln,qL).call(this))},qL=function(){if(_(this,Ki)||_(this,Gi)>=this.limit||_(this,ui).length===0)return;const t=_(this,ui).shift();if(t==null)throw new Error("Invariant violation: next is null");const n=ne(this,ln,qb).call(this,t.fn);t.abort=n.abort,t.done=n.done},HL=function(t,n){const r={fn:t,priority:(n==null?void 0:n.priority)||0,abort:()=>{ne(this,ln,WL).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=_(this,ui).findIndex(a=>r.priority>a.priority);return i===-1?_(this,ui).push(r):_(this,ui).splice(i,0,r),r},WL=function(t){const n=_(this,ui).indexOf(t);n!==-1&&_(this,ui).splice(n,1)},Ig=new WeakMap,zc=new WeakMap;const Oue="@uppy/aws-s3",Lue="Upload to Amazon S3 with Uppy",$ue="4.3.2",Uue="MIT",Bue="lib/index.js",zue="module",Vue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},que=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],Hue="https://uppy.io",Wue={url:"https://github.com/transloadit/uppy/issues"},Gue={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Kue=["src","lib","dist","CHANGELOG.md"],Que={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Yue={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Xue={"@uppy/core":"^4.5.2"},Zue={name:Oue,description:Lue,version:$ue,license:Uue,main:Bue,type:zue,scripts:Vue,keywords:que,homepage:Hue,bugs:Wue,repository:Gue,files:Kue,dependencies:Que,devDependencies:Yue,peerDependencies:Xue};function Jue({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[e,t,n,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const EN=new TextEncoder,AN={name:"HMAC",hash:"SHA-256"};async function ehe(e){const{subtle:t}=globalThis.crypto;return t.digest(AN.hash,EN.encode(e))}async function the(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?EN.encode(e):e,AN,!1,["sign"])}function Dk(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=t[r].toString(16).padStart(2,"0");return n}async function cu(e,t){const{subtle:n}=globalThis.crypto;return n.sign(AN,await the(e),EN.encode(t))}async function she({accountKey:e,accountSecret:t,sessionToken:n,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",h=`${d}.${a}.amazonaws.com`,u=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",f=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=f.slice(0,8),x=`${j}/${a}/${d}/aws4_request`,g=new URL(`https://${h}${u}`);g.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),g.searchParams.set("X-Amz-Content-Sha256",m),g.searchParams.set("X-Amz-Credential",`${e}/${x}`),g.searchParams.set("X-Amz-Date",f),g.searchParams.set("X-Amz-Expires",o),g.searchParams.set("X-Amz-Security-Token",n),g.searchParams.set("X-Amz-SignedHeaders","host"),c&&g.searchParams.set("partNumber",c),l&&g.searchParams.set("uploadId",l),g.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const p=Jue({CanonicalUri:u,CanonicalQueryString:g.search.slice(1),SignedHeaders:{host:h},HashedPayload:m}),y=Dk(await ehe(p)),v=["AWS4-HMAC-SHA256",f,x,y].join(`
`),w=await cu(`AWS4${t}`,j),C=await cu(w,a),N=await cu(C,d),S=await cu(N,"aws4_request"),k=Dk(await cu(S,v));return g.searchParams.set("X-Amz-Signature",k),g}const nhe=1024*1024,Mk={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function rhe(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const ef=Symbol("pausing upload, not an actual error");var kr,ir,mi,Qi,Yi,Kh,Qh,Vc,sl,qc,Yh,Hc,Xh,Zr,GL,KL,Hb,Zh,Jh,QL;class ihe{constructor(t,n){K(this,Zr);A(this,"options");K(this,kr,new pv);K(this,ir,[]);K(this,mi,[]);K(this,Qi);K(this,Yi);K(this,Kh,!1);K(this,Qh);K(this,Vc);K(this,sl);K(this,qc);K(this,Yh,t=>(t==null?void 0:t.cause)===ef?null:_(this,Qh).call(this,t));K(this,Hc,1e4);K(this,Xh,5*nhe);K(this,Zh,t=>n=>{if(!n.lengthComputable)return;_(this,mi)[t].uploaded=rhe(n.loaded);const r=_(this,mi).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,_(this,Qi).size)});K(this,Jh,t=>n=>{_(this,ir)[t]=null,_(this,mi)[t].etag=n,_(this,mi)[t].done=!0;const r={PartNumber:t+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...Mk,...n},(r=this.options).getChunkSize??(r.getChunkSize=Mk.getChunkSize),te(this,Qi,t),te(this,Yi,n.file),te(this,Vc,this.options.onSuccess),te(this,Qh,this.options.onError),te(this,sl,this.options.shouldUseMultipart),te(this,qc,n.uploadId&&n.key),ne(this,Zr,GL).call(this)}start(){_(this,Kh)?(_(this,kr).signal.aborted||_(this,kr).abort(ef),te(this,kr,new pv),ne(this,Zr,Hb).call(this)):_(this,qc)?(this.options.companionComm.restoreUploadFile(_(this,Yi),{uploadId:this.options.uploadId,key:this.options.key}),ne(this,Zr,Hb).call(this)):ne(this,Zr,KL).call(this)}pause(){_(this,kr).abort(ef),te(this,kr,new pv)}abort(t){t!=null&&t.really?ne(this,Zr,QL).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return _(this,mi)}}kr=new WeakMap,ir=new WeakMap,mi=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Kh=new WeakMap,Qh=new WeakMap,Vc=new WeakMap,sl=new WeakMap,qc=new WeakMap,Yh=new WeakMap,Hc=new WeakMap,Xh=new WeakMap,Zr=new WeakSet,GL=function(){const t=_(this,Qi).size,n=typeof _(this,sl)=="function"?_(this,sl).call(this,_(this,Yi)):!!_(this,sl);if(n&&t>_(this,Xh)){let r=Math.max(this.options.getChunkSize(_(this,Qi)),_(this,Xh)),i=Math.floor(t/r);i>_(this,Hc)&&(i=_(this,Hc),r=t/_(this,Hc)),te(this,ir,Array(i));for(let a=0,o=0;a<t;a+=r,o++){const l=Math.min(t,a+r),c=()=>{const d=a;return _(this,Qi).slice(d,l)};if(_(this,ir)[o]={getData:c,onProgress:_(this,Zh).call(this,o),onComplete:_(this,Jh).call(this,o),shouldUseMultipart:n},_(this,qc)){const d=a+r>t?t-a:r;_(this,ir)[o].setAsUploaded=()=>{_(this,ir)[o]=null,_(this,mi)[o].uploaded=d}}}}else te(this,ir,[{getData:()=>_(this,Qi),onProgress:_(this,Zh).call(this,0),onComplete:_(this,Jh).call(this,0),shouldUseMultipart:n}]);te(this,mi,_(this,ir).map(()=>({uploaded:0})))},KL=function(){this.options.companionComm.uploadFile(_(this,Yi),_(this,ir),_(this,kr).signal).then(_(this,Vc),_(this,Yh)),te(this,Kh,!0)},Hb=function(){this.options.companionComm.resumeUploadFile(_(this,Yi),_(this,ir),_(this,kr).signal).then(_(this,Vc),_(this,Yh))},Zh=new WeakMap,Jh=new WeakMap,QL=function(){_(this,kr).abort(),this.options.companionComm.abortFileUpload(_(this,Yi)).catch(t=>this.options.log(t))};function rn(e){if(e!=null&&e.aborted)throw VL("The operation was aborted",{cause:e.reason})}function ahe(e){const t=new URL(e);return t.search="",t.hash="",t.href}var em,_r,tm,sm,nm,rm,Wc,Gc,Kc,Qc,nl,Yc,Tr,_l,YL,Wb;class ohe{constructor(t,n,r,i){K(this,_l);K(this,em);K(this,_r,new WeakMap);K(this,tm);K(this,sm);K(this,nm);K(this,rm);K(this,Wc);K(this,Gc);K(this,Kc);K(this,Qc);K(this,nl);K(this,Yc);K(this,Tr);te(this,Gc,t),te(this,nl,r),te(this,Tr,i),this.setOptions(n)}setOptions(t){const n=_(this,Gc);"abortMultipartUpload"in t&&te(this,em,n.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&te(this,tm,n.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&te(this,sm,n.wrapPromiseFunction(t.signPart)),"listParts"in t&&te(this,rm,n.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&te(this,Qc,n.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&te(this,Kc,t.retryDelays??[]),"uploadPartBytes"in t&&te(this,Yc,n.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&te(this,nm,n.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,n){let r;for(;r=_(this,_r).get(t.data),r!=null;)try{return await r}catch{}const i=_(this,tm).call(this,_(this,Tr).call(this,t),n),a=()=>{i.abort(n.reason),_(this,_r).delete(t.data)};return n.addEventListener("abort",a,{once:!0}),_(this,_r).set(t.data,i),i.then(async o=>{n.removeEventListener("abort",a),_(this,nl).call(this,t,o),_(this,_r).set(t.data,o)},()=>{n.removeEventListener("abort",a),_(this,_r).delete(t.data)}),i}async abortFileUpload(t){const n=_(this,_r).get(t.data);if(n==null)return;_(this,_r).delete(t.data),_(this,nl).call(this,t,Object.create(null));let r;try{r=await n}catch{return}await _(this,em).call(this,_(this,Tr).call(this,t),r)}async uploadFile(t,n,r){if(rn(r),n.length===1&&!n[0].shouldUseMultipart)return ne(this,_l,Wb).call(this,t,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);rn(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(t,c+1,l,r)));return rn(r),await _(this,Qc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==ef&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(t),o}}restoreUploadFile(t,n){_(this,_r).set(t.data,n)}async resumeUploadFile(t,n,r){if(rn(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return ne(this,_l,Wb).call(this,t,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);rn(r);const o=await _(this,rm).call(this,_(this,Tr).call(this,t),{uploadId:i,key:a,signal:r},r).abortOn(r);rn(r);const l=await Promise.all(n.map((c,d)=>{var m;const h=d+1,u=o.find(({PartNumber:f})=>f===h);return u==null?this.uploadChunk(t,h,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:h,ETag:u.ETag})}));return rn(r),_(this,Qc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(t,n,r,i){rn(i);const{uploadId:a,key:o}=await this.getUploadId(t,i),l=_(this,Kc).values(),c=_(this,Kc).values(),d=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){rn(i);const h=r.getData(),{onProgress:u,onComplete:m}=r;let f;try{f=await _(this,sm).call(this,_(this,Tr).call(this,t),{uploadId:a,key:o,partNumber:n,body:h,signal:i}).abortOn(i)}catch(j){const x=d();if(x==null||i.aborted)throw j;await new Promise(g=>setTimeout(g,x));continue}rn(i);try{return{PartNumber:n,...await _(this,Yc).call(this,{signature:f,body:h,size:h.size,onProgress:u,onComplete:m,signal:i}).abortOn(i)}}catch(j){if(!await ne(this,_l,YL).call(this,j,c))throw j}}}}em=new WeakMap,_r=new WeakMap,tm=new WeakMap,sm=new WeakMap,nm=new WeakMap,rm=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,nl=new WeakMap,Yc=new WeakMap,Tr=new WeakMap,_l=new WeakSet,YL=async function(t,n){var a;const r=_(this,Gc),i=(a=t==null?void 0:t.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&t.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||_(this,Wc)==null){const o=n.next();if(o==null||o.done)return!1;te(this,Wc,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,_(this,Wc)))}}else if(i===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Wb=async function(t,n,r){const{method:i="POST",url:a,fields:o,headers:l}=await _(this,nm).call(this,_(this,Tr).call(this,t),{signal:r}).abortOn(r);let c;const d=n.getData();if(i.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([x,g])=>j.set(x,g)),j.set("file",d),c=j}else c=d;const{onProgress:h,onComplete:u}=n,m=await _(this,Yc).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:h,onComplete:u,signal:r}).abortOn(r),f=o==null?void 0:o.key;return _(this,nl).call(this,t,{key:f}),{...m,location:m.location??ahe(a),bucket:o==null?void 0:o.bucket,key:f}};function Ll(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function Ik(e){const t=e.Expiration;if(t){const n=Math.floor((new Date(t)-Date.now())/1e3);if(n>9)return n}}function Rk({meta:e,allowedMetaFields:t,querify:n=!1}){const r=t??Object.keys(e);return e?Object.fromEntries(r.filter(i=>e[i]!=null).map(i=>{const a=n?`metadata[${i}]`:i,o=String(e[i]);return[a,o]})):{}}const lhe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Xc,vn,As,Kb,Na,Pr,XL,Rg,Zc,ZL,JL,im,Jc,rl,am;const Fg=class Fg extends PO{constructor(n,r){super(n,{...lhe,uploadPartBytes:Fg.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});K(this,As);K(this,Xc);K(this,vn);A(this,"requests");A(this,"uploaderEvents");A(this,"uploaders");K(this,Pr);K(this,Rg,(n,{key:r,uploadId:i})=>{const a=this.uppy.getFile(n.id);a!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});K(this,Zc,n=>this.uppy.getFile(n.id)||n);K(this,im,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),i=Mue(r),a=Iue(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;_(this,rl).call(this,!1);const h=new AbortController,u=f=>{f.id===c.id&&h.abort()};this.uppy.on("file-removed",u);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ne(this,As,JL).call(this,c),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",u)},{priority:-1})(),m}return ne(this,As,ZL).call(this,c)}),l=await Promise.allSettled(o);return _(this,rl).call(this,!0),l});K(this,Jc,()=>{var n;(n=_(this,vn))==null||n.setCompanionHeaders(this.opts.headers)});K(this,rl,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});K(this,am,()=>{_(this,rl).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ne(this,As,Kb).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Fue(this.opts.limit),te(this,Xc,new ohe(this.requests,this.opts,_(this,Rg),_(this,Zc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return _(this,vn)}setOptions(n){_(this,Xc).setOptions(n),super.setOptions(n),ne(this,As,Kb).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){ne(this,As,Na).call(this,"createMultipartUpload"),rn(r);const i=Ek(this.opts.allowedMetaFields,n.meta),a=Rk({meta:n.meta,allowedMetaFields:i});return _(this,vn).post("s3/multipart",{filename:n.name,type:n.type,metadata:a},{signal:r}).then(Ll)}listParts(n,{key:r,uploadId:i,signal:a},o){a??(a=o),ne(this,As,Na).call(this,"listParts"),rn(a);const l=encodeURIComponent(r);return _(this,vn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Ll)}completeMultipartUpload(n,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),ne(this,As,Na).call(this,"completeMultipartUpload"),rn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return _(this,vn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:h,PartNumber:u})=>({ETag:h,PartNumber:u}))},{signal:o}).then(Ll)}async createSignedURL(n,r){const i=await ne(this,As,XL).call(this,r),a=Ik(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await she({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:i,partNumber:a,signal:o}){if(ne(this,As,Na).call(this,"signPart"),rn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return _(this,vn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Ll)}abortMultipartUpload(n,{key:r,uploadId:i,signal:a}){ne(this,As,Na).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return _(this,vn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Ll)}getUploadParameters(n,r){ne(this,As,Na).call(this,"getUploadParameters");const{meta:i}=n,{type:a,name:o}=i,l=Ek(this.opts.allowedMetaFields,n.meta),c=Rk({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return _(this,vn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:h}){if(rn(h),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((u,m)=>{const f=new XMLHttpRequest;f.open(a,n,!0),i&&Object.keys(i).forEach(g=>{f.setRequestHeader(g,i[g])}),f.responseType="text",typeof r=="number"&&(f.timeout=r*1e3);function j(){f.abort()}function x(){h==null||h.removeEventListener("abort",j)}h==null||h.addEventListener("abort",j),f.upload.addEventListener("progress",g=>{c(g)}),f.addEventListener("abort",()=>{x(),m(VL())}),f.addEventListener("timeout",()=>{x();const g=new Error("Request has expired");g.source={status:403},m(g)}),f.addEventListener("load",()=>{if(x(),f.status===403&&f.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=f,m(w);return}if(f.status<200||f.status>=300){const w=new Error("Non 2xx");w.source=f,m(w);return}c==null||c({loaded:l,lengthComputable:!0});const g=f.getAllResponseHeaders().trim().split(/[\r\n]+/),p={__proto__:null};for(const w of g){const C=w.split(": "),N=C.shift(),S=C.join(": ");p[N]=S}const{etag:y,location:v}=p;if(a.toUpperCase()==="POST"&&v==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(y),u({...p,ETag:y})}),f.addEventListener("error",g=>{x();const p=new Error("Unknown error");p.source=g.target,m(p)}),f.send(o)})}install(){_(this,rl).call(this,!0),this.uppy.addPreProcessor(_(this,Jc)),this.uppy.addUploader(_(this,im)),this.uppy.on("cancel-all",_(this,am))}uninstall(){this.uppy.removePreProcessor(_(this,Jc)),this.uppy.removeUploader(_(this,im)),this.uppy.off("cancel-all",_(this,am))}};Xc=new WeakMap,vn=new WeakMap,As=new WeakSet,Kb=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?te(this,vn,new zL(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&_(this,Jc).call(this),"cookiesRule"in n&&(_(this,vn).opts.companionCookiesRule=n.cookiesRule)))},Na=function(n){if(!_(this,vn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Pr=new WeakMap,XL=async function(n){if(rn(n==null?void 0:n.signal),_(this,Pr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(ne(this,As,Na).call(this,"getTemporarySecurityCredentials"),te(this,Pr,_(this,vn).get("s3/sts",n).then(Ll))):te(this,Pr,r(n)),te(this,Pr,await _(this,Pr)),setTimeout(()=>{te(this,Pr,null)},(Ik(_(this,Pr).credentials)||0)*500)}return _(this,Pr)},Rg=new WeakMap,Zc=new WeakMap,ZL=function(n){return new Promise((r,i)=>{const a=(h,u)=>{const m=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:u})},o=h=>{this.uppy.log(h),this.uppy.emit("upload-error",n,h),this.resetUploaderReferences(n.id),i(h)},l=h=>{const u={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",_(this,Zc).call(this,n),u),h.location&&this.uppy.log(`Download ${n.name} from ${h.location}`),r(void 0)},c=new ihe(n.data,{companionComm:_(this,Xc),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",_(this,Zc).call(this,n),h)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const d=new Due(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,h=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${h} was removed`)}),d.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,h=>{h?c.pause():c.start()}),d.onPauseAll(n.id,()=>{c.pause()}),d.onResumeAll(n.id,()=>{c.start()}),c.start()})},JL=function(n){var r;return{...(r=n.remote)==null?void 0:r.body,protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},im=new WeakMap,Jc=new WeakMap,rl=new WeakMap,am=new WeakMap,A(Fg,"VERSION",Zue.version);let Gb=Fg;function che({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:n,onComplete:r,buttonClassName:i,children:a}){const[o,l]=b.useState(!1),[c]=b.useState(()=>new Sb({restrictions:{maxNumberOfFiles:e,maxFileSize:t,allowedFileTypes:["image/*"]},autoProceed:!1}).use(Gb,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",d=>{r==null||r(d),l(!1)}));return s.jsxs("div",{children:[s.jsx(E,{type:"button",onClick:()=>l(!0),className:i,variant:"outline",children:a}),s.jsx($L,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}const Fk=[{value:"insurance",label:"Insurance",icon:os},{value:"medical",label:"Medical",icon:lt},{value:"vehicle",label:"Vehicle",icon:I0},{value:"financial",label:"Financial",icon:uo},{value:"personal",label:"Personal",icon:Of},{value:"emergency",label:"Emergency",icon:Jt}];function dhe(){const[e,t]=b.useState(!1),[n,r]=b.useState("text"),[i,a]=b.useState(""),{toast:o}=dt(),l=Yt(),{data:c=[],isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/personal-documents"],staleTime:0,gcTime:0,queryFn:async()=>{console.log("=== FRONTEND: Fetching documents ===");const p=await fetch("/api/personal-documents",{credentials:"include"});if(!p.ok)throw console.error("=== FRONTEND: Fetch error ===",p.status,p.statusText),new Error(`${p.status}: ${p.statusText}`);const y=await p.json();return console.log("=== FRONTEND: Raw API response ===",y),y}});console.log("=== FRONTEND: Documents state ===",{documents:c,length:(c==null?void 0:c.length)||0,isLoading:d,error:u==null?void 0:u.message});const m=Ce({mutationFn:async p=>{console.log("=== FRONTEND: Creating document ===",p);try{const v=await(await ye("POST","/api/personal-documents",p)).json();return console.log("=== FRONTEND: API Response ===",v),v}catch(y){throw console.error("=== FRONTEND: API Error ===",y),y}},onSuccess:p=>{console.log("=== FRONTEND: Success callback ===",p),l.invalidateQueries({queryKey:["/api/personal-documents"]}),l.removeQueries({queryKey:["/api/personal-documents"]}),t(!1),f.reset(),r("text"),a(""),o({title:"Success",description:"Document saved successfully!"}),setTimeout(()=>{h()},100)},onError:p=>{console.error("=== FRONTEND: Error callback ===",p),o({title:"Error",description:`Failed to save document: ${p.message}`,variant:"destructive"})}}),f=Bt({resolver:Vt(Fee),defaultValues:{title:"",category:"personal",description:"",documentType:"text",content:"",imageUrl:"",linkUrl:"",tags:[],isImportant:!1}}),j=p=>{console.log("=== FRONTEND: Form submission started ===",p),console.log("=== FRONTEND: Form errors ===",f.formState.errors),console.log("=== FRONTEND: Form is valid ===",f.formState.isValid);const y={...p,description:p.description||"",tags:p.tags||[],documentType:n,imageUrl:n==="image"?i:"",linkUrl:n==="link"?p.linkUrl:"",content:n==="text"?p.content:n==="image"?`Image: ${p.title}`:n==="link"?`Link: ${p.linkUrl}`:p.content||""};console.log("=== FRONTEND: Processed data ===",y),m.mutate(y)},x=async p=>{try{if(p.successful&&p.successful.length>0){const y=p.successful[0].uploadURL;a(y||""),await ye("PUT","/api/personal-documents/set-image",{imageURL:y}),o({title:"Success",description:"Image uploaded successfully!"})}}catch(y){console.error("Error handling image upload:",y),o({title:"Error",description:"Failed to process image upload",variant:"destructive"})}},g=async()=>{try{return{method:"PUT",url:(await(await ye("POST","/api/personal-documents/upload")).json()).uploadURL}}catch(p){throw console.error("Error getting upload parameters:",p),p}};return d?s.jsx("div",{className:"p-6",children:"Loading..."}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Personal Documents"}),s.jsx("p",{className:"text-gray-600",children:"Store important information you need to remember"})]}),s.jsxs(et,{open:e,onOpenChange:t,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Document"]})}),s.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Add New Document"})}),s.jsx(zt,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[s.jsx(Z,{control:f.control,name:"title",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Title *"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Document title...",...p})}),s.jsx(se,{})]})}),s.jsx(Z,{control:f.control,name:"category",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category *"}),s.jsxs(Ge,{onValueChange:p.onChange,defaultValue:p.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})})}),s.jsx(We,{children:Fk.map(y=>s.jsx(B,{value:y.value,children:y.label},y.value))})]}),s.jsx(se,{})]})}),s.jsxs(Y,{children:[s.jsx(Q,{children:"Document Type *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{type:"button",variant:n==="text"?"default":"outline",size:"sm",onClick:()=>r("text"),children:[s.jsx(ol,{className:"w-4 h-4 mr-2"}),"Text"]}),s.jsxs(E,{type:"button",variant:n==="image"?"default":"outline",size:"sm",onClick:()=>r("image"),children:[s.jsx(ah,{className:"w-4 h-4 mr-2"}),"Image"]}),s.jsxs(E,{type:"button",variant:n==="link"?"default":"outline",size:"sm",onClick:()=>r("link"),children:[s.jsx(S9,{className:"w-4 h-4 mr-2"}),"Link"]})]})]}),n==="text"&&s.jsx(Z,{control:f.control,name:"content",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Information *"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Enter the information you want to save...",className:"min-h-[100px]",...p})}),s.jsx(se,{})]})}),n==="image"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{children:"Upload Image"}),s.jsxs("div",{className:"mt-2",children:[s.jsxs(che,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:g,onComplete:x,buttonClassName:"w-full",children:[s.jsx(ah,{className:"w-4 h-4 mr-2"}),i?"Change Image":"Upload Image"]}),i&&s.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Image uploaded successfully"})]})]}),s.jsx(Z,{control:f.control,name:"content",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Add a description for this image...",className:"min-h-[60px]",...p})}),s.jsx(se,{})]})})]}),n==="link"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Z,{control:f.control,name:"linkUrl",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Website URL *"}),s.jsx(J,{children:s.jsx(q,{placeholder:"https://example.com",type:"url",...p})}),s.jsx(se,{})]})}),s.jsx(Z,{control:f.control,name:"content",render:({field:p})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"Add a description for this link...",className:"min-h-[60px]",...p})}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:f.control,name:"isImportant",render:({field:p})=>s.jsxs(Y,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(J,{children:s.jsx("input",{type:"checkbox",checked:p.value,onChange:p.onChange,className:"h-4 w-4"})}),s.jsx(Q,{children:"Mark as Important"}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:m.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",onClick:p=>{if(console.log("=== FRONTEND: Save button clicked ==="),console.log("=== FRONTEND: Form valid? ===",f.formState.isValid),console.log("=== FRONTEND: Form values ===",f.getValues()),console.log("=== FRONTEND: Form errors ===",f.formState.errors),!f.formState.isValid){console.log("=== FRONTEND: Forcing submission despite validation errors ===");const y=f.getValues();j(y),p.preventDefault()}},children:m.isPending?"Saving...":"Save Document"})]})]})})]})]})]}),s.jsx("div",{className:"grid gap-4",children:c.length===0?s.jsx(L,{className:"text-center py-12",children:s.jsxs(V,{children:[s.jsx(ol,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No documents yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first personal document to get started"})]})}):c.map(p=>{const y=Fk.find(w=>w.value===p.category),v=(y==null?void 0:y.icon)||ol;return s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(v,{className:"w-5 h-5 mr-2"}),p.title,p.isImportant&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Important"})]})})}),s.jsxs(V,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Category: ",(y==null?void 0:y.label)||p.category]}),p.documentType==="image"&&p.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("img",{src:p.imageUrl,alt:p.title,className:"max-w-full h-auto rounded border",style:{maxHeight:"200px"}}),p.content&&s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsx("p",{className:"text-sm",children:p.content})})]}),p.documentType==="link"&&p.linkUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:p.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 underline",children:[s.jsx(mx,{className:"w-4 h-4 mr-1"}),"Open Link"]}),p.content&&s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsx("p",{className:"text-sm",children:p.content})})]}),p.documentType==="text"&&s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:p.content})})]})]},p.id)})})]})}const Ok=[{value:"privilege",label:"Privilege",icon:qt,color:"bg-yellow-100 text-yellow-800"},{value:"item",label:"Item/Purchase",icon:I9,color:"bg-blue-100 text-blue-800"},{value:"activity",label:"Activity/Experience",icon:Zs,color:"bg-green-100 text-green-800"},{value:"money",label:"Money/Allowance",icon:Pi,color:"bg-purple-100 text-purple-800"},{value:"special",label:"Special Treat",icon:lt,color:"bg-pink-100 text-pink-800"}],uhe=[{value:"immediate",label:"Immediate"},{value:"delayed",label:"Delayed"},{value:"recurring",label:"Recurring"}],hhe=Ns({userId:zs(),title:Ae().min(1,"Title is required"),description:Ae().min(1,"Description is required"),pointsRequired:zs().min(1,"Points must be at least 1"),category:Ae().min(1,"Category is required"),rewardType:Ae().min(1,"Type is required"),value:Ae().optional(),maxRedemptions:zs().optional(),iconName:Ae().default("gift"),color:Ae().default("#3b82f6")});function mhe(){const{toast:e}=dt(),t=Yt(),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(null),{data:c,isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/rewards"],queryFn:async()=>{console.log("=== CUSTOM QUERY FUNCTION ===");const S=await fetch("/api/rewards",{credentials:"include",headers:{"Cache-Control":"no-cache"}});if(console.log("Custom query response status:",S.status),!S.ok){const T=await S.text();throw console.error("Custom query failed:",S.status,T),new Error(`${S.status}: ${T}`)}const k=await S.json();return console.log("Custom query response data:",k),console.log("Data is array:",Array.isArray(k)),console.log("Data length:",k==null?void 0:k.length),k},staleTime:0,gcTime:0,refetchOnMount:"always",retry:!1}),m=Array.isArray(c)?c:[];console.log("=== FRONTEND REWARDS DEBUG ==="),console.log("Query isLoading:",d),console.log("Query error:",u),console.log("Rewards data from API:",c),console.log("Processed rewards array:",m),console.log("Rewards array length:",m.length),b.useEffect(()=>{!d&&!c&&!u&&(console.log("Force refetching rewards - no data, no error, not loading"),h())},[d,c,u,h]);const{data:f,isLoading:j}=xe({queryKey:["/api/points/balance"]}),{data:x=[],isLoading:g}=xe({queryKey:["/api/points/transactions"]}),p=Ce({mutationFn:async S=>await ye("POST","/api/rewards",S),onSuccess:async S=>{console.log("Reward created successfully:",S),t.removeQueries({queryKey:["/api/rewards"]}),await t.refetchQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/rewards"]}),r(!1),v.reset(),e({title:"Success",description:"Reward created successfully!"})},onError:S=>{console.error("Reward creation error:",S),e({title:"Error",description:"Failed to create reward",variant:"destructive"})}}),y=Ce({mutationFn:async S=>await ye("POST","/api/rewards/redeem",S),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/points/balance"]}),t.invalidateQueries({queryKey:["/api/points/transactions"]}),a(!1),l(null),e({title:"Success",description:"Reward redeemed! Waiting for caregiver approval."})},onError:S=>{e({title:"Error",description:"Failed to redeem reward",variant:"destructive"})}}),v=Bt({resolver:Vt(hhe),defaultValues:{userId:1,title:"",description:"",pointsRequired:10,category:"",rewardType:"immediate",value:"",maxRedemptions:void 0,iconName:"gift",color:"#3b82f6"}}),w=S=>{p.mutate(S)},C=S=>{if(!f||f.availablePoints<S.pointsRequired){e({title:"Not enough points",description:`You need ${S.pointsRequired} points but only have ${(f==null?void 0:f.availablePoints)||0}.`,variant:"destructive"});return}l(S),a(!0)},N=()=>{o&&y.mutate({rewardId:o.id,pointsSpent:o.pointsRequired,status:"pending"})};return d||j?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(S=>s.jsx("div",{className:"h-48 bg-gray-200 rounded"},S))})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(po,{className:"w-8 h-8 text-yellow-500"}),"Rewards & Points"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Earn points and redeem amazing rewards!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(L,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yS,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Available Points"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.availablePoints)||0})]})]})})}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(et,{open:n,onOpenChange:r,children:[s.jsx(pt,{asChild:!0,children:s.jsxs(E,{className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Reward"]})}),s.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto","aria-describedby":"create-reward-description",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Create New Reward"}),s.jsx("p",{id:"create-reward-description",className:"text-sm text-gray-600",children:"Set up a new reward for users to earn with their points"})]}),s.jsx(zt,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(w),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsx(Z,{control:v.control,name:"title",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Reward Title"}),s.jsx(J,{children:s.jsx(q,{placeholder:"Extra screen time",...S})}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"description",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Description"}),s.jsx(J,{children:s.jsx(ot,{placeholder:"30 minutes of extra screen time on weekends",...S})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Z,{control:v.control,name:"pointsRequired",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Points Required"}),s.jsx(J,{children:s.jsx(q,{type:"number",...S,onChange:k=>S.onChange(parseInt(k.target.value))})}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"category",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Category"}),s.jsxs(Ge,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select category"})})}),s.jsx(We,{children:Ok.map(k=>s.jsx(B,{value:k.value,children:k.label},k.value))})]}),s.jsx(se,{})]})})]}),s.jsx(Z,{control:v.control,name:"rewardType",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Type"}),s.jsxs(Ge,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(J,{children:s.jsx(He,{children:s.jsx(Ke,{placeholder:"Select type"})})}),s.jsx(We,{children:uhe.map(k=>s.jsx(B,{value:k.value,children:k.label},k.value))})]}),s.jsx(se,{})]})}),s.jsx(Z,{control:v.control,name:"value",render:({field:S})=>s.jsxs(Y,{children:[s.jsx(Q,{children:"Value (optional)"}),s.jsx(J,{children:s.jsx(q,{placeholder:"$10 or 30 minutes",...S})}),s.jsx(se,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:p.isPending,className:"bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:p.isPending?"Creating...":"Create Reward"})]})]})})]})]})})]})]}),s.jsxs(hn,{defaultValue:"rewards",className:"w-full",children:[s.jsxs(en,{className:"grid w-full grid-cols-3",children:[s.jsx($e,{value:"rewards",children:"Available Rewards"}),s.jsx($e,{value:"progress",children:"My Progress"}),s.jsx($e,{value:"history",children:"Point History"})]}),s.jsx(Ue,{value:"rewards",className:"space-y-4",children:m.length===0?s.jsx(L,{className:"text-center py-12",children:s.jsxs(V,{children:[s.jsx(jS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No rewards available yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Ask your caregiver to create some exciting rewards for you!"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(S=>{const k=Ok.find(P=>P.value===S.category),T=(k==null?void 0:k.icon)||jS,D=((f==null?void 0:f.availablePoints)||0)>=S.pointsRequired;return s.jsxs(L,{className:`relative ${D?"ring-2 ring-green-200":"opacity-75"}`,children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(T,{className:"w-5 h-5",style:{color:S.color}}),s.jsx(ce,{className:"text-lg",children:S.title})]}),k&&s.jsx(ue,{variant:"secondary",className:k.color,children:k.label})]})}),s.jsxs(V,{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yS,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"font-semibold",children:S.pointsRequired}),s.jsx("span",{className:"text-sm text-gray-500",children:"points"})]}),S.value&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Value: ",S.value]})]}),s.jsx(E,{onClick:()=>C(S),disabled:!D||y.isPending,className:"w-full",variant:D?"default":"secondary",children:D?"Redeem":"Not enough points"})]})]},S.id)})})}),s.jsx(Ue,{value:"progress",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5 text-yellow-500"}),"Points Summary"]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Earned:"}),s.jsx("span",{className:"font-semibold",children:(f==null?void 0:f.totalEarned)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Spent:"}),s.jsx("span",{className:"font-semibold",children:(f==null?void 0:f.totalSpent)||0})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{children:"Available:"}),s.jsx("span",{className:"font-bold text-green-600",children:(f==null?void 0:f.availablePoints)||0})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-blue-500"}),"Next Milestone"]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:"100 Points"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Special Achievement Badge"})]}),s.jsx(on,{value:((f==null?void 0:f.totalEarned)||0)%100,className:"w-full"}),s.jsxs("p",{className:"text-sm text-center text-gray-500",children:[100-((f==null?void 0:f.totalEarned)||0)%100," points to go!"]})]})]})]})}),s.jsx(Ue,{value:"history",className:"space-y-4",children:g?s.jsx("div",{className:"space-y-2",children:[1,2,3].map(S=>s.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},S))}):x.length===0?s.jsx(L,{className:"text-center py-12",children:s.jsxs(V,{children:[s.jsx(ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No point history yet"}),s.jsx("p",{className:"text-gray-600",children:"Start completing tasks to earn your first points!"})]})}):s.jsx("div",{className:"space-y-2",children:x.map(S=>s.jsx(L,{children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(S.createdAt).toLocaleDateString(),"  Source: ",S.source]})]}),s.jsxs("div",{className:`text-lg font-bold ${S.points>0?"text-green-600":"text-red-600"}`,children:[S.points>0?"+":"",S.points]})]})})},S.id))})})]}),s.jsx(et,{open:i,onOpenChange:a,children:s.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto","aria-describedby":"redeem-reward-description",children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Confirm Reward Redemption"}),s.jsx("p",{id:"redeem-reward-description",className:"text-sm text-gray-600",children:"Review and confirm your reward redemption details"})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:o.title}),s.jsx("p",{className:"text-gray-600",children:o.description})]}),s.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Cost:"})," ",o.pointsRequired," points",s.jsx("br",{}),s.jsx("strong",{children:"Your balance after:"})," ",((f==null?void 0:f.availablePoints)||0)-o.pointsRequired," points"]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(E,{onClick:N,disabled:y.isPending,children:y.isPending?"Redeeming...":"Confirm Redemption"})]})]})]})})]})}function phe(){const[e,t]=b.useState(new Date),[n,r]=b.useState(!1),[i,a]=b.useState({targetSleepDuration:480,targetBedtime:"22:00",targetWakeTime:"06:00"}),{toast:o}=dt(),l=Yt(),{data:c=[],isLoading:d}=xe({queryKey:["/api/sleep-sessions"],queryFn:()=>ye("GET","/api/sleep-sessions").then(p=>p.json())}),{data:h}=xe({queryKey:["/api/sleep-sessions",Lt(e,"yyyy-MM-dd")],queryFn:()=>ye("GET",`/api/sleep-sessions/${Lt(e,"yyyy-MM-dd")}`).then(p=>p.json()),enabled:!!e}),u=Ce({mutationFn:p=>ye("POST","/api/sleep-sessions",p).then(y=>y.json()),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/sleep-sessions"]}),o({title:"Sleep session saved successfully!"}),r(!1)},onError:()=>{o({title:"Failed to save sleep session",variant:"destructive"})}}),f=(()=>{if(!c.length)return null;const p=c.slice(-7),v=p.reduce((N,S)=>N+(S.totalSleepDuration||0),0)/p.length,w=p.reduce((N,S)=>N+(S.sleepScore||0),0)/p.length,C=p.reduce((N,S)=>N+(S.sleepEfficiency||0),0)/p.length;return{avgSleepDuration:Math.round(v),avgSleepScore:Math.round(w),avgEfficiency:Math.round(C),totalSessions:p.length,goalProgress:Math.round(v/i.targetSleepDuration*100)}})(),j=p=>{if(!p)return"--";const y=Math.floor(p/60),v=p%60;return`${y}h ${v}m`},x=p=>p?Lt(new Date(p),"h:mm a"):"--",g=p=>{switch(p){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Zl,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sleep Tracking"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your sleep patterns and improve your rest quality"})]})]}),s.jsxs(hn,{defaultValue:"overview",className:"space-y-6",value:n?"log":void 0,onValueChange:p=>{p!=="log"&&r(!1)},children:[s.jsxs(en,{className:"grid w-full grid-cols-4",children:[s.jsx($e,{value:"overview",children:"Overview"}),s.jsx($e,{value:"log",children:"Log Sleep"}),s.jsx($e,{value:"trends",children:"Trends"}),s.jsx($e,{value:"goals",children:"Goals"})]}),s.jsxs(Ue,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Avg Sleep Duration"}),s.jsx(Zl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f?j(f.avgSleepDuration):"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),s.jsxs(L,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Sleep Score"}),s.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f?`${f.avgSleepScore}/100`:"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Average quality"})]})]}),s.jsxs(L,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Sleep Efficiency"}),s.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f?`${f.avgEfficiency}%`:"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time asleep vs time in bed"})]})]}),s.jsxs(L,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Goal Progress"}),s.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f?`${f.goalProgress}%`:"--"}),s.jsx(on,{value:(f==null?void 0:f.goalProgress)||0,className:"mt-2"})]})]})]}),s.jsxs(L,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ce,{children:"Recent Sleep Sessions"}),s.jsx("div",{className:"p-2 border-2 border-blue-300 rounded-lg bg-blue-50 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(E,{onClick:()=>{r(!0),setTimeout(()=>{if(!document.querySelector('[data-state="active"][value="log"]')){const y=document.querySelector('[value="log"]');y&&y.click()}},100)},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:[s.jsx(ct,{className:"h-4 w-4 mr-2"}),"Log Sleep"]})})]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[c.slice(-7).reverse().map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Zl,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[Lt(new Date(p.sleepDate),"MMM dd, yyyy"),ZF(new Date(p.sleepDate))&&s.jsx(ue,{variant:"outline",className:"ml-2",children:"Today"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[x(p.bedtime)," - ",x(p.wakeTime)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium",children:j(p.totalSleepDuration)}),s.jsx("p",{className:"text-gray-500",children:"Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"font-medium",children:[p.sleepScore||"--","/100"]}),s.jsx("p",{className:"text-gray-500",children:"Score"})]}),p.quality&&s.jsx(ue,{className:g(p.quality),children:p.quality})]})]},p.id)),c.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Zl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No sleep sessions recorded yet"}),s.jsx("div",{className:"p-2 border-2 border-blue-300 rounded-lg bg-blue-50 shadow-sm hover:shadow-md transition-shadow mt-4 inline-block",children:s.jsx(E,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Log your first sleep session"})})]})]})})]})]}),s.jsx(Ue,{value:"log",className:"space-y-6",children:s.jsx(fhe,{onSubmit:p=>u.mutate(p),isLoading:u.isPending,selectedDate:e,dailySession:h})}),s.jsx(Ue,{value:"trends",className:"space-y-6",children:s.jsx(ghe,{sleepSessions:c})}),s.jsx(Ue,{value:"goals",className:"space-y-6",children:s.jsx(xhe,{goals:i,onUpdateGoals:a,stats:f})})]})]})}function fhe({onSubmit:e,isLoading:t,selectedDate:n,dailySession:r}){const[i,a]=b.useState({sleepDate:Lt(n,"yyyy-MM-dd"),bedtime:"",sleepTime:"",wakeTime:"",quality:"",notes:""});b.useEffect(()=>{r&&a({sleepDate:r.sleepDate,bedtime:r.bedtime?Lt(new Date(r.bedtime),"HH:mm"):"",sleepTime:r.sleepTime?Lt(new Date(r.sleepTime),"HH:mm"):"",wakeTime:r.wakeTime?Lt(new Date(r.wakeTime),"HH:mm"):"",quality:r.quality||"",notes:r.notes||""})},[r]);const o=l=>{l.preventDefault();const c={...i,bedtime:i.bedtime?new Date(`${i.sleepDate}T${i.bedtime}:00`).toISOString():null,sleepTime:i.sleepTime?new Date(`${i.sleepDate}T${i.sleepTime}:00`).toISOString():null,wakeTime:i.wakeTime?new Date(`${i.sleepDate}T${i.wakeTime}:00`).toISOString():null};e(c)};return s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Log Sleep Session"})}),s.jsx(V,{children:s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"sleepDate",children:"Sleep Date"}),s.jsx(q,{id:"sleepDate",type:"date",value:i.sleepDate,onChange:l=>a({...i,sleepDate:l.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"quality",children:"Sleep Quality"}),s.jsxs("select",{id:"quality",value:i.quality,onChange:l=>a({...i,quality:l.target.value}),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"",children:"Select quality"}),s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"fair",children:"Fair"}),s.jsx("option",{value:"poor",children:"Poor"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"bedtime",children:"Bedtime"}),s.jsx(q,{id:"bedtime",type:"time",value:i.bedtime,onChange:l=>a({...i,bedtime:l.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"sleepTime",children:"Time Fell Asleep"}),s.jsx(q,{id:"sleepTime",type:"time",value:i.sleepTime,onChange:l=>a({...i,sleepTime:l.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"wakeTime",children:"Wake Time"}),s.jsx(q,{id:"wakeTime",type:"time",value:i.wakeTime,onChange:l=>a({...i,wakeTime:l.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",children:"Notes"}),s.jsx(ot,{id:"notes",placeholder:"How did you feel? What might have affected your sleep?",value:i.notes,onChange:l=>a({...i,notes:l.target.value}),rows:3})]}),s.jsx("div",{className:"p-3 border-2 border-green-300 rounded-lg bg-green-50 shadow-sm hover:shadow-md transition-shadow",children:s.jsx(E,{type:"submit",disabled:t,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 text-lg",children:t?"Saving...":"Save Sleep Session"})})]})})]})}function ghe({sleepSessions:e}){return s.jsx("div",{className:"space-y-6",children:s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Sleep Trends"})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ow,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Not enough data to show trends"}),s.jsx("p",{className:"text-sm",children:"Log at least 3 sleep sessions to see trends"})]}):s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Sleep Duration Trend"}),s.jsx("div",{className:"space-y-2",children:e.slice(-7).reverse().map((t,n)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:Lt(new Date(t.sleepDate),"MMM dd")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 bg-blue-500 rounded",style:{width:`${Math.min((t.totalSleepDuration||0)/600*100,100)}px`}}),s.jsx("span",{className:"text-sm font-medium w-12",children:t.totalSleepDuration?`${Math.round(t.totalSleepDuration/60)}h`:"--"})]})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Sleep Quality Trend"}),s.jsx("div",{className:"space-y-2",children:e.slice(-7).reverse().map(t=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:Lt(new Date(t.sleepDate),"MMM dd")}),s.jsx(ue,{className:`${t.quality?yhe(t.quality):"bg-gray-100 text-gray-800"}`,children:t.quality||"Not rated"})]},t.id))})]})]})})})]})})}function xhe({goals:e,onUpdateGoals:t,stats:n}){return s.jsx("div",{className:"space-y-6",children:s.jsxs(L,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Sleep Goals"})}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"targetDuration",children:"Target Sleep Duration"}),s.jsxs("select",{id:"targetDuration",value:e.targetSleepDuration,onChange:r=>t({...e,targetSleepDuration:parseInt(r.target.value)}),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:420,children:"7 hours"}),s.jsx("option",{value:450,children:"7.5 hours"}),s.jsx("option",{value:480,children:"8 hours"}),s.jsx("option",{value:510,children:"8.5 hours"}),s.jsx("option",{value:540,children:"9 hours"})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"targetBedtime",children:"Target Bedtime"}),s.jsx(q,{id:"targetBedtime",type:"time",value:e.targetBedtime,onChange:r=>t({...e,targetBedtime:r.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"targetWakeTime",children:"Target Wake Time"}),s.jsx(q,{id:"targetWakeTime",type:"time",value:e.targetWakeTime,onChange:r=>t({...e,targetWakeTime:r.target.value})})]})]}),n&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Progress This Week"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sleep Duration Goal"}),s.jsxs("span",{className:"font-medium",children:[n.goalProgress,"%"]})]}),s.jsx(on,{value:n.goalProgress}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Average: ",Lk(n.avgSleepDuration)," / Target: ",Lk(e.targetSleepDuration)]})]})]})]})]})})}function yhe(e){switch(e){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Lk(e){if(!e)return"--";const t=Math.floor(e/60),n=e%60;return`${t}h ${n}m`}const vhe=console.error;console.error=(...e)=>{const t=e.join(" ");if(t.includes("Failed to load Stripe")||t.includes("stripe")){console.warn("Stripe error suppressed:",t);return}vhe.apply(console,e)};window.addEventListener("error",e=>{var t,n,r;if((t=e.message)!=null&&t.includes("Failed to load Stripe")||(n=e.message)!=null&&n.includes("stripe")||(r=e.filename)!=null&&r.includes("stripe"))return e.stopImmediatePropagation(),e.preventDefault(),!1});window.addEventListener("unhandledrejection",e=>{if(String(e.reason).includes("Stripe")||String(e.reason).includes("stripe"))return e.stopImmediatePropagation(),e.preventDefault(),!1});function bhe(){const[e]=On();return Fi(),s.jsx(iie,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100",children:[!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&s.jsx(CV,{}),s.jsxs(SV,{children:[s.jsx(wt,{path:"/",component:Jy}),s.jsx(wt,{path:"/landing",component:Jy}),s.jsx(wt,{path:"/debug-landing.html",component:Jy}),s.jsx(wt,{path:"/login",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?s.jsx(gse,{}):s.jsx(sie,{})}),s.jsx(wt,{path:"/register",component:nie}),s.jsx(wt,{path:"/demo",component:tC}),s.jsx(wt,{path:"/dashboard",children:s.jsx(ss,{children:s.jsx(tC,{})})}),s.jsx(wt,{path:"/subscription",children:s.jsx(ss,{children:s.jsx(NC,{})})}),s.jsx(wt,{path:"/direct-payment",children:s.jsx(ss,{children:s.jsx(tie,{})})}),s.jsx(wt,{path:"/daily-tasks",children:s.jsx(ss,{children:s.jsx(Wte,{})})}),s.jsx(wt,{path:"/task-reminders",component:()=>s.jsx(ss,{children:s.jsx(me.Suspense,{fallback:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),s.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:me.createElement(me.lazy(()=>_S(()=>import("./task-reminders-C3nRWChv.js"),[])))})})}),s.jsx(wt,{path:"/financial",children:s.jsx(ss,{children:s.jsx(Xte,{})})}),s.jsx(wt,{path:"/mood-tracking",children:s.jsx(ss,{children:s.jsx(Zte,{})})}),s.jsx(wt,{path:"/sleep-tracking",children:s.jsx(ss,{children:s.jsx(phe,{})})}),s.jsx(wt,{path:"/calendar",children:s.jsx(ss,{children:s.jsx(mre,{})})}),s.jsx(wt,{path:"/medical",children:s.jsx(ss,{children:s.jsx(One,{})})}),s.jsx(wt,{path:"/meal-shopping",children:s.jsx(ss,{children:s.jsx(Bne,{})})}),s.jsx(wt,{path:"/pharmacy",children:s.jsx(ss,{children:s.jsx(zne,{})})}),s.jsx(wt,{path:"/academic-planner",children:s.jsx(ss,{children:s.jsx(Vne,{})})}),s.jsx(wt,{path:"/skills-milestones",children:s.jsx(ss,{children:s.jsx(qne,{})})}),s.jsx(wt,{path:"/task-builder",component:()=>s.jsx(ss,{children:s.jsx(me.Suspense,{fallback:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),s.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:me.createElement(me.lazy(()=>_S(()=>import("./task-builder-BGuVy0lK.js"),[])))})})}),s.jsx(wt,{path:"/rewards",component:()=>s.jsx(ss,{children:s.jsx(me.Suspense,{fallback:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),s.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:s.jsx(mhe,{})})})}),s.jsx(wt,{path:"/resources",children:s.jsx(ss,{children:s.jsx(rse,{})})}),s.jsx(wt,{path:"/caregiver",children:s.jsx(ss,{children:s.jsx(ose,{})})}),s.jsx(wt,{path:"/caregiver-setup",children:s.jsx(ss,{children:s.jsx(dse,{})})}),s.jsx(wt,{path:"/invite",component:xse}),s.jsx(wt,{path:"/accept-invitation",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?s.jsx(fse,{}):s.jsx(pse,{})}),s.jsx(wt,{path:"/caregiver-dashboard",children:s.jsx(ss,{children:s.jsx(Gne,{})})}),s.jsx(wt,{path:"/admin",children:s.jsx(SC,{children:s.jsx(fC,{})})}),s.jsx(wt,{path:"/admin-dashboard",children:s.jsx(SC,{children:s.jsx(fC,{})})}),s.jsx(wt,{path:"/settings",children:s.jsx(ss,{children:s.jsx(hre,{})})}),s.jsx(wt,{path:"/features",children:s.jsx(pre,{})}),s.jsx(wt,{path:"/subscription",children:s.jsx(ss,{children:s.jsx(NC,{})})}),s.jsx(wt,{path:"/personal-documents",component:()=>s.jsx(ss,{children:s.jsx(me.Suspense,{fallback:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),s.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:s.jsx(dhe,{})})})}),s.jsx(wt,{path:"*",component:PV})]}),!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&s.jsx(_V,{}),s.jsx(rie,{})]})})}console.log("Starting Adaptalyfe app...");console.log("React version:",me.version);console.log("Current URL:",window.location.href);console.log("User agent:",navigator.userAgent);console.log("Screen size:",screen.width,"x",screen.height);const e8=document.getElementById("root");if(!e8)throw new Error("Failed to find the root element");const tf=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Mobile device detected:",tf);!window.URLSearchParams&&window.URL&&(console.log("Adding URLSearchParams polyfill for mobile"),window.URLSearchParams=function(e){const t={};return e&&e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(n,r,i){return t[r]=decodeURIComponent(i),n}),this.get=function(n){return t[n]||null},this});try{const e=HA(e8);if(console.log("Creating React root and rendering app..."),tf){console.log("Applying mobile-specific optimizations");const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")}e.render(s.jsx(Y7,{client:xs,children:s.jsxs(X5,{children:[s.jsx(bhe,{}),s.jsx(q9,{})]})})),console.log("App rendered successfully")}catch(e){console.error("Error rendering app:",e);const t=e instanceof Error?e.message:String(e),n=tf?`Mobile device: ${navigator.userAgent}. Error: ${t}`:`Desktop device. Error: ${t}`;document.body.innerHTML=`
    <div style="min-height: 100vh; background: linear-gradient(to bottom right, #e0f2fe, #f3e8ff, #f0fdfa); display: flex; align-items: center; justify-content: center; padding: 1rem;">
      <div style="text-align: center; background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); max-width: 90vw; width: 28rem;">
        <h2 style="font-size: 1.5rem; font-weight: bold; color: #dc2626; margin-bottom: 1rem;">App Loading Error</h2>
        <p style="color: #4b5563; margin-bottom: 1rem;">Failed to start the application on ${tf?"mobile":"desktop"} device.</p>
        <div style="background: #f3f4f6; padding: 1rem; border-radius: 0.25rem; margin-bottom: 1rem; font-size: 0.875rem; text-align: left; overflow-wrap: break-word;">
          ${n}
        </div>
        <button onclick="window.location.reload()" style="background: #2563eb; color: white; padding: 0.75rem 1.5rem; border-radius: 0.25rem; border: none; cursor: pointer; font-size: 1rem;">
          Reload Page
        </button>
      </div>
    </div>
  `}export{dd as A,E as B,L as C,Mu as L,mo as S,hn as T,xe as a,Ce as b,le as c,ce as d,at as e,V as f,Ls as g,ws as h,$t as i,s as j,x9 as k,ue as l,ye as m,ae as n,os as o,en as p,xs as q,b as r,$e as s,Ue as t,dt as u,mw as v,Hr as w,R9 as x,hc as y};
