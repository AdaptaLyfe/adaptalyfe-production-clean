var e8=Object.defineProperty;var EN=e=>{throw TypeError(e)};var t8=(e,t,s)=>t in e?e8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var A=(e,t,s)=>t8(e,typeof t!="symbol"?t+"":t,s),Lx=(e,t,s)=>t.has(e)||EN("Cannot "+s);var _=(e,t,s)=>(Lx(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>t.has(e)?EN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),te=(e,t,s,r)=>(Lx(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),ne=(e,t,s)=>(Lx(e,t,"access private method"),s);var Em=(e,t,s,r)=>({set _(i){te(e,t,i,s)},get _(){return _(e,t,r)}});function s8(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T4={exports:{}},Ig={},P4={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=Symbol.for("react.element"),n8=Symbol.for("react.portal"),r8=Symbol.for("react.fragment"),i8=Symbol.for("react.strict_mode"),a8=Symbol.for("react.profiler"),o8=Symbol.for("react.provider"),l8=Symbol.for("react.context"),c8=Symbol.for("react.forward_ref"),d8=Symbol.for("react.suspense"),u8=Symbol.for("react.memo"),h8=Symbol.for("react.lazy"),AN=Symbol.iterator;function m8(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var E4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A4=Object.assign,D4={};function Sd(e,t,s){this.props=e,this.context=t,this.refs=D4,this.updater=s||E4}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M4(){}M4.prototype=Sd.prototype;function qb(e,t,s){this.props=e,this.context=t,this.refs=D4,this.updater=s||E4}var Hb=qb.prototype=new M4;Hb.constructor=qb;A4(Hb,Sd.prototype);Hb.isPureReactComponent=!0;var DN=Array.isArray,I4=Object.prototype.hasOwnProperty,Wb={current:null},R4={key:!0,ref:!0,__self:!0,__source:!0};function F4(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)I4.call(t,r)&&!R4.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:im,type:e,key:a,ref:o,props:i,_owner:Wb.current}}function p8(e,t){return{$$typeof:im,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gb(e){return typeof e=="object"&&e!==null&&e.$$typeof===im}function f8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var MN=/\/+/g;function $x(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f8(""+e.key):t.toString(36)}function wp(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case im:case n8:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$x(o,0):r,DN(i)?(s="",e!=null&&(s=e.replace(MN,"$&/")+"/"),wp(i,t,s,"",function(d){return d})):i!=null&&(Gb(i)&&(i=p8(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MN,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",DN(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+$x(a,l);o+=wp(a,t,s,c,i)}else if(c=m8(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+$x(a,l++),o+=wp(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dm(e,t,s){if(e==null)return e;var r=[],i=0;return wp(e,r,"","",function(a){return t.call(s,a,i++)}),r}function g8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},Np={transition:null},x8={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Np,ReactCurrentOwner:Wb};function O4(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Dm,forEach:function(e,t,s){Dm(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Dm(e,function(){t++}),t},toArray:function(e){return Dm(e,function(t){return t})||[]},only:function(e){if(!Gb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Sd;jt.Fragment=r8;jt.Profiler=a8;jt.PureComponent=qb;jt.StrictMode=i8;jt.Suspense=d8;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8;jt.act=O4;jt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=A4({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Wb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I4.call(t,c)&&!R4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:im,type:e.type,key:i,ref:a,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:l8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o8,_context:e},e.Consumer=e};jt.createElement=F4;jt.createFactory=function(e){var t=F4.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:c8,render:e}};jt.isValidElement=Gb;jt.lazy=function(e){return{$$typeof:h8,_payload:{_status:-1,_result:e},_init:g8}};jt.memo=function(e,t){return{$$typeof:u8,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Np.transition;Np.transition={};try{e()}finally{Np.transition=t}};jt.unstable_act=O4;jt.useCallback=function(e,t){return Cn.current.useCallback(e,t)};jt.useContext=function(e){return Cn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Cn.current.useEffect(e,t)};jt.useId=function(){return Cn.current.useId()};jt.useImperativeHandle=function(e,t,s){return Cn.current.useImperativeHandle(e,t,s)};jt.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Cn.current.useMemo(e,t)};jt.useReducer=function(e,t,s){return Cn.current.useReducer(e,t,s)};jt.useRef=function(e){return Cn.current.useRef(e)};jt.useState=function(e){return Cn.current.useState(e)};jt.useSyncExternalStore=function(e,t,s){return Cn.current.useSyncExternalStore(e,t,s)};jt.useTransition=function(){return Cn.current.useTransition()};jt.version="18.3.1";P4.exports=jt;var v=P4.exports;const me=Mi(v),L4=s8({__proto__:null,default:me},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8=v,v8=Symbol.for("react.element"),b8=Symbol.for("react.fragment"),j8=Object.prototype.hasOwnProperty,w8=y8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N8={key:!0,ref:!0,__self:!0,__source:!0};function $4(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)j8.call(t,r)&&!N8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:v8,type:e,key:a,ref:o,props:i,_owner:w8.current}}Ig.Fragment=b8;Ig.jsx=$4;Ig.jsxs=$4;T4.exports=Ig;var n=T4.exports,U4={exports:{}},tr={},B4={exports:{}},z4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,$){var oe=H.length;H.push($);e:for(;0<oe;){var be=oe-1>>>1,st=H[be];if(0<i(st,$))H[be]=$,H[oe]=st,oe=be;else break e}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],oe=H.pop();if(oe!==$){H[0]=oe;e:for(var be=0,st=H.length,_t=st>>>1;be<_t;){var Ft=2*(be+1)-1,ps=H[Ft],Xt=Ft+1,Be=H[Xt];if(0>i(ps,oe))Xt<st&&0>i(Be,ps)?(H[be]=Be,H[Xt]=oe,be=Xt):(H[be]=ps,H[Ft]=oe,be=Ft);else if(Xt<st&&0>i(Be,oe))H[be]=Be,H[Xt]=oe,be=Xt;else break e}}return $}function i(H,$){var oe=H.sortIndex-$.sortIndex;return oe!==0?oe:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,m=3,f=!1,j=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var $=s(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=H)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=s(d)}}function w(H){if(x=!1,b(H),!j)if(s(c)!==null)j=!0,re(C);else{var $=s(d);$!==null&&fe(w,$.startTime-H)}}function C(H,$){j=!1,x&&(x=!1,p(k),k=-1),f=!0;var oe=m;try{for(b($),u=s(c);u!==null&&(!(u.expirationTime>$)||H&&!P());){var be=u.callback;if(typeof be=="function"){u.callback=null,m=u.priorityLevel;var st=be(u.expirationTime<=$);$=e.unstable_now(),typeof st=="function"?u.callback=st:u===s(c)&&r(c),b($)}else r(c);u=s(c)}if(u!==null)var _t=!0;else{var Ft=s(d);Ft!==null&&fe(w,Ft.startTime-$),_t=!1}return _t}finally{u=null,m=oe,f=!1}}var N=!1,S=null,k=-1,T=5,D=-1;function P(){return!(e.unstable_now()-D<T)}function M(){if(S!==null){var H=e.unstable_now();D=H;var $=!0;try{$=S(!0,H)}finally{$?X():(N=!1,S=null)}}else N=!1}var X;if(typeof y=="function")X=function(){y(M)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=M,X=function(){F.postMessage(null)}}else X=function(){g(M,0)};function re(H){S=H,N||(N=!0,X())}function fe(H,$){k=g(function(){H(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||f||(j=!0,re(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var oe=m;m=$;try{return H()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=m;m=H;try{return $()}finally{m=oe}},e.unstable_scheduleCallback=function(H,$,oe){var be=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,H){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=oe+st,H={id:h++,callback:$,priorityLevel:H,startTime:oe,expirationTime:st,sortIndex:-1},oe>be?(H.sortIndex=oe,t(d,H),s(c)===null&&H===s(d)&&(x?(p(k),k=-1):x=!0,fe(w,oe-be))):(H.sortIndex=st,t(c,H),j||f||(j=!0,re(C))),H},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(H){var $=m;return function(){var oe=m;m=$;try{return H.apply(this,arguments)}finally{m=oe}}}})(z4);B4.exports=z4;var S8=B4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8=v,er=S8;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V4=new Set,Lu={};function Tl(e,t){ed(e,t),ed(e+"Capture",t)}function ed(e,t){for(Lu[e]=t,e=0;e<t.length;e++)V4.add(t[e])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,k8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IN={},RN={};function _8(e){return pv.call(RN,e)?!0:pv.call(IN,e)?!1:k8.test(e)?RN[e]=!0:(IN[e]=!0,!1)}function T8(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P8(e,t,s,r){if(t===null||typeof t>"u"||T8(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Js[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Js[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Js[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Js[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Js[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Js[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Js[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Js[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Js[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kb=/[\-:]([a-z])/g;function Qb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kb,Qb);Js[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kb,Qb);Js[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kb,Qb);Js[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Js[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});Js.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Js[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yb(e,t,s,r){var i=Js.hasOwnProperty(t)?Js[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P8(t,s,i,r)&&(s=null),r||i===null?_8(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var ma=C8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mm=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),q4=Symbol.for("react.provider"),H4=Symbol.for("react.context"),Zb=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),W4=Symbol.for("react.offscreen"),FN=Symbol.iterator;function Ud(e){return e===null||typeof e!="object"?null:(e=FN&&e[FN]||e["@@iterator"],typeof e=="function"?e:null)}var ds=Object.assign,Ux;function cu(e){if(Ux===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ux=t&&t[1]||""}return`
`+Ux+e}var Bx=!1;function zx(e,t){if(!e||Bx)return"";Bx=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bx=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?cu(e):""}function E8(e){switch(e.tag){case 5:return cu(e.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return e=zx(e.type,!1),e;case 11:return e=zx(e.type.render,!1),e;case 1:return e=zx(e.type,!0),e;default:return""}}function yv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bl:return"Fragment";case Ul:return"Portal";case fv:return"Profiler";case Xb:return"StrictMode";case gv:return"Suspense";case xv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H4:return(e.displayName||"Context")+".Consumer";case q4:return(e._context.displayName||"Context")+".Provider";case Zb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jb:return t=e.displayName||null,t!==null?t:yv(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return yv(e(t))}catch{}}return null}function A8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(t);case 8:return t===Xb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D8(e){var t=G4(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Im(e){e._valueTracker||(e._valueTracker=D8(e))}function K4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=G4(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Jp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vv(e,t){var s=t.checked;return ds({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ON(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=ao(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q4(e,t){t=t.checked,t!=null&&Yb(e,"checked",t,!1)}function bv(e,t){Q4(e,t);var s=ao(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jv(e,t.type,s):t.hasOwnProperty("defaultValue")&&jv(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LN(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function jv(e,t,s){(t!=="number"||Jp(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var du=Array.isArray;function sc(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+ao(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ds({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $N(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(ge(92));if(du(s)){if(1<s.length)throw Error(ge(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ao(s)}}function Y4(e,t){var s=ao(t.value),r=ao(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function UN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rm,Z4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rm=Rm||document.createElement("div"),Rm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $u(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M8=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){M8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function J4(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function eE(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=J4(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var I8=ds({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sv(e,t){if(t){if(I8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Cv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kv=null;function ej(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _v=null,nc=null,rc=null;function BN(e){if(e=lm(e)){if(typeof _v!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=$g(t),_v(e.stateNode,e.type,t))}}function tE(e){nc?rc?rc.push(e):rc=[e]:nc=e}function sE(){if(nc){var e=nc,t=rc;if(rc=nc=null,BN(e),t)for(e=0;e<t.length;e++)BN(t[e])}}function nE(e,t){return e(t)}function rE(){}var Vx=!1;function iE(e,t,s){if(Vx)return e(t,s);Vx=!0;try{return nE(e,t,s)}finally{Vx=!1,(nc!==null||rc!==null)&&(rE(),sE())}}function Uu(e,t){var s=e.stateNode;if(s===null)return null;var r=$g(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ge(231,t,typeof s));return s}var Tv=!1;if(na)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){Tv=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Tv=!1}function R8(e,t,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(h){this.onError(h)}}var wu=!1,ef=null,tf=!1,Pv=null,F8={onError:function(e){wu=!0,ef=e}};function O8(e,t,s,r,i,a,o,l,c){wu=!1,ef=null,R8.apply(F8,arguments)}function L8(e,t,s,r,i,a,o,l,c){if(O8.apply(this,arguments),wu){if(wu){var d=ef;wu=!1,ef=null}else throw Error(ge(198));tf||(tf=!0,Pv=d)}}function Pl(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function aE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zN(e){if(Pl(e)!==e)throw Error(ge(188))}function $8(e){var t=e.alternate;if(!t){if(t=Pl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return zN(i),e;if(a===r)return zN(i),t;a=a.sibling}throw Error(ge(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(s.alternate!==r)throw Error(ge(190))}if(s.tag!==3)throw Error(ge(188));return s.stateNode.current===s?e:t}function oE(e){return e=$8(e),e!==null?lE(e):null}function lE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lE(e);if(t!==null)return t;e=e.sibling}return null}var cE=er.unstable_scheduleCallback,VN=er.unstable_cancelCallback,U8=er.unstable_shouldYield,B8=er.unstable_requestPaint,vs=er.unstable_now,z8=er.unstable_getCurrentPriorityLevel,tj=er.unstable_ImmediatePriority,dE=er.unstable_UserBlockingPriority,sf=er.unstable_NormalPriority,V8=er.unstable_LowPriority,uE=er.unstable_IdlePriority,Rg=null,bi=null;function q8(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Rg,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:G8,H8=Math.log,W8=Math.LN2;function G8(e){return e>>>=0,e===0?32:31-(H8(e)/W8|0)|0}var Fm=64,Om=4194304;function uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nf(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=uu(l):(a&=o,a!==0&&(r=uu(a)))}else o=s&~i,o!==0?r=uu(o):a!==0&&(r=uu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Vr(t),i=1<<s,r|=e[s],t&=~i;return r}function K8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q8(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=K8(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ev(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hE(){var e=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),e}function qx(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function am(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=s}function Y8(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Vr(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function sj(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Vr(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Ut=0;function mE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pE,nj,fE,gE,xE,Av=!1,Lm=[],Ka=null,Qa=null,Ya=null,Bu=new Map,zu=new Map,Pa=[],X8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qN(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Bu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function zd(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=lm(t),t!==null&&nj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Z8(e,t,s,r,i){switch(t){case"focusin":return Ka=zd(Ka,e,t,s,r,i),!0;case"dragenter":return Qa=zd(Qa,e,t,s,r,i),!0;case"mouseover":return Ya=zd(Ya,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return Bu.set(a,zd(Bu.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zu.set(a,zd(zu.get(a)||null,e,t,s,r,i)),!0}return!1}function yE(e){var t=Fo(e.target);if(t!==null){var s=Pl(t);if(s!==null){if(t=s.tag,t===13){if(t=aE(s),t!==null){e.blockedOn=t,xE(e.priority,function(){fE(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Dv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);kv=r,s.target.dispatchEvent(r),kv=null}else return t=lm(s),t!==null&&nj(t),e.blockedOn=s,!1;t.shift()}return!0}function HN(e,t,s){Sp(e)&&s.delete(t)}function J8(){Av=!1,Ka!==null&&Sp(Ka)&&(Ka=null),Qa!==null&&Sp(Qa)&&(Qa=null),Ya!==null&&Sp(Ya)&&(Ya=null),Bu.forEach(HN),zu.forEach(HN)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,Av||(Av=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,J8)))}function Vu(e){function t(i){return Vd(i,e)}if(0<Lm.length){Vd(Lm[0],e);for(var s=1;s<Lm.length;s++){var r=Lm[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ka!==null&&Vd(Ka,e),Qa!==null&&Vd(Qa,e),Ya!==null&&Vd(Ya,e),Bu.forEach(t),zu.forEach(t),s=0;s<Pa.length;s++)r=Pa[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pa.length&&(s=Pa[0],s.blockedOn===null);)yE(s),s.blockedOn===null&&Pa.shift()}var ic=ma.ReactCurrentBatchConfig,rf=!0;function e$(e,t,s,r){var i=Ut,a=ic.transition;ic.transition=null;try{Ut=1,rj(e,t,s,r)}finally{Ut=i,ic.transition=a}}function t$(e,t,s,r){var i=Ut,a=ic.transition;ic.transition=null;try{Ut=4,rj(e,t,s,r)}finally{Ut=i,ic.transition=a}}function rj(e,t,s,r){if(rf){var i=Dv(e,t,s,r);if(i===null)ey(e,t,r,af,s),qN(e,r);else if(Z8(i,e,t,s,r))r.stopPropagation();else if(qN(e,r),t&4&&-1<X8.indexOf(e)){for(;i!==null;){var a=lm(i);if(a!==null&&pE(a),a=Dv(e,t,s,r),a===null&&ey(e,t,r,af,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else ey(e,t,r,null,s)}}var af=null;function Dv(e,t,s,r){if(af=null,e=ej(r),e=Fo(e),e!==null)if(t=Pl(e),t===null)e=null;else if(s=t.tag,s===13){if(e=aE(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return af=e,null}function vE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z8()){case tj:return 1;case dE:return 4;case sf:case V8:return 16;case uE:return 536870912;default:return 16}default:return 16}}var qa=null,ij=null,Cp=null;function bE(){if(Cp)return Cp;var e,t=ij,s=t.length,r,i="value"in qa?qa.value:qa.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return Cp=i.slice(e,1<r?1-r:void 0)}function kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $m(){return!0}function WN(){return!1}function sr(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$m:WN,this.isPropagationStopped=WN,this}return ds(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),t}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aj=sr(Cd),om=ds({},Cd,{view:0,detail:0}),s$=sr(om),Hx,Wx,qd,Fg=ds({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(Hx=e.screenX-qd.screenX,Wx=e.screenY-qd.screenY):Wx=Hx=0,qd=e),Hx)},movementY:function(e){return"movementY"in e?e.movementY:Wx}}),GN=sr(Fg),n$=ds({},Fg,{dataTransfer:0}),r$=sr(n$),i$=ds({},om,{relatedTarget:0}),Gx=sr(i$),a$=ds({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),o$=sr(a$),l$=ds({},Cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c$=sr(l$),d$=ds({},Cd,{data:0}),KN=sr(d$),u$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m$[e])?!!t[e]:!1}function oj(){return p$}var f$=ds({},om,{key:function(e){if(e.key){var t=u$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oj,charCode:function(e){return e.type==="keypress"?kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g$=sr(f$),x$=ds({},Fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=sr(x$),y$=ds({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oj}),v$=sr(y$),b$=ds({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),j$=sr(b$),w$=ds({},Fg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N$=sr(w$),S$=[9,13,27,32],lj=na&&"CompositionEvent"in window,Nu=null;na&&"documentMode"in document&&(Nu=document.documentMode);var C$=na&&"TextEvent"in window&&!Nu,jE=na&&(!lj||Nu&&8<Nu&&11>=Nu),YN=" ",XN=!1;function wE(e,t){switch(e){case"keyup":return S$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function k$(e,t){switch(e){case"compositionend":return NE(t);case"keypress":return t.which!==32?null:(XN=!0,YN);case"textInput":return e=t.data,e===YN&&XN?null:e;default:return null}}function _$(e,t){if(zl)return e==="compositionend"||!lj&&wE(e,t)?(e=bE(),Cp=ij=qa=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jE&&t.locale!=="ko"?null:t.data;default:return null}}var T$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T$[e.type]:t==="textarea"}function SE(e,t,s,r){tE(r),t=of(t,"onChange"),0<t.length&&(s=new aj("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Su=null,qu=null;function P$(e){RE(e,0)}function Og(e){var t=Hl(e);if(K4(t))return e}function E$(e,t){if(e==="change")return t}var CE=!1;if(na){var Kx;if(na){var Qx="oninput"in document;if(!Qx){var JN=document.createElement("div");JN.setAttribute("oninput","return;"),Qx=typeof JN.oninput=="function"}Kx=Qx}else Kx=!1;CE=Kx&&(!document.documentMode||9<document.documentMode)}function e1(){Su&&(Su.detachEvent("onpropertychange",kE),qu=Su=null)}function kE(e){if(e.propertyName==="value"&&Og(qu)){var t=[];SE(t,qu,e,ej(e)),iE(P$,t)}}function A$(e,t,s){e==="focusin"?(e1(),Su=t,qu=s,Su.attachEvent("onpropertychange",kE)):e==="focusout"&&e1()}function D$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Og(qu)}function M$(e,t){if(e==="click")return Og(t)}function I$(e,t){if(e==="input"||e==="change")return Og(t)}function R$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:R$;function Hu(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!pv.call(t,i)||!Gr(e[i],t[i]))return!1}return!0}function t1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s1(e,t){var s=t1(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=t1(s)}}function _E(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_E(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TE(){for(var e=window,t=Jp();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Jp(e.document)}return t}function cj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F$(e){var t=TE(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&_E(s.ownerDocument.documentElement,s)){if(r!==null&&cj(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=s1(s,a);var o=s1(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O$=na&&"documentMode"in document&&11>=document.documentMode,Vl=null,Mv=null,Cu=null,Iv=!1;function n1(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Iv||Vl==null||Vl!==Jp(r)||(r=Vl,"selectionStart"in r&&cj(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cu&&Hu(Cu,r)||(Cu=r,r=of(Mv,"onSelect"),0<r.length&&(t=new aj("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Vl)))}function Um(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ql={animationend:Um("Animation","AnimationEnd"),animationiteration:Um("Animation","AnimationIteration"),animationstart:Um("Animation","AnimationStart"),transitionend:Um("Transition","TransitionEnd")},Yx={},PE={};na&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Lg(e){if(Yx[e])return Yx[e];if(!ql[e])return e;var t=ql[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in PE)return Yx[e]=t[s];return e}var EE=Lg("animationend"),AE=Lg("animationiteration"),DE=Lg("animationstart"),ME=Lg("transitionend"),IE=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){IE.set(e,t),Tl(t,[e])}for(var Xx=0;Xx<r1.length;Xx++){var Zx=r1[Xx],L$=Zx.toLowerCase(),$$=Zx[0].toUpperCase()+Zx.slice(1);jo(L$,"on"+$$)}jo(EE,"onAnimationEnd");jo(AE,"onAnimationIteration");jo(DE,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(ME,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U$=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function i1(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,L8(r,t,void 0,e),e.currentTarget=null}function RE(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;i1(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;i1(i,l,d),a=c}}}if(tf)throw e=Pv,tf=!1,Pv=null,e}function Kt(e,t){var s=t[$v];s===void 0&&(s=t[$v]=new Set);var r=e+"__bubble";s.has(r)||(FE(t,e,2,!1),s.add(r))}function Jx(e,t,s){var r=0;t&&(r|=4),FE(s,e,r,t)}var Bm="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[Bm]){e[Bm]=!0,V4.forEach(function(s){s!=="selectionchange"&&(U$.has(s)||Jx(s,!1,e),Jx(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bm]||(t[Bm]=!0,Jx("selectionchange",!1,t))}}function FE(e,t,s,r){switch(vE(t)){case 1:var i=e$;break;case 4:i=t$;break;default:i=rj}s=i.bind(null,t,s,e),i=void 0,!Tv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function ey(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Fo(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}iE(function(){var d=a,h=ej(s),u=[];e:{var m=IE.get(e);if(m!==void 0){var f=aj,j=e;switch(e){case"keypress":if(kp(s)===0)break e;case"keydown":case"keyup":f=g$;break;case"focusin":j="focus",f=Gx;break;case"focusout":j="blur",f=Gx;break;case"beforeblur":case"afterblur":f=Gx;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=GN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=r$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=v$;break;case EE:case AE:case DE:f=o$;break;case ME:f=j$;break;case"scroll":f=s$;break;case"wheel":f=N$;break;case"copy":case"cut":case"paste":f=c$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=QN}var x=(t&4)!==0,g=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var y=d,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,p!==null&&(w=Uu(y,p),w!=null&&x.push(Gu(y,w,b)))),g)break;y=y.return}0<x.length&&(m=new f(m,j,null,s,h),u.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==kv&&(j=s.relatedTarget||s.fromElement)&&(Fo(j)||j[ra]))break e;if((f||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,f?(j=s.relatedTarget||s.toElement,f=d,j=j?Fo(j):null,j!==null&&(g=Pl(j),j!==g||j.tag!==5&&j.tag!==6)&&(j=null)):(f=null,j=d),f!==j)){if(x=GN,w="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=QN,w="onPointerLeave",p="onPointerEnter",y="pointer"),g=f==null?m:Hl(f),b=j==null?m:Hl(j),m=new x(w,y+"leave",f,s,h),m.target=g,m.relatedTarget=b,w=null,Fo(h)===d&&(x=new x(p,y+"enter",j,s,h),x.target=b,x.relatedTarget=g,w=x),g=w,f&&j)t:{for(x=f,p=j,y=0,b=x;b;b=El(b))y++;for(b=0,w=p;w;w=El(w))b++;for(;0<y-b;)x=El(x),y--;for(;0<b-y;)p=El(p),b--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=El(x),p=El(p)}x=null}else x=null;f!==null&&a1(u,m,f,x,!1),j!==null&&g!==null&&a1(u,g,j,x,!0)}}e:{if(m=d?Hl(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var C=E$;else if(ZN(m))if(CE)C=I$;else{C=D$;var N=A$}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=M$);if(C&&(C=C(e,d))){SE(u,C,s,h);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&jv(m,"number",m.value)}switch(N=d?Hl(d):window,e){case"focusin":(ZN(N)||N.contentEditable==="true")&&(Vl=N,Mv=d,Cu=null);break;case"focusout":Cu=Mv=Vl=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,n1(u,s,h);break;case"selectionchange":if(O$)break;case"keydown":case"keyup":n1(u,s,h)}var S;if(lj)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zl?wE(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(jE&&s.locale!=="ko"&&(zl||k!=="onCompositionStart"?k==="onCompositionEnd"&&zl&&(S=bE()):(qa=h,ij="value"in qa?qa.value:qa.textContent,zl=!0)),N=of(d,k),0<N.length&&(k=new KN(k,e,null,s,h),u.push({event:k,listeners:N}),S?k.data=S:(S=NE(s),S!==null&&(k.data=S)))),(S=C$?k$(e,s):_$(e,s))&&(d=of(d,"onBeforeInput"),0<d.length&&(h=new KN("onBeforeInput","beforeinput",null,s,h),u.push({event:h,listeners:d}),h.data=S))}RE(u,t)})}function Gu(e,t,s){return{instance:e,listener:t,currentTarget:s}}function of(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uu(e,s),a!=null&&r.unshift(Gu(e,a,i)),a=Uu(e,t),a!=null&&r.push(Gu(e,a,i))),e=e.return}return r}function El(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a1(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Uu(s,a),c!=null&&o.unshift(Gu(s,c,l))):i||(c=Uu(s,a),c!=null&&o.push(Gu(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var B$=/\r\n?/g,z$=/\u0000|\uFFFD/g;function o1(e){return(typeof e=="string"?e:""+e).replace(B$,`
`).replace(z$,"")}function zm(e,t,s){if(t=o1(t),o1(e)!==t&&s)throw Error(ge(425))}function lf(){}var Rv=null,Fv=null;function Ov(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,V$=typeof clearTimeout=="function"?clearTimeout:void 0,l1=typeof Promise=="function"?Promise:void 0,q$=typeof queueMicrotask=="function"?queueMicrotask:typeof l1<"u"?function(e){return l1.resolve(null).then(e).catch(H$)}:Lv;function H$(e){setTimeout(function(){throw e})}function ty(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),Vu(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);Vu(t)}function Xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function c1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var kd=Math.random().toString(36).slice(2),pi="__reactFiber$"+kd,Ku="__reactProps$"+kd,ra="__reactContainer$"+kd,$v="__reactEvents$"+kd,W$="__reactListeners$"+kd,G$="__reactHandles$"+kd;function Fo(e){var t=e[pi];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ra]||s[pi]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=c1(e);e!==null;){if(s=e[pi])return s;e=c1(e)}return t}e=s,s=e.parentNode}return null}function lm(e){return e=e[pi]||e[ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function $g(e){return e[Ku]||null}var Uv=[],Wl=-1;function wo(e){return{current:e}}function Qt(e){0>Wl||(e.current=Uv[Wl],Uv[Wl]=null,Wl--)}function Wt(e,t){Wl++,Uv[Wl]=e.current,e.current=t}var oo={},dn=wo(oo),Dn=wo(!1),hl=oo;function td(e,t){var s=e.type.contextTypes;if(!s)return oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(e){return e=e.childContextTypes,e!=null}function cf(){Qt(Dn),Qt(dn)}function d1(e,t,s){if(dn.current!==oo)throw Error(ge(168));Wt(dn,t),Wt(Dn,s)}function OE(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ge(108,A8(e)||"Unknown",i));return ds({},s,r)}function df(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,hl=dn.current,Wt(dn,e),Wt(Dn,Dn.current),!0}function u1(e,t,s){var r=e.stateNode;if(!r)throw Error(ge(169));s?(e=OE(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,Qt(Dn),Qt(dn),Wt(dn,e)):Qt(Dn),Wt(Dn,s)}var Vi=null,Ug=!1,sy=!1;function LE(e){Vi===null?Vi=[e]:Vi.push(e)}function K$(e){Ug=!0,LE(e)}function No(){if(!sy&&Vi!==null){sy=!0;var e=0,t=Ut;try{var s=Vi;for(Ut=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Vi=null,Ug=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(e+1)),cE(tj,No),i}finally{Ut=t,sy=!1}}return null}var Gl=[],Kl=0,uf=null,hf=0,lr=[],cr=0,ml=null,Xi=1,Zi="";function Po(e,t){Gl[Kl++]=hf,Gl[Kl++]=uf,uf=e,hf=t}function $E(e,t,s){lr[cr++]=Xi,lr[cr++]=Zi,lr[cr++]=ml,ml=e;var r=Xi;e=Zi;var i=32-Vr(r)-1;r&=~(1<<i),s+=1;var a=32-Vr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-Vr(t)+i|s<<i|r,Zi=a+e}else Xi=1<<a|s<<i|r,Zi=e}function dj(e){e.return!==null&&(Po(e,1),$E(e,1,0))}function uj(e){for(;e===uf;)uf=Gl[--Kl],Gl[Kl]=null,hf=Gl[--Kl],Gl[Kl]=null;for(;e===ml;)ml=lr[--cr],lr[cr]=null,Zi=lr[--cr],lr[cr]=null,Xi=lr[--cr],lr[cr]=null}var Qn=null,Gn=null,Zt=!1,Mr=null;function UE(e,t){var s=dr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function h1(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=Xa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ml!==null?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=dr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Qn=e,Gn=null,!0):!1;default:return!1}}function Bv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zv(e){if(Zt){var t=Gn;if(t){var s=t;if(!h1(e,t)){if(Bv(e))throw Error(ge(418));t=Xa(s.nextSibling);var r=Qn;t&&h1(e,t)?UE(r,s):(e.flags=e.flags&-4097|2,Zt=!1,Qn=e)}}else{if(Bv(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Zt=!1,Qn=e}}}function m1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function Vm(e){if(e!==Qn)return!1;if(!Zt)return m1(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ov(e.type,e.memoizedProps)),t&&(t=Gn)){if(Bv(e))throw BE(),Error(ge(418));for(;t;)UE(e,t),t=Xa(t.nextSibling)}if(m1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Gn=Xa(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Qn?Xa(e.stateNode.nextSibling):null;return!0}function BE(){for(var e=Gn;e;)e=Xa(e.nextSibling)}function sd(){Gn=Qn=null,Zt=!1}function hj(e){Mr===null?Mr=[e]:Mr.push(e)}var Q$=ma.ReactCurrentBatchConfig;function Hd(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ge(309));var r=s.stateNode}if(!r)throw Error(ge(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!s._owner)throw Error(ge(290,e))}return e}function qm(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p1(e){var t=e._init;return t(e._payload)}function zE(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function s(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=to(p,y),p.index=0,p.sibling=null,p}function a(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,b,w){return y===null||y.tag!==6?(y=cy(b,p.mode,w),y.return=p,y):(y=i(y,b),y.return=p,y)}function c(p,y,b,w){var C=b.type;return C===Bl?h(p,y,b.props.children,w,b.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&p1(C)===y.type)?(w=i(y,b.props),w.ref=Hd(p,y,b),w.return=p,w):(w=Mp(b.type,b.key,b.props,null,p.mode,w),w.ref=Hd(p,y,b),w.return=p,w)}function d(p,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=dy(b,p.mode,w),y.return=p,y):(y=i(y,b.children||[]),y.return=p,y)}function h(p,y,b,w,C){return y===null||y.tag!==7?(y=al(b,p.mode,w,C),y.return=p,y):(y=i(y,b),y.return=p,y)}function u(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cy(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mm:return b=Mp(y.type,y.key,y.props,null,p.mode,b),b.ref=Hd(p,null,y),b.return=p,b;case Ul:return y=dy(y,p.mode,b),y.return=p,y;case Ca:var w=y._init;return u(p,w(y._payload),b)}if(du(y)||Ud(y))return y=al(y,p.mode,b,null),y.return=p,y;qm(p,y)}return null}function m(p,y,b,w){var C=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(p,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mm:return b.key===C?c(p,y,b,w):null;case Ul:return b.key===C?d(p,y,b,w):null;case Ca:return C=b._init,m(p,y,C(b._payload),w)}if(du(b)||Ud(b))return C!==null?null:h(p,y,b,w,null);qm(p,b)}return null}function f(p,y,b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(b)||null,l(y,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mm:return p=p.get(w.key===null?b:w.key)||null,c(y,p,w,C);case Ul:return p=p.get(w.key===null?b:w.key)||null,d(y,p,w,C);case Ca:var N=w._init;return f(p,y,b,N(w._payload),C)}if(du(w)||Ud(w))return p=p.get(b)||null,h(y,p,w,C,null);qm(y,w)}return null}function j(p,y,b,w){for(var C=null,N=null,S=y,k=y=0,T=null;S!==null&&k<b.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var D=m(p,S,b[k],w);if(D===null){S===null&&(S=T);break}e&&S&&D.alternate===null&&t(p,S),y=a(D,y,k),N===null?C=D:N.sibling=D,N=D,S=T}if(k===b.length)return s(p,S),Zt&&Po(p,k),C;if(S===null){for(;k<b.length;k++)S=u(p,b[k],w),S!==null&&(y=a(S,y,k),N===null?C=S:N.sibling=S,N=S);return Zt&&Po(p,k),C}for(S=r(p,S);k<b.length;k++)T=f(S,p,k,b[k],w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),y=a(T,y,k),N===null?C=T:N.sibling=T,N=T);return e&&S.forEach(function(P){return t(p,P)}),Zt&&Po(p,k),C}function x(p,y,b,w){var C=Ud(b);if(typeof C!="function")throw Error(ge(150));if(b=C.call(b),b==null)throw Error(ge(151));for(var N=C=null,S=y,k=y=0,T=null,D=b.next();S!==null&&!D.done;k++,D=b.next()){S.index>k?(T=S,S=null):T=S.sibling;var P=m(p,S,D.value,w);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(p,S),y=a(P,y,k),N===null?C=P:N.sibling=P,N=P,S=T}if(D.done)return s(p,S),Zt&&Po(p,k),C;if(S===null){for(;!D.done;k++,D=b.next())D=u(p,D.value,w),D!==null&&(y=a(D,y,k),N===null?C=D:N.sibling=D,N=D);return Zt&&Po(p,k),C}for(S=r(p,S);!D.done;k++,D=b.next())D=f(S,p,k,D.value,w),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?k:D.key),y=a(D,y,k),N===null?C=D:N.sibling=D,N=D);return e&&S.forEach(function(M){return t(p,M)}),Zt&&Po(p,k),C}function g(p,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Bl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Mm:e:{for(var C=b.key,N=y;N!==null;){if(N.key===C){if(C=b.type,C===Bl){if(N.tag===7){s(p,N.sibling),y=i(N,b.props.children),y.return=p,p=y;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&p1(C)===N.type){s(p,N.sibling),y=i(N,b.props),y.ref=Hd(p,N,b),y.return=p,p=y;break e}s(p,N);break}else t(p,N);N=N.sibling}b.type===Bl?(y=al(b.props.children,p.mode,w,b.key),y.return=p,p=y):(w=Mp(b.type,b.key,b.props,null,p.mode,w),w.ref=Hd(p,y,b),w.return=p,p=w)}return o(p);case Ul:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){s(p,y.sibling),y=i(y,b.children||[]),y.return=p,p=y;break e}else{s(p,y);break}else t(p,y);y=y.sibling}y=dy(b,p.mode,w),y.return=p,p=y}return o(p);case Ca:return N=b._init,g(p,y,N(b._payload),w)}if(du(b))return j(p,y,b,w);if(Ud(b))return x(p,y,b,w);qm(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(s(p,y.sibling),y=i(y,b),y.return=p,p=y):(s(p,y),y=cy(b,p.mode,w),y.return=p,p=y),o(p)):s(p,y)}return g}var nd=zE(!0),VE=zE(!1),mf=wo(null),pf=null,Ql=null,mj=null;function pj(){mj=Ql=pf=null}function fj(e){var t=mf.current;Qt(mf),e._currentValue=t}function Vv(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function ac(e,t){pf=e,mj=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(mj!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(pf===null)throw Error(ge(308));Ql=e,pf.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var Oo=null;function gj(e){Oo===null?Oo=[e]:Oo.push(e)}function qE(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,gj(t)):(s.next=i.next,i.next=s),t.interleaved=s,ia(e,r)}function ia(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ka=!1;function xj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Za(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ia(e,s)}return i=r.interleaved,i===null?(t.next=t,gj(r)):(t.next=i.next,i.next=t),r.interleaved=t,ia(e,s)}function _p(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,sj(e,s)}}function f1(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ff(e,t,s,r){var i=e.updateQueue;ka=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,x=l;switch(m=t,f=s,x.tag){case 1:if(j=x.payload,typeof j=="function"){u=j.call(f,u,m);break e}u=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,m=typeof j=="function"?j.call(f,u,m):j,m==null)break e;u=ds({},u,m);break e;case 2:ka=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=f,c=u):h=h.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=u),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fl|=o,e.lanes=o,e.memoizedState=u}}function g1(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var cm={},ji=wo(cm),Qu=wo(cm),Yu=wo(cm);function Lo(e){if(e===cm)throw Error(ge(174));return e}function yj(e,t){switch(Wt(Yu,t),Wt(Qu,e),Wt(ji,cm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nv(t,e)}Qt(ji),Wt(ji,t)}function rd(){Qt(ji),Qt(Qu),Qt(Yu)}function WE(e){Lo(Yu.current);var t=Lo(ji.current),s=Nv(t,e.type);t!==s&&(Wt(Qu,e),Wt(ji,s))}function vj(e){Qu.current===e&&(Qt(ji),Qt(Qu))}var as=wo(0);function gf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ny=[];function bj(){for(var e=0;e<ny.length;e++)ny[e]._workInProgressVersionPrimary=null;ny.length=0}var Tp=ma.ReactCurrentDispatcher,ry=ma.ReactCurrentBatchConfig,pl=0,cs=null,Es=null,Os=null,xf=!1,ku=!1,Xu=0,Y$=0;function tn(){throw Error(ge(321))}function jj(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Gr(e[s],t[s]))return!1;return!0}function wj(e,t,s,r,i,a){if(pl=a,cs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tp.current=e===null||e.memoizedState===null?e7:t7,e=s(r,i),ku){a=0;do{if(ku=!1,Xu=0,25<=a)throw Error(ge(301));a+=1,Os=Es=null,t.updateQueue=null,Tp.current=s7,e=s(r,i)}while(ku)}if(Tp.current=yf,t=Es!==null&&Es.next!==null,pl=0,Os=Es=cs=null,xf=!1,t)throw Error(ge(300));return e}function Nj(){var e=Xu!==0;return Xu=0,e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?cs.memoizedState=Os=e:Os=Os.next=e,Os}function gr(){if(Es===null){var e=cs.alternate;e=e!==null?e.memoizedState:null}else e=Es.next;var t=Os===null?cs.memoizedState:Os.next;if(t!==null)Os=t,Es=e;else{if(e===null)throw Error(ge(310));Es=e,e={memoizedState:Es.memoizedState,baseState:Es.baseState,baseQueue:Es.baseQueue,queue:Es.queue,next:null},Os===null?cs.memoizedState=Os=e:Os=Os.next=e}return Os}function Zu(e,t){return typeof t=="function"?t(e):t}function iy(e){var t=gr(),s=t.queue;if(s===null)throw Error(ge(311));s.lastRenderedReducer=e;var r=Es,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((pl&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=r):c=c.next=u,cs.lanes|=h,fl|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Gr(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,cs.lanes|=a,fl|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ay(e){var t=gr(),s=t.queue;if(s===null)throw Error(ge(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Gr(a,t.memoizedState)||(An=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function GE(){}function KE(e,t){var s=cs,r=gr(),i=t(),a=!Gr(r.memoizedState,i);if(a&&(r.memoizedState=i,An=!0),r=r.queue,Sj(XE.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Os!==null&&Os.memoizedState.tag&1){if(s.flags|=2048,Ju(9,YE.bind(null,s,r,i,t),void 0,null),$s===null)throw Error(ge(349));pl&30||QE(s,t,i)}return i}function QE(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=cs.updateQueue,t===null?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function YE(e,t,s,r){t.value=s,t.getSnapshot=r,ZE(t)&&JE(e)}function XE(e,t,s){return s(function(){ZE(t)&&JE(e)})}function ZE(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Gr(e,s)}catch{return!0}}function JE(e){var t=ia(e,1);t!==null&&qr(t,e,1,-1)}function x1(e){var t=ri();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=J$.bind(null,cs,e),[t.memoizedState,e]}function Ju(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=cs.updateQueue,t===null?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function eA(){return gr().memoizedState}function Pp(e,t,s,r){var i=ri();cs.flags|=e,i.memoizedState=Ju(1|t,s,void 0,r===void 0?null:r)}function Bg(e,t,s,r){var i=gr();r=r===void 0?null:r;var a=void 0;if(Es!==null){var o=Es.memoizedState;if(a=o.destroy,r!==null&&jj(r,o.deps)){i.memoizedState=Ju(t,s,a,r);return}}cs.flags|=e,i.memoizedState=Ju(1|t,s,a,r)}function y1(e,t){return Pp(8390656,8,e,t)}function Sj(e,t){return Bg(2048,8,e,t)}function tA(e,t){return Bg(4,2,e,t)}function sA(e,t){return Bg(4,4,e,t)}function nA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rA(e,t,s){return s=s!=null?s.concat([e]):null,Bg(4,4,nA.bind(null,t,e),s)}function Cj(){}function iA(e,t){var s=gr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&jj(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function aA(e,t){var s=gr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&jj(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function oA(e,t,s){return pl&21?(Gr(s,t)||(s=hE(),cs.lanes|=s,fl|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=s)}function X$(e,t){var s=Ut;Ut=s!==0&&4>s?s:4,e(!0);var r=ry.transition;ry.transition={};try{e(!1),t()}finally{Ut=s,ry.transition=r}}function lA(){return gr().memoizedState}function Z$(e,t,s){var r=eo(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},cA(e))dA(t,s);else if(s=qE(e,t,s,r),s!==null){var i=Nn();qr(s,e,r,i),uA(s,t,r)}}function J$(e,t,s){var r=eo(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(cA(e))dA(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,o)){var c=t.interleaved;c===null?(i.next=i,gj(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=qE(e,t,i,r),s!==null&&(i=Nn(),qr(s,e,r,i),uA(s,t,r))}}function cA(e){var t=e.alternate;return e===cs||t!==null&&t===cs}function dA(e,t){ku=xf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function uA(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,sj(e,s)}}var yf={readContext:fr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},e7={readContext:fr,useCallback:function(e,t){return ri().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:y1,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Pp(4194308,4,nA.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Pp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pp(4,2,e,t)},useMemo:function(e,t){var s=ri();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=ri();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Z$.bind(null,cs,e),[r.memoizedState,e]},useRef:function(e){var t=ri();return e={current:e},t.memoizedState=e},useState:x1,useDebugValue:Cj,useDeferredValue:function(e){return ri().memoizedState=e},useTransition:function(){var e=x1(!1),t=e[0];return e=X$.bind(null,e[1]),ri().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=cs,i=ri();if(Zt){if(s===void 0)throw Error(ge(407));s=s()}else{if(s=t(),$s===null)throw Error(ge(349));pl&30||QE(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,y1(XE.bind(null,r,a,e),[e]),r.flags|=2048,Ju(9,YE.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=ri(),t=$s.identifierPrefix;if(Zt){var s=Zi,r=Xi;s=(r&~(1<<32-Vr(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Xu++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Y$++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t7={readContext:fr,useCallback:iA,useContext:fr,useEffect:Sj,useImperativeHandle:rA,useInsertionEffect:tA,useLayoutEffect:sA,useMemo:aA,useReducer:iy,useRef:eA,useState:function(){return iy(Zu)},useDebugValue:Cj,useDeferredValue:function(e){var t=gr();return oA(t,Es.memoizedState,e)},useTransition:function(){var e=iy(Zu)[0],t=gr().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:KE,useId:lA,unstable_isNewReconciler:!1},s7={readContext:fr,useCallback:iA,useContext:fr,useEffect:Sj,useImperativeHandle:rA,useInsertionEffect:tA,useLayoutEffect:sA,useMemo:aA,useReducer:ay,useRef:eA,useState:function(){return ay(Zu)},useDebugValue:Cj,useDeferredValue:function(e){var t=gr();return Es===null?t.memoizedState=e:oA(t,Es.memoizedState,e)},useTransition:function(){var e=ay(Zu)[0],t=gr().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:KE,useId:lA,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=ds({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function qv(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ds({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zg={isMounted:function(e){return(e=e._reactInternals)?Pl(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Nn(),i=eo(e),a=Ji(r,i);a.payload=t,s!=null&&(a.callback=s),t=Za(e,a,i),t!==null&&(qr(t,e,i,r),_p(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Nn(),i=eo(e),a=Ji(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Za(e,a,i),t!==null&&(qr(t,e,i,r),_p(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Nn(),r=eo(e),i=Ji(s,r);i.tag=2,t!=null&&(i.callback=t),t=Za(e,i,r),t!==null&&(qr(t,e,r,s),_p(t,e,r))}};function v1(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Hu(s,r)||!Hu(i,a):!0}function hA(e,t,s){var r=!1,i=oo,a=t.contextType;return typeof a=="object"&&a!==null?a=fr(a):(i=Mn(t)?hl:dn.current,r=t.contextTypes,a=(r=r!=null)?td(e,i):oo),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function b1(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&zg.enqueueReplaceState(t,t.state,null)}function Hv(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},xj(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fr(a):(a=Mn(t)?hl:dn.current,i.context=td(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(qv(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zg.enqueueReplaceState(i,i.state,null),ff(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function id(e,t){try{var s="",r=t;do s+=E8(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function oy(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Wv(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var n7=typeof WeakMap=="function"?WeakMap:Map;function mA(e,t,s){s=Ji(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){bf||(bf=!0,s0=r),Wv(e,t)},s}function pA(e,t,s){s=Ji(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){Wv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Wv(e,t),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function j1(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new n7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=x7.bind(null,e,t,s),t.then(e,e))}function w1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N1(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ji(-1,1),t.tag=2,Za(s,t,1))),s.lanes|=1),e)}var r7=ma.ReactCurrentOwner,An=!1;function jn(e,t,s,r){t.child=e===null?VE(t,null,s,r):nd(t,e.child,s,r)}function S1(e,t,s,r,i){s=s.render;var a=t.ref;return ac(t,i),r=wj(e,t,s,r,a,i),s=Nj(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Zt&&s&&dj(t),t.flags|=1,jn(e,t,r,i),t.child)}function C1(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!Mj(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,fA(e,t,a,r,i)):(e=Mp(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Hu,s(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,e=to(a,r),e.ref=t.ref,e.return=t,t.child=e}function fA(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(Hu(a,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,aa(e,t,i)}return Gv(e,t,s,r,i)}function gA(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Xl,zn),zn|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Xl,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,Wt(Xl,zn),zn|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,Wt(Xl,zn),zn|=r;return jn(e,t,i,s),t.child}function xA(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Gv(e,t,s,r,i){var a=Mn(s)?hl:dn.current;return a=td(t,a),ac(t,i),s=wj(e,t,s,r,a,i),r=Nj(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(Zt&&r&&dj(t),t.flags|=1,jn(e,t,s,i),t.child)}function k1(e,t,s,r,i){if(Mn(s)){var a=!0;df(t)}else a=!1;if(ac(t,i),t.stateNode===null)Ep(e,t),hA(t,s,r),Hv(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=fr(d):(d=Mn(s)?hl:dn.current,d=td(t,d));var h=s.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&b1(t,o,r,d),ka=!1;var m=t.memoizedState;o.state=m,ff(t,r,o,i),c=t.memoizedState,l!==r||m!==c||Dn.current||ka?(typeof h=="function"&&(qv(t,s,h,r),c=t.memoizedState),(l=ka||v1(t,s,l,r,m,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,HE(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wr(t.type,l),o.props=d,u=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=Mn(s)?hl:dn.current,c=td(t,c));var f=s.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||m!==c)&&b1(t,o,r,c),ka=!1,m=t.memoizedState,o.state=m,ff(t,r,o,i);var j=t.memoizedState;l!==u||m!==j||Dn.current||ka?(typeof f=="function"&&(qv(t,s,f,r),j=t.memoizedState),(d=ka||v1(t,s,d,r,m,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Kv(e,t,s,r,a,i)}function Kv(e,t,s,r,i,a){xA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&u1(t,s,!1),aa(e,t,a);r=t.stateNode,r7.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=nd(t,e.child,null,a),t.child=nd(t,null,l,a)):jn(e,t,l,a),t.memoizedState=r.state,i&&u1(t,s,!0),t.child}function yA(e){var t=e.stateNode;t.pendingContext?d1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d1(e,t.context,!1),yj(e,t.containerInfo)}function _1(e,t,s,r,i){return sd(),hj(i),t.flags|=256,jn(e,t,s,r),t.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Yv(e){return{baseLanes:e,cachePool:null,transitions:null}}function vA(e,t,s){var r=t.pendingProps,i=as.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wt(as,i&1),e===null)return zv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Hg(o,r,0,null),e=al(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yv(s),t.memoizedState=Qv,e):kj(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return i7(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=to(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=to(l,a):(a=al(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Yv(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Qv,r}return a=e.child,e=a.sibling,r=to(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function kj(e,t){return t=Hg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hm(e,t,s,r){return r!==null&&hj(r),nd(t,e.child,null,s),e=kj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i7(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=oy(Error(ge(422))),Hm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hg({mode:"visible",children:r.children},i,0,null),a=al(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&nd(t,e.child,null,o),t.child.memoizedState=Yv(o),t.memoizedState=Qv,a);if(!(t.mode&1))return Hm(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ge(419)),r=oy(a,r,void 0),Hm(e,t,o,r)}if(l=(o&e.childLanes)!==0,An||l){if(r=$s,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ia(e,i),qr(r,e,i,-1))}return Dj(),r=oy(Error(ge(421))),Hm(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=y7.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gn=Xa(i.nextSibling),Qn=t,Zt=!0,Mr=null,e!==null&&(lr[cr++]=Xi,lr[cr++]=Zi,lr[cr++]=ml,Xi=e.id,Zi=e.overflow,ml=t),t=kj(t,r.children),t.flags|=4096,t)}function T1(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vv(e.return,t,s)}function ly(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function bA(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jn(e,t,r.children,s),r=as.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T1(e,s,t);else if(e.tag===19)T1(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wt(as,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&gf(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),ly(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gf(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}ly(t,!0,s,null,a);break;case"together":ly(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ep(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,s=to(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=to(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function a7(e,t,s){switch(t.tag){case 3:yA(t),sd();break;case 5:WE(t);break;case 1:Mn(t.type)&&df(t);break;case 4:yj(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wt(mf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wt(as,as.current&1),t.flags|=128,null):s&t.child.childLanes?vA(e,t,s):(Wt(as,as.current&1),e=aa(e,t,s),e!==null?e.sibling:null);Wt(as,as.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return bA(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(as,as.current),r)break;return null;case 22:case 23:return t.lanes=0,gA(e,t,s)}return aa(e,t,s)}var jA,Xv,wA,NA;jA=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Xv=function(){};wA=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lo(ji.current);var a=null;switch(s){case"input":i=vv(e,i),r=vv(e,r),a=[];break;case"select":i=ds({},i,{value:void 0}),r=ds({},r,{value:void 0}),a=[];break;case"textarea":i=wv(e,i),r=wv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lf)}Sv(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Kt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};NA=function(e,t,s,r){s!==r&&(t.flags|=4)};function Wd(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function o7(e,t,s){var r=t.pendingProps;switch(uj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Mn(t.type)&&cf(),sn(t),null;case 3:return r=t.stateNode,rd(),Qt(Dn),Qt(dn),bj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(i0(Mr),Mr=null))),Xv(e,t),sn(t),null;case 5:vj(t);var i=Lo(Yu.current);if(s=t.type,e!==null&&t.stateNode!=null)wA(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return sn(t),null}if(e=Lo(ji.current),Vm(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[Ku]=a,e=(t.mode&1)!==0,s){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<hu.length;i++)Kt(hu[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":ON(r,a),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kt("invalid",r);break;case"textarea":$N(r,a),Kt("invalid",r)}Sv(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,e),i=["children",""+l]):Lu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(s){case"input":Im(r),LN(r,a,!0);break;case"textarea":Im(r),UN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=lf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X4(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[pi]=t,e[Ku]=r,jA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cv(s,r),s){case"dialog":Kt("cancel",e),Kt("close",e),i=r;break;case"iframe":case"object":case"embed":Kt("load",e),i=r;break;case"video":case"audio":for(i=0;i<hu.length;i++)Kt(hu[i],e);i=r;break;case"source":Kt("error",e),i=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),i=r;break;case"details":Kt("toggle",e),i=r;break;case"input":ON(e,r),i=vv(e,r),Kt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ds({},r,{value:void 0}),Kt("invalid",e);break;case"textarea":$N(e,r),i=wv(e,r),Kt("invalid",e);break;default:i=r}Sv(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?eE(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z4(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&$u(e,c):typeof c=="number"&&$u(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Kt("scroll",e):c!=null&&Yb(e,a,c,o))}switch(s){case"input":Im(e),LN(e,r,!1);break;case"textarea":Im(e),UN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?sc(e,!!r.multiple,a,!1):r.defaultValue!=null&&sc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lf)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)NA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(s=Lo(Yu.current),Lo(ji.current),Vm(t)){if(r=t.stateNode,s=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==s)&&(e=Qn,e!==null))switch(e.tag){case 3:zm(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zm(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[pi]=t,t.stateNode=r}return sn(t),null;case 13:if(Qt(as),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&Gn!==null&&t.mode&1&&!(t.flags&128))BE(),sd(),t.flags|=98560,a=!1;else if(a=Vm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[pi]=t}else sd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),a=!1}else Mr!==null&&(i0(Mr),Mr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||as.current&1?Ms===0&&(Ms=3):Dj())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return rd(),Xv(e,t),e===null&&Wu(t.stateNode.containerInfo),sn(t),null;case 10:return fj(t.type._context),sn(t),null;case 17:return Mn(t.type)&&cf(),sn(t),null;case 19:if(Qt(as),a=t.memoizedState,a===null)return sn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Wd(a,!1);else{if(Ms!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gf(e),o!==null){for(t.flags|=128,Wd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Wt(as,as.current&1|2),t.child}e=e.sibling}a.tail!==null&&vs()>ad&&(t.flags|=128,r=!0,Wd(a,!1),t.lanes=4194304)}else{if(!r)if(e=gf(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Wd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zt)return sn(t),null}else 2*vs()-a.renderingStartTime>ad&&s!==1073741824&&(t.flags|=128,r=!0,Wd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vs(),t.sibling=null,s=as.current,Wt(as,r?s&1|2:s&1),t):(sn(t),null);case 22:case 23:return Aj(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function l7(e,t){switch(uj(t),t.tag){case 1:return Mn(t.type)&&cf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rd(),Qt(Dn),Qt(dn),bj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vj(t),null;case 13:if(Qt(as),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));sd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(as),null;case 4:return rd(),null;case 10:return fj(t.type._context),null;case 22:case 23:return Aj(),null;case 24:return null;default:return null}}var Wm=!1,an=!1,c7=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yl(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){hs(e,t,r)}else s.current=null}function Zv(e,t,s){try{s()}catch(r){hs(e,t,r)}}var P1=!1;function d7(e,t){if(Rv=rf,e=TE(),cj(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,m=null;t:for(;;){for(var f;u!==s||i!==0&&u.nodeType!==3||(l=o+i),u!==a||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)m=u,u=f;for(;;){if(u===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(f=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=f}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fv={focusedElem:e,selectionRange:s},rf=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,g=j.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:wr(t.type,x),g);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(w){hs(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return j=P1,P1=!1,j}function _u(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Zv(t,s,a)}i=i.next}while(i!==r)}}function Vg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Jv(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function SA(e){var t=e.alternate;t!==null&&(e.alternate=null,SA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pi],delete t[Ku],delete t[$v],delete t[W$],delete t[G$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CA(e){return e.tag===5||e.tag===3||e.tag===4}function E1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function e0(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=lf));else if(r!==4&&(e=e.child,e!==null))for(e0(e,t,s),e=e.sibling;e!==null;)e0(e,t,s),e=e.sibling}function t0(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(t0(e,t,s),e=e.sibling;e!==null;)t0(e,t,s),e=e.sibling}var Ks=null,Er=!1;function xa(e,t,s){for(s=s.child;s!==null;)kA(e,t,s),s=s.sibling}function kA(e,t,s){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Rg,s)}catch{}switch(s.tag){case 5:an||Yl(s,t);case 6:var r=Ks,i=Er;Ks=null,xa(e,t,s),Ks=r,Er=i,Ks!==null&&(Er?(e=Ks,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ks.removeChild(s.stateNode));break;case 18:Ks!==null&&(Er?(e=Ks,s=s.stateNode,e.nodeType===8?ty(e.parentNode,s):e.nodeType===1&&ty(e,s),Vu(e)):ty(Ks,s.stateNode));break;case 4:r=Ks,i=Er,Ks=s.stateNode.containerInfo,Er=!0,xa(e,t,s),Ks=r,Er=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Zv(s,t,o),i=i.next}while(i!==r)}xa(e,t,s);break;case 1:if(!an&&(Yl(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){hs(s,t,l)}xa(e,t,s);break;case 21:xa(e,t,s);break;case 22:s.mode&1?(an=(r=an)||s.memoizedState!==null,xa(e,t,s),an=r):xa(e,t,s);break;default:xa(e,t,s)}}function A1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new c7),t.forEach(function(r){var i=v7.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function br(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ks=l.stateNode,Er=!1;break e;case 3:Ks=l.stateNode.containerInfo,Er=!0;break e;case 4:Ks=l.stateNode.containerInfo,Er=!0;break e}l=l.return}if(Ks===null)throw Error(ge(160));kA(a,o,i),Ks=null,Er=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){hs(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_A(t,e),t=t.sibling}function _A(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),si(e),r&4){try{_u(3,e,e.return),Vg(3,e)}catch(x){hs(e,e.return,x)}try{_u(5,e,e.return)}catch(x){hs(e,e.return,x)}}break;case 1:br(t,e),si(e),r&512&&s!==null&&Yl(s,s.return);break;case 5:if(br(t,e),si(e),r&512&&s!==null&&Yl(s,s.return),e.flags&32){var i=e.stateNode;try{$u(i,"")}catch(x){hs(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Q4(i,a),Cv(l,o);var d=Cv(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?eE(i,u):h==="dangerouslySetInnerHTML"?Z4(i,u):h==="children"?$u(i,u):Yb(i,h,u,d)}switch(l){case"input":bv(i,a);break;case"textarea":Y4(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?sc(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?sc(i,!!a.multiple,a.defaultValue,!0):sc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ku]=a}catch(x){hs(e,e.return,x)}}break;case 6:if(br(t,e),si(e),r&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){hs(e,e.return,x)}}break;case 3:if(br(t,e),si(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Vu(t.containerInfo)}catch(x){hs(e,e.return,x)}break;case 4:br(t,e),si(e);break;case 13:br(t,e),si(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Pj=vs())),r&4&&A1(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(an=(d=an)||h,br(t,e),an=d):br(t,e),si(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Re=e,h=e.child;h!==null;){for(u=Re=h;Re!==null;){switch(m=Re,f=m.child,m.tag){case 0:case 11:case 14:case 15:_u(4,m,m.return);break;case 1:Yl(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){hs(r,s,x)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){M1(u);continue}}f!==null?(f.return=m,Re=f):M1(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{i=u.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J4("display",o))}catch(x){hs(e,e.return,x)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){hs(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:br(t,e),si(e),r&4&&A1(e);break;case 21:break;default:br(t,e),si(e)}}function si(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(CA(s)){var r=s;break e}s=s.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($u(i,""),r.flags&=-33);var a=E1(e);t0(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=E1(e);e0(e,l,o);break;default:throw Error(ge(161))}}catch(c){hs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u7(e,t,s){Re=e,TA(e)}function TA(e,t,s){for(var r=(e.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||an;l=Wm;var d=an;if(Wm=o,(an=c)&&!d)for(Re=i;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?I1(i):c!==null?(c.return=o,Re=c):I1(i);for(;a!==null;)Re=a,TA(a),a=a.sibling;Re=i,Wm=l,an=d}D1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):D1(e)}}function D1(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Vg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:wr(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&g1(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}g1(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Vu(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}an||t.flags&512&&Jv(t)}catch(m){hs(t,t.return,m)}}if(t===e){Re=null;break}if(s=t.sibling,s!==null){s.return=t.return,Re=s;break}Re=t.return}}function M1(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Re=s;break}Re=t.return}}function I1(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Vg(4,t)}catch(c){hs(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){hs(t,i,c)}}var a=t.return;try{Jv(t)}catch(c){hs(t,a,c)}break;case 5:var o=t.return;try{Jv(t)}catch(c){hs(t,o,c)}}}catch(c){hs(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var h7=Math.ceil,vf=ma.ReactCurrentDispatcher,_j=ma.ReactCurrentOwner,hr=ma.ReactCurrentBatchConfig,Pt=0,$s=null,_s=null,Xs=0,zn=0,Xl=wo(0),Ms=0,eh=null,fl=0,qg=0,Tj=0,Tu=null,En=null,Pj=0,ad=1/0,zi=null,bf=!1,s0=null,Ja=null,Gm=!1,Ha=null,jf=0,Pu=0,n0=null,Ap=-1,Dp=0;function Nn(){return Pt&6?vs():Ap!==-1?Ap:Ap=vs()}function eo(e){return e.mode&1?Pt&2&&Xs!==0?Xs&-Xs:Q$.transition!==null?(Dp===0&&(Dp=hE()),Dp):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:vE(e.type)),e):1}function qr(e,t,s,r){if(50<Pu)throw Pu=0,n0=null,Error(ge(185));am(e,s,r),(!(Pt&2)||e!==$s)&&(e===$s&&(!(Pt&2)&&(qg|=s),Ms===4&&Ea(e,Xs)),In(e,r),s===1&&Pt===0&&!(t.mode&1)&&(ad=vs()+500,Ug&&No()))}function In(e,t){var s=e.callbackNode;Q8(e,t);var r=nf(e,e===$s?Xs:0);if(r===0)s!==null&&VN(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&VN(s),t===1)e.tag===0?K$(R1.bind(null,e)):LE(R1.bind(null,e)),q$(function(){!(Pt&6)&&No()}),s=null;else{switch(mE(r)){case 1:s=tj;break;case 4:s=dE;break;case 16:s=sf;break;case 536870912:s=uE;break;default:s=sf}s=FA(s,PA.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function PA(e,t){if(Ap=-1,Dp=0,Pt&6)throw Error(ge(327));var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var r=nf(e,e===$s?Xs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wf(e,r);else{t=r;var i=Pt;Pt|=2;var a=AA();($s!==e||Xs!==t)&&(zi=null,ad=vs()+500,il(e,t));do try{f7();break}catch(l){EA(e,l)}while(!0);pj(),vf.current=a,Pt=i,_s!==null?t=0:($s=null,Xs=0,t=Ms)}if(t!==0){if(t===2&&(i=Ev(e),i!==0&&(r=i,t=r0(e,i))),t===1)throw s=eh,il(e,0),Ea(e,r),In(e,vs()),s;if(t===6)Ea(e,r);else{if(i=e.current.alternate,!(r&30)&&!m7(i)&&(t=wf(e,r),t===2&&(a=Ev(e),a!==0&&(r=a,t=r0(e,a))),t===1))throw s=eh,il(e,0),Ea(e,r),In(e,vs()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Eo(e,En,zi);break;case 3:if(Ea(e,r),(r&130023424)===r&&(t=Pj+500-vs(),10<t)){if(nf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Lv(Eo.bind(null,e,En,zi),t);break}Eo(e,En,zi);break;case 4:if(Ea(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=vs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h7(r/1960))-r,10<r){e.timeoutHandle=Lv(Eo.bind(null,e,En,zi),r);break}Eo(e,En,zi);break;case 5:Eo(e,En,zi);break;default:throw Error(ge(329))}}}return In(e,vs()),e.callbackNode===s?PA.bind(null,e):null}function r0(e,t){var s=Tu;return e.current.memoizedState.isDehydrated&&(il(e,t).flags|=256),e=wf(e,t),e!==2&&(t=En,En=s,t!==null&&i0(t)),e}function i0(e){En===null?En=e:En.push.apply(En,e)}function m7(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Gr(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t){for(t&=~Tj,t&=~qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Vr(t),r=1<<s;e[s]=-1,t&=~r}}function R1(e){if(Pt&6)throw Error(ge(327));oc();var t=nf(e,0);if(!(t&1))return In(e,vs()),null;var s=wf(e,t);if(e.tag!==0&&s===2){var r=Ev(e);r!==0&&(t=r,s=r0(e,r))}if(s===1)throw s=eh,il(e,0),Ea(e,t),In(e,vs()),s;if(s===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eo(e,En,zi),In(e,vs()),null}function Ej(e,t){var s=Pt;Pt|=1;try{return e(t)}finally{Pt=s,Pt===0&&(ad=vs()+500,Ug&&No())}}function gl(e){Ha!==null&&Ha.tag===0&&!(Pt&6)&&oc();var t=Pt;Pt|=1;var s=hr.transition,r=Ut;try{if(hr.transition=null,Ut=1,e)return e()}finally{Ut=r,hr.transition=s,Pt=t,!(Pt&6)&&No()}}function Aj(){zn=Xl.current,Qt(Xl)}function il(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,V$(s)),_s!==null)for(s=_s.return;s!==null;){var r=s;switch(uj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cf();break;case 3:rd(),Qt(Dn),Qt(dn),bj();break;case 5:vj(r);break;case 4:rd();break;case 13:Qt(as);break;case 19:Qt(as);break;case 10:fj(r.type._context);break;case 22:case 23:Aj()}s=s.return}if($s=e,_s=e=to(e.current,null),Xs=zn=t,Ms=0,eh=null,Tj=qg=fl=0,En=Tu=null,Oo!==null){for(t=0;t<Oo.length;t++)if(s=Oo[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}Oo=null}return e}function EA(e,t){do{var s=_s;try{if(pj(),Tp.current=yf,xf){for(var r=cs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xf=!1}if(pl=0,Os=Es=cs=null,ku=!1,Xu=0,_j.current=null,s===null||s.return===null){Ms=1,eh=t,_s=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Xs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=w1(o);if(f!==null){f.flags&=-257,N1(f,o,l,a,t),f.mode&1&&j1(a,d,t),t=f,c=d;var j=t.updateQueue;if(j===null){var x=new Set;x.add(c),t.updateQueue=x}else j.add(c);break e}else{if(!(t&1)){j1(a,d,t),Dj();break e}c=Error(ge(426))}}else if(Zt&&l.mode&1){var g=w1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),N1(g,o,l,a,t),hj(id(c,l));break e}}a=c=id(c,l),Ms!==4&&(Ms=2),Tu===null?Tu=[a]:Tu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=mA(a,c,t);f1(a,p);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ja===null||!Ja.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=pA(a,l,t);f1(a,w);break e}}a=a.return}while(a!==null)}MA(s)}catch(C){t=C,_s===s&&s!==null&&(_s=s=s.return);continue}break}while(!0)}function AA(){var e=vf.current;return vf.current=yf,e===null?yf:e}function Dj(){(Ms===0||Ms===3||Ms===2)&&(Ms=4),$s===null||!(fl&268435455)&&!(qg&268435455)||Ea($s,Xs)}function wf(e,t){var s=Pt;Pt|=2;var r=AA();($s!==e||Xs!==t)&&(zi=null,il(e,t));do try{p7();break}catch(i){EA(e,i)}while(!0);if(pj(),Pt=s,vf.current=r,_s!==null)throw Error(ge(261));return $s=null,Xs=0,Ms}function p7(){for(;_s!==null;)DA(_s)}function f7(){for(;_s!==null&&!U8();)DA(_s)}function DA(e){var t=RA(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?MA(e):_s=t,_j.current=null}function MA(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=l7(s,t),s!==null){s.flags&=32767,_s=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ms=6,_s=null;return}}else if(s=o7(s,t,zn),s!==null){_s=s;return}if(t=t.sibling,t!==null){_s=t;return}_s=t=e}while(t!==null);Ms===0&&(Ms=5)}function Eo(e,t,s){var r=Ut,i=hr.transition;try{hr.transition=null,Ut=1,g7(e,t,s,r)}finally{hr.transition=i,Ut=r}return null}function g7(e,t,s,r){do oc();while(Ha!==null);if(Pt&6)throw Error(ge(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Y8(e,a),e===$s&&(_s=$s=null,Xs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gm||(Gm=!0,FA(sf,function(){return oc(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=hr.transition,hr.transition=null;var o=Ut;Ut=1;var l=Pt;Pt|=4,_j.current=null,d7(e,s),_A(s,e),F$(Fv),rf=!!Rv,Fv=Rv=null,e.current=s,u7(s),B8(),Pt=l,Ut=o,hr.transition=a}else e.current=s;if(Gm&&(Gm=!1,Ha=e,jf=i),a=e.pendingLanes,a===0&&(Ja=null),q8(s.stateNode),In(e,vs()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(bf)throw bf=!1,e=s0,s0=null,e;return jf&1&&e.tag!==0&&oc(),a=e.pendingLanes,a&1?e===n0?Pu++:(Pu=0,n0=e):Pu=0,No(),null}function oc(){if(Ha!==null){var e=mE(jf),t=hr.transition,s=Ut;try{if(hr.transition=null,Ut=16>e?16:e,Ha===null)var r=!1;else{if(e=Ha,Ha=null,jf=0,Pt&6)throw Error(ge(331));var i=Pt;for(Pt|=4,Re=e.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Re=d;Re!==null;){var h=Re;switch(h.tag){case 0:case 11:case 15:_u(8,h,a)}var u=h.child;if(u!==null)u.return=h,Re=u;else for(;Re!==null;){h=Re;var m=h.sibling,f=h.return;if(SA(h),h===d){Re=null;break}if(m!==null){m.return=f,Re=m;break}Re=f}}}var j=a.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_u(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Re=p;break e}Re=a.return}}var y=e.current;for(Re=y;Re!==null;){o=Re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Re=b;else e:for(o=y;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vg(9,l)}}catch(C){hs(l,l.return,C)}if(l===o){Re=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Re=w;break e}Re=l.return}}if(Pt=i,No(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Rg,e)}catch{}r=!0}return r}finally{Ut=s,hr.transition=t}}return!1}function F1(e,t,s){t=id(s,t),t=mA(e,t,1),e=Za(e,t,1),t=Nn(),e!==null&&(am(e,1,t),In(e,t))}function hs(e,t,s){if(e.tag===3)F1(e,e,s);else for(;t!==null;){if(t.tag===3){F1(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){e=id(s,e),e=pA(t,e,1),t=Za(t,e,1),e=Nn(),t!==null&&(am(t,1,e),In(t,e));break}}t=t.return}}function x7(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&s,$s===e&&(Xs&s)===s&&(Ms===4||Ms===3&&(Xs&130023424)===Xs&&500>vs()-Pj?il(e,0):Tj|=s),In(e,t)}function IA(e,t){t===0&&(e.mode&1?(t=Om,Om<<=1,!(Om&130023424)&&(Om=4194304)):t=1);var s=Nn();e=ia(e,t),e!==null&&(am(e,t,s),In(e,s))}function y7(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),IA(e,s)}function v7(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),IA(e,s)}var RA;RA=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)An=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return An=!1,a7(e,t,s);An=!!(e.flags&131072)}else An=!1,Zt&&t.flags&1048576&&$E(t,hf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ep(e,t),e=t.pendingProps;var i=td(t,dn.current);ac(t,s),i=wj(null,t,r,e,i,s);var a=Nj();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(r)?(a=!0,df(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xj(t),i.updater=zg,t.stateNode=i,i._reactInternals=t,Hv(t,r,e,s),t=Kv(null,t,r,!0,a,s)):(t.tag=0,Zt&&a&&dj(t),jn(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Ep(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=j7(r),e=wr(r,e),i){case 0:t=Gv(null,t,r,e,s);break e;case 1:t=k1(null,t,r,e,s);break e;case 11:t=S1(null,t,r,e,s);break e;case 14:t=C1(null,t,r,wr(r.type,e),s);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Gv(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),k1(e,t,r,i,s);case 3:e:{if(yA(t),e===null)throw Error(ge(387));r=t.pendingProps,a=t.memoizedState,i=a.element,HE(e,t),ff(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=id(Error(ge(423)),t),t=_1(e,t,r,s,i);break e}else if(r!==i){i=id(Error(ge(424)),t),t=_1(e,t,r,s,i);break e}else for(Gn=Xa(t.stateNode.containerInfo.firstChild),Qn=t,Zt=!0,Mr=null,s=VE(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(sd(),r===i){t=aa(e,t,s);break e}jn(e,t,r,s)}t=t.child}return t;case 5:return WE(t),e===null&&zv(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Ov(r,i)?o=null:a!==null&&Ov(r,a)&&(t.flags|=32),xA(e,t),jn(e,t,o,s),t.child;case 6:return e===null&&zv(t),null;case 13:return vA(e,t,s);case 4:return yj(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nd(t,null,r,s):jn(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),S1(e,t,r,i,s);case 7:return jn(e,t,t.pendingProps,s),t.child;case 8:return jn(e,t,t.pendingProps.children,s),t.child;case 12:return jn(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Wt(mf,r._currentValue),r._currentValue=o,a!==null)if(Gr(a.value,o)){if(a.children===i.children&&!Dn.current){t=aa(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ji(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Vv(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ge(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Vv(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jn(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ac(t,s),i=fr(i),r=r(i),t.flags|=1,jn(e,t,r,s),t.child;case 14:return r=t.type,i=wr(r,t.pendingProps),i=wr(r.type,i),C1(e,t,r,i,s);case 15:return fA(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Ep(e,t),t.tag=1,Mn(r)?(e=!0,df(t)):e=!1,ac(t,s),hA(t,r,i),Hv(t,r,i,s),Kv(null,t,r,!0,e,s);case 19:return bA(e,t,s);case 22:return gA(e,t,s)}throw Error(ge(156,t.tag))};function FA(e,t){return cE(e,t)}function b7(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,s,r){return new b7(e,t,s,r)}function Mj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j7(e){if(typeof e=="function")return Mj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zb)return 11;if(e===Jb)return 14}return 2}function to(e,t){var s=e.alternate;return s===null?(s=dr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Mp(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")Mj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bl:return al(s.children,i,a,t);case Xb:o=8,i|=8;break;case fv:return e=dr(12,s,t,i|2),e.elementType=fv,e.lanes=a,e;case gv:return e=dr(13,s,t,i),e.elementType=gv,e.lanes=a,e;case xv:return e=dr(19,s,t,i),e.elementType=xv,e.lanes=a,e;case W4:return Hg(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q4:o=10;break e;case H4:o=9;break e;case Zb:o=11;break e;case Jb:o=14;break e;case Ca:o=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=dr(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function al(e,t,s,r){return e=dr(7,e,r,t),e.lanes=s,e}function Hg(e,t,s,r){return e=dr(22,e,r,t),e.elementType=W4,e.lanes=s,e.stateNode={isHidden:!1},e}function cy(e,t,s){return e=dr(6,e,null,t),e.lanes=s,e}function dy(e,t,s){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w7(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qx(0),this.expirationTimes=qx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ij(e,t,s,r,i,a,o,l,c){return e=new w7(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xj(a),e}function N7(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function OA(e){if(!e)return oo;e=e._reactInternals;e:{if(Pl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var s=e.type;if(Mn(s))return OE(e,s,t)}return t}function LA(e,t,s,r,i,a,o,l,c){return e=Ij(s,r,!0,e,i,a,o,l,c),e.context=OA(null),s=e.current,r=Nn(),i=eo(s),a=Ji(r,i),a.callback=t??null,Za(s,a,i),e.current.lanes=i,am(e,i,r),In(e,r),e}function Wg(e,t,s,r){var i=t.current,a=Nn(),o=eo(i);return s=OA(s),t.context===null?t.context=s:t.pendingContext=s,t=Ji(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Za(i,t,o),e!==null&&(qr(e,i,o,a),_p(e,i,o)),o}function Nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Rj(e,t){O1(e,t),(e=e.alternate)&&O1(e,t)}function S7(){return null}var $A=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fj(e){this._internalRoot=e}Gg.prototype.render=Fj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Wg(e,t,null,null)};Gg.prototype.unmount=Fj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){Wg(null,e,null,null)}),t[ra]=null}};function Gg(e){this._internalRoot=e}Gg.prototype.unstable_scheduleHydration=function(e){if(e){var t=gE();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Pa.length&&t!==0&&t<Pa[s].priority;s++);Pa.splice(s,0,e),s===0&&yE(e)}};function Oj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function L1(){}function C7(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Nf(o);a.call(d)}}var o=LA(t,r,e,0,null,!1,!1,"",L1);return e._reactRootContainer=o,e[ra]=o.current,Wu(e.nodeType===8?e.parentNode:e),gl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Nf(c);l.call(d)}}var c=Ij(e,0,!1,null,null,!1,!1,"",L1);return e._reactRootContainer=c,e[ra]=c.current,Wu(e.nodeType===8?e.parentNode:e),gl(function(){Wg(t,c,s,r)}),c}function Qg(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Nf(o);l.call(c)}}Wg(t,o,e,i)}else o=C7(s,t,e,i,r);return Nf(o)}pE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=uu(t.pendingLanes);s!==0&&(sj(t,s|1),In(t,vs()),!(Pt&6)&&(ad=vs()+500,No()))}break;case 13:gl(function(){var r=ia(e,1);if(r!==null){var i=Nn();qr(r,e,1,i)}}),Rj(e,1)}};nj=function(e){if(e.tag===13){var t=ia(e,134217728);if(t!==null){var s=Nn();qr(t,e,134217728,s)}Rj(e,134217728)}};fE=function(e){if(e.tag===13){var t=eo(e),s=ia(e,t);if(s!==null){var r=Nn();qr(s,e,t,r)}Rj(e,t)}};gE=function(){return Ut};xE=function(e,t){var s=Ut;try{return Ut=e,t()}finally{Ut=s}};_v=function(e,t,s){switch(t){case"input":if(bv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=$g(r);if(!i)throw Error(ge(90));K4(r),bv(r,i)}}}break;case"textarea":Y4(e,s);break;case"select":t=s.value,t!=null&&sc(e,!!s.multiple,t,!1)}};nE=Ej;rE=gl;var k7={usingClientEntryPoint:!1,Events:[lm,Hl,$g,tE,sE,Ej]},Gd={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_7={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oE(e),e===null?null:e.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||S7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{Rg=Km.inject(_7),bi=Km}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k7;tr.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oj(t))throw Error(ge(200));return N7(e,t,null,s)};tr.createRoot=function(e,t){if(!Oj(e))throw Error(ge(299));var s=!1,r="",i=$A;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ij(e,1,!1,null,null,s,!1,r,i),e[ra]=t.current,Wu(e.nodeType===8?e.parentNode:e),new Fj(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=oE(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return gl(e)};tr.hydrate=function(e,t,s){if(!Kg(t))throw Error(ge(200));return Qg(null,e,t,!0,s)};tr.hydrateRoot=function(e,t,s){if(!Oj(e))throw Error(ge(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=$A;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=LA(t,null,e,1,s??null,i,!1,a,o),e[ra]=t.current,Wu(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Gg(t)};tr.render=function(e,t,s){if(!Kg(t))throw Error(ge(200));return Qg(null,e,t,!1,s)};tr.unmountComponentAtNode=function(e){if(!Kg(e))throw Error(ge(40));return e._reactRootContainer?(gl(function(){Qg(null,null,e,!1,function(){e._reactRootContainer=null,e[ra]=null})}),!0):!1};tr.unstable_batchedUpdates=Ej;tr.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Kg(s))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Qg(e,t,s,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function UA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UA)}catch(e){console.error(e)}}UA(),U4.exports=tr;var pa=U4.exports;const BA=Mi(pa);var zA,$1=pa;zA=$1.createRoot,$1.hydrateRoot;var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function ar(){}function T7(e,t){return typeof e=="function"?e(t):e}function a0(e){return typeof e=="number"&&e>=0&&e!==1/0}function VA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lc(e,t){return typeof e=="function"?e(t):e}function Ir(e,t){return typeof e=="function"?e(t):e}function U1(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Lj(o,t.options))return!1}else if(!th(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function B1(e,t){const{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(yl(t.options.mutationKey)!==yl(a))return!1}else if(!th(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Lj(e,t){return((t==null?void 0:t.queryKeyHashFn)||yl)(e)}function yl(e){return JSON.stringify(e,(t,s)=>o0(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function th(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!th(e[s],t[s])):!1}function qA(e,t){if(e===t)return e;const s=z1(e)&&z1(t);if(s||o0(e)&&o0(t)){const r=s?e:Object.keys(e),i=r.length,a=s?t:Object.keys(t),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const h=s?d:a[d];(!s&&r.includes(h)||s)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=qA(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function Sf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function z1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function o0(e){if(!V1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!V1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function V1(e){return Object.prototype.toString.call(e)==="[object Object]"}function P7(e){return new Promise(t=>{setTimeout(t,e)})}function l0(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?qA(e,t):t}function E7(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function A7(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var $j=Symbol();function HA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$j?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bo,Da,jc,Fk,D7=(Fk=class extends _d{constructor(){super();K(this,Bo);K(this,Da);K(this,jc);te(this,jc,t=>{if(!xl&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){_(this,Da)||this.setEventListener(_(this,jc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Da))==null||t.call(this),te(this,Da,void 0))}setEventListener(t){var s;te(this,jc,t),(s=_(this,Da))==null||s.call(this),te(this,Da,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,Bo)!==t&&(te(this,Bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof _(this,Bo)=="boolean"?_(this,Bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bo=new WeakMap,Da=new WeakMap,jc=new WeakMap,Fk),Uj=new D7,wc,Ma,Nc,Ok,M7=(Ok=class extends _d{constructor(){super();K(this,wc,!0);K(this,Ma);K(this,Nc);te(this,Nc,t=>{if(!xl&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Ma)||this.setEventListener(_(this,Nc))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Ma))==null||t.call(this),te(this,Ma,void 0))}setEventListener(t){var s;te(this,Nc,t),(s=_(this,Ma))==null||s.call(this),te(this,Ma,t(this.setOnline.bind(this)))}setOnline(t){_(this,wc)!==t&&(te(this,wc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,wc)}},wc=new WeakMap,Ma=new WeakMap,Nc=new WeakMap,Ok),Cf=new M7;function c0(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}function I7(e){return Math.min(1e3*2**e,3e4)}function WA(e){return(e??"online")==="online"?Cf.isOnline():!0}var GA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uy(e){return e instanceof GA}function KA(e){let t=!1,s=0,r=!1,i;const a=c0(),o=x=>{var g;r||(m(new GA(x)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Uj.isFocused()&&(e.networkMode==="always"||Cf.isOnline())&&e.canRun(),h=()=>WA(e.networkMode)&&e.canRun(),u=x=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,x),i==null||i(),a.resolve(x))},m=x=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,x),i==null||i(),a.reject(x))},f=()=>new Promise(x=>{var g;i=p=>{(r||d())&&x(p)},(g=e.onPause)==null||g.call(e)}).then(()=>{var x;i=void 0,r||(x=e.onContinue)==null||x.call(e)}),j=()=>{if(r)return;let x;const g=s===0?e.initialPromise:void 0;try{x=g??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(u).catch(p=>{var N;if(r)return;const y=e.retry??(xl?0:3),b=e.retryDelay??I7,w=typeof b=="function"?b(s,p):b,C=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,p);if(t||!C){m(p);return}s++,(N=e.onFail)==null||N.call(e,s,p),P7(w).then(()=>d()?void 0:f()).then(()=>{t?m(p):j()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?j():f().then(j),a)}}function R7(){let e=[],t=0,s=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ds=R7(),zo,Lk,QA=(Lk=class{constructor(){K(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a0(this.gcTime)&&te(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:5*60*1e3))}clearGcTimeout(){_(this,zo)&&(clearTimeout(_(this,zo)),te(this,zo,void 0))}},zo=new WeakMap,Lk),Sc,Cc,rr,nn,Ih,Vo,Nr,Ui,$k,F7=($k=class extends QA{constructor(t){super();K(this,Nr);K(this,Sc);K(this,Cc);K(this,rr);K(this,nn);K(this,Ih);K(this,Vo);te(this,Vo,!1),te(this,Ih,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,rr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Sc,O7(this.options)),this.state=t.state??_(this,Sc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,nn))==null?void 0:t.promise}setOptions(t){this.options={..._(this,Ih),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,rr).remove(this)}setData(t,s){const r=l0(this.state.data,t,this.options);return ne(this,Nr,Ui).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){ne(this,Nr,Ui).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,i;const s=(r=_(this,nn))==null?void 0:r.promise;return(i=_(this,nn))==null||i.cancel(t),s?s.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Sc))}isActive(){return this.observers.some(t=>Ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$j||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!VA(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,nn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=_(this,nn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(_(this,nn)&&(_(this,Vo)?_(this,nn).cancel({revert:!0}):_(this,nn).cancelRetry()),this.scheduleGc()),_(this,rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Nr,Ui).call(this,{type:"invalidate"})}fetch(t,s){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(_(this,nn))return _(this,nn).continueRetry(),_(this,nn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(te(this,Vo,!0),r.signal)})},a=()=>{const u=HA(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),te(this,Vo,!1),this.options.persister?this.options.persister(u,m,this):u(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),te(this,Cc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ne(this,Nr,Ui).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=u=>{var m,f,j,x;uy(u)&&u.silent||ne(this,Nr,Ui).call(this,{type:"error",error:u}),uy(u)||((f=(m=_(this,rr).config).onError)==null||f.call(m,u,this),(x=(j=_(this,rr).config).onSettled)==null||x.call(j,this.state.data,u,this)),this.scheduleGc()};return te(this,nn,KA({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var m,f,j,x;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(g){l(g);return}(f=(m=_(this,rr).config).onSuccess)==null||f.call(m,u,this),(x=(j=_(this,rr).config).onSettled)==null||x.call(j,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{ne(this,Nr,Ui).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{ne(this,Nr,Ui).call(this,{type:"pause"})},onContinue:()=>{ne(this,Nr,Ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,nn).start()}},Sc=new WeakMap,Cc=new WeakMap,rr=new WeakMap,nn=new WeakMap,Ih=new WeakMap,Vo=new WeakMap,Nr=new WeakSet,Ui=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YA(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return uy(i)&&i.revert&&_(this,Cc)?{..._(this,Cc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Ds.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,rr).notify({query:this,type:"updated",action:t})})},$k);function YA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function O7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ai,Uk,L7=(Uk=class extends _d{constructor(t={}){super();K(this,ai);this.config=t,te(this,ai,new Map)}build(t,s,r){const i=s.queryKey,a=s.queryHash??Lj(i,s);let o=this.get(a);return o||(o=new F7({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,ai).has(t.queryHash)||(_(this,ai).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=_(this,ai).get(t.queryHash);s&&(t.destroy(),s===t&&_(this,ai).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,ai).get(t)}getAll(){return[..._(this,ai).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>U1(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>U1(t,r)):s}notify(t){Ds.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ai=new WeakMap,Uk),oi,xn,qo,li,ja,Bk,$7=(Bk=class extends QA{constructor(t){super();K(this,li);K(this,oi);K(this,xn);K(this,qo);this.mutationId=t.mutationId,te(this,xn,t.mutationCache),te(this,oi,[]),this.state=t.state||XA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,oi).includes(t)||(_(this,oi).push(t),this.clearGcTimeout(),_(this,xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,oi,_(this,oi).filter(s=>s!==t)),this.scheduleGc(),_(this,xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,oi).length||(this.state.status==="pending"?this.scheduleGc():_(this,xn).remove(this))}continue(){var t;return((t=_(this,qo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,d,h,u,m,f,j,x,g,p,y,b,w,C,N,S;te(this,qo,KA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{ne(this,li,ja).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{ne(this,li,ja).call(this,{type:"pause"})},onContinue:()=>{ne(this,li,ja).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,xn).canRun(this)}));const s=this.state.status==="pending",r=!_(this,qo).canStart();try{if(!s){ne(this,li,ja).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=_(this,xn).config).onMutate)==null?void 0:a.call(i,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&ne(this,li,ja).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const k=await _(this,qo).start();return await((d=(c=_(this,xn).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,k,t,this.state.context)),await((f=(m=_(this,xn).config).onSettled)==null?void 0:f.call(m,k,null,this.state.variables,this.state.context,this)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,k,null,t,this.state.context)),ne(this,li,ja).call(this,{type:"success",data:k}),k}catch(k){try{throw await((p=(g=_(this,xn).config).onError)==null?void 0:p.call(g,k,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,k,t,this.state.context)),await((C=(w=_(this,xn).config).onSettled)==null?void 0:C.call(w,void 0,k,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,k,t,this.state.context)),k}finally{ne(this,li,ja).call(this,{type:"error",error:k})}}finally{_(this,xn).runNext(this)}}},oi=new WeakMap,xn=new WeakMap,qo=new WeakMap,li=new WeakSet,ja=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ds.batch(()=>{_(this,oi).forEach(r=>{r.onMutationUpdate(t)}),_(this,xn).notify({mutation:this,type:"updated",action:t})})},Bk);function XA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Rh,zk,U7=(zk=class extends _d{constructor(t={}){super();K(this,Bn);K(this,Rh);this.config=t,te(this,Bn,new Map),te(this,Rh,Date.now())}build(t,s,r){const i=new $7({mutationCache:this,mutationId:++Em(this,Rh)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){const s=Qm(t),r=_(this,Bn).get(s)??[];r.push(t),_(this,Bn).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=Qm(t);if(_(this,Bn).has(s)){const i=(r=_(this,Bn).get(s))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?_(this,Bn).delete(s):_(this,Bn).set(s,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=_(this,Bn).get(Qm(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=_(this,Bn).get(Qm(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[..._(this,Bn).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>B1(s,r))}findAll(t={}){return this.getAll().filter(s=>B1(t,s))}notify(t){Ds.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Ds.batch(()=>Promise.all(t.map(s=>s.continue().catch(ar))))}},Bn=new WeakMap,Rh=new WeakMap,zk);function Qm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function q1(e){return{onFetch:(t,s)=>{var h,u,m,f,j;const r=t.options,i=(m=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=HA(t.options,t.fetchOptions),y=async(b,w,C)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:t.queryKey,pageParam:w,direction:C?"backward":"forward",meta:t.options.meta};g(N);const S=await p(N),{maxPages:k}=t.options,T=C?A7:E7;return{pages:T(b.pages,S,k),pageParams:T(b.pageParams,w,k)}};if(i&&a.length){const b=i==="backward",w=b?B7:H1,C={pages:a,pageParams:o},N=w(r,C);l=await y(C,N,b)}else{const b=e??a.length;do{const w=c===0?o[0]??r.initialPageParam:H1(r,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,g;return(g=(x=t.options).persister)==null?void 0:g.call(x,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function H1(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function B7(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var us,Ia,Ra,kc,_c,Fa,Tc,Pc,Vk,z7=(Vk=class{constructor(e={}){K(this,us);K(this,Ia);K(this,Ra);K(this,kc);K(this,_c);K(this,Fa);K(this,Tc);K(this,Pc);te(this,us,e.queryCache||new L7),te(this,Ia,e.mutationCache||new U7),te(this,Ra,e.defaultOptions||{}),te(this,kc,new Map),te(this,_c,new Map),te(this,Fa,0)}mount(){Em(this,Fa)._++,_(this,Fa)===1&&(te(this,Tc,Uj.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,us).onFocus())})),te(this,Pc,Cf.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,us).onOnline())})))}unmount(){var e,t;Em(this,Fa)._--,_(this,Fa)===0&&((e=_(this,Tc))==null||e.call(this),te(this,Tc,void 0),(t=_(this,Pc))==null||t.call(this),te(this,Pc,void 0))}isFetching(e){return _(this,us).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Ia).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,us).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=_(this,us).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(lc(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return _(this,us).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=_(this,us).get(r.queryHash),a=i==null?void 0:i.state.data,o=T7(t,a);if(o!==void 0)return _(this,us).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Ds.batch(()=>_(this,us).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=_(this,us).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=_(this,us);Ds.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=_(this,us),r={type:"active",...e};return Ds.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Ds.batch(()=>_(this,us).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(e={},t={}){return Ds.batch(()=>{if(_(this,us).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ds.batch(()=>_(this,us).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(ar)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=_(this,us).build(this,t);return s.isStaleByTime(lc(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=q1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=q1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cf.isOnline()?_(this,Ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,us)}getMutationCache(){return _(this,Ia)}getDefaultOptions(){return _(this,Ra)}setDefaultOptions(e){te(this,Ra,e)}setQueryDefaults(e,t){_(this,kc).set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,kc).values()];let s={};return t.forEach(r=>{th(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){_(this,_c).set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,_c).values()];let s={};return t.forEach(r=>{th(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Ra).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$j&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Ra).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,us).clear(),_(this,Ia).clear()}},us=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,kc=new WeakMap,_c=new WeakMap,Fa=new WeakMap,Tc=new WeakMap,Pc=new WeakMap,Vk),Tn,Nt,Fh,yn,Ho,Ec,Oa,ci,Oh,Ac,Dc,Wo,Go,La,Mc,Rt,mu,d0,u0,h0,m0,p0,f0,g0,ZA,qk,V7=(qk=class extends _d{constructor(t,s){super();K(this,Rt);K(this,Tn);K(this,Nt);K(this,Fh);K(this,yn);K(this,Ho);K(this,Ec);K(this,Oa);K(this,ci);K(this,Oh);K(this,Ac);K(this,Dc);K(this,Wo);K(this,Go);K(this,La);K(this,Mc,new Set);this.options=s,te(this,Tn,t),te(this,ci,null),te(this,Oa,c0()),this.options.experimental_prefetchInRender||_(this,Oa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Nt).addObserver(this),W1(_(this,Nt),this.options)?ne(this,Rt,mu).call(this):this.updateResult(),ne(this,Rt,m0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return x0(_(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return x0(_(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,Rt,p0).call(this),ne(this,Rt,f0).call(this),_(this,Nt).removeObserver(this)}setOptions(t,s){const r=this.options,i=_(this,Nt);if(this.options=_(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,_(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,Rt,g0).call(this),_(this,Nt).setOptions(this.options),r._defaulted&&!Sf(this.options,r)&&_(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Nt),observer:this});const a=this.hasListeners();a&&G1(_(this,Nt),i,this.options,r)&&ne(this,Rt,mu).call(this),this.updateResult(s),a&&(_(this,Nt)!==i||Ir(this.options.enabled,_(this,Nt))!==Ir(r.enabled,_(this,Nt))||lc(this.options.staleTime,_(this,Nt))!==lc(r.staleTime,_(this,Nt)))&&ne(this,Rt,d0).call(this);const o=ne(this,Rt,u0).call(this);a&&(_(this,Nt)!==i||Ir(this.options.enabled,_(this,Nt))!==Ir(r.enabled,_(this,Nt))||o!==_(this,La))&&ne(this,Rt,h0).call(this,o)}getOptimisticResult(t){const s=_(this,Tn).getQueryCache().build(_(this,Tn),t),r=this.createResult(s,t);return H7(this,r)&&(te(this,yn,r),te(this,Ec,this.options),te(this,Ho,_(this,Nt).state)),r}getCurrentResult(){return _(this,yn)}trackResult(t,s){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),t[i])})}),r}trackProp(t){_(this,Mc).add(t)}getCurrentQuery(){return _(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=_(this,Tn).defaultQueryOptions(t),r=_(this,Tn).getQueryCache().build(_(this,Tn),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return ne(this,Rt,mu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,yn)))}createResult(t,s){var k;const r=_(this,Nt),i=this.options,a=_(this,yn),o=_(this,Ho),l=_(this,Ec),d=t!==r?t.state:_(this,Fh),{state:h}=t;let u={...h},m=!1,f;if(s._optimisticResults){const T=this.hasListeners(),D=!T&&W1(t,s),P=T&&G1(t,r,s,i);(D||P)&&(u={...u,...YA(h.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:j,errorUpdatedAt:x,status:g}=u;if(s.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&s.select===_(this,Oh))f=_(this,Ac);else try{te(this,Oh,s.select),f=s.select(u.data),f=l0(a==null?void 0:a.data,f,s),te(this,Ac,f),te(this,ci,null)}catch(T){te(this,ci,T)}else f=u.data;if(s.placeholderData!==void 0&&f===void 0&&g==="pending"){let T;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))T=a.data;else if(T=typeof s.placeholderData=="function"?s.placeholderData((k=_(this,Dc))==null?void 0:k.state.data,_(this,Dc)):s.placeholderData,s.select&&T!==void 0)try{T=s.select(T),te(this,ci,null)}catch(D){te(this,ci,D)}T!==void 0&&(g="success",f=l0(a==null?void 0:a.data,T,s),m=!0)}_(this,ci)&&(j=_(this,ci),f=_(this,Ac),x=Date.now(),g="error");const p=u.fetchStatus==="fetching",y=g==="pending",b=g==="error",w=y&&p,C=f!==void 0,S={status:g,fetchStatus:u.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:u.dataUpdatedAt,error:j,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:b&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&C,isStale:Bj(t,s),refetch:this.refetch,promise:_(this,Oa)};if(this.options.experimental_prefetchInRender){const T=M=>{S.status==="error"?M.reject(S.error):S.data!==void 0&&M.resolve(S.data)},D=()=>{const M=te(this,Oa,S.promise=c0());T(M)},P=_(this,Oa);switch(P.status){case"pending":t.queryHash===r.queryHash&&T(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&D();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&D();break}}return S}updateResult(t){const s=_(this,yn),r=this.createResult(_(this,Nt),this.options);if(te(this,Ho,_(this,Nt).state),te(this,Ec,this.options),_(this,Ho).data!==void 0&&te(this,Dc,_(this,Nt)),Sf(r,s))return;te(this,yn,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!_(this,Mc).size)return!0;const c=new Set(l??_(this,Mc));return this.options.throwOnError&&c.add("error"),Object.keys(_(this,yn)).some(d=>{const h=d;return _(this,yn)[h]!==s[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),ne(this,Rt,ZA).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,Rt,m0).call(this)}},Tn=new WeakMap,Nt=new WeakMap,Fh=new WeakMap,yn=new WeakMap,Ho=new WeakMap,Ec=new WeakMap,Oa=new WeakMap,ci=new WeakMap,Oh=new WeakMap,Ac=new WeakMap,Dc=new WeakMap,Wo=new WeakMap,Go=new WeakMap,La=new WeakMap,Mc=new WeakMap,Rt=new WeakSet,mu=function(t){ne(this,Rt,g0).call(this);let s=_(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ar)),s},d0=function(){ne(this,Rt,p0).call(this);const t=lc(this.options.staleTime,_(this,Nt));if(xl||_(this,yn).isStale||!a0(t))return;const r=VA(_(this,yn).dataUpdatedAt,t)+1;te(this,Wo,setTimeout(()=>{_(this,yn).isStale||this.updateResult()},r))},u0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Nt)):this.options.refetchInterval)??!1},h0=function(t){ne(this,Rt,f0).call(this),te(this,La,t),!(xl||Ir(this.options.enabled,_(this,Nt))===!1||!a0(_(this,La))||_(this,La)===0)&&te(this,Go,setInterval(()=>{(this.options.refetchIntervalInBackground||Uj.isFocused())&&ne(this,Rt,mu).call(this)},_(this,La)))},m0=function(){ne(this,Rt,d0).call(this),ne(this,Rt,h0).call(this,ne(this,Rt,u0).call(this))},p0=function(){_(this,Wo)&&(clearTimeout(_(this,Wo)),te(this,Wo,void 0))},f0=function(){_(this,Go)&&(clearInterval(_(this,Go)),te(this,Go,void 0))},g0=function(){const t=_(this,Tn).getQueryCache().build(_(this,Tn),this.options);if(t===_(this,Nt))return;const s=_(this,Nt);te(this,Nt,t),te(this,Fh,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},ZA=function(t){Ds.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(_(this,yn))}),_(this,Tn).getQueryCache().notify({query:_(this,Nt),type:"observerResultsUpdated"})})},qk);function q7(e,t){return Ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function W1(e,t){return q7(e,t)||e.state.data!==void 0&&x0(e,t,t.refetchOnMount)}function x0(e,t,s){if(Ir(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Bj(e,t)}return!1}function G1(e,t,s,r){return(e!==t||Ir(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Bj(e,s)}function Bj(e,t){return Ir(t.enabled,e)!==!1&&e.isStaleByTime(lc(t.staleTime,e))}function H7(e,t){return!Sf(e.getCurrentResult(),t)}var $a,Ua,Pn,Hi,sa,Ip,y0,Hk,W7=(Hk=class extends _d{constructor(s,r){super();K(this,sa);K(this,$a);K(this,Ua);K(this,Pn);K(this,Hi);te(this,$a,s),this.setOptions(r),this.bindMethods(),ne(this,sa,Ip).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=_(this,$a).defaultMutationOptions(s),Sf(this.options,r)||_(this,$a).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yl(r.mutationKey)!==yl(this.options.mutationKey)?this.reset():((i=_(this,Pn))==null?void 0:i.state.status)==="pending"&&_(this,Pn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=_(this,Pn))==null||s.removeObserver(this)}onMutationUpdate(s){ne(this,sa,Ip).call(this),ne(this,sa,y0).call(this,s)}getCurrentResult(){return _(this,Ua)}reset(){var s;(s=_(this,Pn))==null||s.removeObserver(this),te(this,Pn,void 0),ne(this,sa,Ip).call(this),ne(this,sa,y0).call(this)}mutate(s,r){var i;return te(this,Hi,r),(i=_(this,Pn))==null||i.removeObserver(this),te(this,Pn,_(this,$a).getMutationCache().build(_(this,$a),this.options)),_(this,Pn).addObserver(this),_(this,Pn).execute(s)}},$a=new WeakMap,Ua=new WeakMap,Pn=new WeakMap,Hi=new WeakMap,sa=new WeakSet,Ip=function(){var r;const s=((r=_(this,Pn))==null?void 0:r.state)??XA();te(this,Ua,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},y0=function(s){Ds.batch(()=>{var r,i,a,o,l,c,d,h;if(_(this,Hi)&&this.hasListeners()){const u=_(this,Ua).variables,m=_(this,Ua).context;(s==null?void 0:s.type)==="success"?((i=(r=_(this,Hi)).onSuccess)==null||i.call(r,s.data,u,m),(o=(a=_(this,Hi)).onSettled)==null||o.call(a,s.data,null,u,m)):(s==null?void 0:s.type)==="error"&&((c=(l=_(this,Hi)).onError)==null||c.call(l,s.error,u,m),(h=(d=_(this,Hi)).onSettled)==null||h.call(d,void 0,s.error,u,m))}this.listeners.forEach(u=>{u(_(this,Ua))})})},Hk),JA=v.createContext(void 0),Yt=e=>{const t=v.useContext(JA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},G7=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(JA.Provider,{value:e,children:t})),e5=v.createContext(!1),K7=()=>v.useContext(e5);e5.Provider;function Q7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Y7=v.createContext(Q7()),X7=()=>v.useContext(Y7);function t5(e,t){return typeof e=="function"?e(...t):!!e}function v0(){}var Z7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},J7=e=>{v.useEffect(()=>{e.clearReset()},[e])},eU=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&t5(s,[e.error,r]),tU=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},sU=(e,t)=>e.isLoading&&e.isFetching&&!t,nU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,K1=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function rU(e,t,s){var h,u,m,f,j;const r=Yt(),i=K7(),a=X7(),o=r.defaultQueryOptions(e);(u=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",tU(o),Z7(o,a),J7(a);const l=!r.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(x=>{const g=i?v0:c.subscribe(Ds.batchCalls(x));return c.updateResult(),g},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),nU(o,d))throw K1(o,c,a);if(eU({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((f=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,o,d),o.experimental_prefetchInRender&&!xl&&sU(d,i)){const x=l?K1(o,c,a):(j=r.getQueryCache().get(o.queryHash))==null?void 0:j.promise;x==null||x.catch(v0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xe(e,t){return rU(e,V7)}function Ce(e,t){const s=Yt(),[r]=v.useState(()=>new W7(s,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(Ds.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,l)=>{r.mutate(o,l).catch(v0)},[r]);if(i.error&&t5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Fe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Q1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function s5(...e){return t=>{let s=!1;const r=e.map(i=>{const a=Q1(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Q1(e[i],null)}}}}function xt(...e){return v.useCallback(s5(...e),e)}function iU(e,t){const s=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=v.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Fn(e,t=[]){let s=[];function r(a,o){const l=v.createContext(o),c=s.length;s=[...s,o];const d=u=>{var p;const{scope:m,children:f,...j}=u,x=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,g=v.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:g,children:f})};d.displayName=a+"Provider";function h(u,m){var x;const f=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,j=v.useContext(f);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=s.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,aU(i,...t)]}function aU(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function od(e){const t=oU(e),s=v.forwardRef((r,i)=>{const{children:a,...o}=r,l=v.Children.toArray(a),c=l.find(cU);if(c){const d=c.props.children,h=l.map(u=>u===c?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:u);return n.jsx(t,{...o,ref:i,children:v.isValidElement(d)?v.cloneElement(d,void 0,h):null})}return n.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var n5=od("Slot");function oU(e){const t=v.forwardRef((s,r)=>{const{children:i,...a}=s;if(v.isValidElement(i)){const o=uU(i),l=dU(a,i.props);return i.type!==v.Fragment&&(l.ref=r?s5(r,o):o),v.cloneElement(i,l)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r5=Symbol("radix.slottable");function lU(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=r5,t}function cU(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r5}function dU(e,t){const s={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function uU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var hU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=hU.reduce((e,t)=>{const s=od(`Primitive.${t}`),r=v.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i5(e,t){e&&pa.flushSync(()=>e.dispatchEvent(t))}function ms(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function mU(e,t=globalThis==null?void 0:globalThis.document){const s=ms(e);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var pU="DismissableLayer",b0="dismissableLayer.update",fU="dismissableLayer.pointerDownOutside",gU="dismissableLayer.focusOutside",Y1,a5=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dm=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(a5),[h,u]=v.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),j=xt(t,S=>u(S)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(g),y=h?x.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=y>=p,C=yU(S=>{const k=S.target,T=[...d.branches].some(D=>D.contains(k));!w||T||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),N=vU(S=>{const k=S.target;[...d.branches].some(D=>D.contains(k))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return mU(S=>{y===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),v.useEffect(()=>{if(h)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Y1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),X1(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Y1)}},[h,m,s,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),X1())},[h,d]),v.useEffect(()=>{const S=()=>f({});return document.addEventListener(b0,S),()=>document.removeEventListener(b0,S)},[]),n.jsx(Ve.div,{...c,ref:j,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,C.onPointerDownCapture)})});dm.displayName=pU;var xU="DismissableLayerBranch",o5=v.forwardRef((e,t)=>{const s=v.useContext(a5),r=v.useRef(null),i=xt(t,r);return v.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Ve.div,{...e,ref:i})});o5.displayName=xU;function yU(e,t=globalThis==null?void 0:globalThis.document){const s=ms(e),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){l5(fU,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function vU(e,t=globalThis==null?void 0:globalThis.document){const s=ms(e),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&l5(gU,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X1(){const e=new CustomEvent(b0);document.dispatchEvent(e)}function l5(e,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?i5(i,a):i.dispatchEvent(a)}var bU=dm,jU=o5,Ts=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},wU=L4[" useId ".trim().toString()]||(()=>{}),NU=0;function ea(e){const[t,s]=v.useState(wU());return Ts(()=>{e||s(r=>r??String(NU++))},[e]),e||(t?`radix-${t}`:"")}const SU=["top","right","bottom","left"],lo=Math.min,qn=Math.max,kf=Math.round,Ym=Math.floor,wi=e=>({x:e,y:e}),CU={left:"right",right:"left",bottom:"top",top:"bottom"},kU={start:"end",end:"start"};function j0(e,t,s){return qn(e,lo(t,s))}function oa(e,t){return typeof e=="function"?e(t):e}function la(e){return e.split("-")[0]}function Td(e){return e.split("-")[1]}function zj(e){return e==="x"?"y":"x"}function Vj(e){return e==="y"?"height":"width"}function co(e){return["top","bottom"].includes(la(e))?"y":"x"}function qj(e){return zj(co(e))}function _U(e,t,s){s===void 0&&(s=!1);const r=Td(e),i=qj(e),a=Vj(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=_f(o)),[o,_f(o)]}function TU(e){const t=_f(e);return[w0(e),t,w0(t)]}function w0(e){return e.replace(/start|end/g,t=>kU[t])}function PU(e,t,s){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function EU(e,t,s,r){const i=Td(e);let a=PU(la(e),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(w0)))),a}function _f(e){return e.replace(/left|right|bottom|top/g,t=>CU[t])}function AU(e){return{top:0,right:0,bottom:0,left:0,...e}}function c5(e){return typeof e!="number"?AU(e):{top:e,right:e,bottom:e,left:e}}function Tf(e){const{x:t,y:s,width:r,height:i}=e;return{width:r,height:i,top:s,left:t,right:t+r,bottom:s+i,x:t,y:s}}function Z1(e,t,s){let{reference:r,floating:i}=e;const a=co(t),o=qj(t),l=Vj(o),c=la(t),d=a==="y",h=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let f;switch(c){case"top":f={x:h,y:r.y-i.height};break;case"bottom":f={x:h,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(Td(t)){case"start":f[o]-=m*(s&&d?-1:1);break;case"end":f[o]+=m*(s&&d?-1:1);break}return f}const DU=async(e,t,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:u}=Z1(d,r,c),m=r,f={},j=0;for(let x=0;x<l.length;x++){const{name:g,fn:p}=l[x],{x:y,y:b,data:w,reset:C}=await p({x:h,y:u,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});h=y??h,u=b??u,f={...f,[g]:{...f[g],...w}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:h,y:u}=Z1(d,m,c)),x=-1)}return{x:h,y:u,placement:m,strategy:i,middlewareData:f}};async function sh(e,t){var s;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:m=!1,padding:f=0}=oa(t,e),j=c5(f),g=l[m?u==="floating"?"reference":"floating":u],p=Tf(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(g)))==null||s?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Tf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(p.top-C.top+j.top)/w.y,bottom:(C.bottom-p.bottom+j.bottom)/w.y,left:(p.left-C.left+j.left)/w.x,right:(C.right-p.right+j.right)/w.x}}const MU=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=oa(e,t)||{};if(d==null)return{};const u=c5(h),m={x:s,y:r},f=qj(i),j=Vj(f),x=await o.getDimensions(d),g=f==="y",p=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=a.reference[j]+a.reference[f]-m[f]-a.floating[j],C=m[f]-a.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||a.floating[j]);const k=w/2-C/2,T=S/2-x[j]/2-1,D=lo(u[p],T),P=lo(u[y],T),M=D,X=S-x[j]-P,ee=S/2-x[j]/2+k,F=j0(M,ee,X),re=!c.arrow&&Td(i)!=null&&ee!==F&&a.reference[j]/2-(ee<M?D:P)-x[j]/2<0,fe=re?ee<M?ee-M:ee-X:0;return{[f]:m[f]+fe,data:{[f]:F,centerOffset:ee-F-fe,...re&&{alignmentOffset:fe}},reset:re}}}),IU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...g}=oa(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const p=la(i),y=co(l),b=la(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(b||!x?[_f(l)]:TU(l)),N=j!=="none";!m&&N&&C.push(...EU(l,x,j,w));const S=[l,...C],k=await sh(t,g),T=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&T.push(k[p]),u){const ee=_U(i,o,w);T.push(k[ee[0]],k[ee[1]])}if(D=[...D,{placement:i,overflows:T}],!T.every(ee=>ee<=0)){var P,M;const ee=(((P=a.flip)==null?void 0:P.index)||0)+1,F=S[ee];if(F)return{data:{index:ee,overflows:D},reset:{placement:F}};let re=(M=D.filter(fe=>fe.overflows[0]<=0).sort((fe,H)=>fe.overflows[1]-H.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(f){case"bestFit":{var X;const fe=(X=D.filter(H=>{if(N){const $=co(H.placement);return $===y||$==="y"}return!0}).map(H=>[H.placement,H.overflows.filter($=>$>0).reduce(($,oe)=>$+oe,0)]).sort((H,$)=>H[1]-$[1])[0])==null?void 0:X[0];fe&&(re=fe);break}case"initialPlacement":re=l;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function J1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eS(e){return SU.some(t=>e[t]>=0)}const RU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...i}=oa(e,t);switch(r){case"referenceHidden":{const a=await sh(t,{...i,elementContext:"reference"}),o=J1(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eS(o)}}}case"escaped":{const a=await sh(t,{...i,altBoundary:!0}),o=J1(a,s.floating);return{data:{escapedOffsets:o,escaped:eS(o)}}}default:return{}}}}};async function FU(e,t){const{placement:s,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=la(s),l=Td(s),c=co(s)==="y",d=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,u=oa(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:j}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof j=="number"&&(f=l==="end"?j*-1:j),c?{x:f*h,y:m*d}:{x:m*d,y:f*h}}const OU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await FU(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},LU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:p,y}=g;return{x:p,y}}},...c}=oa(e,t),d={x:s,y:r},h=await sh(t,c),u=co(la(i)),m=zj(u);let f=d[m],j=d[u];if(a){const g=m==="y"?"top":"left",p=m==="y"?"bottom":"right",y=f+h[g],b=f-h[p];f=j0(y,f,b)}if(o){const g=u==="y"?"top":"left",p=u==="y"?"bottom":"right",y=j+h[g],b=j-h[p];j=j0(y,j,b)}const x=l.fn({...t,[m]:f,[u]:j});return{...x,data:{x:x.x-s,y:x.y-r,enabled:{[m]:a,[u]:o}}}}}},$U=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=oa(e,t),h={x:s,y:r},u=co(i),m=zj(u);let f=h[m],j=h[u];const x=oa(l,t),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",w=a.reference[m]-a.floating[b]+g.mainAxis,C=a.reference[m]+a.reference[b]-g.mainAxis;f<w?f=w:f>C&&(f=C)}if(d){var p,y;const b=m==="y"?"width":"height",w=["top","left"].includes(la(i)),C=a.reference[u]-a.floating[b]+(w&&((p=o.offset)==null?void 0:p[u])||0)+(w?0:g.crossAxis),N=a.reference[u]+a.reference[b]+(w?0:((y=o.offset)==null?void 0:y[u])||0)-(w?g.crossAxis:0);j<C?j=C:j>N&&(j=N)}return{[m]:f,[u]:j}}}},UU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=oa(e,t),h=await sh(t,d),u=la(i),m=Td(i),f=co(i)==="y",{width:j,height:x}=a.floating;let g,p;u==="top"||u==="bottom"?(g=u,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=u,g=m==="end"?"top":"bottom");const y=x-h.top-h.bottom,b=j-h.left-h.right,w=lo(x-h[g],y),C=lo(j-h[p],b),N=!t.middlewareData.shift;let S=w,k=C;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),N&&!m){const D=qn(h.left,0),P=qn(h.right,0),M=qn(h.top,0),X=qn(h.bottom,0);f?k=j-2*(D!==0||P!==0?D+P:qn(h.left,h.right)):S=x-2*(M!==0||X!==0?M+X:qn(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:S});const T=await o.getDimensions(l.floating);return j!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Yg(){return typeof window<"u"}function Pd(e){return d5(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ii(e){var t;return(t=(d5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d5(e){return Yg()?e instanceof Node||e instanceof Yn(e).Node:!1}function Kr(e){return Yg()?e instanceof Element||e instanceof Yn(e).Element:!1}function ki(e){return Yg()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function tS(e){return!Yg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}function um(e){const{overflow:t,overflowX:s,overflowY:r,display:i}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(i)}function BU(e){return["table","td","th"].includes(Pd(e))}function Xg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Hj(e){const t=Wj(),s=Kr(e)?Qr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function zU(e){let t=uo(e);for(;ki(t)&&!ld(t);){if(Hj(t))return t;if(Xg(t))return null;t=uo(t)}return null}function Wj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ld(e){return["html","body","#document"].includes(Pd(e))}function Qr(e){return Yn(e).getComputedStyle(e)}function Zg(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uo(e){if(Pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tS(e)&&e.host||Ii(e);return tS(t)?t.host:t}function u5(e){const t=uo(e);return ld(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&um(t)?t:u5(t)}function nh(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=u5(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Yn(i);if(a){const l=N0(o);return t.concat(o,o.visualViewport||[],um(i)?i:[],l&&s?nh(l):[])}return t.concat(i,nh(i,[],s))}function N0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h5(e){const t=Qr(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ki(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:r,l=kf(s)!==a||kf(r)!==o;return l&&(s=a,r=o),{width:s,height:r,$:l}}function Gj(e){return Kr(e)?e:e.contextElement}function cc(e){const t=Gj(e);if(!ki(t))return wi(1);const s=t.getBoundingClientRect(),{width:r,height:i,$:a}=h5(t);let o=(a?kf(s.width):s.width)/r,l=(a?kf(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const VU=wi(0);function m5(e){const t=Yn(e);return!Wj()||!t.visualViewport?VU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qU(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Yn(e)?!1:t}function vl(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),a=Gj(e);let o=wi(1);t&&(r?Kr(r)&&(o=cc(r)):o=cc(e));const l=qU(a,s,r)?m5(a):wi(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,u=i.height/o.y;if(a){const m=Yn(a),f=r&&Kr(r)?Yn(r):r;let j=m,x=N0(j);for(;x&&r&&f!==j;){const g=cc(x),p=x.getBoundingClientRect(),y=Qr(x),b=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*g.x,w=p.top+(x.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,h*=g.x,u*=g.y,c+=b,d+=w,j=Yn(x),x=N0(j)}}return Tf({width:h,height:u,x:c,y:d})}function Kj(e,t){const s=Zg(e).scrollLeft;return t?t.left+s:vl(Ii(e)).left+s}function p5(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(s?0:Kj(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function HU(e){let{elements:t,rect:s,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Ii(r),l=t?Xg(t.floating):!1;if(r===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=wi(1);const h=wi(0),u=ki(r);if((u||!u&&!a)&&((Pd(r)!=="body"||um(o))&&(c=Zg(r)),ki(r))){const f=vl(r);d=cc(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}const m=o&&!u&&!a?p5(o,c,!0):wi(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:s.y*d.y-c.scrollTop*d.y+h.y+m.y}}function WU(e){return Array.from(e.getClientRects())}function GU(e){const t=Ii(e),s=Zg(e),r=e.ownerDocument.body,i=qn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=qn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Kj(e);const l=-s.scrollTop;return Qr(r).direction==="rtl"&&(o+=qn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function KU(e,t){const s=Yn(e),r=Ii(e),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=Wj();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function QU(e,t){const s=vl(e,!0,t==="fixed"),r=s.top+e.clientTop,i=s.left+e.clientLeft,a=ki(e)?cc(e):wi(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function sS(e,t,s){let r;if(t==="viewport")r=KU(e,s);else if(t==="document")r=GU(Ii(e));else if(Kr(t))r=QU(t,s);else{const i=m5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Tf(r)}function f5(e,t){const s=uo(e);return s===t||!Kr(s)||ld(s)?!1:Qr(s).position==="fixed"||f5(s,t)}function YU(e,t){const s=t.get(e);if(s)return s;let r=nh(e,[],!1).filter(l=>Kr(l)&&Pd(l)!=="body"),i=null;const a=Qr(e).position==="fixed";let o=a?uo(e):e;for(;Kr(o)&&!ld(o);){const l=Qr(o),c=Hj(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||um(o)&&!c&&f5(e,o))?r=r.filter(h=>h!==o):i=l,o=uo(o)}return t.set(e,r),r}function XU(e){let{element:t,boundary:s,rootBoundary:r,strategy:i}=e;const o=[...s==="clippingAncestors"?Xg(t)?[]:YU(t,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,h)=>{const u=sS(t,h,i);return d.top=qn(u.top,d.top),d.right=lo(u.right,d.right),d.bottom=lo(u.bottom,d.bottom),d.left=qn(u.left,d.left),d},sS(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZU(e){const{width:t,height:s}=h5(e);return{width:t,height:s}}function JU(e,t,s){const r=ki(t),i=Ii(t),a=s==="fixed",o=vl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=wi(0);if(r||!r&&!a)if((Pd(t)!=="body"||um(i))&&(l=Zg(t)),r){const m=vl(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=Kj(i));const d=i&&!r&&!a?p5(i,l):wi(0),h=o.left+l.scrollLeft-c.x-d.x,u=o.top+l.scrollTop-c.y-d.y;return{x:h,y:u,width:o.width,height:o.height}}function hy(e){return Qr(e).position==="static"}function nS(e,t){if(!ki(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Ii(e)===s&&(s=s.ownerDocument.body),s}function g5(e,t){const s=Yn(e);if(Xg(e))return s;if(!ki(e)){let i=uo(e);for(;i&&!ld(i);){if(Kr(i)&&!hy(i))return i;i=uo(i)}return s}let r=nS(e,t);for(;r&&BU(r)&&hy(r);)r=nS(r,t);return r&&ld(r)&&hy(r)&&!Hj(r)?s:r||zU(e)||s}const eB=async function(e){const t=this.getOffsetParent||g5,s=this.getDimensions,r=await s(e.floating);return{reference:JU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tB(e){return Qr(e).direction==="rtl"}const sB={convertOffsetParentRelativeRectToViewportRelativeRect:HU,getDocumentElement:Ii,getClippingRect:XU,getOffsetParent:g5,getElementRects:eB,getClientRects:WU,getDimensions:ZU,getScale:cc,isElement:Kr,isRTL:tB};function x5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nB(e,t){let s=null,r;const i=Ii(e);function a(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:u,width:m,height:f}=d;if(l||t(),!m||!f)return;const j=Ym(u),x=Ym(i.clientWidth-(h+m)),g=Ym(i.clientHeight-(u+f)),p=Ym(h),b={rootMargin:-j+"px "+-x+"px "+-g+"px "+-p+"px",threshold:qn(0,lo(1,c))||1};let w=!0;function C(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!x5(d,e.getBoundingClientRect())&&o(),w=!1}try{s=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{s=new IntersectionObserver(C,b)}s.observe(e)}return o(!0),a}function rB(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Gj(e),h=i||a?[...d?nh(d):[],...nh(t)]:[];h.forEach(p=>{i&&p.addEventListener("scroll",s,{passive:!0}),a&&p.addEventListener("resize",s)});const u=d&&l?nB(d,s):null;let m=-1,f=null;o&&(f=new ResizeObserver(p=>{let[y]=p;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),s()}),d&&!c&&f.observe(d),f.observe(t));let j,x=c?vl(e):null;c&&g();function g(){const p=vl(e);x&&!x5(x,p)&&s(),x=p,j=requestAnimationFrame(g)}return s(),()=>{var p;h.forEach(y=>{i&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),u==null||u(),(p=f)==null||p.disconnect(),f=null,c&&cancelAnimationFrame(j)}}const iB=OU,aB=LU,oB=IU,lB=UU,cB=RU,rS=MU,dB=$U,uB=(e,t,s)=>{const r=new Map,i={platform:sB,...s},a={...i.platform,_c:r};return DU(e,t,{...i,platform:a})};var Rp=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Pf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Pf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Pf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function y5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iS(e,t){const s=y5(e);return Math.round(t*s)/s}function my(e){const t=v.useRef(e);return Rp(()=>{t.current=e}),t}function hB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=v.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=v.useState(r);Pf(m,r)||f(r);const[j,x]=v.useState(null),[g,p]=v.useState(null),y=v.useCallback(H=>{H!==N.current&&(N.current=H,x(H))},[]),b=v.useCallback(H=>{H!==S.current&&(S.current=H,p(H))},[]),w=a||j,C=o||g,N=v.useRef(null),S=v.useRef(null),k=v.useRef(h),T=c!=null,D=my(c),P=my(i),M=my(d),X=v.useCallback(()=>{if(!N.current||!S.current)return;const H={placement:t,strategy:s,middleware:m};P.current&&(H.platform=P.current),uB(N.current,S.current,H).then($=>{const oe={...$,isPositioned:M.current!==!1};ee.current&&!Pf(k.current,oe)&&(k.current=oe,pa.flushSync(()=>{u(oe)}))})},[m,t,s,P,M]);Rp(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(H=>({...H,isPositioned:!1})))},[d]);const ee=v.useRef(!1);Rp(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Rp(()=>{if(w&&(N.current=w),C&&(S.current=C),w&&C){if(D.current)return D.current(w,C,X);X()}},[w,C,X,D,T]);const F=v.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:b}),[y,b]),re=v.useMemo(()=>({reference:w,floating:C}),[w,C]),fe=v.useMemo(()=>{const H={position:s,left:0,top:0};if(!re.floating)return H;const $=iS(re.floating,h.x),oe=iS(re.floating,h.y);return l?{...H,transform:"translate("+$+"px, "+oe+"px)",...y5(re.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:$,top:oe}},[s,l,re.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:X,refs:F,elements:re,floatingStyles:fe}),[h,X,F,re,fe])}const mB=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:i}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?rS({element:r.current,padding:i}).fn(s):{}:r?rS({element:r,padding:i}).fn(s):{}}}},pB=(e,t)=>({...iB(e),options:[e,t]}),fB=(e,t)=>({...aB(e),options:[e,t]}),gB=(e,t)=>({...dB(e),options:[e,t]}),xB=(e,t)=>({...oB(e),options:[e,t]}),yB=(e,t)=>({...lB(e),options:[e,t]}),vB=(e,t)=>({...cB(e),options:[e,t]}),bB=(e,t)=>({...mB(e),options:[e,t]});var jB="Arrow",v5=v.forwardRef((e,t)=>{const{children:s,width:r=10,height:i=5,...a}=e;return n.jsx(Ve.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});v5.displayName=jB;var wB=v5;function Jg(e){const[t,s]=v.useState(void 0);return Ts(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Qj="Popper",[b5,ex]=Fn(Qj),[NB,j5]=b5(Qj),w5=e=>{const{__scopePopper:t,children:s}=e,[r,i]=v.useState(null);return n.jsx(NB,{scope:t,anchor:r,onAnchorChange:i,children:s})};w5.displayName=Qj;var N5="PopperAnchor",S5=v.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...i}=e,a=j5(N5,s),o=v.useRef(null),l=xt(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(Ve.div,{...i,ref:l})});S5.displayName=N5;var Yj="PopperContent",[SB,CB]=b5(Yj),C5=v.forwardRef((e,t)=>{var Be,yt,Et,vt,bt,rt;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:j,...x}=e,g=j5(Yj,s),[p,y]=v.useState(null),b=xt(t,ts=>y(ts)),[w,C]=v.useState(null),N=Jg(w),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],M=P.length>0,X={padding:D,boundary:P.filter(_B),altBoundary:M},{refs:ee,floatingStyles:F,placement:re,isPositioned:fe,middlewareData:H}=hB({strategy:"fixed",placement:T,whileElementsMounted:(...ts)=>rB(...ts,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[pB({mainAxis:i+k,alignmentAxis:o}),c&&fB({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?gB():void 0,...X}),c&&xB({...X}),yB({...X,apply:({elements:ts,rects:mn,availableWidth:Oi,availableHeight:ei})=>{const{width:ti,height:Ld}=mn.reference,ga=ts.floating.style;ga.setProperty("--radix-popper-available-width",`${Oi}px`),ga.setProperty("--radix-popper-available-height",`${ei}px`),ga.setProperty("--radix-popper-anchor-width",`${ti}px`),ga.setProperty("--radix-popper-anchor-height",`${Ld}px`)}}),w&&bB({element:w,padding:l}),TB({arrowWidth:S,arrowHeight:k}),m&&vB({strategy:"referenceHidden",...X})]}),[$,oe]=T5(re),be=ms(j);Ts(()=>{fe&&(be==null||be())},[fe,be]);const st=(Be=H.arrow)==null?void 0:Be.x,_t=(yt=H.arrow)==null?void 0:yt.y,Ft=((Et=H.arrow)==null?void 0:Et.centerOffset)!==0,[ps,Xt]=v.useState();return Ts(()=>{p&&Xt(window.getComputedStyle(p).zIndex)},[p]),n.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:fe?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ps,"--radix-popper-transform-origin":[(vt=H.transformOrigin)==null?void 0:vt.x,(bt=H.transformOrigin)==null?void 0:bt.y].join(" "),...((rt=H.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(SB,{scope:s,placedSide:$,onArrowChange:C,arrowX:st,arrowY:_t,shouldHideArrow:Ft,children:n.jsx(Ve.div,{"data-side":$,"data-align":oe,...x,ref:b,style:{...x.style,animation:fe?void 0:"none"}})})})});C5.displayName=Yj;var k5="PopperArrow",kB={top:"bottom",right:"left",bottom:"top",left:"right"},_5=v.forwardRef(function(t,s){const{__scopePopper:r,...i}=t,a=CB(k5,r),o=kB[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(wB,{...i,ref:s,style:{...i.style,display:"block"}})})});_5.displayName=k5;function _B(e){return e!==null}var TB=e=>({name:"transformOrigin",options:e,fn(t){var g,p,y;const{placement:s,rects:r,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=T5(s),u={start:"0%",center:"50%",end:"100%"}[h],m=(((p=i.arrow)==null?void 0:p.x)??0)+l/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let j="",x="";return d==="bottom"?(j=o?u:`${m}px`,x=`${-c}px`):d==="top"?(j=o?u:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(j=`${-c}px`,x=o?u:`${f}px`):d==="left"&&(j=`${r.floating.width+c}px`,x=o?u:`${f}px`),{data:{x:j,y:x}}}});function T5(e){const[t,s="center"]=e.split("-");return[t,s]}var P5=w5,E5=S5,A5=C5,D5=_5,PB="Portal",tx=v.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[i,a]=v.useState(!1);Ts(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?BA.createPortal(n.jsx(Ve.div,{...r,ref:t}),o):null});tx.displayName=PB;function EB(e,t){return v.useReducer((s,r)=>t[s][r]??s,e)}var yr=e=>{const{present:t,children:s}=e,r=AB(t),i=typeof s=="function"?s({present:r.isPresent}):v.Children.only(s),a=xt(r.ref,DB(i));return typeof s=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};yr.displayName="Presence";function AB(e){const[t,s]=v.useState(),r=v.useRef({}),i=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=EB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Xm(r.current);a.current=l==="mounted"?d:"none"},[l]),Ts(()=>{const d=r.current,h=i.current;if(h!==e){const m=a.current,f=Xm(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ts(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=f=>{const x=Xm(r.current).includes(f.animationName);if(f.target===t&&x&&(c("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=f=>{f.target===t&&(a.current=Xm(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function Xm(e){return(e==null?void 0:e.animationName)||"none"}function DB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function _i({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,i]=MB({defaultProp:t,onChange:s}),a=e!==void 0,o=a?e:r,l=ms(s),c=v.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else i(d)},[a,e,i,l]);return[o,c]}function MB({defaultProp:e,onChange:t}){const s=v.useState(e),[r]=s,i=v.useRef(r),a=ms(t);return v.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var IB="VisuallyHidden",hm=v.forwardRef((e,t)=>n.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hm.displayName=IB;var RB=hm,[sx,Nhe]=Fn("Tooltip",[ex]),nx=ex(),M5="TooltipProvider",FB=700,S0="tooltip.open",[OB,Xj]=sx(M5),I5=e=>{const{__scopeTooltip:t,delayDuration:s=FB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(OB,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};I5.displayName=M5;var rx="Tooltip",[LB,ix]=sx(rx),R5=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=Xj(rx,e.__scopeTooltip),d=nx(t),[h,u]=v.useState(null),m=ea(),f=v.useRef(0),j=o??c.disableHoverableContent,x=l??c.delayDuration,g=v.useRef(!1),[p=!1,y]=_i({prop:r,defaultProp:i,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(S0))):c.onClose(),a==null||a(S)}}),b=v.useMemo(()=>p?g.current?"delayed-open":"instant-open":"closed",[p]),w=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,y(!0)},[y]),C=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),N=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,y(!0),f.current=0},x)},[x,y]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),n.jsx(P5,{...d,children:n.jsx(LB,{scope:t,contentId:m,open:p,stateAttribute:b,trigger:h,onTriggerChange:u,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?N():w()},[c.isOpenDelayedRef,N,w]),onTriggerLeave:v.useCallback(()=>{j?C():(window.clearTimeout(f.current),f.current=0)},[C,j]),onOpen:w,onClose:C,disableHoverableContent:j,children:s})})};R5.displayName=rx;var C0="TooltipTrigger",F5=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=ix(C0,s),a=Xj(C0,s),o=nx(s),l=v.useRef(null),c=xt(t,l,i.onTriggerChange),d=v.useRef(!1),h=v.useRef(!1),u=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),n.jsx(E5,{asChild:!0,...o,children:n.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Fe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Fe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Fe(e.onBlur,i.onClose),onClick:Fe(e.onClick,i.onClose)})})});F5.displayName=C0;var $B="TooltipPortal",[She,UB]=sx($B,{forceMount:void 0}),cd="TooltipContent",O5=v.forwardRef((e,t)=>{const s=UB(cd,e.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=e,o=ix(cd,e.__scopeTooltip);return n.jsx(yr,{present:r||o.open,children:o.disableHoverableContent?n.jsx(L5,{side:i,...a,ref:t}):n.jsx(BB,{side:i,...a,ref:t})})}),BB=v.forwardRef((e,t)=>{const s=ix(cd,e.__scopeTooltip),r=Xj(cd,e.__scopeTooltip),i=v.useRef(null),a=xt(t,i),[o,l]=v.useState(null),{trigger:c,onClose:d}=s,h=i.current,{onPointerInTransitChange:u}=r,m=v.useCallback(()=>{l(null),u(!1)},[u]),f=v.useCallback((j,x)=>{const g=j.currentTarget,p={x:j.clientX,y:j.clientY},y=WB(p,g.getBoundingClientRect()),b=GB(p,y),w=KB(x.getBoundingClientRect()),C=YB([...b,...w]);l(C),u(!0)},[u]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&h){const j=g=>f(g,h),x=g=>f(g,c);return c.addEventListener("pointerleave",j),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",x)}}},[c,h,f,m]),v.useEffect(()=>{if(o){const j=x=>{const g=x.target,p={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(g))||(h==null?void 0:h.contains(g)),b=!QB(p,o);y?m():b&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,h,o,d,m]),n.jsx(L5,{...e,ref:a})}),[zB,VB]=sx(rx,{isInside:!1}),qB=lU("TooltipContent"),L5=v.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=ix(cd,s),d=nx(s),{onClose:h}=c;return v.useEffect(()=>(document.addEventListener(S0,h),()=>document.removeEventListener(S0,h)),[h]),v.useEffect(()=>{if(c.trigger){const u=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,h]),n.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:n.jsxs(A5,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(qB,{children:r}),n.jsx(zB,{scope:s,isInside:!0,children:n.jsx(RB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});O5.displayName=cd;var $5="TooltipArrow",HB=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=nx(s);return VB($5,s).isInside?null:n.jsx(D5,{...i,...r,ref:t})});HB.displayName=$5;function WB(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GB(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function KB(e){const{top:t,right:s,bottom:r,left:i}=e;return[{x:i,y:t},{x:s,y:t},{x:s,y:r},{x:i,y:r}]}function QB(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,h=t[o].y;c>r!=h>r&&s<(d-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function YB(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),XB(t)}function XB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var ZB=I5,JB=R5,ez=F5,U5=O5;function B5(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=B5(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function z5(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=B5(e))&&(r&&(r+=" "),r+=t);return r}const Zj="-",tz=e=>{const t=nz(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Zj);return l[0]===""&&l.length!==1&&l.shift(),V5(l,t)||sz(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},V5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?V5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Zj);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},aS=/^\[(.+)\]$/,sz=e=>{if(aS.test(e)){const t=aS.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},nz=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return iz(Object.entries(e.classGroups),s).forEach(([a,o])=>{k0(o,r,a,t)}),r},k0=(e,t,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:oS(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(rz(i)){k0(i(r),t,s,r);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{k0(o,oS(t,a),s,r)})})},oS=(e,t)=>{let s=e;return t.split(Zj).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},rz=e=>e.isThemeGetter,iz=(e,t)=>t?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,az=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},q5="!",oz=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,h=0,u;for(let g=0;g<l.length;g++){let p=l[g];if(d===0){if(p===i&&(r||l.slice(g,g+a)===t)){c.push(l.slice(h,g)),h=g+a;continue}if(p==="/"){u=g;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(h),f=m.startsWith(q5),j=f?m.substring(1):m,x=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:j,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},lz=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},cz=e=>({cache:az(e.cacheSize),parseClassName:oz(e),...tz(e)}),dz=/\s+/,uz=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(dz);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=s(d);let j=!!f,x=r(j?m.substring(0,f):m);if(!x){if(!j){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}j=!1}const g=lz(h).join(":"),p=u?g+q5:g,y=p+x;if(a.includes(y))continue;a.push(y);const b=i(x,j);for(let w=0;w<b.length;++w){const C=b[w];a.push(p+C)}l=d+(l.length>0?" "+l:l)}return l};function hz(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=H5(t))&&(r&&(r+=" "),r+=s);return r}const H5=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=H5(e[r]))&&(s&&(s+=" "),s+=t);return s};function mz(e,...t){let s,r,i,a=o;function o(c){const d=t.reduce((h,u)=>u(h),e());return s=cz(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=uz(c,s);return i(c,h),h}return function(){return a(hz.apply(null,arguments))}}const Gt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},W5=/^\[(?:([a-z-]+):)?(.+)\]$/i,pz=/^\d+\/\d+$/,fz=new Set(["px","full","screen"]),gz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>dc(e)||fz.has(e)||pz.test(e),ya=e=>Ed(e,"length",Tz),dc=e=>!!e&&!Number.isNaN(Number(e)),py=e=>Ed(e,"number",dc),Kd=e=>!!e&&Number.isInteger(Number(e)),jz=e=>e.endsWith("%")&&dc(e.slice(0,-1)),mt=e=>W5.test(e),va=e=>gz.test(e),wz=new Set(["length","size","percentage"]),Nz=e=>Ed(e,wz,G5),Sz=e=>Ed(e,"position",G5),Cz=new Set(["image","url"]),kz=e=>Ed(e,Cz,Ez),_z=e=>Ed(e,"",Pz),Qd=()=>!0,Ed=(e,t,s)=>{const r=W5.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},Tz=e=>xz.test(e)&&!yz.test(e),G5=()=>!1,Pz=e=>vz.test(e),Ez=e=>bz.test(e),Az=()=>{const e=Gt("colors"),t=Gt("spacing"),s=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),a=Gt("borderRadius"),o=Gt("borderSpacing"),l=Gt("borderWidth"),c=Gt("contrast"),d=Gt("grayscale"),h=Gt("hueRotate"),u=Gt("invert"),m=Gt("gap"),f=Gt("gradientColorStops"),j=Gt("gradientColorStopPositions"),x=Gt("inset"),g=Gt("margin"),p=Gt("opacity"),y=Gt("padding"),b=Gt("saturate"),w=Gt("scale"),C=Gt("sepia"),N=Gt("skew"),S=Gt("space"),k=Gt("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",mt,t],M=()=>[mt,t],X=()=>["",Li,ya],ee=()=>["auto",dc,mt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",mt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[dc,mt];return{cacheSize:500,separator:":",theme:{colors:[Qd],spacing:[Li,ya],blur:["none","",va,mt],brightness:be(),borderColor:[e],borderRadius:["none","","full",va,mt],borderSpacing:M(),borderWidth:X(),contrast:be(),grayscale:$(),hueRotate:be(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[jz,ya],inset:P(),margin:P(),opacity:be(),padding:M(),saturate:be(),scale:be(),sepia:$(),skew:be(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[va]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),mt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,mt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Kd,mt]}],"grid-cols":[{"grid-cols":[Qd]}],"col-start-end":[{col:["auto",{span:["full",Kd,mt]},mt]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Qd]}],"row-start-end":[{row:["auto",{span:[Kd,mt]},mt]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[va]},va]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",va,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",py]}],"font-family":[{font:[Qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",dc,py]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,ya]}],"underline-offset":[{"underline-offset":["auto",Li,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Sz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Li,mt]}],"outline-w":[{outline:[Li,ya]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Li,ya]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",va,_z]}],"shadow-color":[{shadow:[Qd]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",va,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Kd,mt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,ya,py]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dz=mz(Az);function Le(...e){return Dz(z5(e))}function Ti(e){const s=new Date().getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60)),i=Math.floor(s/(1e3*60*60*24));return r<1?"Just now":r<24?`${r} hour${r>1?"s":""} ago`:`${i} day${i>1?"s":""} ago`}function Fs(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Fp(e){const t=new Date,s=t.getDate(),r=t.getMonth(),i=t.getFullYear();let a=new Date(i,r,e);e<s&&(a=new Date(i,r+1,e));const o=a.getTime()-t.getTime();return Math.ceil(o/(1e3*60*60*24))}function Mz(){const e=[{quote:"Every small step forward is a victory worth celebrating.",author:"Unknown"},{quote:"You are braver than you believe, stronger than you seem, and smarter than you think.",author:"A.A. Milne"},{quote:"Progress, not perfection, is the goal.",author:"Unknown"},{quote:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{quote:"Your pace doesn't matter. Forward is forward.",author:"Unknown"},{quote:"Every expert was once a beginner.",author:"Helen Hayes"},{quote:"You don't have to be great to get started, but you have to get started to be great.",author:"Les Brown"},{quote:"The journey of a thousand miles begins with one step.",author:"Lao Tzu"},{quote:"You are capable of amazing things.",author:"Unknown"},{quote:"Independence comes from understanding your own strength.",author:"Unknown"},{quote:"Each day is a fresh start and a new opportunity to grow.",author:"Unknown"},{quote:"Your potential is endless.",author:"Unknown"},{quote:"Small daily improvements lead to stunning yearly results.",author:"Robin Sharma"},{quote:"Believe in yourself and all that you are.",author:"Christian D. Larson"},{quote:"You have the power to create the life you want.",author:"Unknown"},{quote:"Every challenge you face today makes you stronger for tomorrow.",author:"Unknown"},{quote:"Your independence is your superpower.",author:"Unknown"},{quote:"Growth happens outside of your comfort zone.",author:"Unknown"},{quote:"You are writing your own success story, one day at a time.",author:"Unknown"},{quote:"The skills you build today will serve you for a lifetime.",author:"Unknown"}],t=new Date,r=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24))%e.length;return e[r]}const K5=ZB,Iz=JB,Rz=ez,Q5=v.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(U5,{ref:r,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));Q5.displayName=U5.displayName;const Fz=1,Oz=1e6;let fy=0;function Lz(){return fy=(fy+1)%Number.MAX_SAFE_INTEGER,fy.toString()}const gy=new Map,lS=e=>{if(gy.has(e))return;const t=setTimeout(()=>{gy.delete(e),Eu({type:"REMOVE_TOAST",toastId:e})},Oz);gy.set(e,t)},$z=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Fz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?lS(s):e.toasts.forEach(r=>{lS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Op=[];let Lp={toasts:[]};function Eu(e){Lp=$z(Lp,e),Op.forEach(t=>{t(Lp)})}function wa({...e}){const t=Lz(),s=i=>Eu({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Eu({type:"DISMISS_TOAST",toastId:t});return Eu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:s}}function dt(){const[e,t]=v.useState(Lp);return v.useEffect(()=>(Op.push(t),()=>{const s=Op.indexOf(t);s>-1&&Op.splice(s,1)}),[e]),{...e,toast:wa,dismiss:s=>Eu({type:"DISMISS_TOAST",toastId:s})}}function ax(e){const t=e+"CollectionProvider",[s,r]=Fn(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:p}=x,y=me.useRef(null),b=me.useRef(new Map).current;return n.jsx(i,{scope:g,itemMap:b,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=od(l),d=me.forwardRef((x,g)=>{const{scope:p,children:y}=x,b=a(l,p),w=xt(g,b.collectionRef);return n.jsx(c,{ref:w,children:y})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",m=od(h),f=me.forwardRef((x,g)=>{const{scope:p,children:y,...b}=x,w=me.useRef(null),C=xt(g,w),N=a(h,p);return me.useEffect(()=>(N.itemMap.set(w,{ref:w,...b}),()=>void N.itemMap.delete(w))),n.jsx(m,{[u]:"",ref:C,children:y})});f.displayName=h;function j(x){const g=a(e+"CollectionConsumer",x);return me.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},j,r]}var Jj="ToastProvider",[ew,Uz,Bz]=ax("Toast"),[Y5,Che]=Fn("Toast",[Bz]),[zz,ox]=Y5(Jj),X5=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=v.useState(null),[d,h]=v.useState(0),u=v.useRef(!1),m=v.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jj}\`. Expected non-empty \`string\`.`),n.jsx(ew.Provider,{scope:t,children:n.jsx(zz,{scope:t,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>h(f=>f+1),[]),onToastRemove:v.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:o})})};X5.displayName=Jj;var Z5="ToastViewport",Vz=["F8"],_0="toast.viewportPause",T0="toast.viewportResume",J5=v.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=Vz,label:i="Notifications ({hotkey})",...a}=e,o=ox(Z5,s),l=Uz(s),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),u=v.useRef(null),m=xt(t,u,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;v.useEffect(()=>{const g=p=>{var b;r.length!==0&&r.every(w=>p[w]||p.code===w)&&((b=u.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),v.useEffect(()=>{const g=c.current,p=u.current;if(j&&g&&p){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(_0);p.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(T0);p.dispatchEvent(N),o.isClosePausedRef.current=!1}},w=N=>{!g.contains(N.relatedTarget)&&b()},C=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",y),g.addEventListener("focusout",w),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[j,o.isClosePausedRef]);const x=v.useCallback(({tabbingDirection:g})=>{const y=l().map(b=>{const w=b.ref.current,C=[w,...s9(w)];return g==="forwards"?C:C.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=u.current;if(g){const p=y=>{var C,N,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const k=document.activeElement,T=y.shiftKey;if(y.target===g&&T){(C=d.current)==null||C.focus();return}const M=x({tabbingDirection:T?"backwards":"forwards"}),X=M.findIndex(ee=>ee===k);xy(M.slice(X+1))?y.preventDefault():T?(N=d.current)==null||N.focus():(S=h.current)==null||S.focus()}};return g.addEventListener("keydown",p),()=>g.removeEventListener("keydown",p)}},[l,x]),n.jsxs(jU,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(P0,{ref:d,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"forwards"});xy(g)}}),n.jsx(ew.Slot,{scope:s,children:n.jsx(Ve.ol,{tabIndex:-1,...a,ref:m})}),j&&n.jsx(P0,{ref:h,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"backwards"});xy(g)}})]})});J5.displayName=Z5;var eD="ToastFocusProxy",P0=v.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=e,a=ox(eD,s);return n.jsx(hm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});P0.displayName=eD;var lx="Toast",qz="toast.swipeStart",Hz="toast.swipeMove",Wz="toast.swipeCancel",Gz="toast.swipeEnd",tD=v.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=_i({prop:r,defaultProp:i,onChange:a});return n.jsx(yr,{present:s||l,children:n.jsx(Yz,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ms(e.onPause),onResume:ms(e.onResume),onSwipeStart:Fe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});tD.displayName=lx;var[Kz,Qz]=Y5(lx,{onClose(){}}),Yz=v.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:f,...j}=e,x=ox(lx,s),[g,p]=v.useState(null),y=xt(t,ee=>p(ee)),b=v.useRef(null),w=v.useRef(null),C=i||x.duration,N=v.useRef(0),S=v.useRef(C),k=v.useRef(0),{onToastAdd:T,onToastRemove:D}=x,P=ms(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),o()}),M=v.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(P,ee))},[P]);v.useEffect(()=>{const ee=x.viewport;if(ee){const F=()=>{M(S.current),d==null||d()},re=()=>{const fe=new Date().getTime()-N.current;S.current=S.current-fe,window.clearTimeout(k.current),c==null||c()};return ee.addEventListener(_0,re),ee.addEventListener(T0,F),()=>{ee.removeEventListener(_0,re),ee.removeEventListener(T0,F)}}},[x.viewport,C,c,d,M]),v.useEffect(()=>{a&&!x.isClosePausedRef.current&&M(C)},[a,C,x.isClosePausedRef,M]),v.useEffect(()=>(T(),()=>D()),[T,D]);const X=v.useMemo(()=>g?lD(g):null,[g]);return x.viewport?n.jsxs(n.Fragment,{children:[X&&n.jsx(Xz,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),n.jsx(Kz,{scope:s,onClose:P,children:pa.createPortal(n.jsx(ew.ItemSlot,{scope:s,children:n.jsx(bU,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,ee=>{ee.key==="Escape"&&(l==null||l(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Fe(e.onPointerDown,ee=>{ee.button===0&&(b.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Fe(e.onPointerMove,ee=>{if(!b.current)return;const F=ee.clientX-b.current.x,re=ee.clientY-b.current.y,fe=!!w.current,H=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,oe=H?$(0,F):0,be=H?0:$(0,re),st=ee.pointerType==="touch"?10:2,_t={x:oe,y:be},Ft={originalEvent:ee,delta:_t};fe?(w.current=_t,Zm(Hz,u,Ft,{discrete:!1})):cS(_t,x.swipeDirection,st)?(w.current=_t,Zm(qz,h,Ft,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(F)>st||Math.abs(re)>st)&&(b.current=null)}),onPointerUp:Fe(e.onPointerUp,ee=>{const F=w.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),w.current=null,b.current=null,F){const fe=ee.currentTarget,H={originalEvent:ee,delta:F};cS(F,x.swipeDirection,x.swipeThreshold)?Zm(Gz,f,H,{discrete:!0}):Zm(Wz,m,H,{discrete:!0}),fe.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Xz=e=>{const{__scopeToast:t,children:s,...r}=e,i=ox(lx,t),[a,o]=v.useState(!1),[l,c]=v.useState(!1);return e9(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(tx,{asChild:!0,children:n.jsx(hm,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},Zz="ToastTitle",sD=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ve.div,{...r,ref:t})});sD.displayName=Zz;var Jz="ToastDescription",nD=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ve.div,{...r,ref:t})});nD.displayName=Jz;var rD="ToastAction",iD=v.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(oD,{altText:s,asChild:!0,children:n.jsx(tw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rD}\`. Expected non-empty \`string\`.`),null)});iD.displayName=rD;var aD="ToastClose",tw=v.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,i=Qz(aD,s);return n.jsx(oD,{asChild:!0,children:n.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,i.onClose)})})});tw.displayName=aD;var oD=v.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...i}=e;return n.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function lD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),t9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lD(r))}}),t}function Zm(e,t,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?i5(i,a):i.dispatchEvent(a)}var cS=(e,t,s=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>s:!a&&i>s};function e9(e=()=>{}){const t=ms(e);Ts(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function t9(e){return e.nodeType===e.ELEMENT_NODE}function s9(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function xy(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var n9=X5,cD=J5,dD=tD,uD=sD,hD=nD,mD=iD,pD=tw;const dS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uS=z5,mm=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return uS(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=s==null?void 0:s[d],u=a==null?void 0:a[d];if(h===null)return null;const m=dS(h)||dS(u);return i[d][m]}),l=s&&Object.entries(s).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:u,className:m,...f}=h;return Object.entries(f).every(j=>{let[x,g]=j;return Array.isArray(g)?g.includes({...a,...l}[x]):{...a,...l}[x]===g})?[...d,u,m]:d},[]);return uS(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fD=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...i9,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:fD("lucide",i),...l},[...o.map(([d,h])=>v.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const s=v.forwardRef(({className:r,...i},a)=>v.createElement(a9,{ref:a,iconNode:t,className:fD(`lucide-${r9(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=ae("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ae("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ae("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ae("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ae("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ae("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ae("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ae("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ae("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ae("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),L9=n9,_D=v.forwardRef(({className:e,...t},s)=>n.jsx(cD,{ref:s,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_D.displayName=cD.displayName;const $9=mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border-2 p-6 pr-8 shadow-2xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-green-500 bg-white text-gray-900 shadow-green-200",destructive:"destructive group border-red-500 bg-red-50 text-red-900 shadow-red-200"}},defaultVariants:{variant:"default"}}),TD=v.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(dD,{ref:r,className:Le($9({variant:t}),e),...s}));TD.displayName=dD.displayName;const U9=v.forwardRef(({className:e,...t},s)=>n.jsx(mD,{ref:s,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));U9.displayName=mD.displayName;const PD=v.forwardRef(({className:e,...t},s)=>n.jsx(pD,{ref:s,className:Le("absolute right-2 top-2 rounded-md p-1 text-gray-600 opacity-100 transition-opacity hover:text-gray-900 hover:bg-gray-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-800 group-[.destructive]:hover:bg-red-100 group-[.destructive]:focus:ring-red-400",e),"toast-close":"",...t,children:n.jsx(fm,{className:"h-4 w-4"})}));PD.displayName=pD.displayName;const ED=v.forwardRef(({className:e,...t},s)=>n.jsx(uD,{ref:s,className:Le("text-base font-bold text-gray-900",e),...t}));ED.displayName=uD.displayName;const AD=v.forwardRef(({className:e,...t},s)=>n.jsx(hD,{ref:s,className:Le("text-sm text-gray-700 font-medium",e),...t}));AD.displayName=hD.displayName;function B9(){const{toasts:e}=dt();return n.jsxs(L9,{children:[e.map(function({id:t,title:s,description:r,action:i,...a}){return n.jsxs(TD,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(ED,{children:s}),r&&n.jsx(AD,{children:r})]}),i,n.jsx(PD,{})]},t)}),n.jsx(_D,{})]})}const cw={baseURL:typeof window<"u"&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")&&!window.location.hostname.includes("replit.dev")?"https://f0feebb6-5db0-4265-92fd-0ed04d7aec9a-00-tpbqabot0m1.spock.replit.dev":"",credentials:"include"};function DD(e){const t=cw.baseURL;return t?`${t}${e}`:e}async function z9(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ye(e,t,s){const r=DD(t),i=await fetch(r,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:cw.credentials});return await z9(i),i}const V9=({on401:e})=>async({queryKey:t})=>{console.log("Making query to:",t[0]);try{const s=DD(t[0]),r=await fetch(s,{credentials:cw.credentials});if(console.log("Query response status:",r.status),console.log("Query response headers:",Object.fromEntries(r.headers.entries())),e==="returnNull"&&r.status===401)return console.log("Returning null due to 401"),null;if(!r.ok){const a=await r.text();throw console.error("Query failed:",r.status,a),new Error(`${r.status}: ${a}`)}const i=await r.json();return console.log("Query response data:",i),i}catch(s){throw console.error("Query error:",s),s}},xs=new z7({defaultOptions:{queries:{queryFn:V9({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0,retry:1,refetchOnMount:"always",retryDelay:500},mutations:{retry:!1}}}),q9="modulepreload",H9=function(e){return"/"+e},jS={},wS=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=H9(c),c in jS)return;jS[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":q9,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function W9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var MD={exports:{}},ID={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=v;function G9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K9=typeof Object.is=="function"?Object.is:G9,Q9=ud.useState,Y9=ud.useEffect,X9=ud.useLayoutEffect,Z9=ud.useDebugValue;function J9(e,t){var s=t(),r=Q9({inst:{value:s,getSnapshot:t}}),i=r[0].inst,a=r[1];return X9(function(){i.value=s,i.getSnapshot=t,by(i)&&a({inst:i})},[e,s,t]),Y9(function(){return by(i)&&a({inst:i}),e(function(){by(i)&&a({inst:i})})},[e]),Z9(s),s}function by(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!K9(e,s)}catch{return!0}}function eV(e,t){return t()}var tV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eV:J9;ID.useSyncExternalStore=ud.useSyncExternalStore!==void 0?ud.useSyncExternalStore:tV;MD.exports=ID;var sV=MD.exports;const nV=L4.useInsertionEffect,rV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iV=rV?v.useLayoutEffect:v.useEffect,aV=nV||iV,RD=e=>{const t=v.useRef([e,(...s)=>t[0](...s)]).current;return aV(()=>{t[0]=e}),t[1]},oV="popstate",dw="pushState",uw="replaceState",lV="hashchange",NS=[oV,dw,uw,lV],cV=e=>{for(const t of NS)addEventListener(t,e);return()=>{for(const t of NS)removeEventListener(t,e)}},FD=(e,t)=>sV.useSyncExternalStore(cV,e,t),dV=()=>location.search,uV=({ssrSearch:e=""}={})=>FD(dV,()=>e),SS=()=>location.pathname,hV=({ssrPath:e}={})=>FD(SS,e?()=>e:SS),mV=(e,{replace:t=!1,state:s=null}={})=>history[t?uw:dw](s,"",e),pV=(e={})=>[hV(e),mV],CS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[CS]>"u"){for(const e of[dw,uw]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,CS,{value:!0})}const fV=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",OD=(e="")=>e==="/"?"":e,gV=(e,t)=>e[0]==="~"?e.slice(1):OD(t)+e,xV=(e="",t)=>fV(kS(OD(e)),kS(t)),kS=e=>{try{return decodeURI(e)}catch{return e}},LD={hook:pV,searchHook:uV,parser:W9,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},$D=v.createContext(LD),gm=()=>v.useContext($D),UD={},BD=v.createContext(UD),yV=()=>v.useContext(BD),hx=e=>{const[t,s]=e.hook(e);return[xV(e.base,t),RD((r,i)=>s(gV(r,e.base),i))]},On=()=>hx(gm()),zD=(e,t,s,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((u,m)=>[u,c[m]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},vV=({children:e,...t})=>{var h,u;const s=gm(),r=t.hook?LD:s;let i=r;const[a,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=v.useRef({}),c=l.current,d=c;for(let m in r){const f=m==="base"?r[m]+(t[m]||""):t[m]||r[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,f!==r[m]&&(i=d)}return v.createElement($D.Provider,{value:i,children:e})},_S=({children:e,component:t},s)=>t?v.createElement(t,{params:s}):typeof e=="function"?e(s):e,bV=e=>{let t=v.useRef(UD),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},wt=({path:e,nest:t,match:s,...r})=>{const i=gm(),[a]=hx(i),[o,l,c]=s??zD(i.parser,e,a,t),d=bV({...yV(),...l});if(!o)return null;const h=c?v.createElement(vV,{base:c},_S(r,d)):_S(r,d);return v.createElement(BD.Provider,{value:d,children:h})},Oe=v.forwardRef((e,t)=>{const s=gm(),[r,i]=hx(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:u,state:m,...f}=e,j=RD(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),i(o,e)))}),x=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&v.isValidElement(d)?v.cloneElement(d,{onClick:j,href:x}):v.createElement("a",{...f,onClick:j,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:t})}),VD=e=>Array.isArray(e)?e.flatMap(t=>VD(t&&t.type===v.Fragment?t.props.children:t)):[e],jV=({children:e,location:t})=>{const s=gm(),[r]=hx(s);for(const i of VD(e)){let a=0;if(v.isValidElement(i)&&(a=zD(s.parser,i.props.path,t||r,i.props.nest))[0])return v.cloneElement(i,{match:a})}return null},TS={isAuthenticated(){return!!localStorage.getItem("authToken")||!!sessionStorage.getItem("authToken")},getCurrentUser(){try{const e=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}},setAuthToken(e,t=!1){t?localStorage.setItem("authToken",e):sessionStorage.setItem("authToken",e)},setCurrentUser(e,t=!1){const s=JSON.stringify(e);t?localStorage.setItem("currentUser",s):sessionStorage.setItem("currentUser",s)},clearAuth(){localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("currentUser")},getAuthHeaders(){const e=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}},logout(){this.clearAuth(),typeof window<"u"&&!window.location.href.includes("capacitor://")&&(window.location.href="/login")},isMobileApp(){return typeof window<"u"&&(window.location.href.includes("capacitor://")||window.location.href.includes("file://")||navigator.userAgent.includes("Adaptalyfe"))},handleMobileAuth(e,t){return this.isMobileApp()&&e&&t?(this.setAuthToken(e,!0),this.setCurrentUser(t,!0),!0):!1}};function wV(){const[e,t]=v.useState(!1),[,s]=On(),r=v.useRef(null),{data:i}=xe({queryKey:["/api/user"]});return v.useEffect(()=>{function a(o){r.current&&!r.current.contains(o.target)&&t(!1)}return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]),n.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:async a=>{a.preventDefault(),console.log("Logo clicked - checking session and navigating"),TS.isMobileDevice()?await TS.ensureSessionPersistence()?s("/dashboard"):(console.warn("Session lost, redirecting to login"),s("/login")):s("/dashboard")},children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"h-6 w-6 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"AdaptaLyfe"})]}),n.jsxs("div",{className:"hidden xl:flex items-center gap-2",children:[n.jsx(Oe,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Home"}),n.jsx(Oe,{href:"/daily-tasks",className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded text-sm",children:"Tasks"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-600",children:n.jsx("span",{className:"hidden lg:block",children:(i==null?void 0:i.name)||"User"})}),n.jsx("div",{children:n.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors shadow-sm",children:[e?n.jsx(fm,{className:"h-5 w-5"}):n.jsx(vD,{className:"h-5 w-5"}),n.jsx("span",{className:"hidden sm:block text-xs font-medium",children:"Menu"})]})})]})]}),e&&n.jsx("div",{ref:r,className:"absolute right-0 top-16 w-80 max-w-[90vw] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mr-4",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Access to All Features"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Oe,{href:"/dashboard",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(nw,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Dashboard"})]})}),n.jsx(Oe,{href:"/daily-tasks",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(lw,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Daily Tasks"})]})}),n.jsx(Oe,{href:"/financial",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Pi,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Financial"})]})}),n.jsx(Oe,{href:"/mood-tracking",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(mr,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Mood Tracking"})]})}),n.jsx(Oe,{href:"/sleep-tracking",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Zl,{className:"w-4 h-4 text-indigo-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Sleep Tracking"})]})}),n.jsx(Oe,{href:"/medical",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(CD,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Medical Info"})]})}),n.jsx(Oe,{href:"/pharmacy",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(rw,{className:"w-4 h-4 text-pink-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Pharmacy"})]})}),n.jsx(Oe,{href:"/meal-shopping",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ll,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Meals & Shopping"})]})}),n.jsx(Oe,{href:"/calendar",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Ht,{className:"w-4 h-4 text-indigo-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Calendar"})]})}),n.jsx(Oe,{href:"/academic-planner",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ux,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Student Planner"})]})}),n.jsx(Oe,{href:"/skills-milestones",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(Us,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Life Skills"})]})}),n.jsx(Oe,{href:"/personal-documents",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ol,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Personal Documents"})]})}),n.jsx(Oe,{href:"/caregiver",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(If,{className:"w-4 h-4 text-teal-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Support Network"})]})}),n.jsx(Oe,{href:"/caregiver-dashboard",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(os,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-xs font-medium",children:" Caregiver Dashboard"})]})}),n.jsx(Oe,{href:"/caregiver-setup",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>t(!1),children:[n.jsx(ta,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium",children:" Caregiver Setup"})]})}),n.jsx(Oe,{href:"/resources",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-gray-50 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[n.jsx(mo,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Resources"})]})}),n.jsx(Oe,{href:"/rewards",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md hover:bg-yellow-50 bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300 flex items-center space-x-2 transition-colors col-span-2",onClick:()=>t(!1),children:[n.jsx(po,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-xs font-bold text-yellow-700",children:" Rewards"})]})})]}),n.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[n.jsx(Oe,{href:"/resources",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md bg-red-600 hover:bg-red-700 text-white mb-2 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(Jt,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Emergency Contacts"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Oe,{href:"/settings",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-gray-200 hover:bg-gray-50 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(ca,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Settings"})]})}),n.jsx(Oe,{href:"/features",children:n.jsxs("button",{className:"w-full text-left p-3 rounded-md border border-blue-200 bg-blue-50 hover:bg-blue-100 flex items-center space-x-2",onClick:()=>t(!1),children:[n.jsx(da,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium",children:"Features"})]})})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg p-3 mt-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(If,{className:"text-white",size:16})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.name)||"Loading..."}),n.jsx("div",{className:"text-xs text-gray-500",children:(i==null?void 0:i.email)||""})]}),n.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Demo"})]})]})})]})})}const NV=mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=v.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},a)=>{const o=r?n5:"button";return n.jsx(o,{className:Le(NV({variant:t,size:s,className:e})),ref:a,...i})});E.displayName="Button";function SV(){const[e]=On(),[t,s]=v.useState(!1),r=[{name:"Home",href:"/",icon:nw,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Tasks",href:"/daily-tasks",icon:lw,activeColor:"text-green-600",activeBg:"bg-green-100"},{name:"Money",href:"/financial",icon:Pi,activeColor:"text-blue-600",activeBg:"bg-blue-100"},{name:"Mood",href:"/mood-tracking",icon:lt,activeColor:"text-purple-600",activeBg:"bg-purple-100"}],i=[{name:"Meals & Shopping",href:"/meal-shopping",icon:ll},{name:"Calendar",href:"/calendar",icon:Ht},{name:"Skills",href:"/skills-milestones",icon:Us},{name:"Medical",href:"/medical",icon:lt},{name:"Resources",href:"/resources",icon:lt},{name:"Support",href:"/caregiver",icon:lt}],a=o=>o==="/"?e==="/":e.startsWith(o);return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>s(!1),children:n.jsx("div",{className:"absolute bottom-16 left-0 right-0 bg-white border-t border-gray-200 rounded-t-xl p-4",children:n.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(o=>{const l=o.icon;return n.jsx(Oe,{href:o.href,children:n.jsxs(E,{variant:"ghost",className:`w-full h-16 flex flex-col items-center justify-center gap-1 ${a(o.href)?"bg-blue-100 text-blue-600":"text-gray-600"}`,onClick:()=>s(!1),children:[n.jsx(l,{size:20}),n.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)})})})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30 md:hidden",children:n.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[r.map(o=>{const l=o.icon,c=a(o.href);return n.jsx(Oe,{href:o.href,children:n.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${c?`${o.activeBg} ${o.activeColor}`:"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(l,{size:18}),n.jsx("span",{className:"text-xs font-medium",children:o.name})]})},o.name)}),n.jsxs(E,{variant:"ghost",className:`flex flex-col items-center justify-center gap-1 h-12 w-16 p-1 ${t?"bg-gray-100 text-gray-900":"text-gray-600 hover:text-gray-900"}`,onClick:()=>s(!t),children:[n.jsx(vD,{size:18}),n.jsx("span",{className:"text-xs font-medium",children:"More"})]})]})}),n.jsx("div",{className:"h-16 md:hidden"})]})}const L=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));L.displayName="Card";const le=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const ce=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const at=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("text-sm text-muted-foreground",e),...t}));at.displayName="CardDescription";const V=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("p-6 pt-0",e),...t}));V.displayName="CardContent";const CV=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("flex items-center p-6 pt-0",e),...t}));CV.displayName="CardFooter";function kV(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(L,{className:"w-full max-w-md mx-4",children:n.jsxs(V,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(p9,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _V=typeof Symbol=="function"&&Symbol.observable||"@@observable",PS=_V,jy=()=>Math.random().toString(36).substring(7).split("").join("."),TV={INIT:`@@redux/INIT${jy()}`,REPLACE:`@@redux/REPLACE${jy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jy()}`},ES=TV;function PV(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qD(e,t,s){if(typeof e!="function")throw new Error(gn(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(gn(1));return s(qD)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,c=!1;function d(){o===a&&(o=new Map,a.forEach((g,p)=>{o.set(p,g)}))}function h(){if(c)throw new Error(gn(3));return i}function u(g){if(typeof g!="function")throw new Error(gn(4));if(c)throw new Error(gn(5));let p=!0;d();const y=l++;return o.set(y,g),function(){if(p){if(c)throw new Error(gn(6));p=!1,d(),o.delete(y),a=null}}}function m(g){if(!PV(g))throw new Error(gn(7));if(typeof g.type>"u")throw new Error(gn(8));if(typeof g.type!="string")throw new Error(gn(17));if(c)throw new Error(gn(9));try{c=!0,i=r(i,g)}finally{c=!1}return(a=o).forEach(y=>{y()}),g}function f(g){if(typeof g!="function")throw new Error(gn(10));r=g,m({type:ES.REPLACE})}function j(){const g=u;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(gn(11));function y(){const w=p;w.next&&w.next(h())}return y(),{unsubscribe:g(y)}},[PS](){return this}}}return m({type:ES.INIT}),{dispatch:m,subscribe:u,getState:h,replaceReducer:f,[PS]:j}}function AS(e,t){return function(...s){return t(e.apply(this,s))}}function DS(e,t){if(typeof e=="function")return AS(e,t);if(typeof e!="object"||e===null)throw new Error(gn(16));const s={};for(const r in e){const i=e[r];typeof i=="function"&&(s[r]=AS(i,t))}return s}function HD(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...r)=>t(s(...r)))}function EV(...e){return t=>(s,r)=>{const i=t(s,r);let a=()=>{throw new Error(gn(15))};const o={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=e.map(c=>c(o));return a=HD(...l)(i.dispatch),{...i,dispatch:a}}}var AV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=v;function DV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MV=typeof Object.is=="function"?Object.is:DV,IV=xm.useSyncExternalStore,RV=xm.useRef,FV=xm.useEffect,OV=xm.useMemo,LV=xm.useDebugValue;AV.useSyncExternalStoreWithSelector=function(e,t,s,r,i){var a=RV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=OV(function(){function c(f){if(!d){if(d=!0,h=f,f=r(f),i!==void 0&&o.hasValue){var j=o.value;if(i(j,f))return u=j}return u=f}if(j=u,MV(h,f))return j;var x=r(f);return i!==void 0&&i(j,x)?(h=f,j):(h=f,u=x)}var d=!1,h,u,m=s===void 0?null:s;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,s,r,i]);var l=IV(e,a[0],a[1]);return FV(function(){o.hasValue=!0,o.value=l},[l]),LV(l),l};var $V=v.version.startsWith("19"),UV=Symbol.for($V?"react.transitional.element":"react.element"),BV=Symbol.for("react.portal"),zV=Symbol.for("react.fragment"),VV=Symbol.for("react.strict_mode"),qV=Symbol.for("react.profiler"),HV=Symbol.for("react.consumer"),WV=Symbol.for("react.context"),WD=Symbol.for("react.forward_ref"),GV=Symbol.for("react.suspense"),KV=Symbol.for("react.suspense_list"),hw=Symbol.for("react.memo"),QV=Symbol.for("react.lazy"),YV=WD,XV=hw;function ZV(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case UV:switch(e=e.type,e){case zV:case qV:case VV:case GV:case KV:return e;default:switch(e=e&&e.$$typeof,e){case WV:case WD:case QV:case hw:return e;case HV:return e;default:return t}}case BV:return t}}}function JV(e){return ZV(e)===hw}function eq(e,t,s,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,c,d,h,u,m;function f(y,b){return c=y,d=b,h=e(c,d),u=t(r,d),m=s(h,u,d),l=!0,m}function j(){return h=e(c,d),t.dependsOnOwnProps&&(u=t(r,d)),m=s(h,u,d),m}function x(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(u=t(r,d)),m=s(h,u,d),m}function g(){const y=e(c,d),b=!o(y,h);return h=y,b&&(m=s(h,u,d)),m}function p(y,b){const w=!a(b,d),C=!i(y,c,b,d);return c=y,d=b,w&&C?j():w?x():C?g():m}return function(b,w){return l?p(b,w):f(b,w)}}function tq(e,{initMapStateToProps:t,initMapDispatchToProps:s,initMergeProps:r,...i}){const a=t(e,i),o=s(e,i),l=r(e,i);return eq(a,o,l,e,i)}function sq(e,t){const s={};for(const r in e){const i=e[r];typeof i=="function"&&(s[r]=(...a)=>t(i(...a)))}return s}function R0(e){return function(s){const r=e(s);function i(){return r}return i.dependsOnOwnProps=!1,i}}function MS(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function GD(e,t){return function(r,{displayName:i}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=MS(e);let d=a(l,c);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=MS(d),d=a(l,c)),d},a}}function mw(e,t){return(s,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function nq(e){return e&&typeof e=="object"?R0(t=>sq(e,t)):e?typeof e=="function"?GD(e):mw(e,"mapDispatchToProps"):R0(t=>({dispatch:t}))}function rq(e){return e?typeof e=="function"?GD(e):mw(e,"mapStateToProps"):R0(()=>({}))}function iq(e,t,s){return{...s,...e,...t}}function aq(e){return function(s,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(c,d,h){const u=e(c,d,h);return a?i(u,o)||(o=u):(a=!0,o=u),o}}}function oq(e){return e?typeof e=="function"?aq(e):mw(e,"mergeProps"):()=>iq}function lq(e){e()}function cq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lq(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let r=e;for(;r;)s.push(r),r=r.next;return s},subscribe(s){let r=!0;const i=t={callback:s,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var IS={notify(){},get:()=>[]};function KD(e,t){let s,r=IS,i=0,a=!1;function o(x){h();const g=r.subscribe(x);let p=!1;return()=>{p||(p=!0,g(),u())}}function l(){r.notify()}function c(){j.onStateChange&&j.onStateChange()}function d(){return a}function h(){i++,s||(s=t?t.addNestedSub(c):e.subscribe(c),r=cq())}function u(){i--,s&&i===0&&(s(),s=void 0,r.clear(),r=IS)}function m(){a||(a=!0,h())}function f(){a&&(a=!1,u())}const j={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>r};return j}var dq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uq=dq(),hq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mq=hq(),pq=()=>uq||mq?v.useLayoutEffect:v.useEffect,Rf=pq();function RS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wy(e,t){if(RS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(!Object.prototype.hasOwnProperty.call(t,s[i])||!RS(e[s[i]],t[s[i]]))return!1;return!0}var fq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yq={[YV]:xq,[XV]:QD};function FS(e){return JV(e)?QD:yq[e.$$typeof]||fq}var vq=Object.defineProperty,bq=Object.getOwnPropertyNames,OS=Object.getOwnPropertySymbols,jq=Object.getOwnPropertyDescriptor,wq=Object.getPrototypeOf,LS=Object.prototype;function F0(e,t){if(typeof t!="string"){if(LS){const a=wq(t);a&&a!==LS&&F0(e,a)}let s=bq(t);OS&&(s=s.concat(OS(t)));const r=FS(e),i=FS(t);for(let a=0;a<s.length;++a){const o=s[a];if(!gq[o]&&!(i&&i[o])&&!(r&&r[o])){const l=jq(t,o);try{vq(e,o,l)}catch{}}}}return e}var Ny=Symbol.for("react-redux-context"),Sy=typeof globalThis<"u"?globalThis:{};function Nq(){if(!v.createContext)return{};const e=Sy[Ny]??(Sy[Ny]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var YD=Nq(),Sq=[null,null];function Cq(e,t,s){Rf(()=>e(...t),s)}function kq(e,t,s,r,i,a){e.current=r,s.current=!1,i.current&&(i.current=null,a())}function _q(e,t,s,r,i,a,o,l,c,d,h){if(!e)return()=>{};let u=!1,m=null;const f=()=>{if(u||!l.current)return;const x=t.getState();let g,p;try{g=r(x,i.current)}catch(y){p=y,m=y}p||(m=null),g===a.current?o.current||d():(a.current=g,c.current=g,o.current=!0,h())};return s.onStateChange=f,s.trySubscribe(),f(),()=>{if(u=!0,s.tryUnsubscribe(),s.onStateChange=null,m)throw m}}function Tq(e,t){return e===t}function Pq(e,t,s,{pure:r,areStatesEqual:i=Tq,areOwnPropsEqual:a=wy,areStatePropsEqual:o=wy,areMergedPropsEqual:l=wy,forwardRef:c=!1,context:d=YD}={}){const h=d,u=rq(e),m=nq(t),f=oq(s),j=!!e;return g=>{const p=g.displayName||g.name||"Component",y=`Connect(${p})`,b={shouldHandleStateChanges:j,displayName:y,wrappedComponentName:p,WrappedComponent:g,initMapStateToProps:u,initMapDispatchToProps:m,initMergeProps:f,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function w(S){const[k,T,D]=v.useMemo(()=>{const{reactReduxForwardedRef:rt,...ts}=S;return[S.context,rt,ts]},[S]),P=v.useMemo(()=>{let rt=h;return k!=null&&k.Consumer,rt},[k,h]),M=v.useContext(P),X=!!S.store&&!!S.store.getState&&!!S.store.dispatch,ee=!!M&&!!M.store,F=X?S.store:M.store,re=ee?M.getServerState:F.getState,fe=v.useMemo(()=>tq(F.dispatch,b),[F]),[H,$]=v.useMemo(()=>{if(!j)return Sq;const rt=KD(F,X?void 0:M.subscription),ts=rt.notifyNestedSubs.bind(rt);return[rt,ts]},[F,X,M]),oe=v.useMemo(()=>X?M:{...M,subscription:H},[X,M,H]),be=v.useRef(void 0),st=v.useRef(D),_t=v.useRef(void 0),Ft=v.useRef(!1),ps=v.useRef(!1),Xt=v.useRef(void 0);Rf(()=>(ps.current=!0,()=>{ps.current=!1}),[]);const Be=v.useMemo(()=>()=>_t.current&&D===st.current?_t.current:fe(F.getState(),D),[F,D]),yt=v.useMemo(()=>ts=>H?_q(j,F,H,fe,st,be,Ft,ps,_t,$,ts):()=>{},[H]);Cq(kq,[st,be,Ft,D,_t,$]);let Et;try{Et=v.useSyncExternalStore(yt,Be,re?()=>fe(re(),D):Be)}catch(rt){throw Xt.current&&(rt.message+=`
The error may be correlated with this previous error:
${Xt.current.stack}

`),rt}Rf(()=>{Xt.current=void 0,_t.current=void 0,be.current=Et});const vt=v.useMemo(()=>v.createElement(g,{...Et,ref:T}),[T,g,Et]);return v.useMemo(()=>j?v.createElement(P.Provider,{value:oe},vt):vt,[P,vt,oe])}const N=v.memo(w);if(N.WrappedComponent=g,N.displayName=w.displayName=y,c){const k=v.forwardRef(function(D,P){return v.createElement(N,{...D,reactReduxForwardedRef:P})});return k.displayName=y,k.WrappedComponent=g,F0(k,g)}return F0(N,g)}}var XD=Pq;function Eq(e){const{children:t,context:s,serverState:r,store:i}=e,a=v.useMemo(()=>{const c=KD(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=v.useMemo(()=>i.getState(),[i]);Rf(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=s||YD;return v.createElement(l.Provider,{value:a},t)}var Aq=Eq,Dq="Invariant failed";function Mq(e,t){throw new Error(Dq)}var Ur=function(t){var s=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-s,c={top:s,right:r,bottom:i,left:a,width:o,height:l,x:a,y:s,center:{x:(r+a)/2,y:(i+s)/2}};return c},pw=function(t,s){return{top:t.top-s.top,left:t.left-s.left,bottom:t.bottom+s.bottom,right:t.right+s.right}},$S=function(t,s){return{top:t.top+s.top,left:t.left+s.left,bottom:t.bottom-s.bottom,right:t.right-s.right}},Iq=function(t,s){return{top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}},Cy={top:0,right:0,bottom:0,left:0},fw=function(t){var s=t.borderBox,r=t.margin,i=r===void 0?Cy:r,a=t.border,o=a===void 0?Cy:a,l=t.padding,c=l===void 0?Cy:l,d=Ur(pw(s,i)),h=Ur($S(s,o)),u=Ur($S(h,c));return{marginBox:d,borderBox:Ur(s),paddingBox:h,contentBox:u,margin:i,border:o,padding:c}},nr=function(t){var s=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(s);return isNaN(i)&&Mq(),i},Rq=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ff=function(t,s){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=Iq(r,s);return fw({borderBox:l,border:i,margin:a,padding:o})},Of=function(t,s){return s===void 0&&(s=Rq()),Ff(t,s)},ZD=function(t,s){var r={top:nr(s.marginTop),right:nr(s.marginRight),bottom:nr(s.marginBottom),left:nr(s.marginLeft)},i={top:nr(s.paddingTop),right:nr(s.paddingRight),bottom:nr(s.paddingBottom),left:nr(s.paddingLeft)},a={top:nr(s.borderTopWidth),right:nr(s.borderRightWidth),bottom:nr(s.borderBottomWidth),left:nr(s.borderLeftWidth)};return fw({borderBox:t,margin:r,padding:i,border:a})},JD=function(t){var s=t.getBoundingClientRect(),r=window.getComputedStyle(t);return ZD(s,r)},ah=function(t){var s=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];s=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,s)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Lf.apply(null,arguments)}function eM(e,t){}eM.bind(null,"warn");eM.bind(null,"error");function no(){}function Fq(e,t){return{...e,...t}}function ur(e,t,s){const r=t.map(i=>{const a=Fq(s,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const Oq="Invariant failed";class $f extends Error{}$f.prototype.toString=function(){return this.message};function we(e,t){throw new $f(Oq)}class Lq extends me.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=no,this.onWindowError=s=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),s.error instanceof $f&&s.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=s=>{this.callbacks=s}}componentDidMount(){this.unbind=ur(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof $f){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const $q=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Uf=e=>e+1,Uq=e=>`
  You have lifted an item in position ${Uf(e.source.index)}
`,tM=(e,t)=>{const s=e.droppableId===t.droppableId,r=Uf(e.index),i=Uf(t.index);return s?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},sM=(e,t,s)=>t.droppableId===s.droppableId?`
      The item ${e}
      has been combined with ${s.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${s.draggableId}
      in list ${s.droppableId}
    `,Bq=e=>{const t=e.destination;if(t)return tM(e.source,t);const s=e.combine;return s?sM(e.draggableId,e.source,s):"You are over an area that cannot be dropped on"},US=e=>`
  The item has returned to its starting position
  of ${Uf(e.index)}
`,zq=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${US(e.source)}
    `;const t=e.destination,s=e.combine;return t?`
      You have dropped the item.
      ${tM(e.source,t)}
    `:s?`
      You have dropped the item.
      ${sM(e.draggableId,e.source,s)}
    `:`
    The item has been dropped while not over a drop area.
    ${US(e.source)}
  `},Bp={dragHandleUsageInstructions:$q,onDragStart:Uq,onDragUpdate:Bq,onDragEnd:zq};function Vq(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function nM(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!Vq(e[s],t[s]))return!1;return!0}function St(e,t){const s=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),i=v.useRef(s),o=r.current||!!(t&&i.current.inputs&&nM(t,i.current.inputs))?i.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function qe(e,t){return St(()=>e,t)}const qs={x:0,y:0},Ys=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Kn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ro=(e,t)=>e.x===t.x&&e.y===t.y,Ad=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),bl=(e,t,s=0)=>e==="x"?{x:t,y:s}:{x:s,y:t},oh=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),BS=(e,t)=>Math.min(...t.map(s=>oh(e,s))),rM=e=>t=>({x:e(t.x),y:e(t.y)});var qq=(e,t)=>{const s=Ur({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return s.width<=0||s.height<=0?null:s};const ym=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),zS=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Hq={top:0,right:0,bottom:0,left:0},Wq=(e,t)=>t?ym(e,t.scroll.diff.displacement):e,Gq=(e,t,s)=>s&&s.increasedBy?{...e,[t.end]:e[t.end]+s.increasedBy[t.line]}:e,Kq=(e,t)=>t&&t.shouldClipSubject?qq(t.pageMarginBox,e):Ur(e);var hd=({page:e,withPlaceholder:t,axis:s,frame:r})=>{const i=Wq(e.marginBox,r),a=Gq(i,s,t),o=Kq(a,r);return{page:e,withPlaceholder:t,active:o}},gw=(e,t)=>{e.frame||we();const s=e.frame,r=Kn(t,s.scroll.initial),i=Ad(r),a={...s,scroll:{initial:s.scroll.initial,current:t,diff:{value:r,displacement:i},max:s.scroll.max}},o=hd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function Bs(e,t=nM){let s=null;function r(...i){if(s&&s.lastThis===this&&t(i,s.lastArgs))return s.lastResult;const a=e.apply(this,i);return s={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){s=null},r}const iM=Bs(e=>e.reduce((t,s)=>(t[s.descriptor.id]=s,t),{})),aM=Bs(e=>e.reduce((t,s)=>(t[s.descriptor.id]=s,t),{})),mx=Bs(e=>Object.values(e)),Qq=Bs(e=>Object.values(e));var Dd=Bs((e,t)=>Qq(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function xw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function px(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fx=Bs((e,t)=>t.filter(s=>s.descriptor.id!==e.descriptor.id)),Yq=({isMovingForward:e,draggable:t,destination:s,insideDestination:r,previousImpact:i})=>{if(!s.isCombineEnabled||!xw(i))return null;function o(f){const j={type:"COMBINE",combine:{draggableId:f,droppableId:s.descriptor.id}};return{...i,at:j}}const l=i.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=fx(t,r);if(!c){if(!d.length)return null;const f=d[d.length-1];return o(f.descriptor.id)}const h=d.findIndex(f=>f.descriptor.id===c);h===-1&&we();const u=h-1;if(u<0)return null;const m=d[u];return o(m.descriptor.id)},Md=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const oM={point:qs,value:0},lh={invisible:{},visible:{},all:[]},Xq={displaced:lh,displacedBy:oM,at:null};var pr=(e,t)=>s=>e<=s&&s<=t,lM=e=>{const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&s(r.left)&&s(r.right))return!0;const a=t(r.top)||t(r.bottom),o=s(r.left)||s(r.right);if(a&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&o||d&&a}},Zq=e=>{const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&s(r.left)&&s(r.right)};const yw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cM={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Jq=e=>t=>{const s=pr(t.top,t.bottom),r=pr(t.left,t.right);return i=>e===yw?s(i.top)&&s(i.bottom):r(i.left)&&r(i.right)};const eH=(e,t)=>{const s=t.frame?t.frame.scroll.diff.displacement:qs;return ym(e,s)},tH=(e,t,s)=>t.subject.active?s(t.subject.active)(e):!1,sH=(e,t,s)=>s(t)(e),vw=({target:e,destination:t,viewport:s,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?eH(e,t):e;return tH(a,t,i)&&sH(a,s,i)},nH=e=>vw({...e,isVisibleThroughFrameFn:lM}),dM=e=>vw({...e,isVisibleThroughFrameFn:Zq}),rH=e=>vw({...e,isVisibleThroughFrameFn:Jq(e.destination.axis)}),iH=(e,t,s)=>{if(typeof s=="boolean")return s;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function aH(e,t){const s=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ur(pw(s,r))}function ch({afterDragging:e,destination:t,displacedBy:s,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,c){const d=aH(c,s),h=c.descriptor.id;if(l.all.push(h),!nH({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=iH(h,a,i),f={draggableId:h,shouldAnimate:m};return l.visible[h]=f,l},{all:[],visible:{},invisible:{}})}function oH(e,t){if(!e.length)return 0;const s=e[e.length-1].descriptor.index;return t.inHomeList?s:s+1}function VS({insideDestination:e,inHomeList:t,displacedBy:s,destination:r}){const i=oH(e,{inHomeList:t});return{displaced:lh,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Bf({draggable:e,insideDestination:t,destination:s,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const c=Md(e,s);if(o==null)return VS({insideDestination:t,inHomeList:c,displacedBy:i,destination:s});const d=t.find(j=>j.descriptor.index===o);if(!d)return VS({insideDestination:t,inHomeList:c,displacedBy:i,destination:s});const h=fx(e,t),u=t.indexOf(d),m=h.slice(u);return{displaced:ch({afterDragging:m,destination:s,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function fo(e,t){return!!t.effected[e]}var lH=({isMovingForward:e,destination:t,draggables:s,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=s[a].descriptor.index;return fo(a,i)?e?l:l-1:e?l+1:l},cH=({isMovingForward:e,isInHomeList:t,insideDestination:s,location:r})=>{if(!s.length)return null;const i=r.index,a=e?i+1:i-1,o=s[0].descriptor.index,l=s[s.length-1].descriptor.index,c=t?l:l+1;return a<o||a>c?null:a},dH=({isMovingForward:e,isInHomeList:t,draggable:s,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||we(),d.type==="REORDER"){const u=cH({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return u==null?null:Bf({draggable:s,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}const h=lH({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:Bf({draggable:s,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},uH=({displaced:e,afterCritical:t,combineWith:s,displacedBy:r})=>{const i=!!(e.visible[s]||e.invisible[s]);return fo(s,t)?i?qs:Ad(r.point):i?r.point:qs},hH=({afterCritical:e,impact:t,draggables:s})=>{const r=px(t);r||we();const i=r.draggableId,a=s[i].page.borderBox.center,o=uH({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Ys(a,o)};const uM=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,mH=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,bw=(e,t,s)=>t[e.crossAxisStart]+s.margin[e.crossAxisStart]+s.borderBox[e.crossAxisSize]/2,qS=({axis:e,moveRelativeTo:t,isMoving:s})=>bl(e.line,t.marginBox[e.end]+uM(e,s),bw(e,t.marginBox,s)),HS=({axis:e,moveRelativeTo:t,isMoving:s})=>bl(e.line,t.marginBox[e.start]-mH(e,s),bw(e,t.marginBox,s)),pH=({axis:e,moveInto:t,isMoving:s})=>bl(e.line,t.contentBox[e.start]+uM(e,s),bw(e,t.contentBox,s));var fH=({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i})=>{const a=Dd(r.descriptor.id,s),o=t.page,l=r.axis;if(!a.length)return pH({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:d}=e,h=c.all[0];if(h){const m=s[h];if(fo(h,i))return HS({axis:l,moveRelativeTo:m.page,isMoving:o});const f=Ff(m.page,d.point);return HS({axis:l,moveRelativeTo:f,isMoving:o})}const u=a[a.length-1];if(u.descriptor.id===t.descriptor.id)return o.borderBox.center;if(fo(u.descriptor.id,i)){const m=Ff(u.page,Ad(i.displacedBy.point));return qS({axis:l,moveRelativeTo:m,isMoving:o})}return qS({axis:l,moveRelativeTo:u.page,isMoving:o})},O0=(e,t)=>{const s=e.frame;return s?Ys(t,s.scroll.diff.displacement):t};const gH=({impact:e,draggable:t,droppable:s,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!s||!o?a:o.type==="REORDER"?fH({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:i}):hH({impact:e,draggables:r,afterCritical:i})};var gx=e=>{const t=gH(e),s=e.droppable;return s?O0(s,t):t},hM=(e,t)=>{const s=Kn(t,e.scroll.initial),r=Ad(s);return{frame:Ur({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:s,displacement:r}}}};function WS(e,t){return e.map(s=>t[s])}function xH(e,t){for(let s=0;s<t.length;s++){const r=t[s].visible[e];if(r)return r}return null}var yH=({impact:e,viewport:t,destination:s,draggables:r,maxScrollChange:i})=>{const a=hM(t,Ys(t.scroll.current,i)),o=s.frame?gw(s,Ys(s.frame.scroll.current,i)):s,l=e.displaced,c=ch({afterDragging:WS(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=ch({afterDragging:WS(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},u={},m=[l,c,d];return l.all.forEach(j=>{const x=xH(j,m);if(x){u[j]=x;return}h[j]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:u}}},vH=(e,t)=>Ys(e.scroll.diff.displacement,t),jw=({pageBorderBoxCenter:e,draggable:t,viewport:s})=>{const r=vH(s,e),i=Kn(r,t.page.borderBox.center);return Ys(t.client.borderBox.center,i)},mM=({draggable:e,destination:t,newPageBorderBoxCenter:s,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Kn(s,e.page.borderBox.center),c={target:ym(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?rH(c):dM(c)},bH=({isMovingForward:e,draggable:t,destination:s,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!s.isEnabled)return null;const d=Dd(s.descriptor.id,r),h=Md(t,s),u=Yq({isMovingForward:e,draggable:t,destination:s,insideDestination:d,previousImpact:i})||dH({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:s,insideDestination:d,previousImpact:i,viewport:a,afterCritical:c});if(!u)return null;const m=gx({impact:u,draggable:t,droppable:s,draggables:r,afterCritical:c});if(mM({draggable:t,destination:s,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jw({pageBorderBoxCenter:m,draggable:t,viewport:a}),impact:u,scrollJumpRequest:null};const j=Kn(m,o),x=yH({impact:u,viewport:a,destination:s,draggables:r,maxScrollChange:j});return{clientSelection:l,impact:x,scrollJumpRequest:j}};const pn=e=>{const t=e.subject.active;return t||we(),t};var jH=({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:r,viewport:i})=>{const a=s.subject.active;if(!a)return null;const o=s.axis,l=pr(a[o.start],a[o.end]),c=mx(r).filter(h=>h!==s).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>lM(i.frame)(pn(h))).filter(h=>{const u=pn(h);return e?a[o.crossAxisEnd]<u[o.crossAxisEnd]:u[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const u=pn(h),m=pr(u[o.start],u[o.end]);return l(u[o.start])||l(u[o.end])||m(a[o.start])||m(a[o.end])}).sort((h,u)=>{const m=pn(h)[o.crossAxisStart],f=pn(u)[o.crossAxisStart];return e?m-f:f-m}).filter((h,u,m)=>pn(h)[o.crossAxisStart]===pn(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>pr(pn(h)[o.start],pn(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,u)=>pn(h)[o.start]-pn(u)[o.start])[0]:c.sort((h,u)=>{const m=BS(t,zS(pn(h))),f=BS(t,zS(pn(u)));return m!==f?m-f:pn(h)[o.start]-pn(u)[o.start]})[0]};const GS=(e,t)=>{const s=e.page.borderBox.center;return fo(e.descriptor.id,t)?Kn(s,t.displacedBy.point):s},wH=(e,t)=>{const s=e.page.borderBox;return fo(e.descriptor.id,t)?ym(s,Ad(t.displacedBy.point)):s};var NH=({pageBorderBoxCenter:e,viewport:t,destination:s,insideDestination:r,afterCritical:i})=>r.filter(o=>dM({target:wH(o,i),destination:s,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=oh(e,O0(s,GS(o,i))),d=oh(e,O0(s,GS(l,i)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,vm=Bs(function(t,s){const r=s[t.line];return{value:r,point:bl(t.line,r)}});const SH=(e,t,s)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return bl(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=Dd(e.descriptor.id,s).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:bl(r.line,c)},pM=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),fM=(e,t,s)=>{const r=e.frame;Md(t,e)&&we(),e.subject.withPlaceholder&&we();const i=vm(e.axis,t.displaceBy).point,a=SH(e,i,s),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Ys(r.scroll.max,a):r.scroll.max,c=pM(r,l),d=hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},CH=e=>{const t=e.subject.withPlaceholder;t||we();const s=e.frame;if(!s){const o=hd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||we();const i=pM(s,r),a=hd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var kH=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:s,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(s.length)return null;const u={displaced:lh,displacedBy:oM,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=gx({impact:u,draggable:r,droppable:a,draggables:i,afterCritical:l}),f=Md(r,a)?a:fM(a,r,i);return mM({draggable:r,destination:f,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?u:u+1})(),h=vm(a.axis,r.displaceBy);return Bf({draggable:r,insideDestination:s,destination:a,viewport:o,displacedBy:h,last:lh,index:d})},_H=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:s,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const c=jH({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!c)return null;const d=Dd(c.descriptor.id,i),h=NH({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),u=kH({previousPageBorderBoxCenter:t,destination:c,draggable:s,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!u)return null;const m=gx({impact:u,draggable:s,droppable:c,draggables:i,afterCritical:l});return{clientSelection:jw({pageBorderBoxCenter:m,draggable:s,viewport:o}),impact:u,scrollJumpRequest:null}},Xn=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const TH=(e,t)=>{const s=Xn(e);return s?t[s]:null};var PH=({state:e,type:t})=>{const s=TH(e.impact,e.dimensions.droppables),r=!!s,i=e.dimensions.droppables[e.critical.droppable.id],a=s||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return l?bH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):_H({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Ao(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function gM(e){const t=pr(e.top,e.bottom),s=pr(e.left,e.right);return function(i){return t(i.y)&&s(i.x)}}function EH(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function AH({pageBorderBox:e,draggable:t,candidates:s}){const r=t.page.borderBox.center,i=s.map(a=>{const o=a.axis,l=bl(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:oh(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function DH({pageBorderBox:e,draggable:t,droppables:s}){const r=mx(s).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!EH(e,a))return!1;if(gM(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=pr(a[o.crossAxisStart],a[o.crossAxisEnd]),u=h(c),m=h(d);return!u&&!m?!0:u?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:AH({pageBorderBox:e,draggable:t,candidates:r}):null}const xM=(e,t)=>Ur(ym(e,t));var MH=(e,t)=>{const s=e.frame;return s?xM(t,s.scroll.diff.value):t};function yM({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function IH({draggable:e,closest:t,inHomeList:s}){return t?s&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var RH=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:s,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=s.axis,c=vm(s.axis,t.displaceBy),d=c.value,h=e[l.start],u=e[l.end],f=fx(t,r).find(x=>{const g=x.descriptor.id,p=x.page.borderBox.center[l.line],y=fo(g,o),b=yM({displaced:i,id:g});return y?b?u<=p:h<p-d:b?u<=p+d:h<p})||null,j=IH({draggable:t,closest:f,inHomeList:Md(t,s)});return Bf({draggable:t,insideDestination:r,destination:s,viewport:a,last:i,displacedBy:c,index:j})};const FH=4;var OH=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:s,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=vm(r.axis,e.displaceBy),c=l.value,d=t[o.start],h=t[o.end],m=fx(e,i).find(j=>{const x=j.descriptor.id,g=j.page.borderBox,y=g[o.size]/FH,b=fo(x,a),w=yM({displaced:s.displaced,id:x});return b?w?h>g[o.start]+y&&h<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:w?h>g[o.start]+c+y&&h<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},vM=({pageOffset:e,draggable:t,draggables:s,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=xM(t.page.borderBox,e),c=DH({pageBorderBox:l,draggable:t,droppables:r});if(!c)return Xq;const d=r[c],h=Dd(d.descriptor.id,s),u=MH(d,l);return OH({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||RH({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},ww=(e,t)=>({...e,[t.descriptor.id]:t});const LH=({previousImpact:e,impact:t,droppables:s})=>{const r=Xn(e),i=Xn(t);if(!r||r===i)return s;const a=s[r];if(!a.subject.withPlaceholder)return s;const o=CH(a);return ww(s,o)};var $H=({draggable:e,draggables:t,droppables:s,previousImpact:r,impact:i})=>{const a=LH({previousImpact:r,impact:i,droppables:s}),o=Xn(i);if(!o)return a;const l=s[o];if(Md(e,l)||l.subject.withPlaceholder)return a;const c=fM(l,e,t);return ww(a,c)},Du=({state:e,clientSelection:t,dimensions:s,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=s||e.dimensions,c=t||e.current.client.selection,d=Kn(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:Ys(e.initial.client.borderBoxCenter,d)},u={selection:Ys(h.selection,o.scroll.current),borderBoxCenter:Ys(h.borderBoxCenter,o.scroll.current),offset:Ys(h.offset,o.scroll.diff.value)},m={client:h,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const f=l.draggables[e.critical.draggable.id],j=i||vM({pageOffset:u.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),x=$H({draggable:f,impact:j,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:x},impact:j,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function UH(e,t){return e.map(s=>t[s])}var bM=({impact:e,viewport:t,draggables:s,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=UH(a.all,s),l=ch({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},jM=({impact:e,draggable:t,droppable:s,draggables:r,viewport:i,afterCritical:a})=>{const o=gx({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a});return jw({pageBorderBoxCenter:o,draggable:t,viewport:i})},wM=({state:e,dimensions:t,viewport:s})=>{e.movementMode!=="SNAP"&&we();const r=e.impact,i=s||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,c=o[e.critical.draggable.id],d=Xn(r);d||we();const h=l[d],u=bM({impact:r,viewport:i,destination:h,draggables:o}),m=jM({impact:u,draggable:c,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Du({impact:u,clientSelection:m,state:e,dimensions:a,viewport:i})},BH=e=>({index:e.index,droppableId:e.droppableId}),NM=({draggable:e,home:t,draggables:s,viewport:r})=>{const i=vm(t.axis,e.displaceBy),a=Dd(t.descriptor.id,s),o=a.indexOf(e);o===-1&&we();const l=a.slice(o+1),c=l.reduce((m,f)=>(m[f.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:ch({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:BH(e.descriptor)}},afterCritical:d}},zH=(e,t)=>({draggables:e.draggables,droppables:ww(e.droppables,t)}),VH=({draggable:e,offset:t,initialWindowScroll:s})=>{const r=Ff(e.client,t),i=Of(r,s);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},qH=e=>{const t=e.frame;return t||we(),t},HH=({additions:e,updatedDroppables:t,viewport:s})=>{const r=s.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],c=qH(o).scroll.diff.value,d=Ys(r,c);return VH({draggable:i,offset:d,initialWindowScroll:s.scroll.initial})})},WH=({state:e,published:t})=>{const s=t.modified.map(p=>{const y=e.dimensions.droppables[p.droppableId];return gw(y,p.scroll)}),r={...e.dimensions.droppables,...iM(s)},i=aM(HH({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(p=>{delete a[p]});const o={droppables:r,draggables:a},l=Xn(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=NM({draggable:d,home:h,draggables:a,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:u,j=vM({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:f,viewport:e.viewport,afterCritical:m}),x={...e,phase:"DRAGGING",impact:j,onLiftImpact:u,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const L0=e=>e.movementMode==="SNAP",ky=(e,t,s)=>{const r=zH(e.dimensions,t);return!L0(e)||s?Du({state:e,dimensions:r}):wM({state:e,dimensions:r})};function _y(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const KS={phase:"IDLE",completed:null,shouldFlush:!1};var GH=(e=KS,t)=>{if(t.type==="FLUSH")return{...KS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&we();const{critical:s,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[s.draggable.id],c=a.droppables[s.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:qs},h={client:d,page:{selection:Ys(d.selection,i.scroll.initial),borderBoxCenter:Ys(d.selection,i.scroll.initial),offset:Ys(d.selection,i.scroll.diff.value)}},u=mx(a.droppables).every(x=>!x.isFixedOnPage),{impact:m,afterCritical:f}=NM({draggable:l,home:c,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:s,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:u,impact:m,afterCritical:f,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&we(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||we(),WH({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{client:s}=t.payload;return ro(s,e.current.client.selection)?e:Du({state:e,clientSelection:s,impact:L0(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return _y(e);Ao(e)||we();const{id:s,newScroll:r}=t.payload,i=e.dimensions.droppables[s];if(!i)return e;const a=gw(i,r);return ky(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:s,isEnabled:r}=t.payload,i=e.dimensions.droppables[s];i||we(),i.isEnabled===r&&we();const a={...i,isEnabled:r};return ky(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||we();const{id:s,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[s];i||we(),i.isCombineEnabled===r&&we();const a={...i,isCombineEnabled:r};return ky(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ao(e)||we(),e.isWindowScrollAllowed||we();const s=t.payload.newScroll;if(ro(e.viewport.scroll.current,s))return _y(e);const r=hM(e.viewport,s);return L0(e)?wM({state:e,viewport:r}):Du({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ao(e))return e;const s=t.payload.maxScroll;if(ro(s,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:s}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&we();const s=PH({state:e,type:t.type});return s?Du({state:e,impact:s.impact,clientSelection:s.clientSelection,scrollJumpRequest:s.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const s=t.payload.reason;return e.phase!=="COLLECTING"&&we(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:s}}if(t.type==="DROP_ANIMATE"){const{completed:s,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||we(),{phase:"DROP_ANIMATING",completed:s,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:s}=t.payload;return{phase:"IDLE",completed:s,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const KH=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),QH=e=>({type:"LIFT",payload:e}),YH=e=>({type:"INITIAL_PUBLISH",payload:e}),XH=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ZH=()=>({type:"COLLECTION_STARTING",payload:null}),JH=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),eW=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),tW=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),SM=e=>({type:"MOVE",payload:e}),sW=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),nW=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),rW=()=>({type:"MOVE_UP",payload:null}),iW=()=>({type:"MOVE_DOWN",payload:null}),aW=()=>({type:"MOVE_RIGHT",payload:null}),oW=()=>({type:"MOVE_LEFT",payload:null}),Nw=()=>({type:"FLUSH",payload:null}),lW=e=>({type:"DROP_ANIMATE",payload:e}),Sw=e=>({type:"DROP_COMPLETE",payload:e}),CM=e=>({type:"DROP",payload:e}),cW=e=>({type:"DROP_PENDING",payload:e}),kM=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var dW=e=>({getState:t,dispatch:s})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&s(Sw({completed:c.completed})),t().phase!=="IDLE"&&we(),s(Nw()),s(KH({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:m,viewport:f}=e.startPublishing(h);s(YH({critical:u,dimensions:m,clientSelection:o,movementMode:l,viewport:f}))},uW=e=>()=>t=>s=>{Mt(s,"INITIAL_PUBLISH")&&e.dragging(),Mt(s,"DROP_ANIMATE")&&e.dropping(s.payload.completed.result.reason),(Mt(s,"FLUSH")||Mt(s,"DROP_COMPLETE"))&&e.resting(),t(s)};const Cw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},dh={opacity:{drop:0,combining:.7},scale:{drop:.75}},_M={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_o=`${_M.outOfTheWay}s ${Cw.outOfTheWay}`,Mu={fluid:`opacity ${_o}`,snap:`transform ${_o}, opacity ${_o}`,drop:e=>{const t=`${e}s ${Cw.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${_o}`,placeholder:`height ${_o}, width ${_o}, margin ${_o}`},QS=e=>ro(e,qs)?void 0:`translate(${e.x}px, ${e.y}px)`,$0={moveTo:QS,drop:(e,t)=>{const s=QS(e);if(s)return t?`${s} scale(${dh.scale.drop})`:s}},{minDropTime:U0,maxDropTime:TM}=_M,hW=TM-U0,YS=1500,mW=.6;var pW=({current:e,destination:t,reason:s})=>{const r=oh(e,t);if(r<=0)return U0;if(r>=YS)return TM;const i=r/YS,a=U0+hW*i,o=s==="CANCEL"?a*mW:a;return Number(o.toFixed(2))},fW=({impact:e,draggable:t,dimensions:s,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=s,l=Xn(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],h=jM({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:c||d,viewport:r});return Kn(h,t.client.borderBox.center)},gW=({draggables:e,reason:t,lastImpact:s,home:r,viewport:i,onLiftImpact:a})=>!s.at||t!=="DROP"?{impact:bM({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:s.at.type==="REORDER"?{impact:s,didDropInsideDroppable:!0}:{impact:{...s,displaced:lh},didDropInsideDroppable:!0};const xW=({getState:e,dispatch:t})=>s=>r=>{if(!Mt(r,"DROP")){s(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(cW({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&we(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||we();const l=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:u}=gW({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=u?xw(h):null,f=u?px(h):null,j={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:j,reason:a,mode:i.movementMode,destination:m,combine:f},g=fW({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),p={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h};if(!(!ro(i.current.client.offset,g)||!!x.combine)){t(Sw({completed:p}));return}const b=pW({current:i.current.client.offset,destination:g,reason:a});t(lW({newHomeClientOffset:g,dropDuration:b,completed:p}))};var PM=()=>({x:window.pageXOffset,y:window.pageYOffset});function yW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function vW({onWindowScroll:e}){function t(){e(PM())}const s=ah(t),r=yW(s);let i=no;function a(){return i!==no}function o(){a()&&we(),i=ur(window,[r])}function l(){a()||we(),s.cancel(),i(),i=no}return{start:o,stop:l,isActive:a}}const bW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),jW=e=>{const t=vW({onWindowScroll:s=>{e.dispatch(sW({newScroll:s}))}});return s=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&bW(r)&&t.stop(),s(r)}};var wW=e=>{let t=!1,s=!1;const r=setTimeout(()=>{s=!0}),i=a=>{t||s||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},NW=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&we();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const SW=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,CW=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,kW=(e,t)=>{if(e===t)return!0;const s=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return s&&r},Yd=(e,t)=>{t()},Jm=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Ty(e,t,s,r){if(!e){s(r(t));return}const i=wW(s);e(t,{announce:i}),i.wasCalled()||s(r(t))}var _W=(e,t)=>{const s=NW();let r=null;const i=(u,m)=>{r&&we(),Yd("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:u,mode:m})})},a=(u,m)=>{r&&we(),Yd("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(Jm(u,m))})},o=(u,m)=>{r&&we();const f=Jm(u,m);r={mode:m,lastCritical:u,lastLocation:f.source,lastCombine:null},s.add(()=>{Yd("onDragStart",()=>Ty(e().onDragStart,f,t,Bp.onDragStart))})},l=(u,m)=>{const f=xw(m),j=px(m);r||we();const x=!kW(u,r.lastCritical);x&&(r.lastCritical=u);const g=!SW(r.lastLocation,f);g&&(r.lastLocation=f);const p=!CW(r.lastCombine,j);if(p&&(r.lastCombine=j),!x&&!g&&!p)return;const y={...Jm(u,r.mode),combine:j,destination:f};s.add(()=>{Yd("onDragUpdate",()=>Ty(e().onDragUpdate,y,t,Bp.onDragUpdate))})},c=()=>{r||we(),s.flush()},d=u=>{r||we(),r=null,Yd("onDragEnd",()=>Ty(e().onDragEnd,u,t,Bp.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:c,drop:d,abort:()=>{if(!r)return;const u={...Jm(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},TW=(e,t)=>{const s=_W(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){s.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;s.beforeStart(l,a.payload.movementMode),i(a),s.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;s.flush(),i(a),s.drop(l);return}if(i(a),Mt(a,"FLUSH")){s.abort();return}const o=r.getState();o.phase==="DRAGGING"&&s.update(o.critical,o.impact)}};const PW=e=>t=>s=>{if(!Mt(s,"DROP_ANIMATION_FINISHED")){t(s);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&we(),e.dispatch(Sw({completed:r.completed}))},EW=e=>{let t=null,s=null;function r(){s&&(cancelAnimationFrame(s),s=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(kM())}};s=requestAnimationFrame(()=>{s=null,t=ur(window,[o])})}};var AW=e=>()=>t=>s=>{(Mt(s,"DROP_COMPLETE")||Mt(s,"FLUSH")||Mt(s,"DROP_ANIMATE"))&&e.stopPublishing(),t(s)},DW=e=>{let t=!1;return()=>s=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),s(r),e.tryRestoreFocusRecorded();return}if(s(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const MW=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var IW=e=>t=>s=>r=>{if(MW(r)){e.stop(),s(r);return}if(Mt(r,"INITIAL_PUBLISH")){s(r);const i=t.getState();i.phase!=="DRAGGING"&&we(),e.start(i);return}s(r),e.scroll(t.getState())};const RW=e=>t=>s=>{if(t(s),!Mt(s,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(CM({reason:r.reason})))},FW=HD;var OW=({dimensionMarshal:e,focusMarshal:t,styleMarshal:s,getResponders:r,announce:i,autoScroller:a})=>qD(GH,FW(EV(uW(s),AW(e),dW(e),xW,PW,EW,RW,IW(a),jW,DW(t),TW(r,i))));const Py=()=>({additions:{},removals:{},modified:{}});function LW({registry:e,callbacks:t}){let s=Py(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=s,u=Object.keys(c).map(j=>e.draggable.getById(j).getDimension(qs)).sort((j,x)=>j.descriptor.index-x.descriptor.index),m=Object.keys(h).map(j=>{const g=e.droppable.getById(j).callbacks.getScrollWhileDragging();return{droppableId:j,scroll:g}}),f={additions:u,removals:Object.keys(d),modified:m};s=Py(),t.publish(f)}))};return{add:c=>{const d=c.descriptor.id;s.additions[d]=c,s.modified[c.descriptor.droppableId]=!0,s.removals[d]&&delete s.removals[d],i()},remove:c=>{const d=c.descriptor;s.removals[d.id]=!0,s.modified[d.droppableId]=!0,s.additions[d.id]&&delete s.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,s=Py())}}}var EM=({scrollHeight:e,scrollWidth:t,height:s,width:r})=>{const i=Kn({x:t,y:e},{x:r,y:s});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},AM=()=>{const e=document.documentElement;return e||we(),e},DM=()=>{const e=AM();return EM({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},$W=()=>{const e=PM(),t=DM(),s=e.y,r=e.x,i=AM(),a=i.clientWidth,o=i.clientHeight,l=r+a,c=s+o;return{frame:Ur({top:s,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:qs,displacement:qs}}}},UW=({critical:e,scrollOptions:t,registry:s})=>{const r=$W(),i=r.scroll.current,a=e.droppable,o=s.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=s.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:aM(l),droppables:iM(o)},critical:e,viewport:r}};function XS(e,t,s){return!(s.descriptor.id===t.id||s.descriptor.type!==t.type||e.droppable.getById(s.descriptor.droppableId).descriptor.mode!=="virtual")}var BW=(e,t)=>{let s=null;const r=LW({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,f)=>{e.droppable.exists(m)||we(),s&&t.updateDroppableIsEnabled({id:m,isEnabled:f})},a=(m,f)=>{s&&(e.droppable.exists(m)||we(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:f}))},o=(m,f)=>{s&&(e.droppable.exists(m)||we(),t.updateDroppableScroll({id:m,newScroll:f}))},l=(m,f)=>{s&&e.droppable.getById(m).callbacks.scroll(f)},c=()=>{if(!s)return;r.stop();const m=s.critical.droppable;e.droppable.getAllByType(m.type).forEach(f=>f.callbacks.dragStopped()),s.unsubscribe(),s=null},d=m=>{s||we();const f=s.critical.draggable;m.type==="ADDITION"&&XS(e,f,m.value)&&r.add(m.value),m.type==="REMOVAL"&&XS(e,f,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{s&&we();const f=e.draggable.getById(m.draggableId),j=e.droppable.getById(f.descriptor.droppableId),x={draggable:f.descriptor,droppable:j.descriptor},g=e.subscribe(d);return s={critical:x,unsubscribe:g},UW({critical:x,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},MM=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",zW=e=>{window.scrollBy(e.x,e.y)};const VW=Bs(e=>mx(e).filter(t=>!(!t.isEnabled||!t.frame))),qW=(e,t)=>VW(t).find(r=>(r.frame||we(),gM(r.frame.pageMarginBox)(e)))||null;var HW=({center:e,destination:t,droppables:s})=>{if(t){const i=s[t];return i.frame?i:null}return qW(e,s)};const uh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var WW=(e,t,s=()=>uh)=>{const r=s(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},IM=({startOfRange:e,endOfRange:t,current:s})=>{const r=t-e;return r===0?0:(s-e)/r},kw=1,GW=(e,t,s=()=>uh)=>{const r=s();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return kw;const a=1-IM({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},KW=(e,t,s)=>{const r=s(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return kw;const h=IM({startOfRange:i,endOfRange:l,current:d}),u=e*r.ease(h);return Math.ceil(u)},ZS=({distanceToEdge:e,thresholds:t,dragStartTime:s,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=GW(e,t,i);return a===0?0:r?Math.max(KW(a,s,i),kw):a},JS=({container:e,distanceToEdges:t,dragStartTime:s,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=WW(e,r,a);return t[r.end]<t[r.start]?ZS({distanceToEdge:t[r.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*ZS({distanceToEdge:t[r.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},QW=({container:e,subject:t,proposedScroll:s})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?s:i&&r?null:{x:i?0:s.x,y:r?0:s.y}};const YW=rM(e=>e===0?0:e);var RM=({dragStartTime:e,container:t,subject:s,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=JS({container:t,distanceToEdges:o,dragStartTime:e,axis:yw,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=JS({container:t,distanceToEdges:o,dragStartTime:e,axis:cM,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=YW({x:c,y:l});if(ro(d,qs))return null;const h=QW({container:t,subject:s,proposedScroll:d});return h?ro(h,qs)?null:h:null};const XW=rM(e=>e===0?0:e>0?1:-1),_w=(()=>{const e=(t,s)=>t<0?t:t>s?t-s:0;return({current:t,max:s,change:r})=>{const i=Ys(t,r),a={x:e(i.x,s.x),y:e(i.y,s.y)};return ro(a,qs)?null:a}})(),FM=({max:e,current:t,change:s})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=XW(s),a=_w({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Tw=(e,t)=>FM({current:e.scroll.current,max:e.scroll.max,change:t}),ZW=(e,t)=>{if(!Tw(e,t))return null;const s=e.scroll.max,r=e.scroll.current;return _w({current:r,max:s,change:t})},Pw=(e,t)=>{const s=e.frame;return s?FM({current:s.scroll.current,max:s.scroll.max,change:t}):!1},JW=(e,t)=>{const s=e.frame;return!s||!Pw(e,t)?null:_w({current:s.scroll.current,max:s.scroll.max,change:t})};var eG=({viewport:e,subject:t,center:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=RM({dragStartTime:r,container:e.frame,subject:t,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&Tw(e,o)?o:null},tG=({droppable:e,subject:t,center:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=RM({dragStartTime:r,container:o.pageMarginBox,subject:t,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Pw(e,l)?l:null},e2=({state:e,dragStartTime:t,shouldUseTimeDampening:s,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=eG({dragStartTime:t,viewport:u,subject:c,center:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a});if(m){r(m);return}}const d=HW({center:o,destination:Xn(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=tG({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},sG=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:s=()=>uh})=>{const r=ah(e),i=ah(t);let a=null;const o=d=>{a||we();const{shouldUseTimeDampening:h,dragStartTime:u}=a;e2({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:u,shouldUseTimeDampening:h,getAutoScrollerOptions:s})};return{start:d=>{a&&we();const h=Date.now();let u=!1;const m=()=>{u=!0};e2({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:s}),a={dragStartTime:h,shouldUseTimeDampening:u},u&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},nG=({move:e,scrollDroppable:t,scrollWindow:s})=>{const r=(l,c)=>{const d=Ys(l.current.client.selection,c);e({client:d})},i=(l,c)=>{if(!Pw(l,c))return c;const d=JW(l,c);if(!d)return t(l.descriptor.id,c),null;const h=Kn(c,d);return t(l.descriptor.id,h),Kn(c,h)},a=(l,c,d)=>{if(!l||!Tw(c,d))return d;const h=ZW(c,d);if(!h)return s(d),null;const u=Kn(d,h);return s(u),Kn(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Xn(l.impact);d||we();const h=i(l.dimensions.droppables[d],c);if(!h)return;const u=l.viewport,m=a(l.isWindowScrollAllowed,u,h);m&&r(l,m)}},rG=({scrollDroppable:e,scrollWindow:t,move:s,getAutoScrollerOptions:r})=>{const i=sG({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=nG({move:s,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:i.start,stop:i.stop}};const md="data-rfd",pd=(()=>{const e=`${md}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),B0=(()=>{const e=`${md}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),iG=(()=>{const e=`${md}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),t2={contextId:`${md}-scroll-container-context-id`},aG=e=>t=>`[${t}="${e}"]`,Xd=(e,t)=>e.map(s=>{const r=s.styles[t];return r?`${s.selector} { ${r} }`:""}).join(" "),oG="pointer-events: none;";var lG=e=>{const t=aG(e),s=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(pd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:oG,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Mu.outOfTheWay};
    `;return{selector:t(B0.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(iG.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,s,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Xd(o,"always"),resting:Xd(o,"resting"),dragging:Xd(o,"dragging"),dropAnimating:Xd(o,"dropAnimating"),userCancel:Xd(o,"userCancel")}};const Zn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Ey=()=>{const e=document.querySelector("head");return e||we(),e},s2=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function cG(e,t){const s=St(()=>lG(e),[e]),r=v.useRef(null),i=v.useRef(null),a=qe(Bs(u=>{const m=i.current;m||we(),m.textContent=u}),[]),o=qe(u=>{const m=r.current;m||we(),m.textContent=u},[]);Zn(()=>{!r.current&&!i.current||we();const u=s2(t),m=s2(t);return r.current=u,i.current=m,u.setAttribute(`${md}-always`,e),m.setAttribute(`${md}-dynamic`,e),Ey().appendChild(u),Ey().appendChild(m),o(s.always),a(s.resting),()=>{const f=j=>{const x=j.current;x||we(),Ey().removeChild(x),j.current=null};f(r),f(i)}},[t,o,a,s.always,s.resting,e]);const l=qe(()=>a(s.dragging),[a,s.dragging]),c=qe(u=>{if(u==="DROP"){a(s.dropAnimating);return}a(s.userCancel)},[a,s.dropAnimating,s.userCancel]),d=qe(()=>{i.current&&a(s.resting)},[a,s.resting]);return St(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function OM(e,t){return Array.from(e.querySelectorAll(t))}var LM=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function xx(e){return e instanceof LM(e).HTMLElement}function dG(e,t){const s=`[${pd.contextId}="${e}"]`,r=OM(document,s);if(!r.length)return null;const i=r.find(a=>a.getAttribute(pd.draggableId)===t);return!i||!xx(i)?null:i}function uG(e){const t=v.useRef({}),s=v.useRef(null),r=v.useRef(null),i=v.useRef(!1),a=qe(function(m,f){const j={id:m,focus:f};return t.current[m]=j,function(){const g=t.current;g[m]!==j&&delete g[m]}},[]),o=qe(function(m){const f=dG(e,m);f&&f!==document.activeElement&&f.focus()},[e]),l=qe(function(m,f){s.current===m&&(s.current=f)},[]),c=qe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=s.current;m&&o(m)}))},[o]),d=qe(function(m){s.current=null;const f=document.activeElement;f&&f.getAttribute(pd.draggableId)===m&&(s.current=m)},[]);return Zn(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),St(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,d,c,l])}function hG(){const e={draggables:{},droppables:{}},t=[];function s(u){return t.push(u),function(){const f=t.indexOf(u);f!==-1&&t.splice(f,1)}}function r(u){t.length&&t.forEach(m=>m(u))}function i(u){return e.draggables[u]||null}function a(u){const m=i(u);return m||we(),m}const o={register:u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,m)=>{const f=e.draggables[m.descriptor.id];f&&f.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,f=i(m);f&&u.uniqueId===f.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:a,findById:i,exists:u=>!!i(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const m=l(u);return m||we(),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:s,clean:h}}function mG(){const e=St(hG,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var Ew=me.createContext(null),zf=()=>{const e=document.body;return e||we(),e};const pG={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},fG=e=>`rfd-announcement-${e}`;function gG(e){const t=St(()=>fG(e),[e]),s=v.useRef(null);return v.useEffect(function(){const a=document.createElement("div");return s.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Lf(a.style,pG),zf().appendChild(a),function(){setTimeout(function(){const c=zf();c.contains(a)&&c.removeChild(a),a===s.current&&(s.current=null)})}},[t]),qe(i=>{const a=s.current;if(a){a.textContent=i;return}},[])}const xG={separator:"::"};function Aw(e,t=xG){const s=me.useId();return St(()=>`${e}${t.separator}${s}`,[t.separator,e,s])}function yG({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function vG({contextId:e,text:t}){const s=Aw("hidden-text",{separator:"-"}),r=St(()=>yG({contextId:e,uniqueId:s}),[s,e]);return v.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",zf().appendChild(a),function(){const l=zf();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var yx=me.createContext(null);function $M(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function bG(){let e=null;function t(){return!!e}function s(o){return o===e}function r(o){e&&we();const l={abandon:o};return e=l,l}function i(){e||we(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:s,claim:r,release:i,tryAbandon:a}}function hh(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const jG=9,wG=13,Dw=27,UM=32,NG=33,SG=34,CG=35,kG=36,_G=37,TG=38,PG=39,EG=40,AG={[wG]:!0,[jG]:!0};var BM=e=>{AG[e.keyCode]&&e.preventDefault()};const vx=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),zM=0,n2=5;function DG(e,t){return Math.abs(t.x-e.x)>=n2||Math.abs(t.y-e.y)>=n2}const r2={type:"IDLE"};function MG({cancel:e,completed:t,getPhase:s,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==zM)return;const c={x:o,y:l},d=s();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&we();const h=d.point;if(!DG(h,c))return;i.preventDefault();const u=d.actions.fluidLift(c);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:i=>{const a=s();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{s().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(s().type==="PENDING"){e();return}if(i.keyCode===Dw){i.preventDefault(),e();return}BM(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{s().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=s();if(a.type==="IDLE"&&we(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:vx,fn:e}]}function IG(e){const t=v.useRef(r2),s=v.useRef(no),r=St(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==zM||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const f=e.tryGetLock(m,o,{sourceEvent:u});if(!f)return;u.preventDefault();const j={x:u.clientX,y:u.clientY};s.current(),d(f,j)}}),[e]),i=St(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const u=e.findClosestDraggableId(h);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&h.preventDefault())}}),[e]),a=qe(function(){const u={passive:!1,capture:!0};s.current=ur(window,[i,r],u)},[i,r]),o=qe(()=>{t.current.type!=="IDLE"&&(t.current=r2,s.current(),a())},[a]),l=qe(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=qe(function(){const u={capture:!0,passive:!1},m=MG({cancel:l,completed:o,getPhase:()=>t.current,setPhase:f=>{t.current=f}});s.current=ur(window,m,u)},[l,o]),d=qe(function(u,m){t.current.type!=="IDLE"&&we(),t.current={type:"PENDING",point:m,actions:u},c()},[c]);Zn(function(){return a(),function(){s.current()}},[a])}function RG(){}const FG={[SG]:!0,[NG]:!0,[kG]:!0,[CG]:!0};function OG(e,t){function s(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Dw){i.preventDefault(),s();return}if(i.keyCode===UM){i.preventDefault(),r();return}if(i.keyCode===EG){i.preventDefault(),e.moveDown();return}if(i.keyCode===TG){i.preventDefault(),e.moveUp();return}if(i.keyCode===PG){i.preventDefault(),e.moveRight();return}if(i.keyCode===_G){i.preventDefault(),e.moveLeft();return}if(FG[i.keyCode]){i.preventDefault();return}BM(i)}},{eventName:"mousedown",fn:s},{eventName:"mouseup",fn:s},{eventName:"click",fn:s},{eventName:"touchstart",fn:s},{eventName:"resize",fn:s},{eventName:"wheel",fn:s,options:{passive:!0}},{eventName:vx,fn:s}]}function LG(e){const t=v.useRef(RG),s=St(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==UM)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const d=l.snapLift();t.current();function h(){c||we(),c=!1,t.current(),r()}t.current=ur(window,OG(d,h),{capture:!0,passive:!1})}}),[e]),r=qe(function(){const a={passive:!1,capture:!0};t.current=ur(window,[s],a)},[s]);Zn(function(){return r(),function(){t.current()}},[r])}const Ay={type:"IDLE"},$G=120,UG=.15;function BG({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:s=>{s.preventDefault()}},{eventName:"keydown",fn:s=>{if(t().type!=="DRAGGING"){e();return}s.keyCode===Dw&&s.preventDefault(),e()}},{eventName:vx,fn:e}]}function zG({cancel:e,completed:t,getPhase:s}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=s();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=s();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(s().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=s();i.type==="IDLE"&&we();const a=r.touches[0];if(!a||!(a.force>=UG))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:vx,fn:e}]}function VG(e){const t=v.useRef(Ay),s=v.useRef(no),r=qe(function(){return t.current},[]),i=qe(function(f){t.current=f},[]),a=St(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const j=e.findClosestDraggableId(f);if(!j)return;const x=e.tryGetLock(j,l,{sourceEvent:f});if(!x)return;const g=f.touches[0],{clientX:p,clientY:y}=g,b={x:p,y};s.current(),u(x,b)}}),[e]),o=qe(function(){const f={capture:!0,passive:!1};s.current=ur(window,[a],f)},[a]),l=qe(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Ay),s.current(),o())},[o,i]),c=qe(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=qe(function(){const f={capture:!0,passive:!1},j={cancel:c,completed:l,getPhase:r},x=ur(window,zG(j),f),g=ur(window,BG(j),f);s.current=function(){x(),g()}},[c,r,l]),h=qe(function(){const f=r();f.type!=="PENDING"&&we();const j=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:j,hasMoved:!1})},[r,i]),u=qe(function(f,j){r().type!=="IDLE"&&we();const x=setTimeout(h,$G);i({type:"PENDING",point:j,actions:f,longPressTimerId:x}),d()},[d,r,i,h]);Zn(function(){return o(),function(){s.current();const j=r();j.type==="PENDING"&&(clearTimeout(j.longPressTimerId),i(Ay))}},[r,o,i]),Zn(function(){return ur(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const qG=["input","button","textarea","select","option","optgroup","video","audio"];function VM(e,t){if(t==null)return!1;if(qG.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:VM(e,t.parentElement)}function HG(e,t){const s=t.target;return xx(s)?VM(e,s):!1}var WG=e=>Ur(e.getBoundingClientRect()).center;function GG(e){return e instanceof LM(e).Element}const KG=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function qM(e,t){return e==null?null:e[KG](t)?e:qM(e.parentElement,t)}function QG(e,t){return e.closest?e.closest(t):qM(e,t)}function YG(e){return`[${pd.contextId}="${e}"]`}function XG(e,t){const s=t.target;if(!GG(s))return null;const r=YG(e),i=QG(s,r);return!i||!xx(i)?null:i}function ZG(e,t){const s=XG(e,t);return s?s.getAttribute(pd.draggableId):null}function JG(e,t){const s=`[${B0.contextId}="${e}"]`,i=OM(document,s).find(a=>a.getAttribute(B0.id)===t);return!i||!xx(i)?null:i}function eK(e){e.preventDefault()}function ep({expected:e,phase:t,isLockActive:s,shouldWarn:r}){return!(!s()||e!==t)}function HM({lockAPI:e,store:t,registry:s,draggableId:r}){if(e.isClaimed())return!1;const i=s.draggable.findById(r);return!(!i||!i.options.isEnabled||!MM(t.getState(),r))}function tK({lockAPI:e,contextId:t,store:s,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!HM({lockAPI:e,store:s,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=JG(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&HG(d,o))return null;const h=e.claim(a||no);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function f(){return e.isActive(h)}function j(C,N){ep({expected:C,phase:u,isLockActive:f,shouldWarn:!0})&&s.dispatch(N())}const x=j.bind(null,"DRAGGING");function g(C){function N(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(N(),we()),s.dispatch(QH(C.liftActionArgs)),u="DRAGGING";function S(k,T={shouldBlockNextClick:!1}){if(C.cleanup(),T.shouldBlockNextClick){const D=ur(window,[{eventName:"click",fn:eK,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}N(),s.dispatch(CM({reason:k}))}return{isActive:()=>ep({expected:"DRAGGING",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,drop:k=>S("DROP",k),cancel:k=>S("CANCEL",k),...C.actions}}function p(C){const N=ah(k=>{x(()=>SM({client:k}))});return{...g({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function y(){const C={moveUp:()=>x(rW),moveRight:()=>x(aW),moveDown:()=>x(iW),moveLeft:()=>x(oW)};return g({liftActionArgs:{id:i,clientSelection:WG(d),movementMode:"SNAP"},cleanup:no,actions:C})}function b(){ep({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>ep({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:p,snapLift:y,abort:b}}const sK=[IG,LG,VG];function nK({contextId:e,store:t,registry:s,customSensors:r,enableDefaultSensors:i}){const a=[...i?sK:[],...r||[]],o=v.useState(()=>bG())[0],l=qe(function(g,p){hh(g)&&!hh(p)&&o.tryAbandon()},[o]);Zn(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Zn(()=>o.tryAbandon,[o.tryAbandon]);const c=qe(x=>HM({lockAPI:o,registry:s,store:t,draggableId:x}),[o,s,t]),d=qe((x,g,p)=>tK({lockAPI:o,registry:s,contextId:e,store:t,draggableId:x,forceSensorStop:g||null,sourceEvent:p&&p.sourceEvent?p.sourceEvent:null}),[e,o,s,t]),h=qe(x=>ZG(e,x),[e]),u=qe(x=>{const g=s.draggable.findById(x);return g?g.options:null},[s.draggable]),m=qe(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Nw()))},[o,t]),f=qe(()=>o.isClaimed(),[o]),j=St(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:f}),[c,d,h,u,m,f]);for(let x=0;x<a.length;x++)a[x](j)}const rK=e=>({onBeforeCapture:t=>{const s=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};pa.flushSync(s)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),iK=e=>({...uh,...e.autoScrollerOptions,durationDampening:{...uh.durationDampening,...e.autoScrollerOptions}});function Zd(e){return e.current||we(),e.current}function aK(e){const{contextId:t,setCallbacks:s,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=v.useRef(null),l=$M(e),c=qe(()=>rK(l.current),[l]),d=qe(()=>iK(l.current),[l]),h=gG(t),u=vG({contextId:t,text:a}),m=cG(t,i),f=qe(D=>{Zd(o).dispatch(D)},[]),j=St(()=>DS({publishWhileDragging:XH,updateDroppableScroll:JH,updateDroppableIsEnabled:eW,updateDroppableIsCombineEnabled:tW,collectionStarting:ZH},f),[f]),x=mG(),g=St(()=>BW(x,j),[x,j]),p=St(()=>rG({scrollWindow:zW,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...DS({move:SM},f)}),[g.scrollDroppable,f,d]),y=uG(t),b=St(()=>OW({announce:h,autoScroller:p,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[h,p,g,y,c,m]);o.current=b;const w=qe(()=>{const D=Zd(o);D.getState().phase!=="IDLE"&&D.dispatch(Nw())},[]),C=qe(()=>{const D=Zd(o).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),N=St(()=>({isDragging:C,tryAbort:w}),[C,w]);s(N);const S=qe(D=>MM(Zd(o).getState(),D),[]),k=qe(()=>Ao(Zd(o).getState()),[]),T=St(()=>({marshal:g,focus:y,contextId:t,canLift:S,isMovementAllowed:k,dragHandleUsageInstructionsId:u,registry:x}),[t,g,u,y,S,k,x]);return nK({contextId:t,store:b,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>w,[w]),me.createElement(yx.Provider,{value:T},me.createElement(Aq,{context:Ew,store:b},e.children))}function oK(){return me.useId()}function lK(e){const t=oK(),s=e.dragHandleUsageInstructions||Bp.dragHandleUsageInstructions;return me.createElement(Lq,null,r=>me.createElement(aK,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:s,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const i2={dragging:5e3,dropAnimating:4500},cK=(e,t)=>t?Mu.drop(t.duration):e?Mu.snap:Mu.fluid,dK=(e,t)=>{if(e)return t?dh.opacity.drop:dh.opacity.combining},uK=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function hK(e){const s=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=uK(e),c=!!a,d=c?$0.drop(r,o):$0.moveTo(r);return{position:"fixed",top:s.marginBox.top,left:s.marginBox.left,boxSizing:"border-box",width:s.borderBox.width,height:s.borderBox.height,transition:cK(l,a),transform:d,opacity:dK(o,c),zIndex:c?i2.dropAnimating:i2.dragging,pointerEvents:"none"}}function mK(e){return{transform:$0.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function pK(e){return e.type==="DRAGGING"?hK(e):mK(e)}function fK(e,t,s=qs){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=ZD(i,r),o=Of(a,s),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:o}}function gK(e){const t=Aw("draggable"),{descriptor:s,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=St(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=qe(f=>{const j=i();return j||we(),fK(s,j,f)},[s,i]),h=St(()=>({uniqueId:t,descriptor:s,options:c,getDimension:d}),[s,d,c,t]),u=v.useRef(h),m=v.useRef(!0);Zn(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),Zn(()=>{if(m.current){m.current=!1;return}const f=u.current;u.current=h,r.draggable.update(h,f)},[h,r.draggable])}var Mw=me.createContext(null);function Vf(e){const t=v.useContext(e);return t||we(),t}function xK(e){e.preventDefault()}const yK=e=>{const t=v.useRef(null),s=qe((N=null)=>{t.current=N},[]),r=qe(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Vf(yx),{type:l,droppableId:c}=Vf(Mw),d=St(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:h,draggableId:u,isEnabled:m,shouldRespectForcePress:f,canDragInteractiveElements:j,isClone:x,mapped:g,dropAnimationFinished:p}=e;if(!x){const N=St(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:j,shouldRespectForcePress:f,isEnabled:m}),[d,o,r,j,f,m]);gK(N)}const y=St(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:xK}:null,[i,a,u,m]),b=qe(N=>{g.type==="DRAGGING"&&g.dropping&&N.propertyName==="transform"&&pa.flushSync(p)},[p,g]),w=St(()=>{const N=pK(g),S=g.type==="DRAGGING"&&g.dropping?b:void 0;return{innerRef:s,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":u,style:N,onTransitionEnd:S},dragHandleProps:y}},[i,y,u,g,b,s]),C=St(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return me.createElement(me.Fragment,null,h(w,g.snapshot,C))};var WM=(e,t)=>e===t,GM=e=>{const{combine:t,destination:s}=e;return s?s.droppableId:t?t.droppableId:null};const vK=e=>e.combine?e.combine.draggableId:null,bK=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function jK(){const e=Bs((i,a)=>({x:i,y:a})),t=Bs((i,a,o=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),s=Bs((i,a,o,l,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,c,d,null)}}));return(i,a)=>{if(hh(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],c=Xn(i.impact),d=bK(i.impact),h=i.forceShouldAnimate;return s(e(o.x,o.y),i.movementMode,l,a.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,u=GM(d),m=vK(d),j={duration:i.dropDuration,curve:Cw.drop,moveTo:i.newHomeClientOffset,opacity:m?dh.opacity.drop:null,scale:m?dh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:j,draggingOver:u,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:t(h,l,u,m,j)}}}return null}}function KM(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const wK={mapped:{type:"SECONDARY",offset:qs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:KM(null)}};function NK(){const e=Bs((o,l)=>({x:o,y:l})),t=Bs(KM),s=Bs((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o=>o?s(qs,o,!0):null,i=(o,l,c,d)=>{const h=c.displaced.visible[o],u=!!(d.inVirtualList&&d.effected[o]),m=px(c),f=m&&m.draggableId===o?l:null;if(!h){if(!u)return r(f);if(c.displaced.invisible[o])return null;const g=Ad(d.displacedBy.point),p=e(g.x,g.y);return s(p,f,!0)}if(u)return r(f);const j=c.displacedBy.point,x=e(j.x,j.y);return s(x,f,h.shouldAnimate)};return(o,l)=>{if(hh(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const SK=()=>{const e=jK(),t=NK();return(r,i)=>e(r,i)||t(r,i)||wK},CK={dropAnimationFinished:kM},kK=XD(SK,CK,null,{context:Ew,areStatePropsEqual:WM})(yK);function QM(e){return Vf(Mw).isUsingCloneFor===e.draggableId&&!e.isClone?null:me.createElement(kK,e)}function _K(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,s=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return me.createElement(QM,Lf({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:s,shouldRespectForcePress:r}))}const YM=e=>t=>e===t,TK=YM("scroll"),PK=YM("auto"),a2=(e,t)=>t(e.overflowX)||t(e.overflowY),EK=e=>{const t=window.getComputedStyle(e),s={overflowX:t.overflowX,overflowY:t.overflowY};return a2(s,TK)||a2(s,PK)},AK=()=>!1,XM=e=>e==null?null:e===document.body?AK()?e:null:e===document.documentElement?null:EK(e)?e:XM(e.parentElement);var z0=e=>({x:e.scrollLeft,y:e.scrollTop});const ZM=e=>e?window.getComputedStyle(e).position==="fixed"?!0:ZM(e.parentElement):!1;var DK=e=>{const t=XM(e),s=ZM(e);return{closestScrollable:t,isFixedOnPage:s}},MK=({descriptor:e,isEnabled:t,isCombineEnabled:s,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:f}=l,j=EM({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:j,diff:{value:qs,displacement:qs}}}})(),d=i==="vertical"?yw:cM,h=hd({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:s,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:c,subject:h}};const IK=(e,t)=>{const s=JD(e);if(!t||e!==t)return s;const r=s.paddingBox.top-t.scrollTop,i=s.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,c=pw({top:r,right:o,bottom:a,left:i},s.border);return fw({borderBox:c,margin:s.margin,border:s.border,padding:s.padding})};var RK=({ref:e,descriptor:t,env:s,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const c=s.closestScrollable,d=IK(e,c),h=Of(d,r),u=(()=>{if(!c)return null;const f=JD(c),j={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:Of(f,r),scroll:z0(c),scrollSize:j,shouldClipSubject:l}})();return MK({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:s.isFixedOnPage,direction:i,client:d,page:h,closest:u})};const FK={passive:!1},OK={passive:!0};var o2=e=>e.shouldPublishImmediately?FK:OK;const tp=e=>e&&e.env.closestScrollable||null;function LK(e){const t=v.useRef(null),s=Vf(yx),r=Aw("droppable"),{registry:i,marshal:a}=s,o=$M(e),l=St(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=St(()=>Bs((w,C)=>{t.current||we();const N={x:w,y:C};a.updateDroppableScroll(l.id,N)}),[l.id,a]),h=qe(()=>{const w=t.current;return!w||!w.env.closestScrollable?qs:z0(w.env.closestScrollable)},[]),u=qe(()=>{const w=h();d(w.x,w.y)},[h,d]),m=St(()=>ah(u),[u]),f=qe(()=>{const w=t.current,C=tp(w);if(w&&C||we(),w.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),j=qe((w,C)=>{t.current&&we();const N=o.current,S=N.getDroppableRef();S||we();const k=DK(S),T={ref:S,descriptor:l,env:k,scrollOptions:C};t.current=T;const D=RK({ref:S,descriptor:l,env:k,windowScroll:w,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),P=k.closestScrollable;return P&&(P.setAttribute(t2.contextId,s.contextId),P.addEventListener("scroll",f,o2(T.scrollOptions))),D},[s.contextId,l,f,o]),x=qe(()=>{const w=t.current,C=tp(w);return w&&C||we(),z0(C)},[]),g=qe(()=>{const w=t.current;w||we();const C=tp(w);t.current=null,C&&(m.cancel(),C.removeAttribute(t2.contextId),C.removeEventListener("scroll",f,o2(w.scrollOptions)))},[f,m]),p=qe(w=>{const C=t.current;C||we();const N=tp(C);N||we(),N.scrollTop+=w.y,N.scrollLeft+=w.x},[]),y=St(()=>({getDimensionAndWatchScroll:j,getScrollWhileDragging:x,dragStopped:g,scroll:p}),[g,j,x,p]),b=St(()=>({uniqueId:r,descriptor:l,callbacks:y}),[y,l,r]);Zn(()=>(c.current=b.descriptor,i.droppable.register(b),()=>{t.current&&g(),i.droppable.unregister(b)}),[y,l,g,b,a,i.droppable]),Zn(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Zn(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Dy(){}const l2={width:0,height:0,margin:Hq},$K=({isAnimatingOpenOnMount:e,placeholder:t,animate:s})=>e||s==="close"?l2:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},UK=({isAnimatingOpenOnMount:e,placeholder:t,animate:s})=>{const r=$K({isAnimatingOpenOnMount:e,placeholder:t,animate:s});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Mu.placeholder:null}},BK=e=>{const t=v.useRef(null),s=qe(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(s(),c(!1),Dy):t.current?Dy:(t.current=setTimeout(()=>{t.current=null,c(!1)}),s):Dy,[r,l,s]);const d=qe(u=>{u.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=UK({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return me.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var zK=me.memo(BK);class VK extends me.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,s){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const qK=e=>{const t=v.useContext(yx);t||we();const{contextId:s,isMovementAllowed:r}=t,i=v.useRef(null),a=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:h,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:f,snapshot:j,useClone:x,updateViewportMaxScroll:g,getContainerForClone:p}=e,y=qe(()=>i.current,[]),b=qe((P=null)=>{i.current=P},[]);qe(()=>a.current,[]);const w=qe((P=null)=>{a.current=P},[]),C=qe(()=>{r()&&g({maxScroll:DM()})},[r,g]);LK({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:u,getDroppableRef:y});const N=St(()=>me.createElement(VK,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:P,data:M,animate:X})=>me.createElement(zK,{placeholder:M,onClose:P,innerRef:w,animate:X,contextId:s,onTransitionEnd:C})),[s,C,e.placeholder,e.shouldAnimatePlaceholder,w]),S=St(()=>({innerRef:b,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":s}}),[s,l,N,b]),k=x?x.dragging.draggableId:null,T=St(()=>({droppableId:l,type:c,isUsingCloneFor:k}),[l,k,c]);function D(){if(!x)return null;const{dragging:P,render:M}=x,X=me.createElement(QM,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,F)=>M(ee,F,P));return BA.createPortal(X,p())}return me.createElement(Mw.Provider,{value:T},o(S,j),D())};function HK(){return document.body||we(),document.body}const c2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HK},JM=e=>{let t={...e},s;for(s in c2)e[s]===void 0&&(t={...t,[s]:c2[s]});return t},My=(e,t)=>e===t.droppable.type,d2=(e,t)=>t.draggables[e.draggable.id],WK=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},s=Bs(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Bs((a,o,l,c,d,h)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===a){const j=h?{render:h,dragging:s(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:j}}if(!o)return t;if(!c)return e;const f={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(a,o)=>{const l=JM(o),c=l.droppableId,d=l.type,h=!l.isDropDisabled,u=l.renderClone;if(hh(a)){const m=a.critical;if(!My(d,m))return t;const f=d2(m,a.dimensions),j=Xn(a.impact)===c;return r(c,h,j,j,f,u)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!My(d,m.critical))return t;const f=d2(m.critical,a.dimensions);return r(c,h,GM(m.result)===c,Xn(m.impact)===c,f,u)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!My(d,m.critical))return t;const f=Xn(m.impact)===c,j=!!(m.impact.at&&m.impact.at.type==="COMBINE"),x=m.critical.droppable.id===c;return f?j?e:t:x?e:t}return t}},GK={updateViewportMaxScroll:nW},KK=XD(WK,GK,(e,t,s)=>({...JM(s),...e,...t}),{context:Ew,areStatePropsEqual:WM})(qK),sp=[{id:"daily-summary",name:"Daily Summary",component:"DailySummary",enabled:!0,order:0},{id:"daily-tasks",name:"Task Management",component:"DailyTasksModule",enabled:!0,order:1},{id:"mood",name:"Mood & Wellbeing",component:"MoodModule",enabled:!0,order:2},{id:"financial",name:"Financial Tracker",component:"FinancialModule",enabled:!1,order:3},{id:"appointments",name:"Appointments",component:"AppointmentsModule",enabled:!1,order:4},{id:"pharmacy",name:"Pharmacy & Medications",component:"PharmacyModule",enabled:!1,order:5},{id:"safety-transportation",name:"Safety & Transportation (Premium)",component:"SafetyTransportationModule",enabled:!1,order:6},{id:"location-safety",name:"Location & Safety (Premium)",component:"LocationSafetyModule",enabled:!1,order:7},{id:"achievements",name:"Achievements",component:"AchievementsModule",enabled:!1,order:8},{id:"caregiver",name:"Support Network",component:"CaregiverModule",enabled:!1,order:9},{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:10},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:11},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:12},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:13}];function QK(){const[e,t]=v.useState([]),[s,r]=v.useState(!1);v.useEffect(()=>{const f=localStorage.getItem("dashboard-layout");if(f)try{const j=JSON.parse(f),x=j.map(b=>b.id),g=sp.filter(b=>!x.includes(b.id)),p=[...j,...g],y=p.filter((b,w)=>p.findIndex(C=>C.id===b.id)===w);t(y)}catch(j){console.error("Failed to parse saved layout:",j),t(sp)}else t(sp)},[]),v.useEffect(()=>{e.length>0&&localStorage.setItem("dashboard-layout",JSON.stringify(e))},[e]);const i=(f,j)=>{const x=Array.from(e),[g]=x.splice(f,1);x.splice(j,0,g);const p=x.map((y,b)=>({...y,order:b}));t(p)},a=f=>{t(j=>j.map(x=>x.id===f?{...x,enabled:!x.enabled}:x))},o=()=>{t(sp),localStorage.removeItem("dashboard-layout")},l=()=>{const f=[{id:"health-wellness",name:"Health & Wellness (Premium)",component:"HealthWellnessModule",enabled:!1,order:7},{id:"accessibility",name:"Accessibility Settings (Premium)",component:"AccessibilitySettingsModule",enabled:!1,order:8},{id:"life-skills",name:"Life Skills Training (Premium)",component:"LifeSkillsModule",enabled:!1,order:9},{id:"progress-motivation",name:"Progress & Motivation (Premium)",component:"ProgressMotivationModule",enabled:!1,order:10}];t(j=>{const x=j.map(p=>p.id),g=f.filter(p=>!x.includes(p.id));return[...j,...g]})},c=f=>{const j=e.findIndex(x=>x.id===f);j>0&&i(j,j-1)},d=f=>{const j=e.findIndex(x=>x.id===f);j<e.length-1&&i(j,j+1)},h=e.filter(f=>f.enabled).sort((f,j)=>f.order-j.order),u=e.filter(f=>f.enabled),m=e.filter(f=>!f.enabled);return{modules:h,allModules:e,enabledModules:u,disabledModules:m,isCustomizing:s,setIsCustomizing:r,reorderModules:i,toggleModule:a,resetToDefault:o,moveModuleUp:c,moveModuleDown:d,addEnhancedFeatures:l}}function YK(){const[e,t]=v.useState(!1),[s,r]=v.useState(!1),{data:i,isLoading:a}=xe({queryKey:["/api/mood-entries/today"]});return v.useEffect(()=>{if(a)return;const d=new Date().toDateString(),h=localStorage.getItem("mood-check-date");if(console.log("Mood check - todayMood:",i,"lastCheck:",h,"today:",d),i){console.log("Mood exists, hiding modal"),r(!0),t(!1);return}!i&&h!==d&&!e&&(console.log("Mood check available via navigation"),r(!1))},[i,a]),{showMoodModal:e,closeMoodModal:()=>{console.log("closeMoodModal called"),t(!1),r(!0);const d=new Date().toDateString();localStorage.setItem("mood-check-date",d),console.log("Modal closed successfully")},isMoodRequired:!i&&!a,shouldBlockNavigation:!1,moodData:i}}const XK=mm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:e,variant:t,...s}){return n.jsx("div",{className:Le(XK({variant:t}),e),...s})}function ZK(){var c;const[e,t]=v.useState(!1),{data:s}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]}),i=(s==null?void 0:s.accountType)==="admin"||(s==null?void 0:s.username)==="admin"||((c=s==null?void 0:s.name)==null?void 0:c.toLowerCase().includes("admin"));if(e||!s||!r||r.status==="active"||i)return null;const a=r.trialDaysLeft||0,o=a===0,l=a<=2&&a>0;return!o&&!l?null:n.jsx(L,{className:`mx-4 mb-4 border-2 ${o?"border-red-300 bg-red-50":"border-yellow-300 bg-yellow-50"}`,children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-full ${o?"bg-red-100":"bg-yellow-100"}`,children:o?n.jsx(Jt,{className:"w-5 h-5 text-red-600"}):n.jsx(ws,{className:"w-5 h-5 text-yellow-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:`font-semibold ${o?"text-red-800":"text-yellow-800"}`,children:o?"Free Trial Expired":"Trial Ending Soon"}),n.jsx(he,{variant:o?"destructive":"secondary",children:o?"Action Required":`${a} days left`})]}),n.jsx("p",{className:`text-sm mb-3 ${o?"text-red-700":"text-yellow-700"}`,children:o?"Your free trial has ended. Subscribe now to continue using Adaptalyfe features.":`Your free trial ends in ${a} ${a===1?"day":"days"}. Subscribe now to avoid interruption.`}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Oe,{href:"/subscription",children:n.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold shadow-md border border-white/20",children:[n.jsx(qt,{className:"w-4 h-4 mr-1"}),"View Plans"]})}),!o&&n.jsx(E,{variant:"outline",size:"sm",onClick:()=>t(!0),className:"text-gray-600 hover:text-gray-800",children:"Remind Me Later"})]})]})]}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"h-6 w-6 p-0 hover:bg-transparent",children:n.jsx(fm,{className:"w-4 h-4"})})]})})})}const JK="/adaptalyfe-icon.png";function eQ(){const{data:e}=xe({queryKey:["/api/user"]}),{data:t}=xe({queryKey:["/api/daily-tasks"]}),s=(t==null?void 0:t.filter(o=>o.isCompleted).length)||0,r=(t==null?void 0:t.length)||0,i=r>0?Math.round(s/r*100):0,a=()=>{const o=new Date().getHours();return o<12?"Good morning":o<17?"Good afternoon":"Good evening"};return Mz(),e?n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("img",{src:JK,alt:"Adaptalyfe",className:"w-6 h-6 rounded shadow-sm"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-teal-400",children:"Adaptalyfe"}),n.jsx("p",{className:"text-sm text-white/90",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsxs("h2",{className:"text-2xl font-bold mb-2 text-white flex items-center gap-2",children:[a(),", ",e==null?void 0:e.name,"!",n.jsx("span",{className:"text-teal-400 text-2xl",children:""})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Today's Progress"}),n.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[i,"%"]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-teal-400/40 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-xs text-white/90 font-medium",children:"Current Streak"}),n.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[(e==null?void 0:e.streakDays)||0," days"]})]})]})]}),n.jsx("div",{className:"hidden lg:block",children:n.jsx("div",{className:"w-16 h-16 bg-gray-800/50 border border-teal-400/40 rounded-full flex items-center justify-center",children:n.jsx(P9,{size:32,className:"text-teal-400"})})})]})})}):n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"bg-black rounded-xl p-4 text-white shadow-lg border-2 border-teal-400",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-48 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-700 rounded w-64 mb-4"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"}),n.jsx("div",{className:"h-16 bg-gray-700 rounded w-24"})]})]})})})}var Iy="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",u2={bubbles:!1,cancelable:!0},tQ="FocusScope",Iw=v.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),d=ms(i),h=ms(a),u=v.useRef(null),m=xt(t,x=>c(x)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let x=function(b){if(f.paused||!l)return;const w=b.target;l.contains(w)?u.current=w:Na(u.current,{select:!0})},g=function(b){if(f.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Na(u.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Na(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[r,l,f.paused]),v.useEffect(()=>{if(l){m2.add(f);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Iy,u2);l.addEventListener(Iy,d),l.dispatchEvent(p),p.defaultPrevented||(sQ(oQ(e6(l)),{select:!0}),document.activeElement===x&&Na(l))}return()=>{l.removeEventListener(Iy,d),setTimeout(()=>{const p=new CustomEvent(Ry,u2);l.addEventListener(Ry,h),l.dispatchEvent(p),p.defaultPrevented||Na(x??document.body,{select:!0}),l.removeEventListener(Ry,h),m2.remove(f)},0)}}},[l,d,h,f]);const j=v.useCallback(x=>{if(!s&&!r||f.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(g&&p){const y=x.currentTarget,[b,w]=nQ(y);b&&w?!x.shiftKey&&p===w?(x.preventDefault(),s&&Na(b,{select:!0})):x.shiftKey&&p===b&&(x.preventDefault(),s&&Na(w,{select:!0})):p===y&&x.preventDefault()}},[s,r,f.paused]);return n.jsx(Ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});Iw.displayName=tQ;function sQ(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Na(r,{select:t}),document.activeElement!==s)return}function nQ(e){const t=e6(e),s=h2(t,e),r=h2(t.reverse(),e);return[s,r]}function e6(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function h2(e,t){for(const s of e)if(!rQ(s,{upTo:t}))return s}function rQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iQ(e){return e instanceof HTMLInputElement&&"select"in e}function Na(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&iQ(e)&&t&&e.select()}}var m2=aQ();function aQ(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=p2(e,t),e.unshift(t)},remove(t){var s;e=p2(e,t),(s=e[0])==null||s.resume()}}}function p2(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function oQ(e){return e.filter(t=>t.tagName!=="A")}var Fy=0;function t6(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??f2()),document.body.insertAdjacentElement("beforeend",e[1]??f2()),Fy++,()=>{Fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fy--}},[])}function f2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gi=function(){return gi=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},gi.apply(this,arguments)};function s6(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}function lQ(e,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var zp="right-scroll-bar-position",Vp="width-before-scroll-bar",cQ="with-scroll-bars-hidden",dQ="--removed-body-scroll-bar-size";function Oy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uQ(e,t){var s=v.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var hQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,g2=new WeakMap;function mQ(e,t){var s=uQ(null,function(r){return e.forEach(function(i){return Oy(i,r)})});return hQ(function(){var r=g2.get(s);if(r){var i=new Set(r),a=new Set(e),o=s.current;i.forEach(function(l){a.has(l)||Oy(l,null)}),a.forEach(function(l){i.has(l)||Oy(l,o)})}g2.set(s,e)},[e]),s}function pQ(e){return e}function fQ(e,t){t===void 0&&(t=pQ);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var o=t(a,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),s}}}};return i}function gQ(e){e===void 0&&(e={});var t=fQ(null);return t.options=gi({async:!0,ssr:!1},e),t}var n6=function(e){var t=e.sideCar,s=s6(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,gi({},s))};n6.isSideCarExport=!0;function xQ(e,t){return e.useMedium(t),n6}var r6=gQ(),Ly=function(){},bx=v.forwardRef(function(e,t){var s=v.useRef(null),r=v.useState({onScrollCapture:Ly,onWheelCapture:Ly,onTouchMoveCapture:Ly}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,m=e.sideCar,f=e.noIsolation,j=e.inert,x=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,y=e.gapMode,b=s6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,C=mQ([s,t]),N=gi(gi({},b),i);return v.createElement(v.Fragment,null,h&&v.createElement(w,{sideCar:r6,removeScrollBar:d,shards:u,noIsolation:f,inert:j,setCallbacks:a,allowPinchZoom:!!x,lockRef:s,gapMode:y}),o?v.cloneElement(v.Children.only(l),gi(gi({},N),{ref:C})):v.createElement(p,gi({},N,{className:c,ref:C}),l))});bx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bx.classNames={fullWidth:Vp,zeroRight:zp};var yQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yQ();return t&&e.setAttribute("nonce",t),e}function bQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wQ=function(){var e=0,t=null;return{add:function(s){e==0&&(t=vQ())&&(bQ(t,s),jQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NQ=function(){var e=wQ();return function(t,s){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},i6=function(){var e=NQ(),t=function(s){var r=s.styles,i=s.dynamic;return e(r,i),null};return t},SQ={left:0,top:0,right:0,gap:0},$y=function(e){return parseInt(e||"",10)||0},CQ=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[$y(s),$y(r),$y(i)]},kQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SQ;var t=CQ(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},_Q=i6(),fc="data-scroll-locked",TQ=function(e,t,s,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(cQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zp," .").concat(zp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(dQ,": ").concat(l,`px;
  }
`)},x2=function(){var e=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(e)?e:0},PQ=function(){v.useEffect(function(){return document.body.setAttribute(fc,(x2()+1).toString()),function(){var e=x2()-1;e<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,e.toString())}},[])},EQ=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;PQ();var a=v.useMemo(function(){return kQ(i)},[i]);return v.createElement(_Q,{styles:TQ(a,!t,i,s?"":"!important")})},V0=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return V0=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{V0=!1}var Dl=V0?{passive:!1}:!1,AQ=function(e){return e.tagName==="TEXTAREA"},a6=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!AQ(e)&&s[t]==="visible")},DQ=function(e){return a6(e,"overflowY")},MQ=function(e){return a6(e,"overflowX")},y2=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=o6(e,r);if(i){var a=l6(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},IQ=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},RQ=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},o6=function(e,t){return e==="v"?DQ(t):MQ(t)},l6=function(e,t){return e==="v"?IQ(t):RQ(t)},FQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},OQ=function(e,t,s,r,i){var a=FQ(e,window.getComputedStyle(t).direction),o=a*r,l=s.target,c=t.contains(l),d=!1,h=o>0,u=0,m=0;do{var f=l6(e,l),j=f[0],x=f[1],g=f[2],p=x-g-a*j;(j||p)&&o6(e,l)&&(u+=p,m+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(u)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(d=!0),d},rp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v2=function(e){return[e.deltaX,e.deltaY]},b2=function(e){return e&&"current"in e?e.current:e},LQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$Q=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UQ=0,Ml=[];function BQ(e){var t=v.useRef([]),s=v.useRef([0,0]),r=v.useRef(),i=v.useState(UQ++)[0],a=v.useState(i6)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=lQ([e.lockRef.current],(e.shards||[]).map(b2),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=rp(x),y=s.current,b="deltaX"in x?x.deltaX:y[0]-p[0],w="deltaY"in x?x.deltaY:y[1]-p[1],C,N=x.target,S=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in x&&S==="h"&&N.type==="range")return!1;var k=y2(S,N);if(!k)return!0;if(k?C=S:(C=S==="v"?"h":"v",k=y2(S,N)),!k)return!1;if(!r.current&&"changedTouches"in x&&(b||w)&&(r.current=C),!C)return!0;var T=r.current||C;return OQ(T,g,x,T==="h"?b:w,!0)},[]),c=v.useCallback(function(x){var g=x;if(!(!Ml.length||Ml[Ml.length-1]!==a)){var p="deltaY"in g?v2(g):rp(g),y=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&LQ(C.delta,p)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(b2).filter(Boolean).filter(function(C){return C.contains(g.target)}),w=b.length>0?l(g,b[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(x,g,p,y){var b={name:x,delta:g,target:p,should:y,shadowParent:zQ(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),h=v.useCallback(function(x){s.current=rp(x),r.current=void 0},[]),u=v.useCallback(function(x){d(x.type,v2(x),x.target,l(x,e.lockRef.current))},[]),m=v.useCallback(function(x){d(x.type,rp(x),x.target,l(x,e.lockRef.current))},[]);v.useEffect(function(){return Ml.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Dl),document.addEventListener("touchmove",c,Dl),document.addEventListener("touchstart",h,Dl),function(){Ml=Ml.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Dl),document.removeEventListener("touchmove",c,Dl),document.removeEventListener("touchstart",h,Dl)}},[]);var f=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(a,{styles:$Q(i)}):null,f?v.createElement(EQ,{gapMode:e.gapMode}):null)}function zQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VQ=xQ(r6,BQ);var Rw=v.forwardRef(function(e,t){return v.createElement(bx,gi({},e,{ref:t,sideCar:VQ}))});Rw.classNames=bx.classNames;var qQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Il=new WeakMap,ip=new WeakMap,ap={},Uy=0,c6=function(e){return e&&(e.host||c6(e.parentNode))},HQ=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=c6(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},WQ=function(e,t,s,r){var i=HQ(t,Array.isArray(e)?e:[e]);ap[s]||(ap[s]=new WeakMap);var a=ap[s],o=[],l=new Set,c=new Set(i),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};i.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))h(m);else try{var f=m.getAttribute(r),j=f!==null&&f!=="false",x=(Il.get(m)||0)+1,g=(a.get(m)||0)+1;Il.set(m,x),a.set(m,g),o.push(m),x===1&&j&&ip.set(m,!0),g===1&&m.setAttribute(s,"true"),j||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return h(t),l.clear(),Uy++,function(){o.forEach(function(u){var m=Il.get(u)-1,f=a.get(u)-1;Il.set(u,m),a.set(u,f),m||(ip.has(u)||u.removeAttribute(r),ip.delete(u)),f||u.removeAttribute(s)}),Uy--,Uy||(Il=new WeakMap,Il=new WeakMap,ip=new WeakMap,ap={})}},d6=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=qQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),WQ(r,i,s,"aria-hidden")):function(){return null}},Fw="Dialog",[u6,khe]=Fn(Fw),[GQ,Jr]=u6(Fw),h6=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,h]=_i({prop:r,defaultProp:i,onChange:a});return n.jsx(GQ,{scope:t,triggerRef:l,contentRef:c,contentId:ea(),titleId:ea(),descriptionId:ea(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(u=>!u),[h]),modal:o,children:s})};h6.displayName=Fw;var m6="DialogTrigger",p6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(m6,s),a=xt(t,i.triggerRef);return n.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$w(i.open),...r,ref:a,onClick:Fe(e.onClick,i.onOpenToggle)})});p6.displayName=m6;var Ow="DialogPortal",[KQ,f6]=u6(Ow,{forceMount:void 0}),g6=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=e,a=Jr(Ow,t);return n.jsx(KQ,{scope:t,forceMount:s,children:v.Children.map(r,o=>n.jsx(yr,{present:s||a.open,children:n.jsx(tx,{asChild:!0,container:i,children:o})}))})};g6.displayName=Ow;var qf="DialogOverlay",x6=v.forwardRef((e,t)=>{const s=f6(qf,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Jr(qf,e.__scopeDialog);return a.modal?n.jsx(yr,{present:r||a.open,children:n.jsx(YQ,{...i,ref:t})}):null});x6.displayName=qf;var QQ=od("DialogOverlay.RemoveScroll"),YQ=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(qf,s);return n.jsx(Rw,{as:QQ,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Ve.div,{"data-state":$w(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jl="DialogContent",y6=v.forwardRef((e,t)=>{const s=f6(jl,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Jr(jl,e.__scopeDialog);return n.jsx(yr,{present:r||a.open,children:a.modal?n.jsx(XQ,{...i,ref:t}):n.jsx(ZQ,{...i,ref:t})})});y6.displayName=jl;var XQ=v.forwardRef((e,t)=>{const s=Jr(jl,e.__scopeDialog),r=v.useRef(null),i=xt(t,s.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return d6(a)},[]),n.jsx(v6,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,a=>a.preventDefault())})}),ZQ=v.forwardRef((e,t)=>{const s=Jr(jl,e.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return n.jsx(v6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),v6=v.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Jr(jl,s),c=v.useRef(null),d=xt(t,c);return t6(),n.jsxs(n.Fragment,{children:[n.jsx(Iw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(dm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$w(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(JQ,{titleId:l.titleId}),n.jsx(tY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lw="DialogTitle",b6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(Lw,s);return n.jsx(Ve.h2,{id:i.titleId,...r,ref:t})});b6.displayName=Lw;var j6="DialogDescription",w6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(j6,s);return n.jsx(Ve.p,{id:i.descriptionId,...r,ref:t})});w6.displayName=j6;var N6="DialogClose",S6=v.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Jr(N6,s);return n.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Fe(e.onClick,()=>i.onOpenChange(!1))})});S6.displayName=N6;function $w(e){return e?"open":"closed"}var C6="DialogTitleWarning",[_he,k6]=iU(C6,{contentName:jl,titleName:Lw,docsSlug:"dialog"}),JQ=({titleId:e})=>{const t=k6(C6),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},eY="DialogDescriptionWarning",tY=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k6(eY).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},sY=h6,nY=p6,rY=g6,_6=x6,T6=y6,P6=b6,E6=w6,iY=S6;const et=sY,pt=nY,aY=rY,A6=v.forwardRef(({className:e,...t},s)=>n.jsx(_6,{ref:s,className:Le("fixed inset-0 z-40 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));A6.displayName=_6.displayName;const Ye=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(aY,{children:[n.jsx(A6,{}),n.jsxs(T6,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(iY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(fm,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=T6.displayName;const Xe=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xe.displayName="DialogHeader";const q0=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});q0.displayName="DialogFooter";const Ze=v.forwardRef(({className:e,...t},s)=>n.jsx(P6,{ref:s,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ze.displayName=P6.displayName;const es=v.forwardRef(({className:e,...t},s)=>n.jsx(E6,{ref:s,className:Le("text-sm text-muted-foreground",e),...t}));es.displayName=E6.displayName;const j2=[{key:"mood-tracking",label:"Mood Check-in",description:"How are you feeling?",icon:ow,color:"purple",route:"/mood-tracking"},{key:"daily-tasks",label:"Daily Tasks",description:"Complete activities",icon:lw,color:"green",route:"/daily-tasks"},{key:"financial",label:"Bill Reminders",description:"Manage payments",icon:Ht,color:"blue",route:"/financial"},{key:"caregiver",label:"Contact Support",description:"Reach out for help",icon:ls,color:"orange",route:"/caregiver"},{key:"pharmacy",label:"Medications",description:"Manage prescriptions",icon:rw,color:"red",route:"/pharmacy"},{key:"medical",label:"Medical Info",description:"Health records",icon:CD,color:"pink",route:"/medical"},{key:"personal-documents",label:"Personal Documents",description:"Access important documents",icon:ol,color:"blue",route:"/personal-documents"},{key:"meal-shopping",label:"Meals & Shopping",description:"Plan and shop",icon:ll,color:"yellow",route:"/meal-shopping"},{key:"calendar",label:"Calendar",description:"View schedule",icon:Ht,color:"indigo",route:"/calendar"},{key:"resources",label:"Resources",description:"Helpful tools",icon:Hr,color:"teal",route:"/resources"},{key:"achievements",label:"Achievements",description:"View progress",icon:qt,color:"amber",route:"/rewards"},{key:"academic-planner",label:"Academic Planner",description:"Manage classes & assignments",icon:ux,color:"purple",route:"/academic-planner"},{key:"task-builder",label:"Life Skills Guide",description:"Step-by-step task tutorials",icon:Hr,color:"emerald",route:"/task-builder"}],w2={purple:{bg:"from-purple-500 to-pink-500",border:"border-purple-200",hover:"hover:border-purple-400"},green:{bg:"from-green-500 to-emerald-500",border:"border-green-200",hover:"hover:border-green-400"},emerald:{bg:"from-emerald-500 to-green-500",border:"border-emerald-200",hover:"hover:border-emerald-400"},blue:{bg:"from-blue-500 to-cyan-500",border:"border-blue-200",hover:"hover:border-blue-400"},orange:{bg:"from-orange-500 to-red-500",border:"border-orange-200",hover:"hover:border-orange-400"},red:{bg:"from-red-500 to-rose-500",border:"border-red-200",hover:"hover:border-red-400"},pink:{bg:"from-pink-500 to-rose-500",border:"border-pink-200",hover:"hover:border-pink-400"},yellow:{bg:"from-yellow-500 to-orange-500",border:"border-yellow-200",hover:"hover:border-yellow-400"},indigo:{bg:"from-indigo-500 to-blue-500",border:"border-indigo-200",hover:"hover:border-indigo-400"},teal:{bg:"from-teal-500 to-cyan-500",border:"border-teal-200",hover:"hover:border-teal-400"},amber:{bg:"from-amber-500 to-orange-500",border:"border-amber-200",hover:"hover:border-amber-400"}};function oY(){var j;const{toast:e}=dt(),t=Yt(),[s,r]=v.useState(!1),[i,a]=v.useState([]),[o,l]=v.useState(!1),{data:c,isLoading:d}=xe({queryKey:["/api/user-preferences"],queryFn:()=>ye("GET","/api/user-preferences").then(x=>x.json())}),h=((j=c==null?void 0:c.themeSettings)==null?void 0:j.quickActions)||["mood-tracking","daily-tasks","financial","caregiver","pharmacy","medical"],u=Ce({mutationFn:x=>ye("PUT","/api/user-preferences",{themeSettings:{...(c==null?void 0:c.themeSettings)||{},quickActions:x}}).then(g=>g.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user-preferences"]}),e({title:"Quick Actions Updated",description:"Your personalized quick actions have been saved."}),r(!1)},onError:x=>{console.error("Failed to update quick actions:",x),e({title:"Error",description:"Failed to update quick actions. Please try again.",variant:"destructive"})}}),m=()=>{a([...h]),r(!0)},f=()=>{u.mutate(i)};if(d){const x=["mood-tracking","daily-tasks","financial","caregiver","pharmacy","medical"];return n.jsxs("div",{className:"mb-6 sm:mb-8 w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-gray-800 drop-shadow-sm",children:"Quick Actions"}),n.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:n.jsxs(E,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50",children:[n.jsx(ca,{className:"w-4 h-4 mr-2"}),"Loading..."]})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-6 w-full",children:x.slice(0,6).map(g=>{const p=j2.find(w=>w.key===g);if(!p)return null;const y=p.icon,b=w2[p.color];return n.jsx(Oe,{href:p.route,className:"w-full",children:n.jsxs(E,{variant:"outline",className:`bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-xl border-2 ${b.border} ${b.hover} hover:shadow-2xl transition-all duration-300 h-auto flex-col space-y-2 sm:space-y-3 w-full min-h-[120px] sm:min-h-[140px] opacity-75`,children:[n.jsx("div",{className:`w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br ${b.bg} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(y,{className:"text-white",size:20})}),n.jsxs("div",{className:"text-center px-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm leading-tight",children:p.label}),n.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:p.description})]})]})},g)})})]})}return n.jsxs("div",{className:"mb-6 sm:mb-8 w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-gray-800 drop-shadow-sm",children:"Quick Actions"}),n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsxs(E,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),className:`${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg"} transition-all`,children:[n.jsx(M0,{className:"w-4 h-4 mr-2"}),o?"Exit Reorder":"Reorder"]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",size:"sm",onClick:m,className:"bg-white/80 backdrop-blur-sm border-2 hover:shadow-lg transition-all",children:[n.jsx(ca,{className:"w-4 h-4 mr-2"}),"Customize"]})}),n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Customize Your Quick Actions"}),n.jsx(es,{children:"Choose up to 6 features you use most often. Drag to reorder them."})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{onClick:f,disabled:i.length===0||u.isPending,className:"border-2 border-blue-500 shadow-md",children:u.isPending?"Saving...":"Save Changes"})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-6 w-full",children:h.slice(0,6).map(x=>{const g=j2.find(b=>b.key===x);if(!g)return null;const p=g.icon,y=w2[g.color];return n.jsx(Oe,{href:g.route,className:"w-full",children:n.jsxs(E,{variant:"outline",className:`bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-xl border-2 ${y.border} ${y.hover} hover:shadow-2xl transition-all duration-300 h-auto flex-col space-y-2 sm:space-y-3 w-full min-h-[120px] sm:min-h-[140px]`,children:[n.jsx("div",{className:`w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br ${y.bg} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(p,{className:"text-white",size:20})}),n.jsxs("div",{className:"text-center px-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm leading-tight",children:g.label}),n.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-700 font-medium mt-1 leading-tight",children:g.description})]})]})},x)})})]})}var lY=v.createContext(void 0);function bm(e){const t=v.useContext(lY);return e||t||"ltr"}var By="rovingFocusGroup.onEntryFocus",cY={bubbles:!1,cancelable:!0},jx="RovingFocusGroup",[H0,D6,dY]=ax(jx),[uY,M6]=Fn(jx,[dY]),[hY,mY]=uY(jx),I6=v.forwardRef((e,t)=>n.jsx(H0.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(H0.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(pY,{...e,ref:t})})}));I6.displayName=jx;var pY=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,m=v.useRef(null),f=xt(t,m),j=bm(a),[x=null,g]=_i({prop:o,defaultProp:l,onChange:c}),[p,y]=v.useState(!1),b=ms(d),w=D6(s),C=v.useRef(!1),[N,S]=v.useState(0);return v.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(By,b),()=>k.removeEventListener(By,b)},[b]),n.jsx(hY,{scope:s,orientation:r,dir:j,loop:i,currentTabStopId:x,onItemFocus:v.useCallback(k=>g(k),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>S(k=>k-1),[]),children:n.jsx(Ve.div,{tabIndex:p||N===0?-1:0,"data-orientation":r,...u,ref:f,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{C.current=!0}),onFocus:Fe(e.onFocus,k=>{const T=!C.current;if(k.target===k.currentTarget&&T&&!p){const D=new CustomEvent(By,cY);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const P=w().filter(re=>re.focusable),M=P.find(re=>re.active),X=P.find(re=>re.id===x),F=[M,X,...P].filter(Boolean).map(re=>re.ref.current);O6(F,h)}}C.current=!1}),onBlur:Fe(e.onBlur,()=>y(!1))})})}),R6="RovingFocusGroupItem",F6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,l=ea(),c=a||l,d=mY(R6,s),h=d.currentTabStopId===c,u=D6(s),{onFocusableItemAdd:m,onFocusableItemRemove:f}=d;return v.useEffect(()=>{if(r)return m(),()=>f()},[r,m,f]),n.jsx(H0.ItemSlot,{scope:s,id:c,focusable:r,active:i,children:n.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Fe(e.onMouseDown,j=>{r?d.onItemFocus(c):j.preventDefault()}),onFocus:Fe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Fe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=xY(j,d.orientation,d.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let p=u().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const y=p.indexOf(j.currentTarget);p=d.loop?yY(p,y+1):p.slice(y+1)}setTimeout(()=>O6(p))}})})})});F6.displayName=R6;var fY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xY(e,t,s){const r=gY(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fY[r]}function O6(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function yY(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var vY=I6,bY=F6,Uw="Tabs",[jY,The]=Fn(Uw,[M6]),L6=M6(),[wY,Bw]=jY(Uw),$6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=bm(l),[u,m]=_i({prop:r,onChange:i,defaultProp:a});return n.jsx(wY,{scope:s,baseId:ea(),value:u,onValueChange:m,orientation:o,dir:h,activationMode:c,children:n.jsx(Ve.div,{dir:h,"data-orientation":o,...d,ref:t})})});$6.displayName=Uw;var U6="TabsList",B6=v.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...i}=e,a=Bw(U6,s),o=L6(s);return n.jsx(vY,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});B6.displayName=U6;var z6="TabsTrigger",V6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=e,o=Bw(z6,s),l=L6(s),c=W6(o.baseId,r),d=G6(o.baseId,r),h=r===o.value;return n.jsx(bY,{asChild:!0,...l,focusable:!i,active:h,children:n.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Fe(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:Fe(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:Fe(e.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!i&&u&&o.onValueChange(r)})})})});V6.displayName=z6;var q6="TabsContent",H6=v.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=e,l=Bw(q6,s),c=W6(l.baseId,r),d=G6(l.baseId,r),h=r===l.value,u=v.useRef(h);return v.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(yr,{present:i||h,children:({present:m})=>n.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&a})})});H6.displayName=q6;function W6(e,t){return`${e}-trigger-${t}`}function G6(e,t){return`${e}-content-${t}`}var NY=$6,K6=B6,Q6=V6,Y6=H6;const hn=NY,en=v.forwardRef(({className:e,...t},s)=>n.jsx(K6,{ref:s,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));en.displayName=K6.displayName;const $e=v.forwardRef(({className:e,...t},s)=>n.jsx(Q6,{ref:s,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$e.displayName=Q6.displayName;const Ue=v.forwardRef(({className:e,...t},s)=>n.jsx(Y6,{ref:s,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ue.displayName=Y6.displayName;function SY(){const{toast:e}=dt(),{data:t=[],isLoading:s}=xe({queryKey:["/api/daily-tasks"]}),r=Ce({mutationFn:async({taskId:u,isCompleted:m})=>ye("PATCH",`/api/daily-tasks/${u}/complete`,{isCompleted:m}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),e({title:"Task updated",description:"Task completion status has been updated."})}}),i=u=>{r.mutate({taskId:u.id,isCompleted:!u.isCompleted})},a=t.filter(u=>u.frequency==="daily"||!u.frequency),o=t.filter(u=>u.frequency==="weekly"),l=t.filter(u=>u.frequency==="monthly"),c=u=>{switch(u){case"daily":return"bg-blue-100 text-blue-700";case"weekly":return"bg-purple-100 text-purple-700";case"monthly":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},d=u=>{if(!u)return null;const m=typeof u=="string"?new Date(u):u,f=new Date,j=Math.ceil((m.getTime()-f.getTime())/(1e3*60*60*24));return j<0?"Overdue":j===0?"Due today":j===1?"Due tomorrow":`Due in ${j} days`},h=(u,m=!1)=>{const f=u.filter(x=>x.isCompleted),j=u.filter(x=>!x.isCompleted);return n.jsxs("div",{className:"space-y-4",children:[j.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[n.jsx(mc,{className:"w-4 h-4 text-orange-500"}),"To Do (",j.length,")"]}),n.jsx("div",{className:"space-y-2",children:j.slice(0,3).map(x=>n.jsx("div",{className:"bg-white/70 p-3 rounded-lg border border-white/50 hover:bg-white/90 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("button",{onClick:()=>i(x),className:"text-green-500 hover:text-green-600 transition-colors mt-0.5",disabled:r.isPending,children:n.jsx(mc,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-800 text-sm",children:x.title}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(he,{variant:"secondary",className:`text-xs px-2 py-0 ${c(x.frequency||"daily")}`,children:x.frequency||"daily"}),n.jsx("span",{className:"text-xs px-2 py-0 bg-gray-100 text-gray-600 rounded",children:x.category}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(ws,{className:"w-3 h-3"}),x.estimatedMinutes,"min"]}),m&&x.dueDate&&n.jsxs("span",{className:"text-xs text-amber-600 flex items-center gap-1",children:[n.jsx(Ht,{className:"w-3 h-3"}),d(x.dueDate)]})]})]})]})})},x.id))})]}),f.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-2 flex items-center gap-2",children:[n.jsx($t,{className:"w-4 h-4 text-green-500"}),"Completed (",f.length,")"]}),n.jsx("div",{className:"space-y-2",children:f.slice(0,2).map(x=>n.jsx("div",{className:"bg-green-50/50 p-3 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("button",{onClick:()=>i(x),className:"text-green-600 hover:text-gray-400 transition-colors mt-0.5",disabled:r.isPending,children:n.jsx($t,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-800 line-through text-sm",children:x.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(he,{variant:"secondary",className:`text-xs px-2 py-0 ${c(x.frequency||"daily")}`,children:x.frequency||"daily"}),x.completedAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Completed ",Ti(new Date(x.completedAt))]})]})]})]})},x.id))})]}),u.length===0&&n.jsx("div",{className:"text-center py-6 text-gray-500",children:n.jsx("p",{className:"text-sm",children:"No tasks in this category yet."})})]})};return s?n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(yS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>n.jsx("div",{className:"h-16 bg-white/50 rounded-lg animate-pulse"},u))})]}):n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(yS,{className:"w-6 h-6 text-blue-600"}),"Task Management"]}),n.jsx(Oe,{href:"/daily-tasks",children:n.jsx(E,{variant:"outline",size:"sm",children:"View All"})})]}),n.jsxs(hn,{defaultValue:"daily",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-3 mb-4",children:[n.jsxs($e,{value:"daily",className:"flex items-center gap-2",children:[n.jsx(mc,{className:"w-4 h-4"}),"Daily (",a.length,")"]}),n.jsxs($e,{value:"weekly",className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4"}),"Weekly (",o.length,")"]}),n.jsxs($e,{value:"monthly",className:"flex items-center gap-2",children:[n.jsx(qt,{className:"w-4 h-4"}),"Monthly (",l.length,")"]})]}),n.jsx(Ue,{value:"daily",className:"space-y-4",children:h(a)}),n.jsx(Ue,{value:"weekly",className:"space-y-4",children:h(o,!0)}),n.jsx(Ue,{value:"monthly",className:"space-y-4",children:h(l,!0)})]})]})}function CY(){const{data:e=[],isLoading:t}=xe({queryKey:["/api/bills"]}),{data:s=[],isLoading:r}=xe({queryKey:["/api/budget-entries"]}),i=e.filter(c=>!c.isPaid).sort((c,d)=>Fp(c.dueDate)-Fp(d.dueDate)).slice(0,1),a=s.filter(c=>c.type==="expense").reduce((c,d)=>c+d.amount,0),o=s.filter(c=>c.type==="income").reduce((c,d)=>c+d.amount,0),l=o>0?a/o*100:0;return t||r?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-16 bg-gray-200 rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-t-4 border-bright-blue",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-bright-blue rounded-lg flex items-center justify-center",children:n.jsx(O9,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Financial Management"})]}),n.jsx("span",{className:"bg-bright-blue text-white px-3 py-1 rounded-full text-sm font-medium",children:"Level 2"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Monthly Budget"}),n.jsx("span",{className:"text-sm text-blue-600 font-medium",children:l<80?"On track":l<100?"Watch spending":"Over budget"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:`h-3 rounded-full ${l<80?"bg-bright-blue":l<100?"bg-sunny-orange":"bg-red-500"}`,style:{width:`${Math.min(l,100)}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[Fs(a)," of ",Fs(o)," used this month"]})]}),i.length>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-sunny-orange rounded-full flex items-center justify-center",children:n.jsx(ws,{className:"text-white",size:16})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Upcoming Bills"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[i[0].name," due in ",Fp(i[0].dueDate)," days - ",Fs(i[0].amount)]})]}),n.jsx(Oe,{href:"/financial",children:n.jsx(E,{variant:"ghost",size:"sm",className:"text-sunny-orange hover:text-orange-600",children:n.jsx(dd,{size:16})})})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Oe,{href:"/financial",children:n.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[n.jsx(ux,{className:"text-bright-blue",size:20}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Budgeting Lesson"})]})}),n.jsx(Oe,{href:"/financial?action=add-expense",children:n.jsxs(E,{variant:"outline",className:"bg-blue-50 border-blue-200 hover:bg-blue-100 h-auto p-4 flex-col space-y-2",children:[n.jsx(ct,{className:"text-bright-blue",size:20}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add Expense"})]})})]})]})]})}function kY(){const{toast:e}=dt(),{data:t}=xe({queryKey:["/api/mood-entries/today"]}),s=[{value:1,emoji:"",label:"Sad"},{value:2,emoji:"",label:"Okay"},{value:3,emoji:"",label:"Good"},{value:4,emoji:"",label:"Great"},{value:5,emoji:"",label:"Amazing"}],r=Ce({mutationFn:async l=>ye("POST","/api/mood-entries",{mood:l}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/mood-entries"]}),e({title:"Mood recorded!",description:"Thanks for checking in today!"})}}),i=!t,a=i?"border-red-400":"border-happy-purple",o=i?"bg-red-50":"bg-white";return n.jsxs("div",{className:`mt-8 ${o} rounded-2xl shadow-lg p-6 border-t-4 ${a} ${i?"ring-2 ring-red-200":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 ${i?"bg-red-500":"bg-happy-purple"} rounded-lg flex items-center justify-center ${i?"animate-pulse":""}`,children:n.jsx(lt,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["Mood & Wellbeing",i&&n.jsx("span",{className:"text-red-500 text-sm font-medium bg-red-100 px-2 py-1 rounded-full",children:"Required"})]}),i&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Daily mood check-in is required to continue"})]})]}),n.jsx(Oe,{href:"/mood-tracking",children:n.jsx(E,{className:`${i?"bg-red-500 hover:bg-red-600":"bg-happy-purple hover:bg-happy-purple"} text-white ${i?"animate-bounce":""}`,children:i?"Required Check-in":"Check In Now"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"How are you feeling today?"}),n.jsx("div",{className:"flex justify-between items-center space-x-2",children:s.map(l=>n.jsx(E,{variant:"outline",className:`flex-1 p-3 border-2 ${(t==null?void 0:t.mood)===l.value?"border-happy-purple bg-purple-50":"border-gray-200 hover:border-happy-purple"} transition-colors`,onClick:()=>r.mutate(l.value),disabled:r.isPending,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl mb-1",children:l.emoji}),n.jsx("p",{className:"text-xs text-gray-600",children:l.label})]})},l.value))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Resources"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Oe,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[n.jsx(kD,{className:"text-happy-purple",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Breathing Exercise"})]})}),n.jsx(Oe,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-purple-50 border-purple-200 hover:bg-purple-100 justify-start space-x-3",children:[n.jsx(Au,{className:"text-happy-purple",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Coping Strategies"})]})}),n.jsx(Oe,{href:"/resources",children:n.jsxs(E,{variant:"outline",className:"w-full bg-red-50 border-red-200 hover:bg-red-100 justify-start space-x-3",children:[n.jsx(bs,{className:"text-red-500",size:16}),n.jsx("span",{className:"font-medium text-gray-900",children:"Emergency Support"})]})})]})]})]})]})}function _Y(){xe({queryKey:["/api/achievements"]});const{data:e}=xe({queryKey:["/api/user"]}),{data:t=[]}=xe({queryKey:["/api/daily-tasks"]}),s=t.filter(l=>l.isCompleted).length,r=5,i=Math.min(s,r),a=i/r*100,o=[{title:`${(e==null?void 0:e.streakDays)||0}-Day Streak!`,description:"Daily check-ins completed",icon:x9,gradient:"from-sunny-orange to-yellow-400"},{title:"Task Master",description:"50 tasks completed",icon:qt,gradient:"from-vibrant-green to-emerald-400"},{title:"Budget Pro",description:"Financial lesson completed",icon:ux,gradient:"from-bright-blue to-blue-400"}];return n.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-sunny-orange",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(po,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements & Progress"})]}),n.jsx(E,{variant:"ghost",className:"text-sunny-orange hover:text-orange-600 font-medium",children:"View All"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.map((l,c)=>{const d=l.icon;return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${l.gradient} rounded-full flex items-center justify-center mx-auto mb-3`,children:n.jsx(d,{className:"text-white",size:24})}),n.jsx("h4",{className:"font-bold text-gray-900",children:l.title}),n.jsx("p",{className:"text-sm text-gray-600",children:l.description})]},c)})}),n.jsxs("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Weekly Goal Progress"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Complete ",r," daily routines"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-2xl font-bold text-sunny-orange",children:[i,"/",r]}),n.jsx("p",{className:"text-xs text-gray-600",children:i===r?"Complete!":"Almost there!"})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:n.jsx("div",{className:"bg-sunny-orange h-2 rounded-full transition-all duration-300",style:{width:`${a}%`}})})]})]})}function TY(){const{data:e=[]}=xe({queryKey:["/api/caregivers"]}),{data:t=[]}=xe({queryKey:["/api/messages"]}),s=t.sort((r,i)=>new Date(i.sentAt).getTime()-new Date(r.sentAt).getTime()).slice(0,2);return n.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border-t-4 border-calm-teal",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-lg flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:20})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Support Network"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",children:[n.jsx(SD,{size:16,className:"mr-2"}),"Share Progress"]}),n.jsx(Oe,{href:"/caregiver",children:n.jsx(E,{variant:"outline",className:"border-calm-teal text-calm-teal hover:bg-teal-50",children:"Request Help"})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Connected Caregivers"}),n.jsx("div",{className:"space-y-3",children:e.map(r=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-calm-teal rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium text-sm",children:r.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:r.name}),n.jsx("p",{className:"text-sm text-gray-600",children:r.relationship==="therapist"?"Next session: Tomorrow 2 PM":"Last active: 2 hours ago"})]}),n.jsx(Oe,{href:"/caregiver",children:n.jsx(E,{variant:"ghost",size:"sm",className:"text-calm-teal hover:text-teal-600",children:n.jsx(Af,{size:16})})})]},r.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Messages"}),n.jsx("div",{className:"space-y-3",children:s.map(r=>{const i=e.find(a=>a.id===r.caregiverId);return n.jsxs("div",{className:`border rounded-lg p-3 ${r.fromUser?"bg-blue-50 border-blue-200":"bg-teal-50 border-teal-200"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:r.fromUser?"You":i==null?void 0:i.name}),n.jsx("span",{className:"text-xs text-gray-500",children:Ti(new Date(r.sentAt))})]}),n.jsx("p",{className:"text-sm text-gray-700",children:r.content})]},r.id)})}),n.jsx(Oe,{href:"/caregiver",children:n.jsx(E,{variant:"outline",className:"w-full mt-4 border-calm-teal text-calm-teal hover:bg-teal-50",children:"View All Messages"})})]})]})]})}var jm=e=>e.type==="checkbox",$o=e=>e instanceof Date,wn=e=>e==null;const X6=e=>typeof e=="object";var js=e=>!wn(e)&&!Array.isArray(e)&&X6(e)&&!$o(e),Z6=e=>js(e)&&e.target?jm(e.target)?e.target.checked:e.target.value:e,PY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,J6=(e,t)=>e.has(PY(t)),EY=e=>{const t=e.constructor&&e.constructor.prototype;return js(t)&&t.hasOwnProperty("isPrototypeOf")},zw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gs(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zw&&(e instanceof Blob||r))&&(s||js(e)))if(t=s?[]:{},!s&&!EY(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Gs(e[i]));else return e;return t}var wx=e=>Array.isArray(e)?e.filter(Boolean):[],gs=e=>e===void 0,Pe=(e,t,s)=>{if(!t||!js(e))return s;const r=wx(t.split(/[,[\].]+?/)).reduce((i,a)=>wn(i)?i:i[a],e);return gs(r)||r===e?gs(e[t])?s:e[t]:r},Vn=e=>typeof e=="boolean",Vw=e=>/^\w*$/.test(e),eI=e=>wx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(e,t,s)=>{let r=-1;const i=Vw(t)?[t]:eI(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const d=e[l];c=js(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Hf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tI=me.createContext(null),Nx=()=>me.useContext(tI),AY=e=>{const{children:t,...s}=e;return me.createElement(tI.Provider,{value:s},t)};var sI=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Or.all&&(t._proxyFormState[o]=!r||Or.all),s&&(s[o]=!0),e[o]}});return i};function DY(e){const t=Nx(),{control:s=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=me.useState(s._formState),c=me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=me.useRef(i);return d.current=i,me.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:h=>{!r&&l({...s._formState,...h})}}),[s,r,a]),me.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),me.useMemo(()=>sI(o,s,c.current,!1),[o,s])}var yi=e=>typeof e=="string",nI=(e,t,s,r,i)=>yi(e)?(r&&t.watch.add(e),Pe(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Pe(s,a))):(r&&(t.watchAll=!0),s);function MY(e){const t=Nx(),{control:s=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},l=me.useRef(r),c=me.useRef(i);l.current=r,me.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:u=>!a&&h(nI(l.current,s._names,u.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,h]=me.useState(s._getWatch(r,i));return me.useEffect(()=>s._removeUnmounted()),d}function IY(e){const t=Nx(),{name:s,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=J6(i._names.array,s),l=MY({control:i,name:s,defaultValue:Pe(i._formValues,s,Pe(i._defaultValues,s,e.defaultValue)),exact:!0}),c=DY({control:i,name:s,exact:!0}),d=me.useRef(e),h=me.useRef(i.register(s,{...e.rules,value:l,...Vn(e.disabled)?{disabled:e.disabled}:{}})),u=me.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!Pe(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Pe(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Pe(c.validatingFields,s)},error:{enumerable:!0,get:()=>Pe(c.errors,s)}}),[c,s]),m=me.useCallback(g=>h.current.onChange({target:{value:Z6(g),name:s},type:Hf.CHANGE}),[s]),f=me.useCallback(()=>h.current.onBlur({target:{value:Pe(i._formValues,s),name:s},type:Hf.BLUR}),[s,i._formValues]),j=me.useCallback(g=>{const p=Pe(i._fields,s);p&&g&&(p._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:y=>g.setCustomValidity(y),reportValidity:()=>g.reportValidity()})},[i._fields,s]),x=me.useMemo(()=>({name:s,value:l,...Vn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:f,ref:j}),[s,r,c.disabled,m,f,j,l]);return me.useEffect(()=>{const g=i._options.shouldUnregister||a;i.register(s,{...d.current.rules,...Vn(d.current.disabled)?{disabled:d.current.disabled}:{}});const p=(y,b)=>{const w=Pe(i._fields,y);w&&w._f&&(w._f.mount=b)};if(p(s,!0),g){const y=Gs(Pe(i._options.defaultValues,s));At(i._defaultValues,s,y),gs(Pe(i._formValues,s))&&At(i._formValues,s,y)}return!o&&i.register(s),()=>{(o?g&&!i._state.action:g)?i.unregister(s):p(s,!1)}},[s,i,o,a]),me.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),me.useMemo(()=>({field:x,formState:c,fieldState:u}),[x,c,u])}const RY=e=>e.render(IY(e));var rI=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Iu=e=>Array.isArray(e)?e:[e],N2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},W0=e=>wn(e)||!X6(e);function Aa(e,t){if(W0(e)||W0(t))return e===t;if($o(e)&&$o(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const i of s){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if($o(a)&&$o(o)||js(a)&&js(o)||Array.isArray(a)&&Array.isArray(o)?!Aa(a,o):a!==o)return!1}}return!0}var bn=e=>js(e)&&!Object.keys(e).length,qw=e=>e.type==="file",Lr=e=>typeof e=="function",Wf=e=>{if(!zw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},iI=e=>e.type==="select-multiple",Hw=e=>e.type==="radio",FY=e=>Hw(e)||jm(e),zy=e=>Wf(e)&&e.isConnected;function OY(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=gs(e)?r++:e[t[r++]];return e}function LY(e){for(const t in e)if(e.hasOwnProperty(t)&&!gs(e[t]))return!1;return!0}function Ps(e,t){const s=Array.isArray(t)?t:Vw(t)?[t]:eI(t),r=s.length===1?e:OY(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(js(r)&&bn(r)||Array.isArray(r)&&LY(r))&&Ps(e,s.slice(0,-1)),e}var aI=e=>{for(const t in e)if(Lr(e[t]))return!0;return!1};function Gf(e,t={}){const s=Array.isArray(e);if(js(e)||s)for(const r in e)Array.isArray(e[r])||js(e[r])&&!aI(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Gf(e[r],t[r])):wn(e[r])||(t[r]=!0);return t}function oI(e,t,s){const r=Array.isArray(e);if(js(e)||r)for(const i in e)Array.isArray(e[i])||js(e[i])&&!aI(e[i])?gs(t)||W0(s[i])?s[i]=Array.isArray(e[i])?Gf(e[i],[]):{...Gf(e[i])}:oI(e[i],wn(t)?{}:t[i],s[i]):s[i]=!Aa(e[i],t[i]);return s}var Jd=(e,t)=>oI(e,t,Gf(t));const S2={value:!1,isValid:!1},C2={value:!0,isValid:!0};var lI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gs(e[0].attributes.value)?gs(e[0].value)||e[0].value===""?C2:{value:e[0].value,isValid:!0}:C2:S2}return S2},cI=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>gs(e)?e:t?e===""?NaN:e&&+e:s&&yi(e)?new Date(e):r?r(e):e;const k2={isValid:!1,value:null};var dI=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,k2):k2;function _2(e){const t=e.ref;return qw(t)?t.files:Hw(t)?dI(e.refs).value:iI(t)?[...t.selectedOptions].map(({value:s})=>s):jm(t)?lI(e.refs).value:cI(gs(t.value)?e.ref.value:t.value,e)}var $Y=(e,t,s,r)=>{const i={};for(const a of e){const o=Pe(t,a);o&&At(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},Kf=e=>e instanceof RegExp,eu=e=>gs(e)?e:Kf(e)?e.source:js(e)?Kf(e.value)?e.value.source:e.value:e,T2=e=>({isOnSubmit:!e||e===Or.onSubmit,isOnBlur:e===Or.onBlur,isOnChange:e===Or.onChange,isOnAll:e===Or.all,isOnTouch:e===Or.onTouched});const P2="AsyncFunction";var UY=e=>!!e&&!!e.validate&&!!(Lr(e.validate)&&e.validate.constructor.name===P2||js(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===P2)),BY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),E2=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ru=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=Pe(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Ru(l,t))break}else if(js(l)&&Ru(l,t))break}}};function A2(e,t,s){const r=Pe(e,s);if(r||Vw(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Pe(t,a),l=Pe(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var zY=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return bn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Or.all))},VY=(e,t,s)=>!e||!t||e===t||Iu(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),qY=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,HY=(e,t)=>!wx(Pe(e,t)).length&&Ps(e,t),WY=(e,t,s)=>{const r=Iu(Pe(e,s));return At(r,"root",t[s]),At(e,s,r),e},qp=e=>yi(e);function D2(e,t,s="validate"){if(qp(e)||Array.isArray(e)&&e.every(qp)||Vn(e)&&!e)return{type:s,message:qp(e)?e:"",ref:t}}var Rl=e=>js(e)&&!Kf(e)?e:{value:e,message:""},M2=async(e,t,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:u,max:m,pattern:f,validate:j,name:x,valueAsNumber:g,mount:p}=e._f,y=Pe(s,x);if(!p||t.has(x))return{};const b=l?l[0]:o,w=M=>{i&&b.reportValidity&&(b.setCustomValidity(Vn(M)?"":M||""),b.reportValidity())},C={},N=Hw(o),S=jm(o),k=N||S,T=(g||qw(o))&&gs(o.value)&&gs(y)||Wf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,D=rI.bind(null,x,r,C),P=(M,X,ee,F=$i.maxLength,re=$i.minLength)=>{const fe=M?X:ee;C[x]={type:M?F:re,message:fe,ref:o,...D(M?F:re,fe)}};if(a?!Array.isArray(y)||!y.length:c&&(!k&&(T||wn(y))||Vn(y)&&!y||S&&!lI(l).isValid||N&&!dI(l).isValid)){const{value:M,message:X}=qp(c)?{value:!!c,message:c}:Rl(c);if(M&&(C[x]={type:$i.required,message:X,ref:b,...D($i.required,X)},!r))return w(X),C}if(!T&&(!wn(u)||!wn(m))){let M,X;const ee=Rl(m),F=Rl(u);if(!wn(y)&&!isNaN(y)){const re=o.valueAsNumber||y&&+y;wn(ee.value)||(M=re>ee.value),wn(F.value)||(X=re<F.value)}else{const re=o.valueAsDate||new Date(y),fe=oe=>new Date(new Date().toDateString()+" "+oe),H=o.type=="time",$=o.type=="week";yi(ee.value)&&y&&(M=H?fe(y)>fe(ee.value):$?y>ee.value:re>new Date(ee.value)),yi(F.value)&&y&&(X=H?fe(y)<fe(F.value):$?y<F.value:re<new Date(F.value))}if((M||X)&&(P(!!M,ee.message,F.message,$i.max,$i.min),!r))return w(C[x].message),C}if((d||h)&&!T&&(yi(y)||a&&Array.isArray(y))){const M=Rl(d),X=Rl(h),ee=!wn(M.value)&&y.length>+M.value,F=!wn(X.value)&&y.length<+X.value;if((ee||F)&&(P(ee,M.message,X.message),!r))return w(C[x].message),C}if(f&&!T&&yi(y)){const{value:M,message:X}=Rl(f);if(Kf(M)&&!y.match(M)&&(C[x]={type:$i.pattern,message:X,ref:o,...D($i.pattern,X)},!r))return w(X),C}if(j){if(Lr(j)){const M=await j(y,s),X=D2(M,b);if(X&&(C[x]={...X,...D($i.validate,X.message)},!r))return w(X.message),C}else if(js(j)){let M={};for(const X in j){if(!bn(M)&&!r)break;const ee=D2(await j[X](y,s),b,X);ee&&(M={...ee,...D(X,ee.message)},w(ee.message),r&&(C[x]=M))}if(!bn(M)&&(C[x]={ref:b,...M},!r))return C}}return w(!0),C};const GY={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function KY(e={}){let t={...GY,...e},s={submitCount:0,isDirty:!1,isLoading:Lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=js(t.defaultValues)||js(t.values)?Gs(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Gs(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...h};const m={array:N2(),state:N2()},f=T2(t.mode),j=T2(t.reValidateMode),x=t.criteriaMode===Or.all,g=U=>G=>{clearTimeout(d),d=setTimeout(U,G)},p=async U=>{if(!t.disabled&&(h.isValid||u.isValid||U)){const G=t.resolver?bn((await T()).errors):await P(r,!0);G!==s.isValid&&m.state.next({isValid:G})}},y=(U,G)=>{!t.disabled&&(h.isValidating||h.validatingFields||u.isValidating||u.validatingFields)&&((U||Array.from(l.mount)).forEach(ie=>{ie&&(G?At(s.validatingFields,ie,G):Ps(s.validatingFields,ie))}),m.state.next({validatingFields:s.validatingFields,isValidating:!bn(s.validatingFields)}))},b=(U,G=[],ie,De,Te=!0,ve=!0)=>{if(De&&ie&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Pe(r,U))){const Ie=ie(Pe(r,U),De.argA,De.argB);Te&&At(r,U,Ie)}if(ve&&Array.isArray(Pe(s.errors,U))){const Ie=ie(Pe(s.errors,U),De.argA,De.argB);Te&&At(s.errors,U,Ie),HY(s.errors,U)}if((h.touchedFields||u.touchedFields)&&ve&&Array.isArray(Pe(s.touchedFields,U))){const Ie=ie(Pe(s.touchedFields,U),De.argA,De.argB);Te&&At(s.touchedFields,U,Ie)}(h.dirtyFields||u.dirtyFields)&&(s.dirtyFields=Jd(i,a)),m.state.next({name:U,isDirty:X(U,G),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else At(a,U,G)},w=(U,G)=>{At(s.errors,U,G),m.state.next({errors:s.errors})},C=U=>{s.errors=U,m.state.next({errors:s.errors,isValid:!1})},N=(U,G,ie,De)=>{const Te=Pe(r,U);if(Te){const ve=Pe(a,U,gs(ie)?Pe(i,U):ie);gs(ve)||De&&De.defaultChecked||G?At(a,U,G?ve:_2(Te._f)):re(U,ve),o.mount&&p()}},S=(U,G,ie,De,Te)=>{let ve=!1,Ie=!1;const O={name:U};if(!t.disabled){if(!ie||De){(h.isDirty||u.isDirty)&&(Ie=s.isDirty,s.isDirty=O.isDirty=X(),ve=Ie!==O.isDirty);const it=Aa(Pe(i,U),G);Ie=!!Pe(s.dirtyFields,U),it?Ps(s.dirtyFields,U):At(s.dirtyFields,U,!0),O.dirtyFields=s.dirtyFields,ve=ve||(h.dirtyFields||u.dirtyFields)&&Ie!==!it}if(ie){const it=Pe(s.touchedFields,U);it||(At(s.touchedFields,U,ie),O.touchedFields=s.touchedFields,ve=ve||(h.touchedFields||u.touchedFields)&&it!==ie)}ve&&Te&&m.state.next(O)}return ve?O:{}},k=(U,G,ie,De)=>{const Te=Pe(s.errors,U),ve=(h.isValid||u.isValid)&&Vn(G)&&s.isValid!==G;if(t.delayError&&ie?(c=g(()=>w(U,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?At(s.errors,U,ie):Ps(s.errors,U)),(ie?!Aa(Te,ie):Te)||!bn(De)||ve){const Ie={...De,...ve&&Vn(G)?{isValid:G}:{},errors:s.errors,name:U};s={...s,...Ie},m.state.next(Ie)}},T=async U=>{y(U,!0);const G=await t.resolver(a,t.context,$Y(U||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(U),G},D=async U=>{const{errors:G}=await T(U);if(U)for(const ie of U){const De=Pe(G,ie);De?At(s.errors,ie,De):Ps(s.errors,ie)}else s.errors=G;return G},P=async(U,G,ie={valid:!0})=>{for(const De in U){const Te=U[De];if(Te){const{_f:ve,...Ie}=Te;if(ve){const O=l.array.has(ve.name),it=Te._f&&UY(Te._f);it&&h.validatingFields&&y([De],!0);const Tt=await M2(Te,l.disabled,a,x,t.shouldUseNativeValidation&&!G,O);if(it&&h.validatingFields&&y([De]),Tt[ve.name]&&(ie.valid=!1,G))break;!G&&(Pe(Tt,ve.name)?O?WY(s.errors,Tt,ve.name):At(s.errors,ve.name,Tt[ve.name]):Ps(s.errors,ve.name))}!bn(Ie)&&await P(Ie,G,ie)}}return ie.valid},M=()=>{for(const U of l.unMount){const G=Pe(r,U);G&&(G._f.refs?G._f.refs.every(ie=>!zy(ie)):!zy(G._f.ref))&&Et(U)}l.unMount=new Set},X=(U,G)=>!t.disabled&&(U&&G&&At(a,U,G),!Aa(st(),i)),ee=(U,G,ie)=>nI(U,l,{...o.mount?a:gs(G)?i:yi(U)?{[U]:G}:G},ie,G),F=U=>wx(Pe(o.mount?a:i,U,t.shouldUnregister?Pe(i,U,[]):[])),re=(U,G,ie={})=>{const De=Pe(r,U);let Te=G;if(De){const ve=De._f;ve&&(!ve.disabled&&At(a,U,cI(G,ve)),Te=Wf(ve.ref)&&wn(G)?"":G,iI(ve.ref)?[...ve.ref.options].forEach(Ie=>Ie.selected=Te.includes(Ie.value)):ve.refs?jm(ve.ref)?ve.refs.length>1?ve.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Te)?!!Te.find(O=>O===Ie.value):Te===Ie.value)):ve.refs[0]&&(ve.refs[0].checked=!!Te):ve.refs.forEach(Ie=>Ie.checked=Ie.value===Te):qw(ve.ref)?ve.ref.value="":(ve.ref.value=Te,ve.ref.type||m.state.next({name:U,values:Gs(a)})))}(ie.shouldDirty||ie.shouldTouch)&&S(U,Te,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&be(U)},fe=(U,G,ie)=>{for(const De in G){const Te=G[De],ve=`${U}.${De}`,Ie=Pe(r,ve);(l.array.has(U)||js(Te)||Ie&&!Ie._f)&&!$o(Te)?fe(ve,Te,ie):re(ve,Te,ie)}},H=(U,G,ie={})=>{const De=Pe(r,U),Te=l.array.has(U),ve=Gs(G);At(a,U,ve),Te?(m.array.next({name:U,values:Gs(a)}),(h.isDirty||h.dirtyFields||u.isDirty||u.dirtyFields)&&ie.shouldDirty&&m.state.next({name:U,dirtyFields:Jd(i,a),isDirty:X(U,ve)})):De&&!De._f&&!wn(ve)?fe(U,ve,ie):re(U,ve,ie),E2(U,l)&&m.state.next({...s}),m.state.next({name:o.mount?U:void 0,values:Gs(a)})},$=async U=>{o.mount=!0;const G=U.target;let ie=G.name,De=!0;const Te=Pe(r,ie),ve=Ie=>{De=Number.isNaN(Ie)||$o(Ie)&&isNaN(Ie.getTime())||Aa(Ie,Pe(a,ie,Ie))};if(Te){let Ie,O;const it=G.type?_2(Te._f):Z6(U),Tt=U.type===Hf.BLUR||U.type===Hf.FOCUS_OUT,$d=!BY(Te._f)&&!t.resolver&&!Pe(s.errors,ie)&&!Te._f.deps||qY(Tt,Pe(s.touchedFields,ie),s.isSubmitted,j,f),_n=E2(ie,l,Tt);At(a,ie,it),Tt?(Te._f.onBlur&&Te._f.onBlur(U),c&&c(0)):Te._f.onChange&&Te._f.onChange(U);const Ox=S(ie,it,Tt),ZL=!bn(Ox)||_n;if(!Tt&&m.state.next({name:ie,type:U.type,values:Gs(a)}),$d)return(h.isValid||u.isValid)&&(t.mode==="onBlur"?Tt&&p():Tt||p()),ZL&&m.state.next({name:ie,..._n?{}:Ox});if(!Tt&&_n&&m.state.next({...s}),t.resolver){const{errors:TN}=await T([ie]);if(ve(it),De){const JL=A2(s.errors,r,ie),PN=A2(TN,r,JL.name||ie);Ie=PN.error,ie=PN.name,O=bn(TN)}}else y([ie],!0),Ie=(await M2(Te,l.disabled,a,x,t.shouldUseNativeValidation))[ie],y([ie]),ve(it),De&&(Ie?O=!1:(h.isValid||u.isValid)&&(O=await P(r,!0)));De&&(Te._f.deps&&be(Te._f.deps),k(ie,O,Ie,Ox))}},oe=(U,G)=>{if(Pe(s.errors,G)&&U.focus)return U.focus(),1},be=async(U,G={})=>{let ie,De;const Te=Iu(U);if(t.resolver){const ve=await D(gs(U)?U:Te);ie=bn(ve),De=U?!Te.some(Ie=>Pe(ve,Ie)):ie}else U?(De=(await Promise.all(Te.map(async ve=>{const Ie=Pe(r,ve);return await P(Ie&&Ie._f?{[ve]:Ie}:Ie)}))).every(Boolean),!(!De&&!s.isValid)&&p()):De=ie=await P(r);return m.state.next({...!yi(U)||(h.isValid||u.isValid)&&ie!==s.isValid?{}:{name:U},...t.resolver||!U?{isValid:ie}:{},errors:s.errors}),G.shouldFocus&&!De&&Ru(r,oe,U?Te:l.mount),De},st=U=>{const G={...o.mount?a:i};return gs(U)?G:yi(U)?Pe(G,U):U.map(ie=>Pe(G,ie))},_t=(U,G)=>({invalid:!!Pe((G||s).errors,U),isDirty:!!Pe((G||s).dirtyFields,U),error:Pe((G||s).errors,U),isValidating:!!Pe(s.validatingFields,U),isTouched:!!Pe((G||s).touchedFields,U)}),Ft=U=>{U&&Iu(U).forEach(G=>Ps(s.errors,G)),m.state.next({errors:U?s.errors:{}})},ps=(U,G,ie)=>{const De=(Pe(r,U,{_f:{}})._f||{}).ref,Te=Pe(s.errors,U)||{},{ref:ve,message:Ie,type:O,...it}=Te;At(s.errors,U,{...it,...G,ref:De}),m.state.next({name:U,errors:s.errors,isValid:!1}),ie&&ie.shouldFocus&&De&&De.focus&&De.focus()},Xt=(U,G)=>Lr(U)?m.state.subscribe({next:ie=>U(ee(void 0,G),ie)}):ee(U,G,!0),Be=U=>m.state.subscribe({next:G=>{VY(U.name,G.name,U.exact)&&zY(G,U.formState||h,ga,U.reRenderRoot)&&U.callback({values:{...a},...s,...G})}}).unsubscribe,yt=U=>(o.mount=!0,u={...u,...U.formState},Be({...U,formState:u})),Et=(U,G={})=>{for(const ie of U?Iu(U):l.mount)l.mount.delete(ie),l.array.delete(ie),G.keepValue||(Ps(r,ie),Ps(a,ie)),!G.keepError&&Ps(s.errors,ie),!G.keepDirty&&Ps(s.dirtyFields,ie),!G.keepTouched&&Ps(s.touchedFields,ie),!G.keepIsValidating&&Ps(s.validatingFields,ie),!t.shouldUnregister&&!G.keepDefaultValue&&Ps(i,ie);m.state.next({values:Gs(a)}),m.state.next({...s,...G.keepDirty?{isDirty:X()}:{}}),!G.keepIsValid&&p()},vt=({disabled:U,name:G})=>{(Vn(U)&&o.mount||U||l.disabled.has(G))&&(U?l.disabled.add(G):l.disabled.delete(G))},bt=(U,G={})=>{let ie=Pe(r,U);const De=Vn(G.disabled)||Vn(t.disabled);return At(r,U,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:U}},name:U,mount:!0,...G}}),l.mount.add(U),ie?vt({disabled:Vn(G.disabled)?G.disabled:t.disabled,name:U}):N(U,!0,G.value),{...De?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:eu(G.min),max:eu(G.max),minLength:eu(G.minLength),maxLength:eu(G.maxLength),pattern:eu(G.pattern)}:{},name:U,onChange:$,onBlur:$,ref:Te=>{if(Te){bt(U,G),ie=Pe(r,U);const ve=gs(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ie=FY(ve),O=ie._f.refs||[];if(Ie?O.find(it=>it===ve):ve===ie._f.ref)return;At(r,U,{_f:{...ie._f,...Ie?{refs:[...O.filter(zy),ve,...Array.isArray(Pe(i,U))?[{}]:[]],ref:{type:ve.type,name:U}}:{ref:ve}}}),N(U,!1,void 0,ve)}else ie=Pe(r,U,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(J6(l.array,U)&&o.action)&&l.unMount.add(U)}}},rt=()=>t.shouldFocusError&&Ru(r,oe,l.mount),ts=U=>{Vn(U)&&(m.state.next({disabled:U}),Ru(r,(G,ie)=>{const De=Pe(r,ie);De&&(G.disabled=De._f.disabled||U,Array.isArray(De._f.refs)&&De._f.refs.forEach(Te=>{Te.disabled=De._f.disabled||U}))},0,!1))},mn=(U,G)=>async ie=>{let De;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let Te=Gs(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:Ie}=await T();s.errors=ve,Te=Ie}else await P(r);if(l.disabled.size)for(const ve of l.disabled)At(Te,ve,void 0);if(Ps(s.errors,"root"),bn(s.errors)){m.state.next({errors:{}});try{await U(Te,ie)}catch(ve){De=ve}}else G&&await G({...s.errors},ie),rt(),setTimeout(rt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(s.errors)&&!De,submitCount:s.submitCount+1,errors:s.errors}),De)throw De},Oi=(U,G={})=>{Pe(r,U)&&(gs(G.defaultValue)?H(U,Gs(Pe(i,U))):(H(U,G.defaultValue),At(i,U,Gs(G.defaultValue))),G.keepTouched||Ps(s.touchedFields,U),G.keepDirty||(Ps(s.dirtyFields,U),s.isDirty=G.defaultValue?X(U,Gs(Pe(i,U))):X()),G.keepError||(Ps(s.errors,U),h.isValid&&p()),m.state.next({...s}))},ei=(U,G={})=>{const ie=U?Gs(U):i,De=Gs(ie),Te=bn(U),ve=Te?i:De;if(G.keepDefaultValues||(i=ie),!G.keepValues){if(G.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(Jd(i,a))]);for(const O of Array.from(Ie))Pe(s.dirtyFields,O)?At(ve,O,Pe(a,O)):H(O,Pe(ve,O))}else{if(zw&&gs(U))for(const Ie of l.mount){const O=Pe(r,Ie);if(O&&O._f){const it=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Wf(it)){const Tt=it.closest("form");if(Tt){Tt.reset();break}}}}for(const Ie of l.mount)H(Ie,Pe(ve,Ie))}a=Gs(ve),m.array.next({values:{...ve}}),m.state.next({values:{...ve}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?s.submitCount:0,isDirty:Te?!1:G.keepDirty?s.isDirty:!!(G.keepDefaultValues&&!Aa(U,i)),isSubmitted:G.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Te?{}:G.keepDirtyValues?G.keepDefaultValues&&a?Jd(i,a):s.dirtyFields:G.keepDefaultValues&&U?Jd(i,U):G.keepDirty?s.dirtyFields:{},touchedFields:G.keepTouched?s.touchedFields:{},errors:G.keepErrors?s.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},ti=(U,G)=>ei(Lr(U)?U(a):U,G),Ld=(U,G={})=>{const ie=Pe(r,U),De=ie&&ie._f;if(De){const Te=De.refs?De.refs[0]:De.ref;Te.focus&&(Te.focus(),G.shouldSelect&&Lr(Te.select)&&Te.select())}},ga=U=>{s={...s,...U}},Pm={control:{register:bt,unregister:Et,getFieldState:_t,handleSubmit:mn,setError:ps,_subscribe:Be,_runSchema:T,_getWatch:ee,_getDirty:X,_setValid:p,_setFieldArray:b,_setDisabledField:vt,_setErrors:C,_getFieldArray:F,_reset:ei,_resetDefaultValues:()=>Lr(t.defaultValues)&&t.defaultValues().then(U=>{ti(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:ts,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return l},set _names(U){l=U},get _formState(){return s},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:yt,trigger:be,register:bt,handleSubmit:mn,watch:Xt,setValue:H,getValues:st,reset:ti,resetField:Oi,clearErrors:Ft,unregister:Et,setError:ps,setFocus:Ld,getFieldState:_t};return{...Pm,formControl:Pm}}function Bt(e={}){const t=me.useRef(void 0),s=me.useRef(void 0),[r,i]=me.useState({isDirty:!1,isValidating:!1,isLoading:Lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Lr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:KY(e),formState:r},e.formControl&&e.defaultValues&&!Lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,me.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),me.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),me.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),me.useEffect(()=>{e.values&&!Aa(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),me.useEffect(()=>{e.errors&&!bn(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),me.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),me.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=sI(r,a),t.current}var QY="Label",uI=v.forwardRef((e,t)=>n.jsx(Ve.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));uI.displayName=QY;var hI=uI;const YY=mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=v.forwardRef(({className:e,...t},s)=>n.jsx(hI,{ref:s,className:Le(YY(),e),...t}));de.displayName=hI.displayName;const zt=AY,mI=v.createContext({}),Z=({...e})=>n.jsx(mI.Provider,{value:{name:e.name},children:n.jsx(RY,{...e})}),Sx=()=>{const e=v.useContext(mI),t=v.useContext(pI),{getFieldState:s,formState:r}=Nx(),i=s(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},pI=v.createContext({}),Y=v.forwardRef(({className:e,...t},s)=>{const r=v.useId();return n.jsx(pI.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:Le("space-y-2",e),...t})})});Y.displayName="FormItem";const Q=v.forwardRef(({className:e,...t},s)=>{const{error:r,formItemId:i}=Sx();return n.jsx(de,{ref:s,className:Le(r&&"text-destructive",e),htmlFor:i,...t})});Q.displayName="FormLabel";const J=v.forwardRef(({...e},t)=>{const{error:s,formItemId:r,formDescriptionId:i,formMessageId:a}=Sx();return n.jsx(n5,{ref:t,id:r,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...e})});J.displayName="FormControl";const XY=v.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:r}=Sx();return n.jsx("p",{ref:s,id:r,className:Le("text-sm text-muted-foreground",e),...t})});XY.displayName="FormDescription";const se=v.forwardRef(({className:e,children:t,...s},r)=>{const{error:i,formMessageId:a}=Sx(),o=i?String((i==null?void 0:i.message)??""):t;return o?n.jsx("p",{ref:r,id:a,className:Le("text-sm font-medium text-destructive",e),...s,children:o}):null});se.displayName="FormMessage";const q=v.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));q.displayName="Input";const ot=v.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));ot.displayName="Textarea";function mh(e,[t,s]){return Math.min(s,Math.max(t,e))}function Cx(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZY=[" ","Enter","ArrowUp","ArrowDown"],JY=[" ","Enter"],wm="Select",[kx,_x,eX]=ax(wm),[Id,Phe]=Fn(wm,[eX,ex]),Tx=ex(),[tX,So]=Id(wm),[sX,nX]=Id(wm),fI=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:m,required:f,form:j}=e,x=Tx(t),[g,p]=v.useState(null),[y,b]=v.useState(null),[w,C]=v.useState(!1),N=bm(d),[S=!1,k]=_i({prop:r,defaultProp:i,onChange:a}),[T,D]=_i({prop:o,defaultProp:l,onChange:c}),P=v.useRef(null),M=g?j||!!g.closest("form"):!0,[X,ee]=v.useState(new Set),F=Array.from(X).map(re=>re.props.value).join(";");return n.jsx(P5,{...x,children:n.jsxs(tX,{required:f,scope:t,trigger:g,onTriggerChange:p,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:ea(),value:T,onValueChange:D,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[n.jsx(kx.Provider,{scope:t,children:n.jsx(sX,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(re=>{ee(fe=>new Set(fe).add(re))},[]),onNativeOptionRemove:v.useCallback(re=>{ee(fe=>{const H=new Set(fe);return H.delete(re),H})},[]),children:s})}),M?n.jsxs(UI,{"aria-hidden":!0,required:f,tabIndex:-1,name:h,autoComplete:u,value:T,onChange:re=>D(re.target.value),disabled:m,form:j,children:[T===void 0?n.jsx("option",{value:""}):null,Array.from(X)]},F):null]})})};fI.displayName=wm;var gI="SelectTrigger",xI=v.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...i}=e,a=Tx(s),o=So(gI,s),l=o.disabled||r,c=xt(t,o.onTriggerChange),d=_x(s),h=v.useRef("touch"),[u,m,f]=BI(x=>{const g=d().filter(b=>!b.disabled),p=g.find(b=>b.value===o.value),y=zI(g,x,p);y!==void 0&&o.onValueChange(y.value)}),j=x=>{l||(o.onOpenChange(!0),f()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(E5,{asChild:!0,...a,children:n.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$I(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&j(x)}),onPointerDown:Fe(i.onPointerDown,x=>{h.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:Fe(i.onKeyDown,x=>{const g=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(g&&x.key===" ")&&ZY.includes(x.key)&&(j(),x.preventDefault())})})})});xI.displayName=gI;var yI="SelectValue",vI=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...l}=e,c=So(yI,s),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,u=xt(t,c.onValueNodeChange);return Ts(()=>{d(h)},[d,h]),n.jsx(Ve.span,{...l,ref:u,style:{pointerEvents:"none"},children:$I(c.value)?n.jsx(n.Fragment,{children:o}):a})});vI.displayName=yI;var rX="SelectIcon",bI=v.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...i}=e;return n.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});bI.displayName=rX;var iX="SelectPortal",jI=e=>n.jsx(tx,{asChild:!0,...e});jI.displayName=iX;var wl="SelectContent",wI=v.forwardRef((e,t)=>{const s=So(wl,e.__scopeSelect),[r,i]=v.useState();if(Ts(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?pa.createPortal(n.jsx(NI,{scope:e.__scopeSelect,children:n.jsx(kx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),a):null}return n.jsx(SI,{...e,ref:t})});wI.displayName=wl;var jr=10,[NI,Co]=Id(wl),aX="SelectContentImpl",oX=od("SelectContent.RemoveScroll"),SI=v.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:g,...p}=e,y=So(wl,s),[b,w]=v.useState(null),[C,N]=v.useState(null),S=xt(t,Be=>w(Be)),[k,T]=v.useState(null),[D,P]=v.useState(null),M=_x(s),[X,ee]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(b)return d6(b)},[b]),t6();const re=v.useCallback(Be=>{const[yt,...Et]=M().map(rt=>rt.ref.current),[vt]=Et.slice(-1),bt=document.activeElement;for(const rt of Be)if(rt===bt||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===yt&&C&&(C.scrollTop=0),rt===vt&&C&&(C.scrollTop=C.scrollHeight),rt==null||rt.focus(),document.activeElement!==bt))return},[M,C]),fe=v.useCallback(()=>re([k,b]),[re,k,b]);v.useEffect(()=>{X&&fe()},[X,fe]);const{onOpenChange:H,triggerPointerDownPosRef:$}=y;v.useEffect(()=>{if(b){let Be={x:0,y:0};const yt=vt=>{var bt,rt;Be={x:Math.abs(Math.round(vt.pageX)-(((bt=$.current)==null?void 0:bt.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((rt=$.current)==null?void 0:rt.y)??0))}},Et=vt=>{Be.x<=10&&Be.y<=10?vt.preventDefault():b.contains(vt.target)||H(!1),document.removeEventListener("pointermove",yt),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",yt),document.addEventListener("pointerup",Et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",Et,{capture:!0})}}},[b,H,$]),v.useEffect(()=>{const Be=()=>H(!1);return window.addEventListener("blur",Be),window.addEventListener("resize",Be),()=>{window.removeEventListener("blur",Be),window.removeEventListener("resize",Be)}},[H]);const[oe,be]=BI(Be=>{const yt=M().filter(bt=>!bt.disabled),Et=yt.find(bt=>bt.ref.current===document.activeElement),vt=zI(yt,Be,Et);vt&&setTimeout(()=>vt.ref.current.focus())}),st=v.useCallback((Be,yt,Et)=>{const vt=!F.current&&!Et;(y.value!==void 0&&y.value===yt||vt)&&(T(Be),vt&&(F.current=!0))},[y.value]),_t=v.useCallback(()=>b==null?void 0:b.focus(),[b]),Ft=v.useCallback((Be,yt,Et)=>{const vt=!F.current&&!Et;(y.value!==void 0&&y.value===yt||vt)&&P(Be)},[y.value]),ps=r==="popper"?G0:CI,Xt=ps===G0?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:f,sticky:j,hideWhenDetached:x,avoidCollisions:g}:{};return n.jsx(NI,{scope:s,content:b,viewport:C,onViewportChange:N,itemRefCallback:st,selectedItem:k,onItemLeave:_t,itemTextRefCallback:Ft,focusSelectedItem:fe,selectedItemText:D,position:r,isPositioned:X,searchRef:oe,children:n.jsx(Rw,{as:oX,allowPinchZoom:!0,children:n.jsx(Iw,{asChild:!0,trapped:y.open,onMountAutoFocus:Be=>{Be.preventDefault()},onUnmountAutoFocus:Fe(i,Be=>{var yt;(yt=y.trigger)==null||yt.focus({preventScroll:!0}),Be.preventDefault()}),children:n.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Be=>Be.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(ps,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Be=>Be.preventDefault(),...p,...Xt,onPlaced:()=>ee(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Fe(p.onKeyDown,Be=>{const yt=Be.ctrlKey||Be.altKey||Be.metaKey;if(Be.key==="Tab"&&Be.preventDefault(),!yt&&Be.key.length===1&&be(Be.key),["ArrowUp","ArrowDown","Home","End"].includes(Be.key)){let vt=M().filter(bt=>!bt.disabled).map(bt=>bt.ref.current);if(["ArrowUp","End"].includes(Be.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Be.key)){const bt=Be.target,rt=vt.indexOf(bt);vt=vt.slice(rt+1)}setTimeout(()=>re(vt)),Be.preventDefault()}})})})})})})});SI.displayName=aX;var lX="SelectItemAlignedPosition",CI=v.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...i}=e,a=So(wl,s),o=Co(wl,s),[l,c]=v.useState(null),[d,h]=v.useState(null),u=xt(t,S=>h(S)),m=_x(s),f=v.useRef(!1),j=v.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:p,focusSelectedItem:y}=o,b=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&g&&p){const S=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),D=p.getBoundingClientRect();if(a.dir!=="rtl"){const bt=D.left-k.left,rt=T.left-bt,ts=S.left-rt,mn=S.width+ts,Oi=Math.max(mn,k.width),ei=window.innerWidth-jr,ti=mh(rt,[jr,Math.max(jr,ei-Oi)]);l.style.minWidth=mn+"px",l.style.left=ti+"px"}else{const bt=k.right-D.right,rt=window.innerWidth-T.right-bt,ts=window.innerWidth-S.right-rt,mn=S.width+ts,Oi=Math.max(mn,k.width),ei=window.innerWidth-jr,ti=mh(rt,[jr,Math.max(jr,ei-Oi)]);l.style.minWidth=mn+"px",l.style.right=ti+"px"}const P=m(),M=window.innerHeight-jr*2,X=x.scrollHeight,ee=window.getComputedStyle(d),F=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),fe=parseInt(ee.borderBottomWidth,10),H=parseInt(ee.paddingBottom,10),$=F+re+X+H+fe,oe=Math.min(g.offsetHeight*5,$),be=window.getComputedStyle(x),st=parseInt(be.paddingTop,10),_t=parseInt(be.paddingBottom,10),Ft=S.top+S.height/2-jr,ps=M-Ft,Xt=g.offsetHeight/2,Be=g.offsetTop+Xt,yt=F+re+Be,Et=$-yt;if(yt<=Ft){const bt=P.length>0&&g===P[P.length-1].ref.current;l.style.bottom="0px";const rt=d.clientHeight-x.offsetTop-x.offsetHeight,ts=Math.max(ps,Xt+(bt?_t:0)+rt+fe),mn=yt+ts;l.style.height=mn+"px"}else{const bt=P.length>0&&g===P[0].ref.current;l.style.top="0px";const ts=Math.max(Ft,F+x.offsetTop+(bt?st:0)+Xt)+Et;l.style.height=ts+"px",x.scrollTop=yt-Ft+x.offsetTop}l.style.margin=`${jr}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[m,a.trigger,a.valueNode,l,d,x,g,p,a.dir,r]);Ts(()=>b(),[b]);const[w,C]=v.useState();Ts(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const N=v.useCallback(S=>{S&&j.current===!0&&(b(),y==null||y(),j.current=!1)},[b,y]);return n.jsx(dX,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(Ve.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CI.displayName=lX;var cX="SelectPopperPosition",G0=v.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=jr,...a}=e,o=Tx(s);return n.jsx(A5,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G0.displayName=cX;var[dX,Ww]=Id(wl,{}),K0="SelectViewport",kI=v.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...i}=e,a=Co(K0,s),o=Ww(K0,s),l=xt(t,a.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(kx.Slot,{scope:s,children:n.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&u){const f=Math.abs(c.current-h.scrollTop);if(f>0){const j=window.innerHeight-jr*2,x=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),p=Math.max(x,g);if(p<j){const y=p+f,b=Math.min(j,y),w=y-b;u.style.height=b+"px",u.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});kI.displayName=K0;var _I="SelectGroup",[uX,hX]=Id(_I),mX=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=ea();return n.jsx(uX,{scope:s,id:i,children:n.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});mX.displayName=_I;var TI="SelectLabel",PI=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=hX(TI,s);return n.jsx(Ve.div,{id:i.id,...r,ref:t})});PI.displayName=TI;var Qf="SelectItem",[pX,EI]=Id(Qf),AI=v.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=e,l=So(Qf,s),c=Co(Qf,s),d=l.value===r,[h,u]=v.useState(a??""),[m,f]=v.useState(!1),j=xt(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,i)}),x=ea(),g=v.useRef("touch"),p=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(pX,{scope:s,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:v.useCallback(y=>{u(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(kx.ItemSlot,{scope:s,value:r,disabled:i,textValue:h,children:n.jsx(Ve.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Fe(o.onFocus,()=>f(!0)),onBlur:Fe(o.onBlur,()=>f(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&p()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&p()}),onPointerDown:Fe(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:Fe(o.onPointerMove,y=>{var b;g.current=y.pointerType,i?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Fe(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(JY.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});AI.displayName=Qf;var pu="SelectItemText",DI=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,...a}=e,o=So(pu,s),l=Co(pu,s),c=EI(pu,s),d=nX(pu,s),[h,u]=v.useState(null),m=xt(t,p=>u(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),f=h==null?void 0:h.textContent,j=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return Ts(()=>(x(j),()=>g(j)),[x,g,j]),n.jsxs(n.Fragment,{children:[n.jsx(Ve.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pa.createPortal(a.children,o.valueNode):null]})});DI.displayName=pu;var MI="SelectItemIndicator",II=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return EI(MI,s).isSelected?n.jsx(Ve.span,{"aria-hidden":!0,...r,ref:t}):null});II.displayName=MI;var Q0="SelectScrollUpButton",RI=v.forwardRef((e,t)=>{const s=Co(Q0,e.__scopeSelect),r=Ww(Q0,e.__scopeSelect),[i,a]=v.useState(!1),o=xt(t,r.onScrollButtonChange);return Ts(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(OI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RI.displayName=Q0;var Y0="SelectScrollDownButton",FI=v.forwardRef((e,t)=>{const s=Co(Y0,e.__scopeSelect),r=Ww(Y0,e.__scopeSelect),[i,a]=v.useState(!1),o=xt(t,r.onScrollButtonChange);return Ts(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(OI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FI.displayName=Y0;var OI=v.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=e,a=Co("SelectScrollButton",s),o=v.useRef(null),l=_x(s),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Ts(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),fX="SelectSeparator",LI=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Ve.div,{"aria-hidden":!0,...r,ref:t})});LI.displayName=fX;var X0="SelectArrow",gX=v.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Tx(s),a=So(X0,s),o=Co(X0,s);return a.open&&o.position==="popper"?n.jsx(D5,{...i,...r,ref:t}):null});gX.displayName=X0;function $I(e){return e===""||e===void 0}var UI=v.forwardRef((e,t)=>{const{value:s,...r}=e,i=v.useRef(null),a=xt(t,i),o=Cx(s);return v.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&h){const u=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(u)}},[o,s]),n.jsx(hm,{asChild:!0,children:n.jsx("select",{...r,ref:a,defaultValue:s})})});UI.displayName="BubbleSelect";function BI(e){const t=ms(e),s=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function zI(e,t,s){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=xX(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function xX(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var yX=fI,VI=xI,vX=vI,bX=bI,jX=jI,qI=wI,wX=kI,HI=PI,WI=AI,NX=DI,SX=II,GI=RI,KI=FI,QI=LI;const Ge=yX,Ke=vX,He=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(VI,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(bX,{asChild:!0,children:n.jsx(xD,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=VI.displayName;const YI=v.forwardRef(({className:e,...t},s)=>n.jsx(GI,{ref:s,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(m9,{className:"h-4 w-4"})}));YI.displayName=GI.displayName;const XI=v.forwardRef(({className:e,...t},s)=>n.jsx(KI,{ref:s,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(xD,{className:"h-4 w-4"})}));XI.displayName=KI.displayName;const We=v.forwardRef(({className:e,children:t,position:s="popper",...r},i)=>n.jsx(jX,{children:n.jsxs(qI,{ref:i,className:Le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(YI,{}),n.jsx(wX,{className:Le("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(XI,{})]})}));We.displayName=qI.displayName;const CX=v.forwardRef(({className:e,...t},s)=>n.jsx(HI,{ref:s,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));CX.displayName=HI.displayName;const B=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(WI,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(SX,{children:n.jsx(uc,{className:"h-4 w-4"})})}),n.jsx(NX,{children:t})]}));B.displayName=WI.displayName;const kX=v.forwardRef(({className:e,...t},s)=>n.jsx(QI,{ref:s,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));kX.displayName=QI.displayName;const I2=(e,t,s)=>{if(e&&"reportValidity"in e){const r=Pe(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},ZI=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?I2(r.ref,s,e):r.refs&&r.refs.forEach(i=>I2(i,s,e))}},_X=(e,t)=>{t.shouldUseNativeValidation&&ZI(e,t);const s={};for(const r in e){const i=Pe(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(TX(t.names||Object.keys(e),r)){const o=Object.assign({},Pe(s,r));At(o,"root",a),At(s,r,o)}else At(s,r,a)}return s},TX=(e,t)=>e.some(s=>s.startsWith(t+"."));var PX=function(e,t){for(var s={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return e.push(u)})}),t){var c=s[o].types,d=c&&c[r.code];s[o]=rI(o,t,s,i,d?[].concat(d,r.message):r.message)}e.shift()}return s},Vt=function(e,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&ZI({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:_X(PX(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ue=Symbol.for("drizzle:entityKind");function Qs(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ue))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ue in s&&s[ue]===t[ue])return!0;s=Object.getPrototypeOf(s)}return!1}var Wk;Wk=ue;class fd{constructor(t,s){A(this,"name");A(this,"keyAsName");A(this,"primary");A(this,"notNull");A(this,"default");A(this,"defaultFn");A(this,"onUpdateFn");A(this,"hasDefault");A(this,"isUnique");A(this,"uniqueName");A(this,"uniqueType");A(this,"dataType");A(this,"columnType");A(this,"enumValues");A(this,"generated");A(this,"generatedIdentity");A(this,"config");this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}A(fd,Wk,"Column");var Gk;Gk=ue;class JI{constructor(t,s,r){A(this,"config");A(this,"$default",this.$defaultFn);A(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}A(JI,Gk,"ColumnBuilder");const gc=Symbol.for("drizzle:Name");var Kk;Kk=ue;class e3{constructor(t,s){A(this,"reference");A(this,"_onUpdate","no action");A(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=t();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new t3(t,this)}}A(e3,Kk,"PgForeignKeyBuilder");var Qk;Qk=ue;class t3{constructor(t,s){A(this,"reference");A(this,"onUpdate");A(this,"onDelete");this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:t,columns:s,foreignColumns:r}=this.reference(),i=s.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[gc],...i,r[0].table[gc],...a];return t??`${o.join("_")}_fk`}}A(t3,Qk,"PgForeignKey");function EX(e,...t){return e(...t)}function AX(e,t){return`${e[gc]}_${t.join("_")}_unique`}function R2(e,t,s){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!s&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function s3(e,t=0){const s=[];let r=t,i=!1;for(;r<e.length;){const a=e[r];if(a===","){(i||r===t)&&s.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=R2(e,r+1,!0);s.push(c),r=d;continue}if(a==="}")return[s,r+1];if(a==="{"){const[c,d]=s3(e,r+1);s.push(c),r=d;continue}const[o,l]=R2(e,r,!1);s.push(o),r=l}return[s,r]}function DX(e){const[t]=s3(e,1);return t}function n3(e){return`{${e.map(t=>Array.isArray(t)?n3(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Yk,Xk;class kt extends(Xk=JI,Yk=ue,Xk){constructor(){super(...arguments);A(this,"foreignKeyConfigs",[])}array(s){return new i3(this.config.name,this,s)}references(s,r={}){return this.foreignKeyConfigs.push({ref:s,actions:r}),this}unique(s,r){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>EX((o,l)=>{const c=new e3(()=>{const d=o();return{columns:[s],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(s){return new r3(s,this.config)}}A(kt,Yk,"PgColumnBuilder");var Zk,Jk;class ht extends(Jk=fd,Zk=ue,Jk){constructor(t,s){s.uniqueName||(s.uniqueName=AX(t,[s.name])),super(t,s),this.table=t}}A(ht,Zk,"PgColumn");var e_,t_;class r3 extends(t_=ht,e_=ue,t_){constructor(){super(...arguments);A(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});A(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}A(r3,e_,"ExtraConfigColumn");var s_,n_;class i3 extends(n_=kt,s_=ue,n_){constructor(t,s,r){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=r}build(t){const s=this.config.baseBuilder.build(t);return new Z0(t,this.config,s)}}A(i3,s_,"PgArrayBuilder");var r_,i_;const vg=class vg extends(i_=ht,r_=ue,i_){constructor(s,r,i,a){super(s,r);A(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=DX(s)),s.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(s,r=!1){const i=s.map(a=>a===null?null:Qs(this.baseColumn,vg)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:n3(i)}};A(vg,r_,"PgArray");let Z0=vg;const F2=Symbol.for("drizzle:isPgEnum");function MX(e){return!!e&&typeof e=="function"&&F2 in e&&e[F2]===!0}var a_;a_=ue;class Gw{constructor(t,s,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:s,alias:r,isWith:i}}}A(Gw,a_,"Subquery");const IX={startActiveSpan(e,t){return t()}},xc=Symbol.for("drizzle:ViewBaseConfig"),Vy=Symbol.for("drizzle:Schema"),O2=Symbol.for("drizzle:Columns"),L2=Symbol.for("drizzle:ExtraConfigColumns"),qy=Symbol.for("drizzle:OriginalName"),Hy=Symbol.for("drizzle:BaseName"),Yf=Symbol.for("drizzle:IsAlias"),$2=Symbol.for("drizzle:ExtraConfigBuilder"),a3=Symbol.for("drizzle:IsDrizzleTable");var o_,l_,c_,d_,u_,h_,m_,p_,f_,g_,jp;let Hn=(g_=ue,f_=gc,p_=qy,m_=Vy,h_=O2,u_=L2,d_=Hy,c_=Yf,l_=a3,o_=$2,jp=class{constructor(t,s,r){A(this,f_);A(this,p_);A(this,m_);A(this,h_);A(this,u_);A(this,d_);A(this,c_,!1);A(this,l_,!0);A(this,o_);this[gc]=this[qy]=t,this[Vy]=s,this[Hy]=r}},A(jp,g_,"Table"),A(jp,"Symbol",{Name:gc,Schema:Vy,OriginalName:qy,Columns:O2,ExtraConfigColumns:L2,BaseName:Hy,IsAlias:Yf,ExtraConfigBuilder:$2}),jp);function o3(e){return typeof e=="object"&&e!==null&&a3 in e}function RX(e){return e!=null&&typeof e.getSQL=="function"}function FX(e){var s;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(s=r.typings)!=null&&s.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var x_;x_=ue;class or{constructor(t){A(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Is([this])}}A(or,x_,"StringChunk");var y_;y_=ue;const Ro=class Ro{constructor(t){A(this,"decoder",l3);A(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return IX.startActiveSpan("drizzle.buildSQL",s=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return s==null||s.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,s){const r=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return FX(t.map(h=>{var u;if(Qs(h,or))return{sql:h.value.join(""),params:[]};if(Qs(h,Xf))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const m=[new or("(")];for(const[f,j]of h.entries())m.push(j),f<h.length-1&&m.push(new or(", "));return m.push(new or(")")),this.buildQueryFromSourceParams(m,r)}if(Qs(h,Ro))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:c||h.shouldInlineParams});if(Qs(h,Hn)){const m=h[Hn.Symbol.Schema],f=h[Hn.Symbol.Name];return{sql:m===void 0||h[Yf]?a(f):a(m)+"."+a(f),params:[]}}if(Qs(h,fd)){const m=i.getColumnCasing(h);if(s.invokeSource==="indexes")return{sql:a(m),params:[]};const f=h.table[Hn.Symbol.Schema];return{sql:h.table[Yf]||f===void 0?a(h.table[Hn.Symbol.Name])+"."+a(m):a(f)+"."+a(h.table[Hn.Symbol.Name])+"."+a(m),params:[]}}if(Qs(h,u3)){const m=h[xc].schema,f=h[xc].name;return{sql:m===void 0||h[xc].isAlias?a(f):a(m)+"."+a(f),params:[]}}if(Qs(h,Kw)){if(Qs(h.value,Jf))return{sql:o(d.value++,h),params:[h],typings:["none"]};const m=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Qs(m,Ro))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let f=["none"];return l&&(f=[l(h.encoder)]),{sql:o(d.value++,m),params:[m],typings:f}}return Qs(h,Jf)?{sql:o(d.value++,h),params:[h],typings:["none"]}:Qs(h,Ro.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:Qs(h,Gw)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new or("("),h._.sql,new or(") "),new Xf(h._.alias)],r):MX(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:RX(h)?(u=h.shouldOmitSQLParens)!=null&&u.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new or("("),h.getSQL(),new or(")")],r):c?{sql:this.mapInlineParam(h,r),params:[]}:{sql:o(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const r=t.toString();return s(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ro.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};A(Ro,y_,"SQL");let Is=Ro;var v_;v_=ue;class Xf{constructor(t){A(this,"brand");this.value=t}getSQL(){return new Is([this])}}A(Xf,v_,"Name");const l3={mapFromDriverValue:e=>e},c3={mapToDriverValue:e=>e};({...l3,...c3});var b_;b_=ue;class Kw{constructor(t,s=c3){A(this,"brand");this.value=t,this.encoder=s}getSQL(){return new Is([this])}}A(Kw,b_,"Param");function Zf(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new or(e[0]));for(const[r,i]of t.entries())s.push(i,new or(e[r+1]));return new Is(s)}(e=>{function t(){return new Is([])}e.empty=t;function s(c){return new Is(c)}e.fromList=s;function r(c){return new Is([new or(c)])}e.raw=r;function i(c,d){const h=[];for(const[u,m]of c.entries())u>0&&d!==void 0&&h.push(d),h.push(m);return new Is(h)}e.join=i;function a(c){return new Xf(c)}e.identifier=a;function o(c){return new Jf(c)}e.placeholder=o;function l(c,d){return new Kw(c,d)}e.param=l})(Zf||(Zf={}));(e=>{var s;s=ue;const r=class r{constructor(a,o){A(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};A(r,s,"SQL.Aliased");let t=r;e.Aliased=t})(Is||(Is={}));var j_;j_=ue;class Jf{constructor(t){this.name=t}getSQL(){return new Is([this])}}A(Jf,j_,"Placeholder");const d3=Symbol.for("drizzle:IsDrizzleView");var w_,N_,S_;S_=ue,N_=xc,w_=d3;class u3{constructor({name:t,schema:s,selectedFields:r,query:i}){A(this,N_);A(this,w_,!0);this[xc]={name:t,originalName:t,schema:s,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Is([this])}}A(u3,S_,"View");function OX(e){return typeof e=="object"&&e!==null&&d3 in e}fd.prototype.getSQL=function(){return new Is([this])};Hn.prototype.getSQL=function(){return new Is([this])};Gw.prototype.getSQL=function(){return new Is([this])};function LX(e){return e[Hn.Symbol.Columns]}function $X(e){return e[xc].selectedFields}function Ws(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var C_,k_;class Nm extends(k_=kt,C_=ue,k_){generatedAlwaysAsIdentity(t){if(t){const{name:s,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}A(Nm,C_,"PgIntColumnBaseBuilder");var __,T_;class h3 extends(T_=Nm,__=ue,T_){constructor(t){super(t,"number","PgBigInt53")}build(t){return new m3(t,this.config)}}A(h3,__,"PgBigInt53Builder");var P_,E_;class m3 extends(E_=ht,P_=ue,E_){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(m3,P_,"PgBigInt53");var A_,D_;class p3 extends(D_=Nm,A_=ue,D_){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new f3(t,this.config)}}A(p3,A_,"PgBigInt64Builder");var M_,I_;class f3 extends(I_=ht,M_=ue,I_){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}A(f3,M_,"PgBigInt64");function UX(e,t){const{name:s,config:r}=Ws(e,t);return r.mode==="number"?new h3(s):new p3(s)}var R_,F_;class g3 extends(F_=kt,R_=ue,F_){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new x3(t,this.config)}}A(g3,R_,"PgBigSerial53Builder");var O_,L_;class x3 extends(L_=ht,O_=ue,L_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}A(x3,O_,"PgBigSerial53");var $_,U_;class y3 extends(U_=kt,$_=ue,U_){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new v3(t,this.config)}}A(y3,$_,"PgBigSerial64Builder");var B_,z_;class v3 extends(z_=ht,B_=ue,z_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}A(v3,B_,"PgBigSerial64");function BX(e,t){const{name:s,config:r}=Ws(e,t);return r.mode==="number"?new g3(s):new y3(s)}var V_,q_;class b3 extends(q_=kt,V_=ue,q_){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new j3(t,this.config)}}A(b3,V_,"PgBooleanBuilder");var H_,W_;class j3 extends(W_=ht,H_=ue,W_){getSQLType(){return"boolean"}}A(j3,H_,"PgBoolean");function Ne(e){return new b3(e??"")}var G_,K_;class w3 extends(K_=kt,G_=ue,K_){constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new N3(t,this.config)}}A(w3,G_,"PgCharBuilder");var Q_,Y_;class N3 extends(Y_=ht,Q_=ue,Y_){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}A(N3,Q_,"PgChar");function zX(e,t={}){const{name:s,config:r}=Ws(e,t);return new w3(s,r)}var X_,Z_;class S3 extends(Z_=kt,X_=ue,Z_){constructor(t){super(t,"string","PgCidr")}build(t){return new C3(t,this.config)}}A(S3,X_,"PgCidrBuilder");var J_,eT;class C3 extends(eT=ht,J_=ue,eT){getSQLType(){return"cidr"}}A(C3,J_,"PgCidr");function VX(e){return new S3(e??"")}var tT,sT;class k3 extends(sT=kt,tT=ue,sT){constructor(t,s,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=r}build(t){return new _3(t,this.config)}}A(k3,tT,"PgCustomColumnBuilder");var nT,rT;class _3 extends(rT=ht,nT=ue,rT){constructor(s,r){super(s,r);A(this,"sqlName");A(this,"mapTo");A(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}A(_3,nT,"PgCustomColumn");function qX(e){return(t,s)=>{const{name:r,config:i}=Ws(t,s);return new k3(r,i,e)}}var iT,aT;class Rd extends(aT=kt,iT=ue,aT){defaultNow(){return this.default(Zf`now()`)}}A(Rd,iT,"PgDateColumnBaseBuilder");var oT,lT;class T3 extends(lT=Rd,oT=ue,lT){constructor(t){super(t,"date","PgDate")}build(t){return new P3(t,this.config)}}A(T3,oT,"PgDateBuilder");var cT,dT;class P3 extends(dT=ht,cT=ue,dT){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}A(P3,cT,"PgDate");var uT,hT;class E3 extends(hT=Rd,uT=ue,hT){constructor(t){super(t,"string","PgDateString")}build(t){return new A3(t,this.config)}}A(E3,uT,"PgDateStringBuilder");var mT,pT;class A3 extends(pT=ht,mT=ue,pT){getSQLType(){return"date"}}A(A3,mT,"PgDateString");function Px(e,t){const{name:s,config:r}=Ws(e,t);return(r==null?void 0:r.mode)==="date"?new T3(s):new E3(s)}var fT,gT;class D3 extends(gT=kt,fT=ue,gT){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new M3(t,this.config)}}A(D3,fT,"PgDoublePrecisionBuilder");var xT,yT;class M3 extends(yT=ht,xT=ue,yT){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}A(M3,xT,"PgDoublePrecision");function HX(e){return new D3(e??"")}var vT,bT;class I3 extends(bT=kt,vT=ue,bT){constructor(t){super(t,"string","PgInet")}build(t){return new R3(t,this.config)}}A(I3,vT,"PgInetBuilder");var jT,wT;class R3 extends(wT=ht,jT=ue,wT){getSQLType(){return"inet"}}A(R3,jT,"PgInet");function WX(e){return new I3(e??"")}var NT,ST;class F3 extends(ST=Nm,NT=ue,ST){constructor(t){super(t,"number","PgInteger")}build(t){return new O3(t,this.config)}}A(F3,NT,"PgIntegerBuilder");var CT,kT;class O3 extends(kT=ht,CT=ue,kT){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}A(O3,CT,"PgInteger");function z(e){return new F3(e??"")}var _T,TT;class L3 extends(TT=kt,_T=ue,TT){constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new $3(t,this.config)}}A(L3,_T,"PgIntervalBuilder");var PT,ET;class $3 extends(ET=ht,PT=ue,ET){constructor(){super(...arguments);A(this,"fields",this.config.intervalConfig.fields);A(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${s}${r}`}}A($3,PT,"PgInterval");function GX(e,t={}){const{name:s,config:r}=Ws(e,t);return new L3(s,r)}var AT,DT;class U3 extends(DT=kt,AT=ue,DT){constructor(t){super(t,"json","PgJson")}build(t){return new B3(t,this.config)}}A(U3,AT,"PgJsonBuilder");var MT,IT;class B3 extends(IT=ht,MT=ue,IT){constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(B3,MT,"PgJson");function Ex(e){return new U3(e??"")}var RT,FT;class z3 extends(FT=kt,RT=ue,FT){constructor(t){super(t,"json","PgJsonb")}build(t){return new V3(t,this.config)}}A(z3,RT,"PgJsonbBuilder");var OT,LT;class V3 extends(LT=ht,OT=ue,LT){constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}A(V3,OT,"PgJsonb");function xi(e){return new z3(e??"")}var $T,UT;class q3 extends(UT=kt,$T=ue,UT){constructor(t){super(t,"array","PgLine")}build(t){return new H3(t,this.config)}}A(q3,$T,"PgLineBuilder");var BT,zT;class H3 extends(zT=ht,BT=ue,zT){getSQLType(){return"line"}mapFromDriverValue(t){const[s,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}A(H3,BT,"PgLine");var VT,qT;class W3 extends(qT=kt,VT=ue,qT){constructor(t){super(t,"json","PgLineABC")}build(t){return new G3(t,this.config)}}A(W3,VT,"PgLineABCBuilder");var HT,WT;class G3 extends(WT=ht,HT=ue,WT){getSQLType(){return"line"}mapFromDriverValue(t){const[s,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}A(G3,HT,"PgLineABC");function KX(e,t){const{name:s,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new q3(s):new W3(s)}var GT,KT;class K3 extends(KT=kt,GT=ue,KT){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Q3(t,this.config)}}A(K3,GT,"PgMacaddrBuilder");var QT,YT;class Q3 extends(YT=ht,QT=ue,YT){getSQLType(){return"macaddr"}}A(Q3,QT,"PgMacaddr");function QX(e){return new K3(e??"")}var XT,ZT;class Y3 extends(ZT=kt,XT=ue,ZT){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new X3(t,this.config)}}A(Y3,XT,"PgMacaddr8Builder");var JT,eP;class X3 extends(eP=ht,JT=ue,eP){getSQLType(){return"macaddr8"}}A(X3,JT,"PgMacaddr8");function YX(e){return new Y3(e??"")}var tP,sP;class Z3 extends(sP=kt,tP=ue,sP){constructor(t,s,r){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=r}build(t){return new J3(t,this.config)}}A(Z3,tP,"PgNumericBuilder");var nP,rP;class J3 extends(rP=ht,nP=ue,rP){constructor(s,r){super(s,r);A(this,"precision");A(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}A(J3,nP,"PgNumeric");function eR(e,t){const{name:s,config:r}=Ws(e,t);return new Z3(s,r==null?void 0:r.precision,r==null?void 0:r.scale)}const cn=eR;var iP,aP;class tR extends(aP=kt,iP=ue,aP){constructor(t){super(t,"array","PgPointTuple")}build(t){return new sR(t,this.config)}}A(tR,iP,"PgPointTupleBuilder");var oP,lP;class sR extends(lP=ht,oP=ue,lP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,r]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}A(sR,oP,"PgPointTuple");var cP,dP;class nR extends(dP=kt,cP=ue,dP){constructor(t){super(t,"json","PgPointObject")}build(t){return new rR(t,this.config)}}A(nR,cP,"PgPointObjectBuilder");var uP,hP;class rR extends(hP=ht,uP=ue,hP){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}A(rR,uP,"PgPointObject");function XX(e,t){const{name:s,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new tR(s):new nR(s)}function ZX(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function U2(e,t){const s=new ArrayBuffer(8),r=new DataView(s);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function iR(e){const t=ZX(e);let s=0;const r=t[s];s+=1;const i=new DataView(t.buffer),a=i.getUint32(s,r===1);if(s+=4,a&536870912&&(i.getUint32(s,r===1),s+=4),(a&65535)===1){const o=U2(t,s);s+=8;const l=U2(t,s);return s+=8,[o,l]}throw new Error("Unsupported geometry type")}var mP,pP;class aR extends(pP=kt,mP=ue,pP){constructor(t){super(t,"array","PgGeometry")}build(t){return new oR(t,this.config)}}A(aR,mP,"PgGeometryBuilder");var fP,gP;class oR extends(gP=ht,fP=ue,gP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return iR(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}A(oR,fP,"PgGeometry");var xP,yP;class lR extends(yP=kt,xP=ue,yP){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new cR(t,this.config)}}A(lR,xP,"PgGeometryObjectBuilder");var vP,bP;class cR extends(bP=ht,vP=ue,bP){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=iR(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}A(cR,vP,"PgGeometryObject");function JX(e,t){const{name:s,config:r}=Ws(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new aR(s):new lR(s)}var jP,wP;class dR extends(wP=kt,jP=ue,wP){constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new uR(t,this.config)}}A(dR,jP,"PgRealBuilder");var NP,SP;class uR extends(SP=ht,NP=ue,SP){constructor(s,r){super(s,r);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}A(uR,NP,"PgReal");function Ei(e){return new dR(e??"")}var CP,kP;class hR extends(kP=kt,CP=ue,kP){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new mR(t,this.config)}}A(hR,CP,"PgSerialBuilder");var _P,TP;class mR extends(TP=ht,_P=ue,TP){getSQLType(){return"serial"}}A(mR,_P,"PgSerial");function _e(e){return new hR(e??"")}var PP,EP;class pR extends(EP=Nm,PP=ue,EP){constructor(t){super(t,"number","PgSmallInt")}build(t){return new fR(t,this.config)}}A(pR,PP,"PgSmallIntBuilder");var AP,DP;class fR extends(DP=ht,AP=ue,DP){constructor(){super(...arguments);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}A(fR,AP,"PgSmallInt");function eZ(e){return new pR(e??"")}var MP,IP;class gR extends(IP=kt,MP=ue,IP){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new xR(t,this.config)}}A(gR,MP,"PgSmallSerialBuilder");var RP,FP;class xR extends(FP=ht,RP=ue,FP){getSQLType(){return"smallserial"}}A(xR,RP,"PgSmallSerial");function tZ(e){return new gR(e??"")}var OP,LP;class yR extends(LP=kt,OP=ue,LP){constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new vR(t,this.config)}}A(yR,OP,"PgTextBuilder");var $P,UP;class vR extends(UP=ht,$P=ue,UP){constructor(){super(...arguments);A(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}A(vR,$P,"PgText");function R(e,t={}){const{name:s,config:r}=Ws(e,t);return new yR(s,r)}var BP,zP;class bR extends(zP=Rd,BP=ue,zP){constructor(t,s,r){super(t,"string","PgTime"),this.withTimezone=s,this.precision=r,this.config.withTimezone=s,this.config.precision=r}build(t){return new jR(t,this.config)}}A(bR,BP,"PgTimeBuilder");var VP,qP;class jR extends(qP=ht,VP=ue,qP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(jR,VP,"PgTime");function gd(e,t={}){const{name:s,config:r}=Ws(e,t);return new bR(s,r.withTimezone??!1,r.precision)}var HP,WP;class wR extends(WP=Rd,HP=ue,WP){constructor(t,s,r){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=r}build(t){return new NR(t,this.config)}}A(wR,HP,"PgTimestampBuilder");var GP,KP;class NR extends(KP=ht,GP=ue,KP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");A(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));A(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(NR,GP,"PgTimestamp");var QP,YP;class SR extends(YP=Rd,QP=ue,YP){constructor(t,s,r){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=r}build(t){return new CR(t,this.config)}}A(SR,QP,"PgTimestampStringBuilder");var XP,ZP;class CR extends(ZP=ht,XP=ue,ZP){constructor(s,r){super(s,r);A(this,"withTimezone");A(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(CR,XP,"PgTimestampString");function W(e,t={}){const{name:s,config:r}=Ws(e,t);return(r==null?void 0:r.mode)==="string"?new SR(s,r.withTimezone??!1,r.precision):new wR(s,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var JP,e4;class kR extends(e4=kt,JP=ue,e4){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Zf`gen_random_uuid()`)}build(t){return new _R(t,this.config)}}A(kR,JP,"PgUUIDBuilder");var t4,s4;class _R extends(s4=ht,t4=ue,s4){getSQLType(){return"uuid"}}A(_R,t4,"PgUUID");function sZ(e){return new kR(e??"")}var n4,r4;class TR extends(r4=kt,n4=ue,r4){constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new PR(t,this.config)}}A(TR,n4,"PgVarcharBuilder");var i4,a4;class PR extends(a4=ht,i4=ue,a4){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}A(PR,i4,"PgVarchar");function ke(e,t={}){const{name:s,config:r}=Ws(e,t);return new TR(s,r)}var o4,l4;class ER extends(l4=kt,o4=ue,l4){constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new AR(t,this.config)}}A(ER,o4,"PgBinaryVectorBuilder");var c4,d4;class AR extends(d4=ht,c4=ue,d4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}A(AR,c4,"PgBinaryVector");function nZ(e,t){const{name:s,config:r}=Ws(e,t);return new ER(s,r)}var u4,h4;class DR extends(h4=kt,u4=ue,h4){constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new MR(t,this.config)}}A(DR,u4,"PgHalfVectorBuilder");var m4,p4;class MR extends(p4=ht,m4=ue,p4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(MR,m4,"PgHalfVector");function rZ(e,t){const{name:s,config:r}=Ws(e,t);return new DR(s,r)}var f4,g4;class IR extends(g4=kt,f4=ue,g4){constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new RR(t,this.config)}}A(IR,f4,"PgSparseVectorBuilder");var x4,y4;class RR extends(y4=ht,x4=ue,y4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}A(RR,x4,"PgSparseVector");function iZ(e,t){const{name:s,config:r}=Ws(e,t);return new IR(s,r)}var v4,b4;class FR extends(b4=kt,v4=ue,b4){constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new OR(t,this.config)}}A(FR,v4,"PgVectorBuilder");var j4,w4;class OR extends(w4=ht,j4=ue,w4){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}A(OR,j4,"PgVector");function aZ(e,t){const{name:s,config:r}=Ws(e,t);return new FR(s,r)}function oZ(){return{bigint:UX,bigserial:BX,boolean:Ne,char:zX,cidr:VX,customType:qX,date:Px,doublePrecision:HX,inet:WX,integer:z,interval:GX,json:Ex,jsonb:xi,line:KX,macaddr:QX,macaddr8:YX,numeric:eR,point:XX,geometry:JX,real:Ei,serial:_e,smallint:eZ,smallserial:tZ,text:R,time:gd,timestamp:W,uuid:sZ,varchar:ke,bit:nZ,halfvec:rZ,sparsevec:iZ,vector:aZ}}const J0=Symbol.for("drizzle:PgInlineForeignKeys"),B2=Symbol.for("drizzle:EnableRLS");var N4,S4,C4,k4,_4;class eg extends(_4=Hn,k4=ue,C4=J0,S4=B2,N4=Hn.Symbol.ExtraConfigBuilder,_4){constructor(){super(...arguments);A(this,C4,[]);A(this,S4,!1);A(this,N4)}}A(eg,k4,"PgTable"),A(eg,"Symbol",Object.assign({},Hn.Symbol,{InlineForeignKeys:J0,EnableRLS:B2}));function lZ(e,t,s,r,i=e){const a=new eg(e,r,i),o=typeof t=="function"?t(oZ()):t,l=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const f=m.build(a);return a[J0].push(...m.buildForeignKeys(f,a)),[h,f]})),c=Object.fromEntries(Object.entries(o).map(([h,u])=>{const m=u;m.setName(h);const f=m.buildExtraConfigColumn(a);return[h,f]})),d=Object.assign(a,l);return d[Hn.Symbol.Columns]=l,d[Hn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[eg.Symbol.EnableRLS]=!0,d)})}const je=(e,t,s)=>lZ(e,t,s,void 0);var Ct;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function s(i){throw new Error}e.assertNever=s,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ct||(Ct={}));var eb;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(eb||(eb={}));const Me=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=e=>{switch(typeof e){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(e)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(e)?Me.array:e===null?Me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Me.promise:typeof Map<"u"&&e instanceof Map?Me.map:typeof Set<"u"&&e instanceof Set?Me.set:typeof Date<"u"&&e instanceof Date?Me.date:Me.object;default:return Me.unknown}},pe=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cZ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Jn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof Jn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Jn.create=e=>new Jn(e);const xd=(e,t)=>{let s;switch(e.code){case pe.invalid_type:e.received===Me.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Ct.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ct.joinValues(e.keys,", ")}`;break;case pe.invalid_union:s="Invalid input";break;case pe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ct.joinValues(e.options)}`;break;case pe.invalid_enum_value:s=`Invalid enum value. Expected ${Ct.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:s="Invalid function arguments";break;case pe.invalid_return_type:s="Invalid function return type";break;case pe.invalid_date:s="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Ct.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case pe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case pe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case pe.custom:s="Invalid input";break;case pe.invalid_intersection_types:s="Intersection results could not be merged";break;case pe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:s="Number must be finite";break;default:s=t.defaultError,Ct.assertNever(e)}return{message:s}};let LR=xd;function dZ(e){LR=e}function tg(){return LR}const sg=e=>{const{data:t,path:s,errorMaps:r,issueData:i}=e,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},uZ=[];function Ee(e,t){const s=tg(),r=sg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===xd?void 0:xd].filter(i=>!!i)});e.common.issues.push(r)}class un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const i of s){if(i.status==="aborted")return tt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return un.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return tt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const tt=Object.freeze({status:"aborted"}),Jl=e=>({status:"dirty",value:e}),Sn=e=>({status:"valid",value:e}),tb=e=>e.status==="aborted",sb=e=>e.status==="dirty",Nl=e=>e.status==="valid",ph=e=>typeof Promise<"u"&&e instanceof Promise;var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));class Ai{constructor(t,s,r,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z2=(e,t)=>{if(Nl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Jn(e.common.issues);return this._error=s,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:i}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:i}}class gt{get description(){return this._def.description}_getType(t){return qi(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new un,ctx:{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(ph(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},i=this._parseSync({data:t,path:r.path,parent:r});return z2(r,i)}"~validate"(t){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return Nl(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>Nl(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(ph(i)?i:Promise.resolve(i));return z2(r,a)}refine(t,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:pe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(t){return new Yr({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Si.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wr.create(this)}promise(){return vd.create(this,this._def)}or(t){return yh.create([this,t],this._def)}and(t){return vh.create(this,t,this._def)}transform(t){return new Yr({...ut(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Sh({...ut(this._def),innerType:this,defaultValue:s,typeName:nt.ZodDefault})}brand(){return new Qw({typeName:nt.ZodBranded,type:this,...ut(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Ch({...ut(this._def),innerType:this,catchValue:s,typeName:nt.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Sm.create(this,t)}readonly(){return kh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hZ=/^c[^\s-]{8,}$/i,mZ=/^[0-9a-z]+$/,pZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gZ=/^[a-z0-9_-]{21}$/i,xZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wy;const jZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$R="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_Z=new RegExp(`^${$R}$`);function UR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function TZ(e){return new RegExp(`^${UR(e)}$`)}function BR(e){let t=`${$R}T${UR(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function PZ(e,t){return!!((t==="v4"||!t)&&jZ.test(e)||(t==="v6"||!t)&&NZ.test(e))}function EZ(e,t){if(!xZ.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function AZ(e,t){return!!((t==="v4"||!t)&&wZ.test(e)||(t==="v6"||!t)&&SZ.test(e))}class Br extends gt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.string,received:a.parsedType}),tt}const r=new un;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Ee(i,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ee(i,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")vZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"email",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Wy||(Wy=new RegExp(bZ,"u")),Wy.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"emoji",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")fZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"uuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")gZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"nanoid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")hZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")mZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid2",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")pZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ulid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ee(i,{validation:"url",code:pe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"regex",code:pe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?BR(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?_Z.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?TZ(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?yZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"duration",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?PZ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ip",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?EZ(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"jwt",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?AZ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cidr",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?CZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64",code:pe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?kZ.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64url",code:pe.invalid_string,message:a.message}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(i=>t.test(i),{validation:s,code:pe.invalid_string,...ze.errToObj(r)})}_addCheck(t){return new Br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ze.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ze.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...ze.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...ze.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...ze.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...ze.errToObj(s)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Br.create=e=>new Br({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});function DZ(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class go extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.number,received:a.parsedType}),tt}let r;const i=new un;for(const a of this._def.checks)a.kind==="int"?Ct.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?DZ(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_finite,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,ze.toString(s))}gt(t,s){return this.setLimit("min",t,!1,ze.toString(s))}lte(t,s){return this.setLimit("max",t,!0,ze.toString(s))}lt(t,s){return this.setLimit("max",t,!1,ze.toString(s))}setLimit(t,s,r,i){return new go({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:ze.toString(i)}]})}_addCheck(t){return new go({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ct.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}go.create=e=>new go({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class xo extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Me.bigint)return this._getInvalidInput(t);let r;const i=new un;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ee(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ct.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Ee(s,{code:pe.invalid_type,expected:Me.bigint,received:s.parsedType}),tt}gte(t,s){return this.setLimit("min",t,!0,ze.toString(s))}gt(t,s){return this.setLimit("min",t,!1,ze.toString(s))}lte(t,s){return this.setLimit("max",t,!0,ze.toString(s))}lt(t,s){return this.setLimit("max",t,!1,ze.toString(s))}setLimit(t,s,r,i){return new xo({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:ze.toString(i)}]})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}xo.create=e=>new xo({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});class fh extends gt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.boolean,received:r.parsedType}),tt}return Sn(t.data)}}fh.create=e=>new fh({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class Sl extends gt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_type,expected:Me.date,received:a.parsedType}),tt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ee(a,{code:pe.invalid_date}),tt}const r=new un;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ct.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sl({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Sl.create=e=>new Sl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...ut(e)});class ng extends gt{_parse(t){if(this._getType(t)!==Me.symbol){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.symbol,received:r.parsedType}),tt}return Sn(t.data)}}ng.create=e=>new ng({typeName:nt.ZodSymbol,...ut(e)});class gh extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.undefined,received:r.parsedType}),tt}return Sn(t.data)}}gh.create=e=>new gh({typeName:nt.ZodUndefined,...ut(e)});class xh extends gt{_parse(t){if(this._getType(t)!==Me.null){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.null,received:r.parsedType}),tt}return Sn(t.data)}}xh.create=e=>new xh({typeName:nt.ZodNull,...ut(e)});class yd extends gt{constructor(){super(...arguments),this._any=!0}_parse(t){return Sn(t.data)}}yd.create=e=>new yd({typeName:nt.ZodAny,...ut(e)});class ul extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Sn(t.data)}}ul.create=e=>new ul({typeName:nt.ZodUnknown,...ut(e)});class ua extends gt{_parse(t){const s=this._getOrReturnCtx(t);return Ee(s,{code:pe.invalid_type,expected:Me.never,received:s.parsedType}),tt}}ua.create=e=>new ua({typeName:nt.ZodNever,...ut(e)});class rg extends gt{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.void,received:r.parsedType}),tt}return Sn(t.data)}}rg.create=e=>new rg({typeName:nt.ZodVoid,...ut(e)});class Wr extends gt{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),i=this._def;if(s.parsedType!==Me.array)return Ee(s,{code:pe.invalid_type,expected:Me.array,received:s.parsedType}),tt;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(Ee(s,{code:o?pe.too_big:pe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Ee(s,{code:pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Ee(s,{code:pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new Ai(s,o,s.path,l)))).then(o=>un.mergeArray(r,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new Ai(s,o,s.path,l)));return un.mergeArray(r,a)}get element(){return this._def.type}min(t,s){return new Wr({...this._def,minLength:{value:t,message:ze.toString(s)}})}max(t,s){return new Wr({...this._def,maxLength:{value:t,message:ze.toString(s)}})}length(t,s){return new Wr({...this._def,exactLength:{value:t,message:ze.toString(s)}})}nonempty(t){return this.min(1,t)}}Wr.create=(e,t)=>new Wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...ut(t)});function $l(e){if(e instanceof is){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=Si.create($l(r))}return new is({...e._def,shape:()=>t})}else return e instanceof Wr?new Wr({...e._def,type:$l(e.element)}):e instanceof Si?Si.create($l(e.unwrap())):e instanceof vo?vo.create($l(e.unwrap())):e instanceof Di?Di.create(e.items.map(t=>$l(t))):e}class is extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Ct.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Me.object){const d=this._getOrReturnCtx(t);return Ee(d,{code:pe.invalid_type,expected:Me.object,received:d.parsedType}),tt}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ua&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],u=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ai(i,u,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ua){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Ee(i,{code:pe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ai(i,u,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,m=await h.value;d.push({key:u,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>un.mergeObjectSync(r,d)):un.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new is({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:ze.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new is({...this._def,unknownKeys:"strip"})}passthrough(){return new is({...this._def,unknownKeys:"passthrough"})}extend(t){return new is({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new is({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new is({...this._def,catchall:t})}pick(t){const s={};for(const r of Ct.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new is({...this._def,shape:()=>s})}omit(t){const s={};for(const r of Ct.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new is({...this._def,shape:()=>s})}deepPartial(){return $l(this)}partial(t){const s={};for(const r of Ct.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?s[r]=i:s[r]=i.optional()}return new is({...this._def,shape:()=>s})}required(t){const s={};for(const r of Ct.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Si;)a=a._def.innerType;s[r]=a}return new is({...this._def,shape:()=>s})}keyof(){return zR(Ct.objectKeys(this.shape))}}is.create=(e,t)=>new is({shape:()=>e,unknownKeys:"strip",catchall:ua.create(),typeName:nt.ZodObject,...ut(t)});is.strictCreate=(e,t)=>new is({shape:()=>e,unknownKeys:"strict",catchall:ua.create(),typeName:nt.ZodObject,...ut(t)});is.lazycreate=(e,t)=>new is({shape:e,unknownKeys:"strip",catchall:ua.create(),typeName:nt.ZodObject,...ut(t)});class yh extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Jn(l.ctx.common.issues));return Ee(s,{code:pe.invalid_union,unionErrors:o}),tt}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},h=c._parseSync({data:s.data,path:s.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Jn(c));return Ee(s,{code:pe.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}yh.create=(e,t)=>new yh({options:e,typeName:nt.ZodUnion,...ut(t)});const Bi=e=>e instanceof jh?Bi(e.schema):e instanceof Yr?Bi(e.innerType()):e instanceof wh?[e.value]:e instanceof yo?e.options:e instanceof Nh?Ct.objectValues(e.enum):e instanceof Sh?Bi(e._def.innerType):e instanceof gh?[void 0]:e instanceof xh?[null]:e instanceof Si?[void 0,...Bi(e.unwrap())]:e instanceof vo?[null,...Bi(e.unwrap())]:e instanceof Qw||e instanceof kh?Bi(e.unwrap()):e instanceof Ch?Bi(e._def.innerType):[];class Ax extends gt{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.object)return Ee(s,{code:pe.invalid_type,expected:Me.object,received:s.parsedType}),tt;const r=this.discriminator,i=s.data[r],a=this.optionsMap.get(i);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(Ee(s,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,r){const i=new Map;for(const a of s){const o=Bi(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Ax({typeName:nt.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:i,...ut(r)})}}function nb(e,t){const s=qi(e),r=qi(t);if(e===t)return{valid:!0,data:e};if(s===Me.object&&r===Me.object){const i=Ct.objectKeys(t),a=Ct.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=nb(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Me.array&&r===Me.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=nb(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===Me.date&&r===Me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vh extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(tb(a)||tb(o))return tt;const l=nb(a.value,o.value);return l.valid?((sb(a)||sb(o))&&s.dirty(),{status:s.value,value:l.data}):(Ee(r,{code:pe.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vh.create=(e,t,s)=>new vh({left:e,right:t,typeName:nt.ZodIntersection,...ut(s)});class Di extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.array)return Ee(r,{code:pe.invalid_type,expected:Me.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Ee(r,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ai(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>un.mergeArray(s,o)):un.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Di({...this._def,rest:t})}}Di.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:e,typeName:nt.ZodTuple,rest:null,...ut(t)})};class bh extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.object)return Ee(r,{code:pe.invalid_type,expected:Me.object,received:r.parsedType}),tt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Ai(r,l,r.path,l)),value:o._parse(new Ai(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?un.mergeObjectAsync(s,i):un.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(t,s,r){return s instanceof gt?new bh({keyType:t,valueType:s,typeName:nt.ZodRecord,...ut(r)}):new bh({keyType:Br.create(),valueType:t,typeName:nt.ZodRecord,...ut(s)})}}class ig extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.map)return Ee(r,{code:pe.invalid_type,expected:Me.map,received:r.parsedType}),tt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Ai(r,l,r.path,[d,"key"])),value:a._parse(new Ai(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}}}}ig.create=(e,t,s)=>new ig({valueType:t,keyType:e,typeName:nt.ZodMap,...ut(s)});class Cl extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.set)return Ee(r,{code:pe.invalid_type,expected:Me.set,received:r.parsedType}),tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ee(r,{code:pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ee(r,{code:pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return tt;h.status==="dirty"&&s.dirty(),d.add(h.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ai(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new Cl({...this._def,minSize:{value:t,message:ze.toString(s)}})}max(t,s){return new Cl({...this._def,maxSize:{value:t,message:ze.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Cl.create=(e,t)=>new Cl({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...ut(t)});class yc extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.function)return Ee(s,{code:pe.invalid_type,expected:Me.function,received:s.parsedType}),tt;function r(l,c){return sg({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,tg(),xd].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function i(l,c){return sg({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,tg(),xd].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof vd){const l=this;return Sn(async function(...c){const d=new Jn([]),h=await l._def.args.parseAsync(c,a).catch(f=>{throw d.addIssue(r(c,f)),d}),u=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(u,a).catch(f=>{throw d.addIssue(i(u,f)),d})})}else{const l=this;return Sn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Jn([r(c,d.error)]);const h=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(h,a);if(!u.success)throw new Jn([i(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yc({...this._def,args:Di.create(t).rest(ul.create())})}returns(t){return new yc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,r){return new yc({args:t||Di.create([]).rest(ul.create()),returns:s||ul.create(),typeName:nt.ZodFunction,...ut(r)})}}class jh extends gt{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}jh.create=(e,t)=>new jh({getter:e,typeName:nt.ZodLazy,...ut(t)});class wh extends gt{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Ee(s,{received:s.data,code:pe.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}wh.create=(e,t)=>new wh({value:e,typeName:nt.ZodLiteral,...ut(t)});function zR(e,t){return new yo({values:e,typeName:nt.ZodEnum,...ut(t)})}class yo extends gt{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return Ee(s,{expected:Ct.joinValues(r),received:s.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return Ee(s,{received:s.data,code:pe.invalid_enum_value,options:r}),tt}return Sn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return yo.create(t,{...this._def,...s})}exclude(t,s=this._def){return yo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}yo.create=zR;class Nh extends gt{_parse(t){const s=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const i=Ct.objectValues(s);return Ee(r,{expected:Ct.joinValues(i),received:r.parsedType,code:pe.invalid_type}),tt}if(this._cache||(this._cache=new Set(Ct.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Ct.objectValues(s);return Ee(r,{received:r.data,code:pe.invalid_enum_value,options:i}),tt}return Sn(t.data)}get enum(){return this._def.values}}Nh.create=(e,t)=>new Nh({values:e,typeName:nt.ZodNativeEnum,...ut(t)});class vd extends gt{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Me.promise&&s.common.async===!1)return Ee(s,{code:pe.invalid_type,expected:Me.promise,received:s.parsedType}),tt;const r=s.parsedType===Me.promise?s.data:Promise.resolve(s.data);return Sn(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}vd.create=(e,t)=>new vd({type:e,typeName:nt.ZodPromise,...ut(t)});class Yr extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Ee(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||s.value==="dirty"?Jl(c.value):c});{if(s.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||s.value==="dirty"?Jl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nl(o))return tt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Nl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):tt);Ct.assertNever(i)}}Yr.create=(e,t,s)=>new Yr({schema:e,typeName:nt.ZodEffects,effect:t,...ut(s)});Yr.createWithPreprocess=(e,t,s)=>new Yr({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...ut(s)});class Si extends gt{_parse(t){return this._getType(t)===Me.undefined?Sn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Si.create=(e,t)=>new Si({innerType:e,typeName:nt.ZodOptional,...ut(t)});class vo extends gt{_parse(t){return this._getType(t)===Me.null?Sn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vo.create=(e,t)=>new vo({innerType:e,typeName:nt.ZodNullable,...ut(t)});class Sh extends gt{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Sh.create=(e,t)=>new Sh({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class Ch extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ph(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ch.create=(e,t)=>new Ch({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class ag extends gt{_parse(t){if(this._getType(t)!==Me.nan){const r=this._getOrReturnCtx(t);return Ee(r,{code:pe.invalid_type,expected:Me.nan,received:r.parsedType}),tt}return{status:"valid",value:t.data}}}ag.create=e=>new ag({typeName:nt.ZodNaN,...ut(e)});const MZ=Symbol("zod_brand");class Qw extends gt{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Sm extends gt{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(s.dirty(),Jl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,s){return new Sm({in:t,out:s,typeName:nt.ZodPipeline})}}class kh extends gt{_parse(t){const s=this._def.innerType._parse(t),r=i=>(Nl(i)&&(i.value=Object.freeze(i.value)),i);return ph(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}kh.create=(e,t)=>new kh({innerType:e,typeName:nt.ZodReadonly,...ut(t)});function V2(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Yw(e,t={},s){return e?yd.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=V2(t,r),c=l.fatal??s??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=V2(t,r),l=o.fatal??s??!0;i.addIssue({code:"custom",...o,fatal:l})}}):yd.create()}const IZ={object:is.lazycreate};var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const RZ=(e,t={message:`Input not instance of ${e.name}`})=>Yw(s=>s instanceof e,t),Ae=Br.create,zs=go.create,FZ=ag.create,OZ=xo.create,ko=fh.create,LZ=Sl.create,$Z=ng.create,UZ=gh.create,VR=xh.create,og=yd.create,BZ=ul.create,zZ=ua.create,VZ=rg.create,Xw=Wr.create,Ns=is.create,qZ=is.strictCreate,Zw=yh.create,HZ=Ax.create,WZ=vh.create,GZ=Di.create,qR=bh.create,KZ=ig.create,QZ=Cl.create,YZ=yc.create,XZ=jh.create,HR=wh.create,kl=yo.create,ZZ=Nh.create,JZ=vd.create,q2=Yr.create,eJ=Si.create,tJ=vo.create,sJ=Yr.createWithPreprocess,nJ=Sm.create,rJ=()=>Ae().optional(),iJ=()=>zs().optional(),aJ=()=>ko().optional(),oJ={string:e=>Br.create({...e,coerce:!0}),number:e=>go.create({...e,coerce:!0}),boolean:e=>fh.create({...e,coerce:!0}),bigint:e=>xo.create({...e,coerce:!0}),date:e=>Sl.create({...e,coerce:!0})},lJ=tt,cJ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:MZ,DIRTY:Jl,EMPTY_PATH:uZ,INVALID:tt,NEVER:lJ,OK:Sn,ParseStatus:un,Schema:gt,ZodAny:yd,ZodArray:Wr,ZodBigInt:xo,ZodBoolean:fh,ZodBranded:Qw,ZodCatch:Ch,ZodDate:Sl,ZodDefault:Sh,ZodDiscriminatedUnion:Ax,ZodEffects:Yr,ZodEnum:yo,ZodError:Jn,get ZodFirstPartyTypeKind(){return nt},ZodFunction:yc,ZodIntersection:vh,ZodIssueCode:pe,ZodLazy:jh,ZodLiteral:wh,ZodMap:ig,ZodNaN:ag,ZodNativeEnum:Nh,ZodNever:ua,ZodNull:xh,ZodNullable:vo,ZodNumber:go,ZodObject:is,ZodOptional:Si,ZodParsedType:Me,ZodPipeline:Sm,ZodPromise:vd,ZodReadonly:kh,ZodRecord:bh,ZodSchema:gt,ZodSet:Cl,ZodString:Br,ZodSymbol:ng,ZodTransformer:Yr,ZodTuple:Di,ZodType:gt,ZodUndefined:gh,ZodUnion:yh,ZodUnknown:ul,ZodVoid:rg,addIssueToContext:Ee,any:og,array:Xw,bigint:OZ,boolean:ko,coerce:oJ,custom:Yw,date:LZ,datetimeRegex:BR,defaultErrorMap:xd,discriminatedUnion:HZ,effect:q2,enum:kl,function:YZ,getErrorMap:tg,getParsedType:qi,instanceof:RZ,intersection:WZ,isAborted:tb,isAsync:ph,isDirty:sb,isValid:Nl,late:IZ,lazy:XZ,literal:HR,makeIssue:sg,map:KZ,nan:FZ,nativeEnum:ZZ,never:zZ,null:VR,nullable:tJ,number:zs,object:Ns,get objectUtil(){return eb},oboolean:aJ,onumber:iJ,optional:eJ,ostring:rJ,pipeline:nJ,preprocess:sJ,promise:JZ,quotelessJson:cZ,record:qR,set:QZ,setErrorMap:dZ,strictObject:qZ,string:Ae,symbol:$Z,transformer:q2,tuple:GZ,undefined:UZ,union:Zw,unknown:BZ,get util(){return Ct},void:VZ},Symbol.toStringTag,{value:"Module"})),rs={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function fs(e,t){return t.includes(e.columnType)}function dJ(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const uJ=Zw([Ae(),zs(),ko(),VR()]),hJ=Zw([uJ,qR(og()),Xw(og())]),mJ=Yw(e=>e instanceof Buffer);function WR(e,t){const s=(t==null?void 0:t.zodInstance)??cJ,r=(t==null?void 0:t.coerce)??{};let i;return dJ(e)&&(i=e.enumValues.length?s.enum(e.enumValues):s.string()),i||(fs(e,["PgGeometry","PgPointTuple"])?i=s.tuple([s.number(),s.number()]):fs(e,["PgGeometryObject","PgPointObject"])?i=s.object({x:s.number(),y:s.number()}):fs(e,["PgHalfVector","PgVector"])?(i=s.array(s.number()),i=e.dimensions?i.length(e.dimensions):i):fs(e,["PgLine"])?i=s.tuple([s.number(),s.number(),s.number()]):fs(e,["PgLineABC"])?i=s.object({a:s.number(),b:s.number(),c:s.number()}):fs(e,["PgArray"])?(i=s.array(WR(e.baseColumn,s)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=s.array(s.any()):e.dataType==="number"?i=pJ(e,s,r):e.dataType==="bigint"?i=fJ(e,s,r):e.dataType==="boolean"?i=r===!0||r.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?i=r===!0||r.date?s.coerce.date():s.date():e.dataType==="string"?i=gJ(e,s,r):e.dataType==="json"?i=hJ:e.dataType==="custom"?i=s.any():e.dataType==="buffer"&&(i=mJ)),i||(i=s.any()),i}function pJ(e,t,s){let r=e.getSQLType().includes("unsigned"),i,a,o=!1;fs(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:rs.INT8_MIN,a=r?rs.INT8_UNSIGNED_MAX:rs.INT8_MAX,o=!0):fs(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:rs.INT16_MIN,a=r?rs.INT16_UNSIGNED_MAX:rs.INT16_MAX,o=!0):fs(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:rs.INT24_MIN,a=r?rs.INT24_UNSIGNED_MAX:rs.INT24_MAX,o=fs(e,["MySqlMediumInt","SingleStoreMediumInt"])):fs(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:rs.INT32_MIN,a=r?rs.INT32_UNSIGNED_MAX:rs.INT32_MAX,o=!0):fs(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:rs.INT48_MIN,a=r?rs.INT48_UNSIGNED_MAX:rs.INT48_MAX):fs(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||fs(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):fs(e,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=s===!0||s!=null&&s.number?t.coerce.number():t.number();return l=l.min(i).max(a),o?l.int():l}function fJ(e,t,s){const r=e.getSQLType().includes("unsigned"),i=r?0n:rs.INT64_MIN,a=r?rs.INT64_UNSIGNED_MAX:rs.INT64_MAX;return(s===!0||s!=null&&s.bigint?t.coerce.bigint():t.bigint()).min(i).max(a)}function gJ(e,t,s){if(fs(e,["PgUUID"]))return t.string().uuid();let r,i,a=!1;fs(e,["PgVarchar","SQLiteText"])?r=e.length:fs(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??rs.INT16_UNSIGNED_MAX:fs(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=rs.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=rs.INT24_UNSIGNED_MAX:e.textType==="text"?r=rs.INT16_UNSIGNED_MAX:r=rs.INT8_UNSIGNED_MAX),fs(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),fs(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let o=s===!0||s!=null&&s.string?t.coerce.string():t.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function GR(e){return o3(e)?LX(e):$X(e)}function KR(e,t,s,r){const i={};for(const[a,o]of Object.entries(e)){if(!Qs(o,fd)&&!Qs(o,Is)&&!Qs(o,Is.Aliased)&&typeof o=="object"){const u=o3(o)||OX(o)?GR(o):o;i[a]=KR(u,t[a]??{},s,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Qs(o,fd)?o:void 0,d=c?WR(c,r):og(),h=typeof l=="function"?l(d):d;s.never(c)||(i[a]=h,c&&(s.nullable(c)&&(i[a]=i[a].nullable()),s.optional(c)&&(i[a]=i[a].optional())))}return Ns(i)}const xJ={never:e=>{var t,s;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((s=e==null?void 0:e.generatedIdentity)==null?void 0:s.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Se=(e,t)=>{const s=GR(e);return KR(s,{},xJ)},yJ=je("bank_accounts",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),accountName:ke("account_name",{length:255}).notNull(),accountType:ke("account_type",{length:50}).notNull(),bankName:ke("bank_name",{length:255}).notNull(),accountNumber:ke("account_number",{length:255}).notNull(),routingNumber:ke("routing_number",{length:255}),balance:cn("balance",{precision:12,scale:2}).default("0"),isActive:Ne("is_active").default(!0),plaidAccountId:ke("plaid_account_id",{length:255}),plaidAccessToken:R("plaid_access_token"),lastSynced:W("last_synced").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),vJ=je("bill_payments",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billId:z("bill_id").notNull(),bankAccountId:z("bank_account_id").notNull(),payeeWebsite:ke("payee_website",{length:255}).notNull(),payeeAccountNumber:ke("payee_account_number",{length:255}).notNull(),payeeLoginCredentials:R("payee_login_credentials"),isAutoPay:Ne("is_auto_pay").default(!1),paymentAmount:cn("payment_amount",{precision:10,scale:2}).notNull(),paymentDate:z("payment_date").notNull(),isActive:Ne("is_active").default(!0),lastPaymentDate:W("last_payment_date"),nextPaymentDate:W("next_payment_date").notNull(),status:ke("status",{length:50}).default("active"),failureReason:R("failure_reason"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),bJ=je("payment_transactions",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),billPaymentId:z("bill_payment_id").notNull(),bankAccountId:z("bank_account_id").notNull(),amount:cn("amount",{precision:10,scale:2}).notNull(),status:ke("status",{length:50}).notNull(),transactionId:ke("transaction_id",{length:255}),confirmationNumber:ke("confirmation_number",{length:255}),errorMessage:R("error_message"),initiatedAt:W("initiated_at").defaultNow(),completedAt:W("completed_at"),metadata:Ex("metadata")}),jJ=je("payment_limits",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),limitType:ke("limit_type",{length:50}).notNull(),amount:cn("amount",{precision:10,scale:2}).notNull(),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("balance_history",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),bankAccountId:z("bank_account_id").notNull(),balance:cn("balance",{precision:12,scale:2}).notNull(),recordedAt:W("recorded_at").defaultNow()});const wJ=je("payee_credentials",{id:z("id").primaryKey().generatedByDefaultAsIdentity(),userId:z("user_id").notNull(),payeeName:ke("payee_name",{length:255}).notNull(),website:ke("website",{length:255}).notNull(),loginUsername:R("login_username"),loginPassword:R("login_password"),accountNumber:R("account_number"),additionalFields:Ex("additional_fields"),isActive:Ne("is_active").default(!0),lastVerified:W("last_verified"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se(yJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastSynced:!0});Se(vJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastPaymentDate:!0});Se(bJ).omit({id:!0,initiatedAt:!0,completedAt:!0});Se(jJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(wJ).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerified:!0});const Je=je("users",{id:_e("id").primaryKey(),username:R("username").notNull().unique(),password:R("password").notNull(),name:R("name").notNull(),email:R("email").unique(),accountType:R("account_type").notNull().default("user"),subscriptionTier:R("subscription_tier").notNull().default("free"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),subscriptionStatus:R("subscription_status").default("inactive"),subscriptionExpiresAt:W("subscription_expires_at"),streakDays:z("streak_days").default(0),createdBy:z("created_by"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),NJ=je("caregiver_invitations",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userEmail:R("user_email"),userName:R("user_name").notNull(),userAge:z("user_age"),invitationCode:R("invitation_code").notNull().unique(),status:R("status").notNull().default("pending"),relationship:R("relationship").notNull(),permissionsGranted:xi("permissions_granted"),expiresAt:W("expires_at").notNull(),acceptedAt:W("accepted_at"),acceptedBy:z("accepted_by"),createdAt:W("created_at").defaultNow()}),SJ=je("daily_tasks",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),frequency:R("frequency").notNull().default("daily"),estimatedMinutes:z("estimated_minutes").notNull(),pointValue:z("point_value").default(0),scheduledTime:gd("scheduled_time"),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),dueDate:W("due_date"),lastCompleted:W("last_completed"),lastReminderSent:W("last_reminder_sent"),lastOverdueReminder:W("last_overdue_reminder")}),QR=je("bills",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),amount:Ei("amount").notNull(),dueDate:z("due_date").notNull(),isRecurring:Ne("is_recurring").default(!0),isPaid:Ne("is_paid").default(!1),category:R("category").notNull(),payeeWebsite:R("payee_website"),payeeAccountNumber:R("payee_account_number")}),CJ=je("feedback",{id:_e("id").primaryKey(),userId:z("user_id"),rating:z("rating").notNull(),category:R("category").notNull(),message:R("message").notNull(),page:R("page"),userAgent:R("user_agent"),isResolved:Ne("is_resolved").default(!1),adminNotes:R("admin_notes"),createdAt:W("created_at").defaultNow()}),kJ=je("bank_accounts",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),accountName:R("account_name").notNull(),bankName:R("bank_name").notNull(),accountType:R("account_type").notNull(),accountNickname:R("account_nickname"),bankWebsite:R("bank_website"),lastFour:R("last_four"),balance:Ei("balance").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),_J=je("savings_goals",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),targetAmount:Ei("target_amount").notNull(),currentAmount:Ei("current_amount").default(0),targetDate:W("target_date"),category:R("category").notNull(),priority:R("priority").notNull().default("medium"),isActive:Ne("is_active").default(!0),isCompleted:Ne("is_completed").default(!1),completedAt:W("completed_at"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),TJ=je("savings_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),savingsGoalId:z("savings_goal_id").notNull(),amount:Ei("amount").notNull(),transactionType:R("transaction_type").notNull(),description:R("description"),transactionDate:W("transaction_date").defaultNow(),createdAt:W("created_at").defaultNow()}),PJ=je("mood_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mood:z("mood").notNull(),notes:R("notes"),entryDate:W("entry_date").defaultNow()}),EJ=je("achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),type:R("type").notNull(),title:R("title").notNull(),description:R("description").notNull(),icon:R("icon").notNull(),earnedAt:W("earned_at").defaultNow()}),AJ=je("user_caregiver_connections",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isEmergencyContact:Ne("is_emergency_contact").default(!1),connectionStatus:R("connection_status").notNull().default("active"),isPrimaryCaregiver:Ne("is_primary_caregiver").default(!1),canModifySettings:Ne("can_modify_settings").default(!0),canAccessLocation:Ne("can_access_location").default(!0),canReceiveAlerts:Ne("can_receive_alerts").default(!0),connectedAt:W("connected_at").defaultNow(),notes:R("notes")}),DJ=je("care_relationships",{id:_e("id").primaryKey(),caregiverId:z("caregiver_id").notNull(),userId:z("user_id").notNull(),relationship:R("relationship").notNull(),isPrimary:Ne("is_primary").default(!1),isActive:Ne("is_active").default(!0),establishedAt:W("established_at").defaultNow(),establishedVia:R("established_via").default("invitation")}),MJ=je("caregiver_permissions",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),permissionType:R("permission_type").notNull(),isGranted:Ne("is_granted").default(!0),isLocked:Ne("is_locked").default(!1),grantedBy:z("granted_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),IJ=je("locked_user_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),settingKey:R("setting_key").notNull(),settingValue:R("setting_value").notNull(),isLocked:Ne("is_locked").default(!0),lockedBy:z("locked_by").notNull(),lockReason:R("lock_reason"),canUserView:Ne("can_user_view").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),RJ=je("invitation_codes",{id:_e("id").primaryKey(),code:R("code").notNull().unique(),createdByUserId:z("created_by_user_id").notNull(),targetUserType:R("target_user_type").notNull(),relationship:R("relationship").notNull(),permissions:R("permissions").notNull().default("view"),isUsed:Ne("is_used").default(!1),usedByUserId:z("used_by_user_id"),expiresAt:W("expires_at").notNull(),createdAt:W("created_at").defaultNow(),usedAt:W("used_at")}),FJ=je("caregivers",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),relationship:R("relationship").notNull(),email:R("email"),isActive:Ne("is_active").default(!0)}),YR=je("messages",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),caregiverId:z("caregiver_id").notNull(),content:R("content").notNull(),fromUser:Ne("from_user").notNull(),sentAt:W("sent_at").defaultNow()}),OJ=je("budget_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),category:R("category").notNull(),amount:Ei("amount").notNull(),type:R("type").notNull(),description:R("description"),savingsGoalId:z("savings_goal_id"),isRecurring:Ne("is_recurring").default(!1),recurringFrequency:R("recurring_frequency"),entryDate:W("entry_date").defaultNow(),createdAt:W("created_at").defaultNow()}),LJ=je("budget_categories",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:R("name").notNull(),type:R("type").notNull(),budgetedAmount:Ei("budgeted_amount").default(0),color:R("color").default("#6B7280"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),$J=je("appointments",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),description:R("description"),appointmentDate:R("appointment_date").notNull(),location:R("location"),provider:R("provider"),isCompleted:Ne("is_completed").default(!1),reminderSet:Ne("reminder_set").default(!1),createdAt:W("created_at").defaultNow()}),UJ=je("meal_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),mealType:R("meal_type").notNull(),mealName:R("meal_name").notNull(),plannedDate:R("planned_date").notNull(),isCompleted:Ne("is_completed").default(!1),recipe:R("recipe"),cookingTime:z("cooking_time"),createdAt:W("created_at").defaultNow()}),XR=je("grocery_stores",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),name:ke("name").notNull(),website:ke("website"),onlineOrderingUrl:ke("online_ordering_url"),address:R("address"),phoneNumber:ke("phone_number"),isPreferred:Ne("is_preferred").default(!1),deliveryAvailable:Ne("delivery_available").default(!1),pickupAvailable:Ne("pickup_available").default(!1),createdAt:W("created_at").defaultNow()}),BJ=je("shopping_lists",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),storeId:z("store_id").references(()=>XR.id),itemName:R("item_name").notNull(),category:R("category").notNull(),quantity:R("quantity"),isPurchased:Ne("is_purchased").default(!1),estimatedCost:Ei("estimated_cost"),actualCost:Ei("actual_cost"),addedDate:W("added_date").defaultNow(),purchasedDate:W("purchased_date")}),zJ=je("emergency_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name").notNull(),resourceType:ke("resource_type").notNull(),phoneNumber:ke("phone_number"),address:R("address"),description:R("description"),isAvailable24_7:Ne("is_available_24_7").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});je("audit_logs",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id),action:ke("action",{length:100}).notNull(),resource:ke("resource",{length:100}).notNull(),resourceId:ke("resource_id",{length:100}),ipAddress:ke("ip_address",{length:45}),userAgent:R("user_agent"),success:Ne("success").notNull(),errorMessage:R("error_message"),metadata:R("metadata"),timestamp:W("timestamp").defaultNow().notNull()});const VJ=je("user_privacy_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),dataProcessingConsent:Ne("data_processing_consent").default(!1),analyticsConsent:Ne("analytics_consent").default(!1),marketingConsent:Ne("marketing_consent").default(!1),caregiverDataSharing:Ne("caregiver_data_sharing").default(!0),healthDataSharing:Ne("health_data_sharing").default(!1),dataRetentionPeriod:z("data_retention_period").default(365),consentDate:W("consent_date").defaultNow(),lastUpdated:W("last_updated").defaultNow()}),qJ=je("data_access_requests",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),requestType:ke("request_type",{length:50}).notNull(),status:ke("status",{length:20}).default("pending"),requestData:R("request_data"),responseData:R("response_data"),requestedAt:W("requested_at").defaultNow(),processedAt:W("processed_at"),expiresAt:W("expires_at")}),Dx=je("pharmacies",{id:_e("id").primaryKey(),name:ke("name").notNull(),type:ke("type").notNull(),address:R("address"),phoneNumber:ke("phone_number"),hours:R("hours"),website:ke("website"),refillUrl:ke("refill_url"),apiEndpoint:ke("api_endpoint"),isActive:Ne("is_active").default(!0),isCustom:Ne("is_custom").default(!1),createdBy:z("created_by"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),HJ=je("user_pharmacies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Dx.id),isPrimary:Ne("is_primary").default(!1),accountNumber:ke("account_number"),membershipId:ke("membership_id"),preferredPickupTime:ke("preferred_pickup_time"),hasInsurance:Ne("has_insurance").default(!0),insuranceProvider:ke("insurance_provider"),insuranceGroupNumber:ke("insurance_group_number"),insuranceMemberId:ke("insurance_member_id"),autoRefillEnabled:Ne("auto_refill_enabled").default(!1),textNotifications:Ne("text_notifications").default(!0),emailNotifications:Ne("email_notifications").default(!0),createdAt:W("created_at").defaultNow()}),ZR=je("medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),prescriptionNumber:ke("prescription_number"),medicationName:ke("medication_name").notNull(),dosage:ke("dosage"),quantity:z("quantity"),refillsRemaining:z("refills_remaining").default(0),prescribedBy:ke("prescribed_by"),pharmacyId:z("pharmacy_id").references(()=>Dx.id),lastFilled:W("last_filled"),nextRefillDate:W("next_refill_date"),instructions:R("instructions"),pillColor:ke("pill_color"),pillShape:ke("pill_shape"),pillSize:ke("pill_size"),pillMarkings:R("pill_markings"),pillDescription:R("pill_description"),isActive:Ne("is_active").default(!0),reminderEnabled:Ne("reminder_enabled").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),WJ=je("refill_orders",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationId:z("medication_id").notNull().references(()=>ZR.id),pharmacyId:z("pharmacy_id").notNull().references(()=>Dx.id),orderNumber:ke("order_number"),status:ke("status").notNull().default("pending"),orderDate:W("order_date").defaultNow(),readyDate:W("ready_date"),pickupMethod:ke("pickup_method").default("in_store"),trackingNumber:ke("tracking_number"),totalCost:cn("total_cost"),insuranceCovered:cn("insurance_covered"),copay:cn("copay"),notes:R("notes"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),GJ=je("allergies",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),allergen:ke("allergen",{length:255}).notNull(),severity:ke("severity",{length:50}).notNull(),reaction:R("reaction"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),KJ=je("medical_conditions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),condition:ke("condition",{length:255}).notNull(),diagnosedDate:W("diagnosed_date"),status:ke("status",{length:50}).notNull().default("active"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),QJ=je("adverse_medications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),medicationName:ke("medication_name",{length:255}).notNull(),reaction:R("reaction").notNull(),severity:ke("severity",{length:50}).notNull(),reactionDate:W("reaction_date"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),YJ=je("emergency_contacts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),relationship:ke("relationship",{length:100}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),isEmergencyContact:Ne("is_emergency_contact").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),XJ=je("primary_care_providers",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),specialty:ke("specialty",{length:100}).notNull(),practiceName:ke("practice_name",{length:255}),phoneNumber:ke("phone_number",{length:20}).notNull(),email:ke("email",{length:255}),address:R("address"),isPrimary:Ne("is_primary").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),ZJ=je("symptom_entries",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),symptomName:ke("symptom_name",{length:255}).notNull(),severity:z("severity").notNull(),startTime:W("start_time").notNull(),endTime:W("end_time"),triggers:R("triggers"),location:ke("location",{length:255}),description:R("description"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),JJ=je("personal_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:ke("title",{length:200}).notNull(),url:R("url").notNull(),description:R("description"),category:ke("category",{length:50}).notNull(),tags:R("tags"),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),createdAt:W("created_at").defaultNow(),lastAccessedAt:W("last_accessed_at")}),eee=je("bus_schedules",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:ke("route_name",{length:100}).notNull(),routeNumber:ke("route_number",{length:20}),stopName:ke("stop_name",{length:200}).notNull(),stopAddress:R("stop_address"),direction:ke("direction",{length:50}),departureTime:ke("departure_time",{length:10}).notNull(),daysOfWeek:R("days_of_week").notNull(),isFrequent:Ne("is_frequent").default(!1),notes:R("notes"),createdAt:W("created_at").defaultNow()}),tee=je("emergency_treatment_plans",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planName:ke("plan_name",{length:200}).notNull(),conditionType:ke("condition_type",{length:100}).notNull(),symptoms:R("symptoms").notNull(),immediateActions:R("immediate_actions").notNull(),medications:R("medications"),emergencyContacts:R("emergency_contacts"),hospitalPreference:ke("hospital_preference",{length:200}),importantNotes:R("important_notes"),isActive:Ne("is_active").default(!0),lastReviewed:W("last_reviewed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),JR=je("geofences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:ke("name",{length:255}).notNull(),latitude:cn("latitude",{precision:10,scale:8}).notNull(),longitude:cn("longitude",{precision:11,scale:8}).notNull(),radius:z("radius").notNull(),isActive:Ne("is_active").default(!0),notifyOnExit:Ne("notify_on_exit").default(!0),notifyOnEnter:Ne("notify_on_enter").default(!1),caregiverIds:z("caregiver_ids").array(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),see=je("geofence_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),geofenceId:z("geofence_id").notNull().references(()=>JR.id),eventType:ke("event_type",{length:50}).notNull(),latitude:cn("latitude",{precision:10,scale:8}).notNull(),longitude:cn("longitude",{precision:11,scale:8}).notNull(),timestamp:W("timestamp").defaultNow(),notificationSent:Ne("notification_sent").default(!1)}),nee=Se(Je).omit({id:!0,streakDays:!0,createdAt:!0});Ns({username:Ae().min(1,"Username is required"),password:Ae().min(1,"Password is required")});nee.extend({confirmPassword:Ae().min(1,"Please confirm your password"),accountType:kl(["user","caregiver"]).default("user")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});Se(AJ).omit({id:!0,connectedAt:!0});Se(RJ).omit({id:!0,createdAt:!0,usedAt:!0,isUsed:!0,usedByUserId:!0});Se(SJ).omit({id:!0,completedAt:!0,lastCompleted:!0,lastReminderSent:!0,lastOverdueReminder:!0});Se(QR).omit({id:!0});Se(PJ).omit({id:!0,entryDate:!0});Se(EJ).omit({id:!0,earnedAt:!0});Se(FJ).omit({id:!0});Se(YR).omit({id:!0,sentAt:!0});Se(OJ).omit({id:!0,entryDate:!0,createdAt:!0});const ree=Se($J).omit({id:!0,createdAt:!0}),iee=Se(UJ).omit({id:!0,createdAt:!0});Se(XR).omit({id:!0,createdAt:!0});const aee=Se(BJ).omit({id:!0,addedDate:!0,purchasedDate:!0}),oee=Se(zJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(VJ).omit({id:!0,consentDate:!0,lastUpdated:!0});Se(qJ).omit({id:!0,requestedAt:!0,processedAt:!0,expiresAt:!0});Se(Dx).omit({id:!0,createdAt:!0,updatedAt:!0});Se(HJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(ZR).omit({id:!0,createdAt:!0,updatedAt:!0});Se(WJ).omit({id:!0,orderDate:!0,createdAt:!0,updatedAt:!0});Se(GJ).omit({id:!0,createdAt:!0});Se(KJ).omit({id:!0,createdAt:!0});Se(QJ).omit({id:!0,createdAt:!0});Se(YJ).omit({id:!0,createdAt:!0});Se(XJ).omit({id:!0,createdAt:!0});const H2=Se(ZJ).omit({id:!0,userId:!0,createdAt:!0}),lee=Se(JJ).omit({id:!0,accessCount:!0,createdAt:!0,lastAccessedAt:!0});Se(eee).omit({id:!0,createdAt:!0});Se(tee).omit({id:!0,createdAt:!0,updatedAt:!0,lastReviewed:!0});Se(JR).omit({id:!0,createdAt:!0,updatedAt:!0});Se(see).omit({id:!0,timestamp:!0});Se(CJ);Se(kJ).omit({id:!0,accountName:!0,balance:!0,createdAt:!0,updatedAt:!0});Se(_J).omit({id:!0,currentAmount:!0,isCompleted:!0,completedAt:!0,createdAt:!0,updatedAt:!0});Se(TJ).omit({id:!0,createdAt:!0});Se(LJ).omit({id:!0,createdAt:!0,updatedAt:!0});const cee=je("notifications",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),type:R("type").notNull(),title:R("title").notNull(),message:R("message").notNull(),isRead:Ne("is_read").default(!1),scheduledFor:W("scheduled_for"),sentAt:W("sent_at"),relatedId:z("related_id"),priority:R("priority").default("normal"),createdAt:W("created_at").defaultNow()}),dee=je("user_preferences",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),notificationSettings:xi("notification_settings").default({}),reminderTiming:xi("reminder_timing").default({}),themeSettings:xi("theme_settings").default({}),accessibilitySettings:xi("accessibility_settings").default({}),behaviorPatterns:xi("behavior_patterns").default({}),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),uee=je("payment_analytics",{id:_e("id").primaryKey(),userId:z("user_id").references(()=>Je.id,{onDelete:"cascade"}).notNull(),eventType:R("event_type").notNull(),paymentMethod:R("payment_method"),billId:z("bill_id").references(()=>QR.id,{onDelete:"cascade"}),plaidApiCall:R("plaid_api_call"),estimatedCost:cn("estimated_cost",{precision:10,scale:4}),metadata:Ex("metadata"),createdAt:W("created_at").defaultNow().notNull()});Se(uee).omit({id:!0,createdAt:!0});const hee=je("user_achievements",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),achievementType:R("achievement_type").notNull(),title:R("title").notNull(),description:R("description").notNull(),iconName:R("icon_name").notNull(),earnedAt:W("earned_at").defaultNow(),category:R("category").notNull(),points:z("points").default(0),level:z("level").default(1)}),mee=je("streak_tracking",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),streakType:R("streak_type").notNull(),currentStreak:z("current_streak").default(0),longestStreak:z("longest_streak").default(0),lastActivityDate:Px("last_activity_date"),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),pee=je("voice_interactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),command:R("command").notNull(),transcript:R("transcript").notNull(),action:R("action").notNull(),success:Ne("success").default(!0),createdAt:W("created_at").defaultNow()}),fee=je("quick_responses",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),messageTemplate:R("message_template").notNull(),category:R("category").notNull(),useCount:z("use_count").default(0),isActive:Ne("is_active").default(!0),createdAt:W("created_at").defaultNow()}),gee=je("message_reactions",{id:_e("id").primaryKey(),messageId:z("message_id").notNull().references(()=>YR.id),userId:z("user_id").notNull().references(()=>Je.id),emoji:R("emoji").notNull(),createdAt:W("created_at").defaultNow()}),xee=je("calendar_events",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description"),startDate:W("start_date").notNull(),endDate:W("end_date"),allDay:Ne("all_day").default(!1),category:R("category").default("personal"),color:R("color").default("#3b82f6"),location:R("location"),isRecurring:Ne("is_recurring").default(!1),recurrenceRule:R("recurrence_rule"),reminderMinutes:z("reminder_minutes"),isCompleted:Ne("is_completed").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),yee=je("activity_patterns",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),activityType:R("activity_type").notNull(),timeOfDay:gd("time_of_day"),dayOfWeek:z("day_of_week"),frequency:z("frequency").default(1),lastUpdated:W("last_updated").defaultNow()}),Cm=je("academic_classes",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),className:R("class_name").notNull(),instructor:R("instructor"),room:R("room"),building:R("building"),dayOfWeek:z("day_of_week").notNull(),startTime:gd("start_time").notNull(),endTime:gd("end_time").notNull(),semester:R("semester").notNull(),credits:z("credits"),isActive:Ne("is_active").default(!0),notes:R("notes"),createdAt:W("created_at").defaultNow()}),vee=je("study_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),subject:R("subject").notNull(),duration:z("duration").notNull(),technique:R("technique"),location:R("location"),effectiveness:z("effectiveness"),notes:R("notes"),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at")}),bee=je("assignments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),title:R("title").notNull(),description:R("description"),type:R("type").notNull(),dueDate:W("due_date").notNull(),estimatedHours:z("estimated_hours"),priority:R("priority").default("medium"),status:R("status").default("not_started"),grade:R("grade"),submittedAt:W("submitted_at"),createdAt:W("created_at").defaultNow()}),jee=je("campus_locations",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),building:R("building"),floor:R("floor"),description:R("description"),category:R("category").notNull().default("academic"),createdAt:W("created_at").defaultNow()}),wee=je("campus_transport",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routeName:R("route_name").notNull(),fromStop:R("from_stop").notNull(),toStop:R("to_stop"),departureTime:R("departure_time"),estimatedDuration:z("estimated_duration").default(15),createdAt:W("created_at").defaultNow()}),Nee=je("study_groups",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),groupName:R("group_name").notNull(),meetingTime:W("meeting_time"),location:R("location"),members:R("members").array(),topics:R("topics").array(),isRecurring:Ne("is_recurring").default(!1),recurringPattern:R("recurring_pattern"),notes:R("notes"),createdAt:W("created_at").defaultNow()}),See=je("academic_resources",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),classId:z("class_id").references(()=>Cm.id),title:R("title").notNull(),type:R("type").notNull(),url:R("url"),description:R("description"),rating:z("rating"),tags:R("tags").array(),isFavorite:Ne("is_favorite").default(!1),accessCount:z("access_count").default(0),lastAccessed:W("last_accessed"),createdAt:W("created_at").defaultNow()}),Cee=je("transition_skills",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),description:R("description"),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),practiceActivities:R("practice_activities").array(),milestones:xi("milestones").default("[]"),lastPracticed:W("last_practiced"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Jw=je("task_templates",{id:_e("id").primaryKey(),title:R("title").notNull(),description:R("description").notNull(),category:R("category").notNull(),difficulty:R("difficulty").notNull().default("beginner"),estimatedMinutes:z("estimated_minutes").notNull(),icon:R("icon").default("CheckSquare"),color:R("color").default("blue"),isPublic:Ne("is_public").default(!0),createdBy:z("created_by"),createdAt:W("created_at").defaultNow()}),kee=je("task_steps",{id:_e("id").primaryKey(),templateId:z("template_id").notNull().references(()=>Jw.id),stepNumber:z("step_number").notNull(),title:R("title").notNull(),description:R("description").notNull(),visualAid:R("visual_aid"),estimatedMinutes:z("estimated_minutes").default(1),tips:R("tips"),safetyNotes:R("safety_notes")}),_ee=je("user_task_instances",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),templateId:z("template_id").notNull().references(()=>Jw.id),currentStep:z("current_step").default(1),isCompleted:Ne("is_completed").default(!1),startedAt:W("started_at").defaultNow(),completedAt:W("completed_at"),notes:R("notes"),difficulty:R("difficulty").notNull(),stepProgress:xi("step_progress").default("{}")}),Tee=je("skill_assessments",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),skillCategory:R("skill_category").notNull(),skillName:R("skill_name").notNull(),currentLevel:z("current_level").default(1),targetLevel:z("target_level").default(5),assessmentDate:W("assessment_date").defaultNow(),assessedBy:R("assessed_by"),notes:R("notes"),recommendedActivities:R("recommended_activities").array(),nextAssessment:W("next_assessment")}),Pee=je("visual_routines",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),routineName:R("routine_name").notNull(),routineType:R("routine_type").notNull(),isActive:Ne("is_active").default(!0),estimatedMinutes:z("estimated_minutes"),reminderTime:gd("reminder_time"),steps:xi("steps").notNull().default("[]"),completionCount:z("completion_count").default(0),lastCompleted:W("last_completed"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Fd=je("wearable_devices",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),name:R("name").notNull(),type:R("type").notNull(),brand:R("brand").notNull(),model:R("model").notNull(),deviceId:R("device_id").unique(),isConnected:Ne("is_connected").default(!1),lastSync:W("last_sync"),batteryLevel:z("battery_level"),firmwareVersion:R("firmware_version"),features:R("features").array(),syncFrequency:R("sync_frequency").default("automatic"),isActive:Ne("is_active").default(!0),notes:R("notes"),pairedAt:W("paired_at").defaultNow()}),Eee=je("health_metrics",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),metricType:R("metric_type").notNull(),value:cn("value",{precision:10,scale:2}).notNull(),unit:R("unit").notNull(),recordedAt:W("recorded_at").notNull(),context:R("context"),accuracy:R("accuracy").default("good"),source:R("source").default("automatic"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Aee=je("activity_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),activityType:R("activity_type").notNull(),duration:z("duration_minutes").notNull(),distance:cn("distance",{precision:8,scale:2}),caloriesBurned:z("calories_burned"),averageHeartRate:z("average_heart_rate"),maxHeartRate:z("max_heart_rate"),steps:z("steps"),startedAt:W("started_at").notNull(),completedAt:W("completed_at"),location:R("location"),intensity:R("intensity"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Dee=je("sleep_sessions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),sleepDate:Px("sleep_date").notNull(),bedtime:W("bedtime"),sleepTime:W("sleep_time"),wakeTime:W("wake_time"),totalSleepDuration:z("total_sleep_duration"),deepSleepDuration:z("deep_sleep_duration"),lightSleepDuration:z("light_sleep_duration"),remSleepDuration:z("rem_sleep_duration"),awakeDuration:z("awake_duration"),sleepEfficiency:cn("sleep_efficiency",{precision:5,scale:2}),sleepScore:z("sleep_score"),heartRateVariability:z("heart_rate_variability"),restingHeartRate:z("resting_heart_rate"),quality:R("quality"),notes:R("notes"),syncedAt:W("synced_at").defaultNow()}),Mee=je("wearable_alerts",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),alertType:R("alert_type").notNull(),title:R("title").notNull(),message:R("message").notNull(),priority:R("priority").default("medium"),isRead:Ne("is_read").default(!1),isAcknowledged:Ne("is_acknowledged").default(!1),triggerValue:R("trigger_value"),actionTaken:R("action_taken"),triggeredAt:W("triggered_at").notNull(),acknowledgedAt:W("acknowledged_at"),resolvedAt:W("resolved_at")}),Iee=je("wearable_settings",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),deviceId:z("device_id").references(()=>Fd.id),settingName:R("setting_name").notNull(),settingValue:R("setting_value").notNull(),isEnabled:Ne("is_enabled").default(!0),lastModified:W("last_modified").defaultNow(),modifiedBy:R("modified_by")});Se(cee).omit({id:!0,sentAt:!0,createdAt:!0});Se(dee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(hee).omit({id:!0,earnedAt:!0});Se(mee).omit({id:!0,createdAt:!0});Se(pee).omit({id:!0,createdAt:!0});Se(fee).omit({id:!0,useCount:!0,createdAt:!0});Se(gee).omit({id:!0,createdAt:!0});Se(yee).omit({id:!0,lastUpdated:!0});Se(xee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(Cm).omit({id:!0,createdAt:!0});Se(vee).omit({id:!0,startedAt:!0});Se(bee).omit({id:!0,createdAt:!0});Se(jee).omit({id:!0,createdAt:!0});Se(wee).omit({id:!0});Se(Nee).omit({id:!0,createdAt:!0});Se(See).omit({id:!0,accessCount:!0,createdAt:!0});Se(Cee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(MJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(IJ).omit({id:!0,createdAt:!0,updatedAt:!0});Se(NJ).omit({id:!0,createdAt:!0});Se(DJ).omit({id:!0,establishedAt:!0});const Ree=je("personal_documents",{id:_e("id").primaryKey(),userId:z("user_id").notNull(),title:R("title").notNull(),category:R("category").notNull(),description:R("description"),documentType:R("document_type").notNull(),content:R("content"),imageUrl:R("image_url"),fileName:R("file_name"),linkUrl:R("link_url"),tags:R("tags").array(),isImportant:Ne("is_important").default(!1),expirationDate:Px("expiration_date"),reminderDays:z("reminder_days"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Fee=Se(Ree).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}),eF=je("rewards",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),caregiverId:z("caregiver_id").notNull().references(()=>Je.id),title:R("title").notNull(),description:R("description").notNull(),pointsRequired:z("points_required").notNull(),category:R("category").notNull(),rewardType:R("reward_type").notNull(),value:R("value"),isActive:Ne("is_active").default(!0),maxRedemptions:z("max_redemptions"),currentRedemptions:z("current_redemptions").default(0),expiresAt:W("expires_at"),iconName:R("icon_name").default("gift"),color:R("color").default("#3b82f6"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Oee=je("reward_redemptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),rewardId:z("reward_id").notNull().references(()=>eF.id),pointsSpent:z("points_spent").notNull(),status:R("status").default("pending"),redeemedAt:W("redeemed_at").defaultNow(),fulfilledAt:W("fulfilled_at"),notes:R("notes")}),Lee=je("points_transactions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),points:z("points").notNull(),transactionType:R("transaction_type").notNull(),source:R("source").notNull(),description:R("description").notNull(),awardedBy:z("awarded_by").references(()=>Je.id),createdAt:W("created_at").defaultNow()}),$ee=je("user_points_balance",{id:_e("id").primaryKey(),userId:z("user_id").notNull().unique().references(()=>Je.id),totalPoints:z("total_points").default(0),availablePoints:z("available_points").default(0),lifetimeEarned:z("lifetime_earned").default(0),lifetimeSpent:z("lifetime_spent").default(0),updatedAt:W("updated_at").defaultNow()});Se(Jw).omit({id:!0,createdAt:!0});Se(kee).omit({id:!0});Se(_ee).omit({id:!0,startedAt:!0});Se(Tee).omit({id:!0,assessmentDate:!0});Se(Pee).omit({id:!0,createdAt:!0,updatedAt:!0});Se(Fd).omit({id:!0,pairedAt:!0});Se(Eee).omit({id:!0,syncedAt:!0});Se(Aee).omit({id:!0,syncedAt:!0});Se(Dee).omit({id:!0,syncedAt:!0});Se(Mee).omit({id:!0});Se(Iee).omit({id:!0,lastModified:!0});const eN=je("subscriptions",{id:_e("id").primaryKey(),userId:z("user_id").notNull().references(()=>Je.id),planType:R("plan_type").notNull(),billingCycle:R("billing_cycle").default("monthly"),status:R("status").notNull().default("active"),currentPeriodStart:W("current_period_start").notNull(),currentPeriodEnd:W("current_period_end").notNull(),cancelAtPeriodEnd:Ne("cancel_at_period_end").default(!1),trialStart:W("trial_start"),trialEnd:W("trial_end"),stripeCustomerId:R("stripe_customer_id"),stripeSubscriptionId:R("stripe_subscription_id"),priceId:R("price_id"),amount:z("amount"),currency:R("currency").default("usd"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Uee=je("subscription_usage",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>eN.id),featureName:R("feature_name").notNull(),usageCount:z("usage_count").default(0),usageLimit:z("usage_limit"),resetPeriod:R("reset_period").default("monthly"),lastReset:W("last_reset").defaultNow(),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),Bee=je("payment_history",{id:_e("id").primaryKey(),subscriptionId:z("subscription_id").notNull().references(()=>eN.id),stripePaymentIntentId:R("stripe_payment_intent_id"),amount:z("amount").notNull(),currency:R("currency").default("usd"),status:R("status").notNull(),paymentMethod:R("payment_method"),description:R("description"),failureReason:R("failure_reason"),paidAt:W("paid_at"),createdAt:W("created_at").defaultNow()});Se(eN);Se(Uee);Se(Bee);Se(eF).omit({id:!0,currentRedemptions:!0,createdAt:!0,updatedAt:!0});Se(Oee).omit({id:!0,redeemedAt:!0});Se(Lee).omit({id:!0,createdAt:!0});Se($ee).omit({id:!0,updatedAt:!0});function zee(){const[e,t]=v.useState(!1),s=Yt(),{toast:r}=dt(),{data:i,isLoading:a}=xe({queryKey:["/api/appointments"]}),{data:o}=xe({queryKey:["/api/appointments/upcoming"]}),l=Bt({resolver:Vt(ree.omit({userId:!0})),defaultValues:{title:"",description:"",appointmentDate:"",location:"",provider:"",isCompleted:!1,reminderSet:!1}}),c=Ce({mutationFn:async x=>ye("POST","/api/appointments",x),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/appointments"]}),s.invalidateQueries({queryKey:["/api/appointments/upcoming"]}),t(!1),l.reset(),r({title:"Success!",description:"Appointment scheduled successfully"})},onError:x=>{console.error("Failed to create appointment:",x),r({title:"Error",description:"Failed to create appointment. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:x,isCompleted:g})=>ye("PATCH",`/api/appointments/${x}/complete`,{isCompleted:g}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/appointments"]}),s.invalidateQueries({queryKey:["/api/appointments/upcoming"]})}}),h=x=>{if(!x.title||!x.appointmentDate){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}c.mutate(x)},u=x=>{const g=new Date(x),p=new Date,y=new Date(p.getFullYear(),p.getMonth(),p.getDate()),b=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=Math.floor((b.getTime()-y.getTime())/(1e3*60*60*24));let C="";w===0?C="Today":w===1?C="Tomorrow":w===-1?C="Yesterday":w>1?C=`In ${w} days`:C=`${Math.abs(w)} days ago`;const N=g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),S=g.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});return{dayLabel:C,timeStr:N,dateStr:S}},m=x=>{if(x.isCompleted)return"completed";const g=new Date(x.appointmentDate),p=new Date;return g<p?"missed":Math.floor((g.getTime()-p.getTime())/(1e3*60*60))<=24?"upcoming":"scheduled"},f=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"missed":return"bg-red-100 text-red-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},j=x=>{switch(x){case"completed":return"Completed";case"missed":return"Missed";case"upcoming":return"Soon";default:return"Scheduled"}};return a?n.jsxs(L,{className:"h-full",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Appointments"})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((x,g)=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},g))})})]}):n.jsxs(L,{className:"h-full",children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Appointments"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-1"}),"Add"]})}),n.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Schedule New Appointment"})}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] px-1",children:n.jsx(zt,{...l,children:n.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-4 pb-4",children:[n.jsx(Z,{control:l.control,name:"title",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Appointment Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Doctor visit, dentist checkup...",...x})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"provider",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Provider Type"}),n.jsxs(Ge,{onValueChange:x.onChange,defaultValue:x.value||"",children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select provider type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"dentist",children:"Dentist"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"specialist",children:"Specialist"}),n.jsx(B,{value:"counselor",children:"Counselor"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"appointmentDate",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Date & Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",...x})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"location",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Clinic name, address...",...x,value:x.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:l.control,name:"description",render:({field:x})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Any additional notes...",...x,value:x.value||""})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{type:"submit",disabled:c.isPending,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:c.isPending?"Scheduling...":"Schedule Appointment"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})})]})]})]})}),n.jsxs(V,{className:"space-y-4",children:[o&&o.length>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ws,{className:"w-4 h-4 text-yellow-600"}),n.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[o.length," upcoming appointment",o.length>1?"s":""]})]})}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i&&i.length>0?i.sort((x,g)=>new Date(x.appointmentDate).getTime()-new Date(g.appointmentDate).getTime()).map(x=>{const{dayLabel:g,timeStr:p,dateStr:y}=u(x.appointmentDate),b=m(x);return n.jsx("div",{className:"border rounded-lg p-3 space-y-2 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),n.jsx(he,{className:f(b),children:j(b)})]}),n.jsxs("div",{className:"mt-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Ht,{className:"w-3 h-3"}),n.jsxs("span",{children:[g,"  ",y]})]}),n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(ws,{className:"w-3 h-3"}),n.jsx("span",{children:p})]})]}),x.provider&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(If,{className:"w-3 h-3"}),n.jsx("span",{className:"capitalize",children:x.provider})]}),x.location&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(Zs,{className:"w-3 h-3"}),n.jsx("span",{children:x.location})]}),x.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]})]}),!x.isCompleted&&b!=="missed"&&n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>d.mutate({id:x.id,isCompleted:!0}),disabled:d.isPending,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:n.jsx(uc,{className:"w-4 h-4"})})]})},x.id)}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No appointments scheduled yet"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add" to schedule your first appointment'})]})})]})]})}function Vee(){const{data:e=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:t=[]}=xe({queryKey:["/api/bills"]}),{data:s}=xe({queryKey:["/api/mood-entries/today"]}),r=new Date;r.toISOString().split("T")[0];const i=e.filter(u=>(u.frequency==="daily"||!u.frequency)&&!u.isCompleted),a=e.filter(u=>{if(u.frequency!=="weekly"||u.isCompleted||!u.dueDate)return!1;const m=new Date(u.dueDate),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f<=2&&f>=0}),o=t.filter(u=>{if(u.isPaid)return!1;const m=new Date(u.dueDate),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f<=3&&f>=0}),l=e.filter(u=>u.completedAt?new Date(u.completedAt).toDateString()===r.toDateString():!1),c=e.filter(u=>u.frequency==="daily"||!u.frequency).length,d=c>0?Math.round(l.length/c*100):0,h=u=>{const m=new Date(u),f=Math.ceil((m.getTime()-r.getTime())/(1e3*60*60*24));return f===0?"Today":f===1?"Tomorrow":`${f} days`};return n.jsxs(L,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:[n.jsxs(le,{className:"pb-3",children:[n.jsxs(ce,{className:"text-xl flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-blue-600"}),"Today's Summary"]}),n.jsx("p",{className:"text-sm text-gray-600",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Ni,{className:"w-4 h-4 text-green-600"}),"Daily Progress"]}),n.jsxs(he,{variant:"secondary",className:`${d>=80?"bg-green-100 text-green-700":d>=50?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:[d,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600",children:[l.length," of ",c," daily tasks completed"]})]}),i.length>0&&n.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx($t,{className:"w-4 h-4 text-blue-600"}),"Pending Daily Tasks (",i.length,")"]}),n.jsxs("div",{className:"space-y-2",children:[i.slice(0,3).map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:u.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{variant:"outline",className:"text-xs",children:u.category}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(ws,{className:"w-3 h-3"}),u.estimatedMinutes,"min"]})]})]},u.id)),i.length>3&&n.jsx(Oe,{href:"/daily-tasks",children:n.jsxs(E,{variant:"ghost",size:"sm",className:"text-xs w-full",children:["View ",i.length-3," more tasks"]})})]})]}),(a.length>0||o.length>0)&&n.jsxs("div",{className:"bg-amber-50/70 p-4 rounded-lg border border-amber-200",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(Jt,{className:"w-4 h-4 text-amber-600"}),"Upcoming Deadlines"]}),n.jsxs("div",{className:"space-y-2",children:[a.map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:u.title}),n.jsx(he,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:h(u.dueDate)})]},`task-${u.id}`)),o.map(u=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pi,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{className:"text-gray-700",children:u.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-gray-600",children:["$",u.amount]}),n.jsx(he,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:h(u.dueDate.toString())})]})]},`bill-${u.id}`))]})]}),!s&&n.jsx("div",{className:"bg-red-50/70 p-4 rounded-lg border-2 border-red-300 ring-2 ring-red-200 animate-pulse",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-red-800 flex items-center gap-2",children:[n.jsx(Jt,{className:"w-4 h-4 text-red-600"}),"Required Daily Check-in"]}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Complete your mood check-in to continue using Adaptalyfe"})]}),n.jsx(Oe,{href:"/mood-tracking",children:n.jsx(E,{size:"sm",className:"bg-red-600 hover:bg-red-700 animate-bounce",children:"Complete Now"})})]})}),i.length===0&&a.length===0&&o.length===0&&s&&n.jsxs("div",{className:"bg-green-50/70 p-4 rounded-lg border border-green-200 text-center",children:[n.jsx($t,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),n.jsx("h3",{className:"font-semibold text-gray-800",children:"All caught up!"}),n.jsx("p",{className:"text-sm text-gray-600",children:"No urgent tasks or deadlines today."})]})]})]})}function _h(e){try{return v.useRef(e)}catch{return{current:e}}}function qee(e,t){return v.useReducer((s,r)=>t[s][r]??s,e)}var tN="ScrollArea",[tF,Ahe]=Fn(tN),[Hee,vr]=tF(tN),sF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[d,h]=v.useState(null),[u,m]=v.useState(null),[f,j]=v.useState(null),[x,g]=v.useState(null),[p,y]=v.useState(0),[b,w]=v.useState(0),[C,N]=v.useState(!1),[S,k]=v.useState(!1),T=xt(t,P=>c(P)),D=bm(i);return n.jsx(Hee,{scope:s,type:r,dir:D,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:j,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:w,children:n.jsx(Ve.div,{dir:D,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});sF.displayName=tN;var nF="ScrollAreaViewport",rF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=e,o=vr(nF,s),l=v.useRef(null),c=xt(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});rF.displayName=nF;var Ri="ScrollAreaScrollbar",sN=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ri,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?n.jsx(Wee,{...r,ref:t,forceMount:s}):i.type==="scroll"?n.jsx(Gee,{...r,ref:t,forceMount:s}):i.type==="auto"?n.jsx(iF,{...r,ref:t,forceMount:s}):i.type==="always"?n.jsx(nN,{...r,ref:t}):null});sN.displayName=Ri;var Wee=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ri,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(yr,{present:s||a,children:n.jsx(iF,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Gee=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=vr(Ri,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Ix(()=>c("SCROLL_END"),100),[l,c]=qee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),v.useEffect(()=>{const d=i.viewport,h=a?"scrollLeft":"scrollTop";if(d){let u=d[h];const m=()=>{const f=d[h];u!==f&&(c("SCROLL"),o()),u=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),n.jsx(yr,{present:s||l!=="hidden",children:n.jsx(nN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),iF=v.forwardRef((e,t)=>{const s=vr(Ri,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=Ix(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:h)}},10);return bd(s.viewport,c),bd(s.content,c),n.jsx(yr,{present:r||a,children:n.jsx(nN,{"data-state":a?"visible":"hidden",...i,ref:t})})}),nN=v.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,i=vr(Ri,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=dF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function u(m,f){return Jee(m,o.current,l,f)}return s==="horizontal"?n.jsx(Kee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,f=W2(m,l,i.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=u(m,i.dir))}}):s==="vertical"?n.jsx(Qee,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,f=W2(m,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=u(m))}}):null}),Kee=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=vr(Ri,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=xt(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(oF,{"data-orientation":"horizontal",...i,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),hF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:cg(o.paddingLeft),paddingEnd:cg(o.paddingRight)}})}})}),Qee=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=vr(Ri,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=xt(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(oF,{"data-orientation":"vertical",...i,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),hF(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:cg(o.paddingTop),paddingEnd:cg(o.paddingBottom)}})}})}),[Yee,aF]=tF(Ri),oF=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:u,...m}=e,f=vr(Ri,s),[j,x]=v.useState(null),g=xt(t,T=>x(T)),p=v.useRef(null),y=v.useRef(""),b=f.viewport,w=r.content-r.viewport,C=ms(h),N=ms(c),S=Ix(u,10);function k(T){if(p.current){const D=T.clientX-p.current.left,P=T.clientY-p.current.top;d({x:D,y:P})}}return v.useEffect(()=>{const T=D=>{const P=D.target;(j==null?void 0:j.contains(P))&&C(D,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,j,w,C]),v.useEffect(N,[r,N]),bd(j,S),bd(f.content,S),n.jsx(Yee,{scope:s,scrollbar:j,hasThumb:i,onThumbChange:ms(a),onThumbPointerUp:ms(o),onThumbPositionChange:N,onThumbPointerDown:ms(l),children:n.jsx(Ve.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Fe(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),p.current=j.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:Fe(e.onPointerMove,k),onPointerUp:Fe(e.onPointerUp,T=>{const D=T.target;D.hasPointerCapture(T.pointerId)&&D.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),p.current=null})})})}),lg="ScrollAreaThumb",lF=v.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=aF(lg,e.__scopeScrollArea);return n.jsx(yr,{present:s||i.hasThumb,children:n.jsx(Xee,{ref:t,...r})})}),Xee=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...i}=e,a=vr(lg,s),o=aF(lg,s),{onThumbPositionChange:l}=o,c=xt(t,u=>o.onThumbChange(u)),d=v.useRef(void 0),h=Ix(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(h(),!d.current){const f=ete(u,l);d.current=f,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,h,l]),n.jsx(Ve.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Fe(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),j=u.clientX-f.left,x=u.clientY-f.top;o.onThumbPointerDown({x:j,y:x})}),onPointerUp:Fe(e.onPointerUp,o.onThumbPointerUp)})});lF.displayName=lg;var rN="ScrollAreaCorner",cF=v.forwardRef((e,t)=>{const s=vr(rN,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(Zee,{...e,ref:t}):null});cF.displayName=rN;var Zee=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,i=vr(rN,s),[a,o]=v.useState(0),[l,c]=v.useState(0),d=!!(a&&l);return bd(i.scrollbarX,()=>{var u;const h=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),bd(i.scrollbarY,()=>{var u;const h=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?n.jsx(Ve.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function cg(e){return e?parseInt(e,10):0}function dF(e,t){const s=e/t;return isNaN(s)?0:s}function Mx(e){const t=dF(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function Jee(e,t,s,r="ltr"){const i=Mx(s),a=i/2,o=t||a,l=i-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return uF([c,d],u)(e)}function W2(e,t,s="ltr"){const r=Mx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=s==="ltr"?[0,o]:[o*-1,0],d=mh(e,c);return uF([0,o],[0,l])(d)}function uF(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function hF(e,t){return e>0&&e<t}var ete=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&t(),s=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Ix(e,t){const s=ms(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function bd(e,t){const s=ms(t);Ts(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,s])}var mF=sF,tte=rF,ste=cF;const dg=v.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(mF,{ref:r,className:Le("relative overflow-hidden",e),...s,children:[n.jsx(tte,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(pF,{}),n.jsx(ste,{})]}));dg.displayName=mF.displayName;const pF=v.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(sN,{ref:r,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(lF,{className:"relative flex-1 rounded-full bg-border"})}));pF.displayName=sN.displayName;var iN="Avatar",[nte,Dhe]=Fn(iN),[rte,fF]=nte(iN),gF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[i,a]=v.useState("idle");return n.jsx(rte,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(Ve.span,{...r,ref:t})})});gF.displayName=iN;var xF="AvatarImage",yF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=fF(xF,s),l=ite(r,a),c=ms(d=>{i(d),o.onImageLoadingStatusChange(d)});return Ts(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Ve.img,{...a,ref:t,src:r}):null});yF.displayName=xF;var vF="AvatarFallback",bF=v.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...i}=e,a=fF(vF,s),[o,l]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(Ve.span,{...i,ref:t}):null});bF.displayName=vF;function G2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ite(e,{referrerPolicy:t,crossOrigin:s}){const r=ote(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=v.useState(()=>G2(a,e));return Ts(()=>{l(G2(a,e))},[a,e]),Ts(()=>{const c=u=>()=>{l(u)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,s,t]),o}function ate(){return()=>{}}function ote(){return v.useSyncExternalStore(ate,()=>!0,()=>!1)}var jF=gF,wF=yF,NF=bF;const _a=v.forwardRef(({className:e,...t},s)=>n.jsx(jF,{ref:s,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_a.displayName=jF.displayName;const lte=v.forwardRef(({className:e,...t},s)=>n.jsx(wF,{ref:s,className:Le("aspect-square h-full w-full",e),...t}));lte.displayName=wF.displayName;const Ta=v.forwardRef(({className:e,...t},s)=>n.jsx(NF,{ref:s,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ta.displayName=NF.displayName;function cte(){const{data:e}=xe({queryKey:["/api/user"]}),t=(e==null?void 0:e.subscriptionTier)==="premium"||(e==null?void 0:e.subscriptionStatus)==="active";return{user:e,isPremium:t,isBasic:!t,subscriptionTier:(e==null?void 0:e.subscriptionTier)||"basic",subscriptionStatus:(e==null?void 0:e.subscriptionStatus)||"inactive",hasFeatureAccess:r=>r==="basic"||t}}function K2({onSendMessage:e,disabled:t=!1,placeholder:s="Type your message...",className:r=""}){const[i,a]=v.useState(""),o=_h(null),l=v.useCallback(()=>{i.trim()&&!t&&(e(i.trim()),a(""),setTimeout(()=>{var h;(h=o.current)==null||h.focus()},0))},[i,t,e]),c=v.useCallback(h=>{a(h.target.value)},[]),d=v.useCallback(h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),l())},[l]);return n.jsxs("div",{className:`flex gap-2 ${r}`,children:[n.jsx(q,{ref:o,type:"text",placeholder:s,value:i,onChange:c,onKeyDown:d,disabled:t,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"flex-1"}),n.jsx(E,{onClick:l,disabled:t||!i.trim(),size:"sm",children:n.jsx(ND,{className:"w-4 h-4"})})]})}function dte(){const[e,t]=v.useState([{id:"1",role:"assistant",content:`Hi! I'm AdaptAI, your personal AI assistant. I'm here to help you succeed and build confidence every day!

I can help you with:
 Planning daily tasks and routines
 Managing money and budgets
 Understanding medications and health
 Learning new life skills
 Connecting with your support team
 Handling difficult emotions
 Using AdaptaLyfe features

What would you like to work on today? You can type a question or choose from the suggestions below!`,timestamp:new Date,type:"text"}]),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(""),h=_h(null),{toast:u}=dt(),{isPremium:m}=cte(),{data:f}=xe({queryKey:["/api/user"]}),j=[{id:"help-tasks",text:"Help me plan my daily tasks",category:"planning",icon:n.jsx(Wa,{className:"w-4 h-4"})},{id:"encouragement",text:"I'm feeling overwhelmed",category:"encouragement",icon:n.jsx(lt,{className:"w-4 h-4"})},{id:"cooking-help",text:"Show me simple cooking tips",category:"skills",icon:n.jsx(Au,{className:"w-4 h-4"})},{id:"money-help",text:"Help me understand my budget",category:"help",icon:n.jsx(Wa,{className:"w-4 h-4"})},{id:"medication-help",text:"How do I organize my medications?",category:"help",icon:n.jsx(Wa,{className:"w-4 h-4"})},{id:"routine-building",text:"Help me build a daily routine",category:"planning",icon:n.jsx(Au,{className:"w-4 h-4"})},{id:"social-support",text:"I want to connect with my caregivers",category:"help",icon:n.jsx(Af,{className:"w-4 h-4"})},{id:"learning-skills",text:"What new skills can I learn?",category:"skills",icon:n.jsx(D9,{className:"w-4 h-4"})},{id:"app-navigation",text:"How do I use this app?",category:"help",icon:n.jsx(Wa,{className:"w-4 h-4"})},{id:"feeling-proud",text:"I accomplished something today!",category:"encouragement",icon:n.jsx(lt,{className:"w-4 h-4"})}],x=Ce({mutationFn:async({message:N,userId:S})=>await(await ye("POST","/api/chat",{message:N,userId:S})).json(),onSuccess:N=>{console.log("Chat response:",N);const S={id:Date.now().toString(),role:"assistant",content:N.message||"I'm here to help you with any questions.",timestamp:new Date,type:N.type||"text"};N.notice&&u({title:N.notice,description:"Using smart fallback responses while AI service recovers.",duration:3e3}),t(k=>[...k,S]),r(!1)},onError:N=>{var T,D;console.error("Chat error:",N),r(!1);let S="I'm having trouble right now. Please try again in a moment.";((T=N.message)!=null&&T.includes("429")||(D=N.message)!=null&&D.includes("Too many requests"))&&(S="I'm getting a lot of questions right now! Please wait a moment and try again.");const k={id:Date.now().toString(),role:"assistant",content:S,timestamp:new Date,type:"text"};t(P=>[...P,k])}}),g=v.useCallback(N=>{if(!N.trim()||!(f!=null&&f.id))return;const S={id:Date.now().toString(),role:"user",content:N,timestamp:new Date};t(k=>[...k,S]),r(!0),x.mutate({message:N,userId:f.id})},[f==null?void 0:f.id,x]),p=N=>{d(N.text)},y=N=>N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});v.useEffect(()=>{var N;(N=h.current)==null||N.scrollIntoView({behavior:"smooth"})},[e,s]);const b=N=>{switch(N){case"encouragement":return n.jsx(lt,{className:"w-3 h-3 text-pink-500"});case"suggestion":return n.jsx(Au,{className:"w-3 h-3 text-yellow-500"});default:return n.jsx(Al,{className:"w-3 h-3 text-blue-500"})}},w=()=>n.jsxs(L,{className:"w-80 h-96 flex flex-col bg-white border-2 border-gray-200 shadow-xl",children:[n.jsx(le,{className:"pb-3 bg-blue-50 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"w-6 h-6",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600 text-xs",children:n.jsx(Al,{className:"w-3 h-3"})})}),n.jsx(ce,{className:"text-sm text-gray-800 font-semibold",children:"AdaptAI"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>l(!1),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Close",children:n.jsx(fm,{className:"w-3 h-3"})}),n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>a(!0),className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Expand",children:n.jsx(N9,{className:"w-3 h-3"})})]})]})}),n.jsxs(V,{className:"flex-1 flex flex-col p-3 pt-0 bg-white",children:[n.jsxs(dg,{className:"flex-1 pr-3 max-h-64 overflow-y-auto bg-gray-50 rounded-lg p-2 mt-2",children:[n.jsxs("div",{className:"space-y-3",children:[e.slice(-3).map(N=>n.jsxs("div",{className:`flex gap-2 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&n.jsx(_a,{className:"w-6 h-6 flex-shrink-0",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600 text-xs",children:b(N.type)})}),n.jsx("div",{className:`max-w-[70%] rounded-lg p-2 text-xs shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:N.content})]},N.id)),s&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_a,{className:"w-6 h-6",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600 text-xs",children:n.jsx(Al,{className:"w-3 h-3"})})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-xs shadow-sm",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),n.jsx("div",{ref:h})]}),n.jsx("div",{className:"mt-3 space-y-2 bg-white",children:n.jsx(K2,{onSendMessage:g,disabled:x.isPending,placeholder:"Type your message...",className:"text-xs border-gray-300"})})]})]}),C=()=>n.jsxs("div",{className:"flex flex-col h-full bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-blue-50 border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_a,{className:"w-8 h-8",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600",children:n.jsx(Al,{className:"w-4 h-4"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"AdaptAI"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Always here to help and support you"})]})]}),!m&&n.jsxs(he,{variant:"secondary",className:"flex items-center gap-1",children:[n.jsx($p,{className:"w-3 h-3"}),"Basic Plan"]})]}),n.jsxs("div",{className:"flex-1 flex bg-white",children:[n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsxs(dg,{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[n.jsxs("div",{className:"space-y-4 min-h-0",children:[e.map(N=>n.jsxs("div",{className:`flex gap-3 ${N.role==="user"?"flex-row-reverse":""}`,children:[N.role==="assistant"&&n.jsx(_a,{className:"w-8 h-8 flex-shrink-0",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600",children:b(N.type)})}),n.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 shadow-sm ${N.role==="user"?"bg-blue-600 text-white ml-auto":"bg-white text-gray-900 border border-gray-200"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),n.jsx("p",{className:"text-xs opacity-70 mt-1",children:y(N.timestamp)})]})]},N.id)),s&&n.jsxs("div",{className:"flex gap-3",children:[n.jsx(_a,{className:"w-8 h-8",children:n.jsx(Ta,{className:"bg-blue-100 text-blue-600",children:n.jsx(Al,{className:"w-4 h-4"})})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]})]}),n.jsx("div",{ref:h})]}),n.jsxs("div",{className:"p-4 border-t space-y-3 bg-white",children:[n.jsx("div",{className:"flex gap-2 flex-wrap",children:j.map(N=>n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>p(N),className:"text-xs border-gray-300 hover:bg-gray-50",children:[N.icon,N.text]},N.id))}),n.jsx(K2,{onSendMessage:g,disabled:x.isPending,placeholder:"Type your message...",className:"border-gray-300"})]})]}),!m&&n.jsx("div",{className:"w-64 border-l bg-gray-50 p-4",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx($p,{className:"w-8 h-8 text-yellow-500 mx-auto"}),n.jsx("h4",{className:"font-medium text-gray-800",children:"Upgrade to Premium"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get unlimited AI conversations, advanced features, and priority support."}),n.jsxs(E,{className:"w-full",children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]})})]})]});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!o&&!i&&n.jsx(E,{onClick:()=>l(!0),className:"h-12 w-12 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg",title:"Open AdaptAI Assistant",children:n.jsx(Al,{className:"w-6 h-6 text-white"})}),o&&!i&&n.jsx(w,{})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-w-4xl h-[80vh] p-0",children:[n.jsxs(Xe,{className:"sr-only",children:[n.jsx(Ze,{children:"AdaptAI Chat"}),n.jsx(es,{children:"Full screen chat interface with the AdaptAI assistant"})]}),n.jsx(C,{})]})})]})}var aN="Progress",oN=100,[ute,Mhe]=Fn(aN),[hte,mte]=ute(aN),SF=v.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:i,getValueLabel:a=pte,...o}=e;(i||i===0)&&!Q2(i)&&console.error(fte(`${i}`,"Progress"));const l=Q2(i)?i:oN;r!==null&&!Y2(r,l)&&console.error(gte(`${r}`,"Progress"));const c=Y2(r,l)?r:null,d=ug(c)?a(c,l):void 0;return n.jsx(hte,{scope:s,value:c,max:l,children:n.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ug(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":_F(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});SF.displayName=aN;var CF="ProgressIndicator",kF=v.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,i=mte(CF,s);return n.jsx(Ve.div,{"data-state":_F(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});kF.displayName=CF;function pte(e,t){return`${Math.round(e/t*100)}%`}function _F(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ug(e){return typeof e=="number"}function Q2(e){return ug(e)&&!isNaN(e)&&e>0}function Y2(e,t){return ug(e)&&!isNaN(e)&&e<=t&&e>=0}function fte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oN}\`.`}function gte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TF=SF,xte=kF;const on=v.forwardRef(({className:e,value:t,...s},r)=>n.jsx(TF,{ref:r,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(xte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));on.displayName=TF.displayName;const yte=Ns({name:Ae().min(1,"Medication name is required"),dosage:Ae().min(1,"Dosage is required"),frequency:Ae().min(1,"Frequency is required"),instructions:Ae().optional(),reminderTime:Ae().min(1,"Reminder time is required"),prescribedBy:Ae().optional()}),vte=Ns({bedtime:Ae().min(1,"Bedtime is required"),wakeTime:Ae().min(1,"Wake time is required"),quality:zs().min(1).max(5),notes:Ae().optional()}),bte=Ns({activityType:Ae().min(1,"Activity type is required"),duration:zs().min(1,"Duration must be at least 1 minute"),intensity:Ae().min(1,"Intensity is required"),notes:Ae().optional()});function jte(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(0),h=8,{toast:u}=dt();Yt();const m=[{id:1,name:"Vitamin D",dosage:"1000 IU",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!1},{id:2,name:"Omega-3",dosage:"500mg",frequency:"Daily",reminderTime:"08:00",nextDue:new Date(Date.now()+2*60*60*1e3),taken:!0}],f=[{date:"2025-06-28",hours:7.5,quality:4,bedtime:"22:30",wakeTime:"06:00"},{date:"2025-06-27",hours:8,quality:5,bedtime:"22:00",wakeTime:"06:00"},{date:"2025-06-26",hours:6.5,quality:3,bedtime:"23:30",wakeTime:"06:00"}],j=[{date:"2025-06-28",activity:"Walking",duration:30,intensity:"Moderate"},{date:"2025-06-27",activity:"Yoga",duration:20,intensity:"Low"},{date:"2025-06-25",activity:"Swimming",duration:45,intensity:"High"}],x=Bt({resolver:Vt(yte),defaultValues:{name:"",dosage:"",frequency:"daily",instructions:"",reminderTime:"08:00",prescribedBy:""}}),g=Bt({resolver:Vt(vte),defaultValues:{bedtime:"",wakeTime:"",quality:3,notes:""}}),p=Bt({resolver:Vt(bte),defaultValues:{activityType:"",duration:30,intensity:"moderate",notes:""}}),y=N=>{u({title:"Medication taken!",description:"Great job staying on top of your health routine."})},b=()=>{c<h+3&&(d(N=>N+1),c+1>=h&&u({title:"Daily water goal reached!",description:"Excellent hydration today! Keep it up."}))},w=()=>f.reduce((N,S)=>N+S.hours,0)/f.length,C=()=>j.reduce((N,S)=>N+S.duration,0);return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"w-5 h-5 text-red-500"}),"Health & Wellness"]}),n.jsx(at,{children:"Track your health habits and build wellness routines"})]}),n.jsx(V,{children:n.jsxs(hn,{value:e,onValueChange:t,children:[n.jsxs(en,{className:"grid w-full grid-cols-4",children:[n.jsx($e,{value:"overview",children:"Overview"}),n.jsx($e,{value:"medications",children:"Meds"}),n.jsx($e,{value:"sleep",children:"Sleep"}),n.jsx($e,{value:"activity",children:"Activity"})]}),n.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(f9,{className:"w-4 h-4 text-blue-500"}),n.jsx("span",{className:"font-medium text-sm",children:"Water Intake"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-2xl font-bold",children:[c,"/",h]}),n.jsx(E,{size:"sm",onClick:b,children:n.jsx(ct,{className:"w-4 h-4"})})]}),n.jsx(on,{value:c/h*100,className:"mt-2"})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Zl,{className:"w-4 h-4 text-purple-500"}),n.jsx("span",{className:"font-medium text-sm",children:"Sleep Average"})]}),n.jsxs("div",{className:"text-2xl font-bold",children:[w().toFixed(1),"h"]}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Last 7 days"})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(rw,{className:"w-4 h-4 text-green-500"}),"Today's Medications"]}),n.jsx("div",{className:"space-y-2",children:m.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:N.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[N.dosage,"  ",N.reminderTime]})]}),n.jsx("div",{className:"flex items-center gap-2",children:N.taken?n.jsxs(he,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx($t,{className:"w-3 h-3 mr-1"}),"Taken"]}):n.jsx(E,{size:"sm",onClick:()=>y(N.id),className:"bg-green-600 hover:bg-green-700",children:"Mark Taken"})})]},N.id))})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(Ni,{className:"w-4 h-4 text-orange-500"}),"This Week's Progress"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Exercise Minutes"}),n.jsx("div",{className:"text-xl font-bold",children:C()}),n.jsx("div",{className:"text-sm text-green-600",children:"+15 from last week"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Sleep Quality"}),n.jsxs("div",{className:"text-xl font-bold flex items-center gap-1",children:["4.0",n.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsx("div",{className:"text-sm text-green-600",children:"Improving"})]})]})]})]}),n.jsxs(Ue,{value:"medications",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"My Medications"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Medication"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add New Medication"}),n.jsx(es,{children:"Set up reminders for your medication schedule"})]}),n.jsx(zt,{...x,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:x.control,name:"name",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Medication Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Vitamin D",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:x.control,name:"dosage",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Dosage"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 1000 IU",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"frequency",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Frequency"}),n.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"twice_daily",children:"Twice Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"as_needed",children:"As Needed"})]})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:x.control,name:"reminderTime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Reminder Time"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"instructions",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Instructions (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Take with food, etc.",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Medication"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:m.map(N=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.dosage,"  ",N.frequency]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Next reminder: ",N.reminderTime]})]}),n.jsx("div",{className:"flex items-center gap-2",children:N.taken?n.jsxs(he,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx($t,{className:"w-3 h-3 mr-1"}),"Taken Today"]}):n.jsx(E,{size:"sm",onClick:()=>y(N.id),children:"Mark Taken"})})]})},N.id))})]}),n.jsxs(Ue,{value:"sleep",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Sleep Tracking"}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Sleep"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log Sleep"}),n.jsx(es,{children:"Track your sleep patterns to improve rest quality"})]}),n.jsx(zt,{...g,children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:g.control,name:"bedtime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Bedtime"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})}),n.jsx(Z,{control:g.control,name:"wakeTime",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Wake Time"}),n.jsx(J,{children:n.jsx(q,{type:"time",...N})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:g.control,name:"quality",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Sleep Quality (1-5)"}),n.jsx(J,{children:n.jsxs(Ge,{onValueChange:S=>N.onChange(parseInt(S)),defaultValue:N.value.toString(),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Rate your sleep"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"1 - Very Poor"}),n.jsx(B,{value:"2",children:"2 - Poor"}),n.jsx(B,{value:"3",children:"3 - Fair"}),n.jsx(B,{value:"4",children:"4 - Good"}),n.jsx(B,{value:"5",children:"5 - Excellent"})]})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:g.control,name:"notes",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"How did you feel? Any factors affecting sleep?",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Sleep Log"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:f.map((N,S)=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.date}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.bedtime," - ",N.wakeTime," (",N.hours,"h)"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,T)=>n.jsx(qt,{className:`w-4 h-4 ${T<N.quality?"text-yellow-500 fill-current":"text-gray-300"}`},T))})})]})},S))})]}),n.jsxs(Ue,{value:"activity",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Exercise & Activity"}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Log Activity"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log Exercise"}),n.jsx(es,{children:"Track your physical activities and movement"})]}),n.jsx(zt,{...p,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:p.control,name:"activityType",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Activity Type"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Walking, Swimming, Yoga",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:p.control,name:"duration",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Duration (minutes)"}),n.jsx(J,{children:n.jsx(q,{type:"number",placeholder:"30",...N,onChange:S=>N.onChange(parseInt(S.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:p.control,name:"intensity",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Intensity"}),n.jsxs(Ge,{onValueChange:N.onChange,defaultValue:N.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select intensity"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"high",children:"High"})]})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:p.control,name:"notes",render:({field:N})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"How did you feel? Any achievements?",...N})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Activity"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:j.map((N,S)=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:N.activity}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.duration," minutes  ",N.intensity," intensity"]}),n.jsx("p",{className:"text-xs text-gray-500",children:N.date})]}),n.jsx("div",{className:"flex items-center",children:n.jsx(g9,{className:"w-5 h-5 text-orange-500"})})]})},S))})]})]})})]})}var lN="Switch",[wte,Ihe]=Fn(lN),[Nte,Ste]=wte(lN),PF=v.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=v.useState(null),j=xt(t,b=>f(b)),x=v.useRef(!1),g=m?h||!!m.closest("form"):!0,[p=!1,y]=_i({prop:i,defaultProp:a,onChange:d});return n.jsxs(Nte,{scope:s,checked:p,disabled:l,children:[n.jsx(Ve.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":DF(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onClick:Fe(e.onClick,b=>{y(w=>!w),g&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),g&&n.jsx(Cte,{control:m,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});PF.displayName=lN;var EF="SwitchThumb",AF=v.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,i=Ste(EF,s);return n.jsx(Ve.span,{"data-state":DF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});AF.displayName=EF;var Cte=e=>{const{control:t,checked:s,bubbles:r=!0,...i}=e,a=v.useRef(null),o=Cx(s),l=Jg(t);return v.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&u){const m=new Event("click",{bubbles:r});u.call(c,s),c.dispatchEvent(m)}},[o,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DF(e){return e?"checked":"unchecked"}var MF=PF,kte=AF;const Ls=v.forwardRef(({className:e,...t},s)=>n.jsx(MF,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(kte,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ls.displayName=MF.displayName;var _te="Separator",X2="horizontal",Tte=["horizontal","vertical"],IF=v.forwardRef((e,t)=>{const{decorative:s,orientation:r=X2,...i}=e,a=Pte(r)?r:X2,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Ve.div,{"data-orientation":a,...l,...i,ref:t})});IF.displayName=_te;function Pte(e){return Tte.includes(e)}var RF=IF;const ec=v.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},i)=>n.jsx(RF,{ref:i,decorative:s,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ec.displayName=RF.displayName;function Ete(){const[e,t]=v.useState({textToSpeechEnabled:!1,voiceCommandsEnabled:!1,fontSize:"medium",highContrastMode:!1,simpleLanguageMode:!1,speechRate:1,speechVolume:.8,voiceGender:"neutral"}),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState(null),{toast:h}=dt();v.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const C=window.SpeechRecognition||window.webkitSpeechRecognition,N=new C;N.continuous=!0,N.interimResults=!0,N.lang="en-US",N.onresult=S=>{const k=Array.from(S.results).map(T=>T[0].transcript).join("");S.results[S.results.length-1].isFinal&&j(k.toLowerCase().trim())},N.onerror=S=>{console.error("Speech recognition error:",S.error),r(!1)},N.onend=()=>{r(!1)},l(N)}"speechSynthesis"in window&&d(window.speechSynthesis),u()},[]);const u=()=>{const C=localStorage.getItem("accessibility-settings");if(C){const N=JSON.parse(C);t(N),f(N)}},m=C=>{localStorage.setItem("accessibility-settings",JSON.stringify(C)),t(C),f(C),h({title:"Settings saved",description:"Your accessibility preferences have been updated."})},f=C=>{const N=document.documentElement;switch(C.fontSize){case"small":N.style.fontSize="14px";break;case"medium":N.style.fontSize="16px";break;case"large":N.style.fontSize="18px";break;case"extra_large":N.style.fontSize="22px";break}C.highContrastMode?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast"),C.simpleLanguageMode?document.body.classList.add("simple-language"):document.body.classList.remove("simple-language")},j=C=>{console.log("Voice command received:",C),C.includes("go to dashboard")||C.includes("dashboard")?(window.location.href="/",x("Navigating to dashboard")):C.includes("go to tasks")||C.includes("tasks")?(window.location.href="/daily-tasks",x("Navigating to daily tasks")):C.includes("go to calendar")||C.includes("calendar")?(window.location.href="/calendar",x("Navigating to calendar")):C.includes("help")||C.includes("what can i say")?x("You can say: go to dashboard, go to tasks, go to calendar, read this page, or stop listening"):C.includes("read this page")||C.includes("read page")?g():C.includes("stop listening")||C.includes("stop voice")?(y(),x("Voice commands disabled")):x("I didn't understand that command. Say 'help' to hear available commands.")},x=C=>{if(!c||!e.textToSpeechEnabled)return;c.cancel();const N=new SpeechSynthesisUtterance(C);N.rate=e.speechRate,N.volume=e.speechVolume;const k=c.getVoices().find(T=>e.voiceGender==="female"?T.name.toLowerCase().includes("female")||T.name.toLowerCase().includes("woman"):e.voiceGender==="male"?T.name.toLowerCase().includes("male")||T.name.toLowerCase().includes("man"):!0);k&&(N.voice=k),N.onstart=()=>a(!0),N.onend=()=>a(!1),N.onerror=()=>a(!1),c.speak(N)},g=()=>{const S=((document.querySelector("main")||document.body).textContent||"").replace(/\s+/g," ").replace(/[^\w\s.,!?]/g,"").trim();x(`Reading page content: ${S.slice(0,500)}${S.length>500?"... and more":""}`)},p=()=>{if(!o){h({title:"Voice commands not supported",description:"Your browser doesn't support voice recognition.",variant:"destructive"});return}try{o.start(),r(!0),x("Voice commands activated. I'm listening.")}catch(C){console.error("Error starting recognition:",C),h({title:"Voice recognition error",description:"Could not start voice recognition. Please try again.",variant:"destructive"})}},y=()=>{o&&o.stop(),r(!1)},b=()=>{c&&(c.cancel(),a(!1))},w=()=>{if(!c){h({title:"Speech not available",description:"Text-to-speech is not supported in this browser.",variant:"destructive"});return}try{c.cancel();const C=new SpeechSynthesisUtterance("This is a test of the text to speech feature. You can adjust the speed and volume in the settings below.");C.rate=e.speechRate,C.volume=e.speechVolume;const S=c.getVoices().find(k=>e.voiceGender==="female"?k.name.toLowerCase().includes("female")||k.name.toLowerCase().includes("woman"):e.voiceGender==="male"?k.name.toLowerCase().includes("male")||k.name.toLowerCase().includes("man"):!0);S&&(C.voice=S),C.onstart=()=>a(!0),C.onend=()=>a(!1),C.onerror=k=>{a(!1),h({title:"Speech error",description:"There was an error with text-to-speech. Please try again.",variant:"destructive"})},c.speak(C),console.log("Test text-to-speech initiated")}catch(C){console.error("Text-to-speech error:",C),h({title:"Speech error",description:"Could not start text-to-speech. Please check your browser permissions.",variant:"destructive"})}};return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(o9,{className:"w-5 h-5 text-blue-500"}),"Accessibility Settings"]}),n.jsx(at,{children:"Customize the app to work best for your needs"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"w-4 h-4 text-blue-500"}),n.jsx(de,{className:"text-base font-medium",children:"Text-to-Speech"})]}),n.jsx(Ls,{checked:e.textToSpeechEnabled,onCheckedChange:C=>m({...e,textToSpeechEnabled:C})})]}),e.textToSpeechEnabled&&n.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-blue-100 pl-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:w,disabled:i,children:[n.jsx(iw,{className:"w-4 h-4 mr-2"}),"Test Voice"]}),i&&n.jsxs(E,{variant:"outline",size:"sm",onClick:b,children:[n.jsx(jD,{className:"w-4 h-4 mr-2"}),"Stop"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{className:"text-sm",children:"Speech Rate"}),n.jsxs(Ge,{value:e.speechRate.toString(),onValueChange:C=>m({...e,speechRate:parseFloat(C)}),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"0.5",children:"Very Slow"}),n.jsx(B,{value:"0.75",children:"Slow"}),n.jsx(B,{value:"1",children:"Normal"}),n.jsx(B,{value:"1.25",children:"Fast"}),n.jsx(B,{value:"1.5",children:"Very Fast"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{className:"text-sm",children:"Voice Type"}),n.jsxs(Ge,{value:e.voiceGender,onValueChange:C=>m({...e,voiceGender:C}),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"neutral",children:"Default"}),n.jsx(B,{value:"female",children:"Female Voice"}),n.jsx(B,{value:"male",children:"Male Voice"})]})]})]})]})]})]}),n.jsx(ec,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vS,{className:"w-4 h-4 text-green-500"}),n.jsx(de,{className:"text-base font-medium",children:"Voice Commands"})]}),n.jsx(Ls,{checked:e.voiceCommandsEnabled,onCheckedChange:C=>m({...e,voiceCommandsEnabled:C})})]}),e.voiceCommandsEnabled&&n.jsxs("div",{className:"ml-6 space-y-4 border-l-2 border-green-100 pl-4",children:[n.jsxs("div",{className:"flex gap-2",children:[s?n.jsxs(E,{variant:"outline",size:"sm",onClick:y,className:"border-red-200 text-red-600",children:[n.jsx(F9,{className:"w-4 h-4 mr-2"}),"Stop Listening"]}):n.jsxs(E,{variant:"outline",size:"sm",onClick:p,children:[n.jsx(vS,{className:"w-4 h-4 mr-2"}),"Start Listening"]}),s&&n.jsx(he,{variant:"outline",className:"text-green-600 border-green-600",children:"Listening..."})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("p",{className:"font-medium mb-2",children:"Available commands:"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[n.jsx("li",{children:' "Go to dashboard" - Navigate to main page'}),n.jsx("li",{children:' "Go to tasks" - Open daily tasks'}),n.jsx("li",{children:' "Go to calendar" - Open calendar view'}),n.jsx("li",{children:' "Read this page" - Read current page content'}),n.jsx("li",{children:' "Help" - Hear available commands'}),n.jsx("li",{children:' "Stop listening" - Disable voice commands'})]})]})]})]}),n.jsx(ec,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(pm,{className:"w-4 h-4 text-purple-500"}),n.jsx(de,{className:"text-base font-medium",children:"Visual Settings"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I9,{className:"w-4 h-4 text-gray-500"}),n.jsx(de,{children:"Font Size"})]}),n.jsxs(Ge,{value:e.fontSize,onValueChange:C=>m({...e,fontSize:C}),children:[n.jsx(He,{className:"w-32",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"small",children:"Small"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"large",children:"Large"}),n.jsx(B,{value:"extra_large",children:"Extra Large"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bD,{className:"w-4 h-4 text-gray-500"}),n.jsx(de,{children:"High Contrast Mode"})]}),n.jsx(Ls,{checked:e.highContrastMode,onCheckedChange:C=>m({...e,highContrastMode:C})})]})]})]}),n.jsx(ec,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Df,{className:"w-4 h-4 text-orange-500"}),n.jsx(de,{className:"text-base font-medium",children:"Simple Language Mode"})]}),n.jsx(Ls,{checked:e.simpleLanguageMode,onCheckedChange:C=>m({...e,simpleLanguageMode:C})})]}),e.simpleLanguageMode&&n.jsx("div",{className:"ml-6 text-sm text-gray-600 border-l-2 border-orange-100 pl-4",children:n.jsx("p",{children:"When enabled, the app will use simpler words and shorter sentences to make content easier to understand."})})]}),n.jsx(ec,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(de,{className:"text-base font-medium",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>x("Welcome to Adaptalyfe. This app helps you build independence and manage daily tasks."),disabled:!e.textToSpeechEnabled,children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Welcome"]}),n.jsxs(E,{variant:"outline",size:"sm",onClick:g,disabled:!e.textToSpeechEnabled,children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Read Page"]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Need Help?"}),n.jsx("p",{className:"text-sm text-blue-800",children:"These settings make Adaptalyfe easier to use for everyone. Text-to-speech reads content aloud, voice commands let you navigate hands-free, and visual settings improve readability."})]})]})]})}function Ate(){const[e,t]=v.useState("overview"),[s,r]=v.useState(null),[i,a]=v.useState(0),{toast:o}=dt(),l=[{id:1,title:"Basic Cooking Safety",category:"cooking",description:"Learn essential kitchen safety rules and basic cooking techniques",difficulty:"beginner",estimatedTime:15,steps:["Wash your hands thoroughly before cooking","Check that all cooking surfaces are clean","Keep pot handles turned inward on the stove","Never leave cooking food unattended","Clean up spills immediately to prevent slips","Turn off all appliances when finished"],tips:["Always have a first aid kit nearby","Keep a fire extinguisher accessible","Don't wear loose clothing while cooking"],completed:!0,score:95},{id:2,title:"Using an ATM Safely",category:"banking",description:"Step-by-step guide to using ATMs and protecting your money",difficulty:"beginner",estimatedTime:20,steps:["Choose a well-lit ATM in a safe location","Check for any suspicious devices attached to the ATM","Insert your card and wait for prompts","Enter your PIN while covering the keypad","Select your transaction type","Take your receipt and card before leaving","Count your money in a safe place"],tips:["Never share your PIN with anyone","Cover the keypad when entering your PIN","Keep your receipts for record-keeping"],completed:!1},{id:3,title:"Reading Bus Schedules",category:"transportation",description:"How to read and understand public transportation schedules",difficulty:"beginner",estimatedTime:25,steps:["Find your bus route number","Locate your starting bus stop","Find your destination stop","Check the schedule for departure times","Account for weekend and holiday schedules","Plan to arrive 5 minutes early","Have exact change or a bus pass ready"],tips:["Download the transit app for real-time updates","Keep a backup route in mind","Ask the driver if you're unsure about stops"],completed:!1},{id:4,title:"Starting Conversations",category:"social",description:"Learn how to start and maintain friendly conversations",difficulty:"beginner",estimatedTime:30,steps:["Make eye contact and smile","Use a friendly greeting like 'Hello' or 'Hi'","Ask open-ended questions about their day","Listen actively to their responses","Share something about yourself","Ask follow-up questions to show interest","End with a positive comment"],tips:["Practice common conversation starters","Ask about shared interests","It's okay to have quiet moments"],completed:!1}],c=[{id:1,title:"Master Chef",description:"Complete 5 cooking lessons and prepare a full meal",category:"cooking",points:100,difficulty:"intermediate",requirements:["Complete Basic Cooking Safety lesson","Complete Meal Planning lesson","Complete Kitchen Organization lesson","Prepare and photograph a complete meal","Write a reflection about the experience"],badge:"",completed:!1},{id:2,title:"Money Manager",description:"Demonstrate financial independence skills",category:"banking",points:150,difficulty:"advanced",requirements:["Complete ATM Safety lesson","Create a monthly budget","Track expenses for one week","Open a savings account","Demonstrate online banking safety"],badge:"",completed:!1},{id:3,title:"Navigation Expert",description:"Master independent travel and transportation",category:"transportation",points:120,difficulty:"intermediate",requirements:["Complete Bus Schedule lesson","Successfully plan and take a bus trip","Use a ride-sharing app safely","Navigate using a map app","Create emergency transportation plan"],badge:"",completed:!1}],d=p=>{switch(p){case"cooking":return n.jsx(hc,{className:"w-4 h-4"});case"banking":return n.jsx(ho,{className:"w-4 h-4"});case"transportation":return n.jsx(so,{className:"w-4 h-4"});case"social":return n.jsx(ls,{className:"w-4 h-4"});default:return n.jsx(Hr,{className:"w-4 h-4"})}},h=p=>{switch(p){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},u=p=>{r(p),a(0)},m=()=>{s&&i<s.steps.length-1&&a(i+1)},f=()=>{i>0&&a(i-1)},j=()=>{s&&(o({title:"Lesson completed!",description:`Great job completing "${s.title}". You've earned experience points!`}),r(null),a(0))},x=()=>l.filter(y=>y.completed).length/l.length*100,g=p=>{const y=l.filter(w=>w.category===p),b=y.filter(w=>w.completed);return y.length>0?b.length/y.length*100:0};return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"w-5 h-5 text-indigo-500"}),"Life Skills Development"]}),n.jsx(at,{children:"Build independence through interactive lessons and challenges"})]}),n.jsxs(V,{children:[n.jsxs(hn,{value:e,onValueChange:t,children:[n.jsxs(en,{className:"grid w-full grid-cols-4",children:[n.jsx($e,{value:"overview",children:"Overview"}),n.jsx($e,{value:"lessons",children:"Lessons"}),n.jsx($e,{value:"challenges",children:"Challenges"}),n.jsx($e,{value:"progress",children:"Progress"})]}),n.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-medium",children:"Learning Progress"}),n.jsxs(he,{variant:"outline",className:"text-indigo-600 border-indigo-600",children:[l.filter(p=>p.completed).length,"/",l.length," Complete"]})]}),n.jsx(on,{value:x(),className:"mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Keep learning to build your independence skills!"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{category:"cooking",name:"Cooking",color:"text-red-500"},{category:"banking",name:"Banking",color:"text-green-500"},{category:"transportation",name:"Transportation",color:"text-blue-500"},{category:"social",name:"Social Skills",color:"text-purple-500"}].map(({category:p,name:y,color:b})=>n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:b,children:d(p)}),n.jsx("span",{className:"font-medium text-sm",children:y})]}),n.jsx(on,{value:g(p),className:"mb-2"}),n.jsxs("div",{className:"text-xs text-gray-600",children:[l.filter(w=>w.category===p&&w.completed).length,"/",l.filter(w=>w.category===p).length," lessons"]})]},p))}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Achievements"}),n.jsx("div",{className:"space-y-2",children:l.filter(p=>p.completed).slice(0,3).map(p=>n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50 rounded-lg",children:[n.jsx($t,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:p.title}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",p.score,"%"]})]}),n.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]},p.id))})]})]}),n.jsx(Ue,{value:"lessons",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:l.map(p=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-gray-500",children:d(p.category)}),n.jsx("h4",{className:"font-medium",children:p.title}),p.completed&&n.jsx($t,{className:"w-4 h-4 text-green-600"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[n.jsx(he,{variant:"outline",className:h(p.difficulty),children:p.difficulty}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ws,{className:"w-3 h-3"}),p.estimatedTime," min"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ol,{className:"w-3 h-3"}),p.steps.length," steps"]})]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:p.completed?n.jsxs(he,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),p.score,"%"]}):n.jsxs(E,{size:"sm",onClick:()=>u(p),className:"bg-indigo-600 hover:bg-indigo-700",children:[n.jsx(iw,{className:"w-4 h-4 mr-2"}),"Start"]})})]})},p.id))})}),n.jsx(Ue,{value:"challenges",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:c.map(p=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:p.badge}),n.jsx("h4",{className:"font-medium",children:p.title}),p.completed&&n.jsx($t,{className:"w-4 h-4 text-green-600"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs mb-3",children:[n.jsx(he,{variant:"outline",className:h(p.difficulty),children:p.difficulty}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gD,{className:"w-3 h-3"}),p.points," points"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),p.requirements.map((y,b)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),y]},b))]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:p.completed?n.jsxs(he,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):n.jsxs(E,{size:"sm",variant:"outline",className:"border-indigo-600 text-indigo-600 hover:bg-indigo-50",children:[n.jsx(Us,{className:"w-4 h-4 mr-2"}),"Start Challenge"]})})]})},p.id))})}),n.jsxs(Ue,{value:"progress",className:"space-y-4 mt-4",children:[n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-4",children:"Skills Breakdown"}),n.jsx("div",{className:"space-y-4",children:[{category:"cooking",name:"Cooking & Nutrition",icon:n.jsx(hc,{className:"w-4 h-4"}),color:"text-red-500"},{category:"banking",name:"Financial Management",icon:n.jsx(ho,{className:"w-4 h-4"}),color:"text-green-500"},{category:"transportation",name:"Transportation",icon:n.jsx(so,{className:"w-4 h-4"}),color:"text-blue-500"},{category:"social",name:"Social Skills",icon:n.jsx(ls,{className:"w-4 h-4"}),color:"text-purple-500"}].map(({category:p,name:y,icon:b,color:w})=>{const C=g(p),N=l.filter(k=>k.category===p&&k.completed).length,S=l.filter(k=>k.category===p).length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:w,children:b}),n.jsx("span",{className:"font-medium",children:y})]}),n.jsxs("span",{className:"text-sm text-gray-600",children:[N,"/",S]})]}),n.jsx(on,{value:C})]},p)})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:l.filter(p=>p.completed).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Lessons Completed"})]}),n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(p=>p.completed).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Earned"})]}),n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:c.filter(p=>p.completed).reduce((p,y)=>p+y.points,0)}),n.jsx("div",{className:"text-sm text-gray-600",children:"Points Earned"})]})]})]})]}),n.jsx(et,{open:!!s,onOpenChange:()=>r(null),children:n.jsx(Ye,{className:"max-w-2xl max-h-[80vh]",children:s&&n.jsxs(n.Fragment,{children:[n.jsxs(Xe,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[d(s.category),s.title]}),n.jsxs(es,{children:["Step ",i+1," of ",s.steps.length,"  ",s.estimatedTime," minutes"]})]}),n.jsx(dg,{className:"max-h-96",children:n.jsxs("div",{className:"space-y-6 p-1",children:[n.jsxs("div",{children:[n.jsx(on,{value:(i+1)/s.steps.length*100}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Progress: ",i+1,"/",s.steps.length]})]}),n.jsxs(L,{className:"p-4 border-indigo-200 bg-indigo-50",children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Step ",i+1]}),n.jsx("p",{className:"text-gray-700",children:s.steps[i]})]}),s.tips.length>0&&n.jsxs(L,{className:"p-4 border-yellow-200 bg-yellow-50",children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(qt,{className:"w-4 h-4 text-yellow-600"}),"Helpful Tips"]}),n.jsx("ul",{className:"space-y-1 text-sm",children:s.tips.map((p,y)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),p]},y))})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"All Steps"}),n.jsx("div",{className:"space-y-2",children:s.steps.map((p,y)=>n.jsxs("div",{className:`flex items-start gap-2 p-2 rounded ${y===i?"bg-indigo-50 border border-indigo-200":y<i?"bg-green-50 text-green-700":"text-gray-600"}`,children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${y<i?"bg-green-500 text-white":y===i?"bg-indigo-500 text-white":"bg-gray-200 text-gray-600"}`,children:y<i?"":y+1}),n.jsx("span",{className:"text-sm",children:p})]},y))})]})]})}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx(E,{variant:"outline",onClick:f,disabled:i===0,children:"Previous"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",onClick:()=>r(null),children:"Exit Lesson"}),i===s.steps.length-1?n.jsxs(E,{onClick:j,className:"bg-green-600 hover:bg-green-700",children:[n.jsx($t,{className:"w-4 h-4 mr-2"}),"Complete Lesson"]}):n.jsxs(E,{onClick:m,children:["Next",n.jsx(dd,{className:"w-4 h-4 ml-2"})]})]})]})]})})})]})]})}const Dte=Ns({description:Ae().min(1,"Description is required"),category:Ae().min(1,"Category is required"),milestone:Ae().optional()}),Mte=Ns({title:Ae().min(1,"Title is required"),content:Ae().min(10,"Story must be at least 10 characters"),category:Ae().min(1,"Category is required"),isAnonymous:ko().default(!1)});function Ite(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),c=_h(null),{toast:d}=dt(),h=[{id:1,photoUrl:"/photos/progress-1.jpg",category:"cooking",description:"Successfully made my first homemade pasta from scratch! It took 2 hours but was totally worth it.",milestone:"First Homemade Pasta",takenAt:new Date(Date.now()-2*24*60*60*1e3)},{id:2,photoUrl:"/photos/progress-2.jpg",category:"independence",description:"Took public transportation to the grocery store by myself for the first time!",milestone:"Independent Shopping Trip",takenAt:new Date(Date.now()-5*24*60*60*1e3)},{id:3,photoUrl:"/photos/progress-3.jpg",category:"social",description:"Had coffee with my neighbor and we're planning to meet again next week. Building friendships!",takenAt:new Date(Date.now()-7*24*60*60*1e3)}],u=[{id:1,title:"Master Chef Challenge",description:"Learn to cook 5 different meals independently",category:"cooking",difficulty:"intermediate",points:150,requirements:["Cook pasta dish","Prepare a salad","Make breakfast eggs","Cook rice perfectly","Bake simple cookies"],progress:60,isCompleted:!1,badge:"A",timeframe:"Complete in 30 days"},{id:2,title:"Social Butterfly",description:"Build confidence in social interactions",category:"social",difficulty:"beginner",points:100,requirements:["Start 3 conversations with strangers","Join a community group","Make plans with a friend","Give someone a genuine compliment","Share a personal story"],progress:40,isCompleted:!1,badge:"B",timeframe:"Complete in 21 days"},{id:3,title:"Independence Hero",description:"Master essential life skills for independent living",category:"independence",difficulty:"advanced",points:200,requirements:["Use public transportation 5 times","Complete grocery shopping alone","Pay bills independently","Attend medical appointment solo","Plan and execute a day trip"],progress:80,isCompleted:!1,badge:"C",timeframe:"Complete in 45 days"}],m=[{id:1,title:"My First Job Interview Success",content:"I was so nervous about my first job interview, but I practiced with my caregiver and prepared answers to common questions. When the day came, I arrived early, dressed professionally, and remembered to make eye contact. The interviewer was really nice and I got the job! The key was preparation and believing in myself.",authorName:"Sarah M.",category:"employment",likes:24,isLiked:!0,createdAt:new Date(Date.now()-3*24*60*60*1e3),isAnonymous:!1},{id:2,title:"Learning to Manage My Money",content:"Managing money used to stress me out so much. I started small by tracking every expense for a week, then learned to create a simple budget. Now I save a little each month and feel confident about my finances. The budget app on my phone really helps!",authorName:"Anonymous",category:"financial",likes:18,isLiked:!1,createdAt:new Date(Date.now()-5*24*60*60*1e3),isAnonymous:!0},{id:3,title:"Making Friends as an Adult",content:"Making friends felt impossible at first. I joined a local art class and started small by just saying hello to people. One person invited me for coffee after class, and now we're good friends! Sometimes you just need to take that first small step.",authorName:"Mike R.",category:"social",likes:31,isLiked:!1,createdAt:new Date(Date.now()-8*24*60*60*1e3),isAnonymous:!1}],f=[{id:1,title:"First Step",description:"Completed your first daily task",category:"tasks",icon:"*",points:10,earnedAt:new Date(Date.now()-30*24*60*60*1e3),rarity:"common"},{id:2,title:"Consistent Performer",description:"Completed tasks for 7 days in a row",category:"tasks",icon:"+",points:50,earnedAt:new Date(Date.now()-14*24*60*60*1e3),rarity:"rare"},{id:3,title:"Cooking Novice",description:"Successfully completed your first cooking lesson",category:"cooking",icon:"O",points:25,earnedAt:new Date(Date.now()-10*24*60*60*1e3),rarity:"common"},{id:4,title:"Social Connector",description:"Made a new friend or strengthened a relationship",category:"social",icon:"#",points:75,earnedAt:new Date(Date.now()-7*24*60*60*1e3),rarity:"epic"}],j=Bt({resolver:Vt(Dte),defaultValues:{description:"",category:"",milestone:""}}),x=Bt({resolver:Vt(Mte),defaultValues:{title:"",content:"",category:"",isAnonymous:!1}}),g=k=>{switch(k){case"common":return"text-gray-600 bg-gray-100";case"rare":return"text-blue-600 bg-blue-100";case"epic":return"text-purple-600 bg-purple-100";case"legendary":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},p=k=>{switch(k){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=k=>{var D;((D=k.target.files)==null?void 0:D[0])&&d({title:"Photo uploaded",description:"Your progress photo has been added to your journal!"})},b=k=>{d({title:"Story liked",description:"Thank you for supporting your peer's journey!"})},w=k=>{d({title:"Challenge joined",description:"You're now working on this skill challenge. Good luck!"})},C=()=>{d({title:"Story shared",description:"Your inspiring story has been shared with the community!"}),a(!1)},N=f.reduce((k,T)=>k+T.points,0),S=u.filter(k=>k.isCompleted).length;return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"w-5 h-5 text-yellow-500"}),"Progress & Motivation"]}),n.jsx(at,{children:"Track your growth, celebrate achievements, and stay motivated"})]}),n.jsx(V,{children:n.jsxs(hn,{value:e,onValueChange:t,children:[n.jsxs(en,{className:"grid w-full grid-cols-4",children:[n.jsx($e,{value:"overview",children:"Overview"}),n.jsx($e,{value:"journal",children:"Journal"}),n.jsx($e,{value:"challenges",children:"Challenges"}),n.jsx($e,{value:"community",children:"Stories"})]}),n.jsxs(Ue,{value:"overview",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Achievements"})]}),n.jsxs(L,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:S}),n.jsx("div",{className:"text-sm text-gray-600",children:"Challenges Done"})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(S9,{className:"w-4 h-4 text-yellow-500"}),"Recent Achievements"]}),n.jsx("div",{className:"space-y-3",children:f.slice(0,3).map(k=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600 bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center",children:k.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:k.title}),n.jsx("div",{className:"text-sm text-gray-600",children:k.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(he,{className:g(k.rarity),children:k.rarity}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",k.points," pts"]})]})]},k.id))})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(Us,{className:"w-4 h-4 text-blue-500"}),"Active Challenges"]}),n.jsx("div",{className:"space-y-3",children:u.filter(k=>!k.isCompleted).slice(0,2).map(k=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl font-bold text-blue-600 bg-blue-100 w-8 h-8 rounded-full flex items-center justify-center",children:k.badge}),n.jsx("h4",{className:"font-medium",children:k.title})]}),n.jsx(he,{className:p(k.difficulty),children:k.difficulty})]}),n.jsx(on,{value:k.progress,className:"mb-2"}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[k.progress,"% complete"]}),n.jsxs("span",{className:"text-blue-600",children:[k.points," points"]})]})]},k.id))})]}),n.jsx(L,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-medium text-blue-900 mb-2",children:'"Progress, not perfection, is the goal."'}),n.jsx("div",{className:"text-sm text-blue-700",children:"Every small step forward is a victory worth celebrating!"})]})})]}),n.jsxs(Ue,{value:"journal",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Progress Journal"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(rh,{className:"w-4 h-4 mr-2"}),"Add Photo"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Progress Photo"}),n.jsx(es,{children:"Document your achievements and milestones"})]}),n.jsx(zt,{...j,children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},children:[n.jsx(rh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Click to upload a photo"})]}),n.jsx("input",{ref:c,type:"file",accept:"image/*",className:"hidden",onChange:y}),n.jsx(Z,{control:j.control,name:"category",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"cooking",children:"Cooking"}),n.jsx("option",{value:"independence",children:"Independence"}),n.jsx("option",{value:"social",children:"Social"}),n.jsx("option",{value:"health",children:"Health"}),n.jsx("option",{value:"learning",children:"Learning"})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"description",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Tell us about this achievement or milestone...",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"milestone",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Milestone (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., First Time Cooking Alone",...k})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Photo"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-4",children:h.map(k=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx(b9,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(he,{variant:"outline",children:k.category}),k.milestone&&n.jsxs(he,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[n.jsx(qt,{className:"w-3 h-3 mr-1"}),k.milestone]}),n.jsx("span",{className:"text-sm text-gray-500",children:Ti(k.takenAt)})]}),n.jsx("p",{className:"text-gray-700",children:k.description})]}),n.jsxs(E,{size:"sm",variant:"outline",children:[n.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Share"]})]})},k.id))})]}),n.jsx(Ue,{value:"challenges",className:"space-y-4 mt-4",children:n.jsx("div",{className:"grid gap-4",children:u.map(k=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:k.badge}),n.jsx("h4",{className:"font-medium",children:k.title}),n.jsx(he,{className:p(k.difficulty),children:k.difficulty})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[k.progress,"%"]})]}),n.jsx(on,{value:k.progress})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"Requirements:"}),k.requirements.map((T,D)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($t,{className:`w-4 h-4 ${D<k.requirements.length*k.progress/100?"text-green-500":"text-gray-300"}`}),n.jsx("span",{className:D<k.requirements.length*k.progress/100?"text-green-700 line-through":"text-gray-700",children:T})]},D))]}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gD,{className:"w-3 h-3"}),k.points," points"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ws,{className:"w-3 h-3"}),k.timeframe]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[k.isCompleted?n.jsxs(he,{className:"bg-green-100 text-green-700 border-green-200",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Complete"]}):n.jsxs(E,{size:"sm",onClick:()=>w(k.id),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Us,{className:"w-4 h-4 mr-2"}),"Join Challenge"]}),n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>l(k),children:[n.jsx(pm,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},k.id))})}),n.jsxs(Ue,{value:"community",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Community Stories"}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Share Story"]})}),n.jsxs(Ye,{className:"max-w-2xl",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Share Your Story"}),n.jsx(es,{children:"Inspire others by sharing your journey and achievements"})]}),n.jsx(zt,{...x,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:x.control,name:"title",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Story Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., How I Learned to Cook My Favorite Meal",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"category",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsxs("select",{...k,className:"w-full border rounded-md p-2",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"cooking",children:"Cooking"}),n.jsx("option",{value:"employment",children:"Employment"}),n.jsx("option",{value:"social",children:"Social"}),n.jsx("option",{value:"financial",children:"Financial"}),n.jsx("option",{value:"independence",children:"Independence"}),n.jsx("option",{value:"health",children:"Health"})]})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"content",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Your Story"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Tell your story... What challenge did you face? How did you overcome it? What advice would you give others?",className:"min-h-32",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:x.control,name:"isAnonymous",render:({field:k})=>n.jsxs(Y,{className:"flex items-center gap-2",children:[n.jsx(J,{children:n.jsx("input",{type:"checkbox",checked:k.value,onChange:k.onChange})}),n.jsx(Q,{children:"Share anonymously"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"button",onClick:C,className:"flex-1",children:"Share Story"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-4",children:m.map(k=>n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx(_a,{className:"w-8 h-8",children:n.jsx(Ta,{children:k.isAnonymous?"?":k.authorName[0]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:k.authorName}),n.jsx(he,{variant:"outline",children:k.category}),n.jsx("span",{className:"text-sm text-gray-500",children:Ti(k.createdAt)})]}),n.jsx("h4",{className:"font-medium text-lg mb-2",children:k.title})]})]}),n.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:k.content}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(E,{size:"sm",variant:"ghost",onClick:()=>b(k.id),className:k.isLiked?"text-red-500":"",children:[n.jsx(lt,{className:`w-4 h-4 mr-1 ${k.isLiked?"fill-current":""}`}),k.likes]}),n.jsxs(E,{size:"sm",variant:"ghost",children:[n.jsx(Mf,{className:"w-4 h-4 mr-1"}),"Share"]})]})]},k.id))})]})]})})]})}function FF(){const[e,t]=v.useState(!1),[s,r]=v.useState(!1),{toast:i}=dt(),a=Yt(),{data:o=[]}=xe({queryKey:["/api/user-pharmacies"],enabled:!0}),{data:l=[]}=xe({queryKey:["/api/pharmacies"],enabled:!0}),c=Ce({mutationFn:async m=>{const f=Object.fromEntries(m);return ye("POST","/api/user-pharmacies",f)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user-pharmacies"]}),a.invalidateQueries({queryKey:["/api/pharmacies"]}),t(!1),i({title:"Pharmacy added successfully!"})},onError:()=>{i({title:"Failed to add pharmacy",variant:"destructive"})}}),d=Ce({mutationFn:async m=>{const f=Object.fromEntries(m);return ye("POST","/api/pharmacies",f)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/pharmacies"]}),r(!1),i({title:"Custom pharmacy created successfully!"})},onError:()=>{i({title:"Failed to create custom pharmacy",variant:"destructive"})}}),h=m=>{m.preventDefault();const f=new FormData(m.currentTarget);c.mutate(f)},u=m=>{m.preventDefault();const f=new FormData(m.currentTarget);d.mutate(f)};return n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs(hn,{defaultValue:"linked",children:[n.jsxs(en,{className:"grid w-full grid-cols-2",children:[n.jsx($e,{value:"linked",children:"My Pharmacies"}),n.jsx($e,{value:"directory",children:"Pharmacy Directory"})]}),n.jsxs(Ue,{value:"linked",children:[n.jsxs("div",{className:"mb-4 flex gap-2",children:[n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Link Existing Pharmacy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Link Existing Pharmacy"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"pharmacyId",children:"Select Pharmacy"}),n.jsxs(Ge,{name:"pharmacyId",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Choose a pharmacy"})}),n.jsx(We,{children:l.map(m=>n.jsx(B,{value:m.id.toString(),children:m.name},m.id))})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(q,{name:"accountNumber",placeholder:"Your pharmacy account number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"insuranceProvider",children:"Insurance Provider"}),n.jsx(q,{name:"insuranceProvider",placeholder:"e.g., Blue Cross, Medicare"})]}),n.jsx(E,{type:"submit",className:"w-full",disabled:c.isPending,children:c.isPending?"Adding...":"Link Pharmacy"})]})]})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",children:[n.jsx(hS,{className:"w-4 h-4 mr-2"}),"Create Custom Pharmacy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Create Custom Pharmacy"})}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Pharmacy Name"}),n.jsx(q,{name:"name",placeholder:"Enter pharmacy name",required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(q,{name:"address",placeholder:"Street address, city, state"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",placeholder:"(555) 123-4567"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"website",children:"Website"}),n.jsx(q,{name:"website",placeholder:"https://pharmacy-website.com"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"refillUrl",children:"Online Refill URL"}),n.jsx(q,{name:"refillUrl",placeholder:"Direct link to refill page"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"hours",children:"Operating Hours"}),n.jsx(q,{name:"hours",placeholder:"e.g., Mon-Fri 9AM-9PM, Sat 9AM-6PM"})]}),n.jsx(E,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?"Creating...":"Create Custom Pharmacy"})]})]})]})]}),n.jsx("div",{className:"space-y-3",children:o.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(hS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pharmacies linked yet"}),n.jsx("p",{className:"text-sm",children:"Add a pharmacy to start ordering refills"})]}):o.map(m=>{var f,j,x,g;return n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:(f=m.pharmacy)==null?void 0:f.name}),((j=m.pharmacy)==null?void 0:j.address)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(Zs,{className:"w-3 h-3"}),m.pharmacy.address]}),((x=m.pharmacy)==null?void 0:x.phoneNumber)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(bs,{className:"w-3 h-3"}),m.pharmacy.phoneNumber]}),n.jsx("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-100",children:((g=m.pharmacy)==null?void 0:g.refillUrl)&&n.jsxs(E,{size:"sm",onClick:()=>{var p;return window.open((p=m.pharmacy)==null?void 0:p.refillUrl,"_blank")},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[n.jsx(aw,{className:"w-3 h-3 mr-1"}),"Order Refills"]})})]})})},m.id)})})]}),n.jsx(Ue,{value:"directory",children:n.jsx("div",{className:"space-y-3",children:l.map(m=>n.jsx(L,{children:n.jsxs(V,{className:"pt-4",children:[n.jsx("h4",{className:"font-medium",children:m.name}),m.address&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(Zs,{className:"w-3 h-3"}),m.address]}),m.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(bs,{className:"w-3 h-3"}),m.phoneNumber]})]})},m.id))})})]})})})}var cN="Checkbox",[Rte,Rhe]=Fn(cN),[Fte,Ote]=Rte(cN),OF=v.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=v.useState(null),j=xt(t,w=>f(w)),x=v.useRef(!1),g=m?h||!!m.closest("form"):!0,[p=!1,y]=_i({prop:i,defaultProp:a,onChange:d}),b=v.useRef(p);return v.useEffect(()=>{const w=m==null?void 0:m.form;if(w){const C=()=>y(b.current);return w.addEventListener("reset",C),()=>w.removeEventListener("reset",C)}},[m,y]),n.jsxs(Fte,{scope:s,state:p,disabled:l,children:[n.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":io(p)?"mixed":p,"aria-required":o,"data-state":UF(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:j,onKeyDown:Fe(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Fe(e.onClick,w=>{y(C=>io(C)?!0:!C),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&n.jsx(Lte,{control:m,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:io(a)?!1:a})]})});OF.displayName=cN;var LF="CheckboxIndicator",$F=v.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...i}=e,a=Ote(LF,s);return n.jsx(yr,{present:r||io(a.state)||a.state===!0,children:n.jsx(Ve.span,{"data-state":UF(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});$F.displayName=LF;var Lte=e=>{const{control:t,checked:s,bubbles:r=!0,defaultChecked:i,...a}=e,o=v.useRef(null),l=Cx(s),c=Jg(t);v.useEffect(()=>{const h=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==s&&f){const j=new Event("click",{bubbles:r});h.indeterminate=io(s),f.call(h,io(s)?!1:s),h.dispatchEvent(j)}},[l,s,r]);const d=v.useRef(io(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function io(e){return e==="indeterminate"}function UF(e){return io(e)?"indeterminate":e?"checked":"unchecked"}var BF=OF,$te=$F;const Ci=v.forwardRef(({className:e,...t},s)=>n.jsx(BF,{ref:s,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx($te,{className:Le("flex items-center justify-center text-current"),children:n.jsx(uc,{className:"h-4 w-4"})})}));Ci.displayName=BF.displayName;const Ute=Ns({title:Ae().min(1,"Trip name is required"),fromAddress:Ae().min(1,"Starting location is required"),toAddress:Ae().min(1,"Destination is required"),transportType:Ae().min(1,"Transportation type is required"),notes:Ae().optional()}),Bte=Ns({routeName:Ae().min(1,"Route name is required"),routeNumber:Ae().optional(),stopName:Ae().min(1,"Stop name is required"),stopAddress:Ae().optional(),direction:Ae().optional(),departureTime:Ae().min(1,"Departure time is required"),daysOfWeek:Ae().min(1,"Days of week is required"),isFrequent:ko().default(!1),notes:Ae().optional()}),zte=Ns({planName:Ae().min(1,"Plan name is required"),conditionType:Ae().min(1,"Condition type is required"),symptoms:Ae().min(1,"Symptoms are required"),immediateActions:Ae().min(1,"Immediate actions are required"),medications:Ae().optional(),emergencyContacts:Ae().optional(),hospitalPreference:Ae().optional(),importantNotes:Ae().optional(),isActive:ko().default(!0)});function Vte(){const[e,t]=v.useState("overview"),[s,r]=v.useState(!1),[i,a]=v.useState("Getting location..."),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[h,u]=v.useState(!1),{toast:m}=dt(),f=Yt(),j=[{id:1,title:"Home to Library",fromAddress:"123 Main St, City, State",toAddress:"Public Library, 456 Oak Ave",transportType:"public",estimatedTime:25,estimatedCost:2.5,isFavorite:!0,lastUsed:new Date(Date.now()-2*24*60*60*1e3)},{id:2,title:"Home to Doctor",fromAddress:"123 Main St, City, State",toAddress:"Medical Center, 789 Health Way",transportType:"rideshare",estimatedTime:15,estimatedCost:12.5,isFavorite:!0,lastUsed:new Date(Date.now()-7*24*60*60*1e3)},{id:3,title:"Home to Park",fromAddress:"123 Main St, City, State",toAddress:"Central Park, 321 Green St",transportType:"walking",estimatedTime:20,isFavorite:!1,lastUsed:new Date(Date.now()-14*24*60*60*1e3)}],x=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0},{id:4,name:"Dad",relationship:"Parent",phoneNumber:"(555) 345-6789",isQuickDial:!1}],g=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"}],{data:p=[]}=xe({queryKey:["/api/bus-schedules"]}),{data:y=[]}=xe({queryKey:["/api/emergency-treatment-plans"]}),b=Bt({resolver:Vt(Ute),defaultValues:{title:"",fromAddress:"",toAddress:"",transportType:"",notes:""}}),w=Bt({resolver:Vt(Bte),defaultValues:{routeName:"",routeNumber:"",stopName:"",stopAddress:"",direction:"",departureTime:"",daysOfWeek:"",isFrequent:!1,notes:""}}),C=Bt({resolver:Vt(zte),defaultValues:{planName:"",conditionType:"",symptoms:"",immediateActions:"",medications:"",emergencyContacts:"",hospitalPreference:"",importantNotes:"",isActive:!0}}),N=Ce({mutationFn:F=>ye("POST","/api/bus-schedules",F),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/bus-schedules"]}),m({title:"Bus schedule added successfully!"}),d(!1),w.reset()},onError:()=>{m({title:"Error",description:"Failed to add bus schedule",variant:"destructive"})}}),S=Ce({mutationFn:F=>ye("POST","/api/emergency-treatment-plans",F),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/emergency-treatment-plans"]}),m({title:"Emergency treatment plan created successfully!"}),u(!1),C.reset()},onError:()=>{m({title:"Error",description:"Failed to create emergency plan",variant:"destructive"})}}),k=F=>{switch(F){case"public":return n.jsx(so,{className:"w-4 h-4"});case"rideshare":return n.jsx(A0,{className:"w-4 h-4"});case"walking":return n.jsx(Up,{className:"w-4 h-4"});case"driving":return n.jsx(A0,{className:"w-4 h-4"});default:return n.jsx(E9,{className:"w-4 h-4"})}},T=F=>{switch(F){case"safe":return"text-green-600 bg-green-100";case"emergency":return"text-red-600 bg-red-100";case"help_needed":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},D=()=>{navigator.geolocation?(r(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:re,longitude:fe}=F.coords;a(`${re.toFixed(6)}, ${fe.toFixed(6)}`),m({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},F=>{r(!1),m({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})})):m({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"})},P=F=>{m({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[F]}`})},M=F=>{window.open(`tel:${F.phoneNumber}`,"_self"),m({title:"Calling",description:`Calling ${F.name} at ${F.phoneNumber}`})},X=F=>{const re=encodeURIComponent(F.toAddress),H=`https://www.google.com/maps/dir/${encodeURIComponent(F.fromAddress)}/${re}`;window.open(H,"_blank"),m({title:"Navigation started",description:`Opening directions to ${F.toAddress}`})},ee=F=>{m({title:"Saved to favorites",description:"This route has been added to your favorite trips."})};return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-blue-600"}),"Safety & Transportation",n.jsx(he,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),n.jsx(at,{children:"Stay safe with location sharing, emergency contacts, and travel planning"})]}),n.jsx(V,{children:n.jsxs(hn,{value:e,onValueChange:t,children:[n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(en,{className:"flex w-max min-w-full gap-1 px-1",children:[n.jsx($e,{value:"overview",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Overview"}),n.jsx($e,{value:"emergency",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Emergency"}),n.jsx($e,{value:"transportation",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Travel"}),n.jsx($e,{value:"bus",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Bus Routes"}),n.jsx($e,{value:"emergency-plans",className:"text-xs sm:text-sm px-2 flex-shrink-0",children:"Medical Plans"})]})}),n.jsxs(Ue,{value:"overview",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Zs,{className:"w-5 h-5 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Share Location"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Let your caregivers know where you are"}),n.jsx(E,{onClick:D,className:"w-full",disabled:s,children:s?"Sharing...":"Share Location"})]}),n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(bs,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Emergency Call"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quick access to your emergency contacts"}),n.jsx(E,{onClick:()=>M(x[0]),className:"w-full bg-green-600 hover:bg-green-700",children:"Call Mom"})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Safety Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs(E,{onClick:()=>P("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[n.jsx($t,{className:"w-3 h-3 mr-1"}),"Safe"]}),n.jsxs(E,{onClick:()=>P("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[n.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Help"]}),n.jsxs(E,{onClick:()=>P("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[n.jsx(bs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Favorite Routes"}),n.jsx("div",{className:"space-y-3",children:j.filter(F=>F.isFavorite).map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:F.title}),n.jsxs("div",{className:"text-xs text-gray-600",children:[F.estimatedTime," min  ",F.estimatedCost?`$${F.estimatedCost}`:"Free"]})]})]}),n.jsxs(E,{size:"sm",onClick:()=>X(F),children:[n.jsx(Up,{className:"w-4 h-4 mr-2"}),"Go"]})]},F.id))})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),n.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(F=>n.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${T(F.status)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:F.location}),n.jsx("div",{className:"text-xs text-gray-600",children:F.message})]}),n.jsx("div",{className:"text-xs text-gray-500",children:Ti(F.timestamp)})]},F.id))})]})]}),n.jsxs(Ue,{value:"emergency",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs(L,{className:"p-4 border-red-200 bg-red-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-red-800",children:"Emergency Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(E,{onClick:()=>M(x.find(F=>F.phoneNumber==="911")),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call 911"]}),n.jsxs(E,{onClick:()=>{D(),P("emergency")},variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[n.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Emergency Alert"]})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),n.jsx("div",{className:"space-y-3",children:x.filter(F=>F.isQuickDial).map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:F.name}),n.jsx("div",{className:"text-sm text-gray-600",children:F.relationship}),n.jsx("div",{className:"text-xs text-gray-500",children:F.phoneNumber})]})]}),n.jsxs(E,{onClick:()=>M(F),children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call"]})]},F.id))})]}),n.jsxs(L,{className:"p-4 border-yellow-200 bg-yellow-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-yellow-800",children:"Safety Reminders"}),n.jsxs("ul",{className:"space-y-2 text-sm text-yellow-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Always share your location when traveling to new places"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Keep your phone charged and carry a portable charger"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Trust your instincts - if something feels wrong, seek help"]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full mt-2"}),"Have backup transportation plans ready"]})]})]})]}),n.jsxs(Ue,{value:"transportation",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Travel Plans"}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"New Plan"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Transportation Plan"}),n.jsx(es,{children:"Plan your route with step-by-step directions"})]}),n.jsx(zt,{...b,children:n.jsxs("form",{className:"space-y-4",children:[n.jsx(Z,{control:b.control,name:"title",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Trip Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Home to Library",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"fromAddress",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"From"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Starting location",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"toAddress",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"To"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Destination",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"transportType",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Transportation Type"}),n.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select transportation"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"walking",children:"Walking"}),n.jsx(B,{value:"public",children:"Public Transit"}),n.jsx(B,{value:"rideshare",children:"Rideshare/Taxi"}),n.jsx(B,{value:"driving",children:"Driving"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"notes",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Notes (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Special instructions, landmarks, etc.",...F})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",className:"flex-1",children:"Save Plan"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})]})]}),n.jsx("div",{className:"space-y-3",children:j.map(F=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-blue-500",children:k(F.transportType)}),n.jsx("h4",{className:"font-medium",children:F.title}),F.isFavorite&&n.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"From:"})," ",F.fromAddress]}),n.jsxs("div",{children:[n.jsx("strong",{children:"To:"})," ",F.toAddress]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ws,{className:"w-3 h-3"}),F.estimatedTime," min"]}),F.estimatedCost&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"$"}),F.estimatedCost]}),F.lastUsed&&n.jsxs("div",{children:["Last used ",Ti(F.lastUsed)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(E,{size:"sm",onClick:()=>X(F),children:[n.jsx(Up,{className:"w-4 h-4 mr-2"}),"Navigate"]}),!F.isFavorite&&n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>ee(F.id),children:[n.jsx(qt,{className:"w-4 h-4 mr-2"}),"Favorite"]})]})]})},F.id))})]}),n.jsxs(Ue,{value:"bus",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Bus Schedules"}),n.jsxs(et,{open:c,onOpenChange:d,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Bus Schedule"}),n.jsx(es,{children:"Save local bus route information for easy travel planning"})]}),n.jsx(zt,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(F=>N.mutate(F)),className:"space-y-4",children:[n.jsx(Z,{control:w.control,name:"routeName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Route Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Downtown Express",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"routeNumber",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Route Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 42, A1",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"stopName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Stop Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Main St & Oak Ave",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"departureTime",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Departure Time"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 08:30, 2:15 PM",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"daysOfWeek",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Days of Week"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Monday,Tuesday,Wednesday",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:w.control,name:"isFrequent",render:({field:F})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Ci,{checked:F.value,onCheckedChange:F.onChange})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsx(Q,{children:"Frequent Route"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Mark as a frequently used route"})]})]})}),n.jsx(E,{type:"submit",disabled:N.isPending,children:N.isPending?"Adding...":"Add Bus Schedule"})]})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[p.map(F=>n.jsx(L,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(so,{className:"w-4 h-4 text-blue-500"}),n.jsx("h4",{className:"font-medium",children:F.routeName}),F.routeNumber&&n.jsxs(he,{variant:"outline",children:["#",F.routeNumber]}),F.isFrequent&&n.jsx(qt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Stop:"})," ",F.stopName]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Time:"})," ",F.departureTime]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Days:"})," ",F.daysOfWeek]})]})]})})},F.id)),p.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(so,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No bus schedules saved yet"}),n.jsx("p",{className:"text-sm",children:"Add your local bus routes to plan trips easily"})]})]})]}),n.jsxs(Ue,{value:"emergency-plans",className:"space-y-4 mt-6 max-h-[600px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:"Emergency Treatment Plans"}),n.jsxs(et,{open:h,onOpenChange:u,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Plan"]})}),n.jsxs(Ye,{className:"max-w-2xl",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Emergency Treatment Plan"}),n.jsx(es,{children:"Create a personalized response plan for medical emergencies"})]}),n.jsx(zt,{...C,children:n.jsxs("form",{onSubmit:C.handleSubmit(F=>S.mutate(F)),className:"space-y-4",children:[n.jsx(Z,{control:C.control,name:"planName",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Plan Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Anxiety Attack Response Plan",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:C.control,name:"conditionType",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Condition Type"}),n.jsxs(Ge,{onValueChange:F.onChange,defaultValue:F.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select condition type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"anxiety",children:"Anxiety Attack"}),n.jsx(B,{value:"seizure",children:"Seizure"}),n.jsx(B,{value:"allergic_reaction",children:"Allergic Reaction"}),n.jsx(B,{value:"meltdown",children:"Sensory Meltdown"}),n.jsx(B,{value:"panic_attack",children:"Panic Attack"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:C.control,name:"symptoms",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Warning Signs & Symptoms"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Describe what to watch for that indicates this emergency is happening...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:C.control,name:"immediateActions",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Immediate Actions"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Step-by-step instructions for immediate response...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:C.control,name:"medications",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Emergency Medications"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"List any emergency medications and dosages...",...F})}),n.jsx(se,{})]})}),n.jsx(Z,{control:C.control,name:"emergencyContacts",render:({field:F})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Emergency Contacts"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Specific contacts to call for this emergency...",...F})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",disabled:S.isPending,children:S.isPending?"Creating...":"Create Emergency Plan"})]})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[y.map(F=>n.jsx(L,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lt,{className:"w-4 h-4 text-red-500"}),n.jsx("h4",{className:"font-medium",children:F.planName}),n.jsx(he,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Condition:"})," ",F.conditionType]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Symptoms:"})," ",F.symptoms]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Immediate Actions:"})," ",F.immediateActions]})]})]})})},F.id)),y.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(lt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No emergency treatment plans created yet"}),n.jsx("p",{className:"text-sm",children:"Create personalized emergency response plans for peace of mind"})]})]})]})]})})]})}function qte(){const[e,t]=v.useState(!1),[s,r]=v.useState("Getting location..."),[i,a]=v.useState(!1),[o,l]=v.useState(!1),{toast:c}=dt(),d=[{id:1,name:"Mom",relationship:"Parent",phoneNumber:"(555) 123-4567",isQuickDial:!0},{id:2,name:"Care Coordinator",relationship:"Support Staff",phoneNumber:"(555) 234-5678",isQuickDial:!0},{id:3,name:"Emergency Services",relationship:"Emergency",phoneNumber:"911",isQuickDial:!0}],h=[{id:1,location:"Public Library",timestamp:new Date(Date.now()-2*60*60*1e3),status:"safe",message:"Arrived safely at the library"},{id:2,location:"Bus Stop - Oak Ave",timestamp:new Date(Date.now()-3*60*60*1e3),status:"safe",message:"Waiting for bus, all good"},{id:3,location:"Home",timestamp:new Date(Date.now()-5*60*60*1e3),status:"safe",message:"Made it home safely"}],u=()=>{t(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(g=>{t(!1);const{latitude:p,longitude:y}=g.coords;r(`${p.toFixed(6)}, ${y.toFixed(6)}`),a(!0),c({title:"Location shared",description:"Your current location has been shared with your emergency contacts."})},g=>{t(!1),c({title:"Location error",description:"Unable to get your location. Please check your browser settings.",variant:"destructive"})}):(t(!1),c({title:"Location not supported",description:"Your browser doesn't support location sharing.",variant:"destructive"}))},m=(g,p)=>{const b=p||{safe:"I'm safe and doing well",help_needed:"I need some assistance",emergency:"This is an emergency, I need immediate help"}[g];c({title:"Safety check sent",description:`Your status has been shared with emergency contacts: ${b}`})},f=g=>{window.open(`tel:${g.phoneNumber}`,"_self"),c({title:"Calling",description:`Calling ${g.name} at ${g.phoneNumber}`})},j=g=>{switch(g){case"safe":return"bg-green-500";case"help_needed":return"bg-yellow-500";case"emergency":return"bg-red-500";default:return"bg-gray-500"}},x=()=>{l(!o),c({title:o?"Auto-share disabled":"Auto-share enabled",description:o?"Location will no longer be shared automatically":"Location will be shared automatically when traveling"})};return n.jsxs(L,{className:"h-fit",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),"Location & Safety",n.jsx(he,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:"Premium"})]}),n.jsx(at,{children:"Share your location, send safety check-ins, and manage emergency contacts"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs(L,{className:"p-4 border-blue-200 bg-blue-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-medium text-blue-800",children:"Current Location"}),n.jsx(E,{onClick:()=>a(!i),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",children:i?n.jsx(D0,{className:"w-4 h-4"}):n.jsx(pm,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Zs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-blue-700",children:i?s:"Location hidden for privacy"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:u,className:"flex-1",disabled:e,children:[n.jsx(aw,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),e?"Getting Location...":"Update Location"]}),n.jsxs(E,{onClick:x,variant:o?"default":"outline",size:"sm",className:"text-xs",children:[n.jsx(Us,{className:"w-3 h-3 mr-1"}),"Auto ",o?"ON":"OFF"]})]})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Quick Safety Check"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs(E,{onClick:()=>m("safe"),className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[n.jsx($t,{className:"w-3 h-3 mr-1"}),"Safe"]}),n.jsxs(E,{onClick:()=>m("help_needed"),variant:"outline",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50 text-xs",size:"sm",children:[n.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Help"]}),n.jsxs(E,{onClick:()=>m("emergency"),variant:"destructive",size:"sm",className:"text-xs",children:[n.jsx(bs,{className:"w-3 h-3 mr-1"}),"Emergency"]})]}),n.jsxs("div",{className:"mt-4 p-3 border rounded-lg bg-gray-50",children:[n.jsx(de,{className:"text-sm font-medium mb-2 block",children:"Custom Check-in Message"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{placeholder:"e.g., Arrived at the store, doing well",className:"flex-1"}),n.jsxs(E,{onClick:()=>m("safe","Custom message sent"),size:"sm",children:[n.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Emergency Contacts"}),n.jsx("div",{className:"space-y-3",children:d.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:g.name}),n.jsx("div",{className:"text-sm text-gray-600",children:g.relationship}),n.jsx("div",{className:"text-xs text-gray-500",children:g.phoneNumber})]})]}),n.jsxs(E,{onClick:()=>f(g),size:"sm",children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),"Call"]})]},g.id))})]}),n.jsxs(L,{className:"p-4",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Recent Check-ins"}),n.jsx("div",{className:"space-y-3",children:h.map(g=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${j(g.status)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:g.location}),n.jsx("div",{className:"text-xs text-gray-600",children:g.message})]}),n.jsx("div",{className:"text-xs text-gray-500",children:Ti(g.timestamp)})]},g.id))})]}),n.jsxs(L,{className:"p-4 border-purple-200 bg-purple-50",children:[n.jsx("h3",{className:"font-medium mb-3 text-purple-800",children:"Location Settings"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Share location when traveling"}),n.jsx(he,{variant:o?"default":"secondary",children:o?"Enabled":"Disabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Emergency location sharing"}),n.jsx(he,{variant:"default",children:"Always On"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Location history"}),n.jsx(he,{variant:"secondary",children:"7 days"})]}),n.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"Your location is only shared with your designated emergency contacts and is automatically deleted after 7 days for privacy."})]})]}),n.jsx(Hte,{})]})]})}function Hte(){const[e,t]=v.useState(!1),[s,r]=v.useState({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),{toast:i}=dt(),a=[],o=[],l=Ce({mutationFn:async u=>await ye("POST","/api/geofences",u),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/geofences"]}),t(!1),r({name:"",latitude:"",longitude:"",radius:100,notifyOnExit:!0,notifyOnEnter:!1,caregiverIds:[]}),i({title:"Geofence created",description:"Safe zone has been set up successfully."})},onError:()=>{i({title:"Error",description:"Failed to create geofence.",variant:"destructive"})}}),c=Ce({mutationFn:async u=>await ye("DELETE",`/api/geofences/${u}`),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/geofences"]}),i({title:"Geofence deleted",description:"Safe zone has been removed."})},onError:()=>{i({title:"Error",description:"Failed to delete geofence.",variant:"destructive"})}}),d=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>{r(m=>({...m,latitude:u.coords.latitude.toString(),longitude:u.coords.longitude.toString()})),i({title:"Location captured",description:"Current location has been set for the geofence."})},()=>{i({title:"Location error",description:"Unable to get your current location.",variant:"destructive"})})},h=()=>{if(!s.name||!s.latitude||!s.longitude){i({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}l.mutate({...s,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude)})};return n.jsxs(L,{className:"p-4 border-green-200 bg-green-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(w9,{className:"w-5 h-5 text-green-600"}),n.jsx("h3",{className:"font-medium text-green-800",children:"Safe Zones (Geofencing)"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Zone"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Create Safe Zone"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"geofence-name",children:"Zone Name"}),n.jsx(q,{id:"geofence-name",placeholder:"e.g. Home, School, Work",value:s.name,onChange:u=>r(m=>({...m,name:u.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"latitude",children:"Latitude"}),n.jsx(q,{id:"latitude",type:"number",step:"any",placeholder:"40.7128",value:s.latitude,onChange:u=>r(m=>({...m,latitude:u.target.value}))})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"longitude",children:"Longitude"}),n.jsx(q,{id:"longitude",type:"number",step:"any",placeholder:"-74.0060",value:s.longitude,onChange:u=>r(m=>({...m,longitude:u.target.value}))})]})]}),n.jsxs(E,{onClick:d,variant:"outline",className:"w-full",children:[n.jsx(Up,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"radius",children:"Radius (meters)"}),n.jsx(q,{id:"radius",type:"number",min:"50",max:"5000",value:s.radius,onChange:u=>r(m=>({...m,radius:parseInt(u.target.value)}))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{htmlFor:"notify-exit",children:"Notify when leaving zone"}),n.jsx(Ls,{id:"notify-exit",checked:s.notifyOnExit,onCheckedChange:u=>r(m=>({...m,notifyOnExit:u}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{htmlFor:"notify-enter",children:"Notify when entering zone"}),n.jsx(Ls,{id:"notify-enter",checked:s.notifyOnEnter,onCheckedChange:u=>r(m=>({...m,notifyOnEnter:u}))})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{onClick:h,className:"flex-1",children:"Create Safe Zone"}),n.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})]})]}),n.jsx("div",{className:"space-y-3",children:!a||!Array.isArray(a)||a.length===0?n.jsx("div",{className:"text-sm text-gray-600 text-center py-4",children:"No safe zones set up yet. Create one to get caregiver notifications when you leave or enter specific locations."}):a.map(u=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-200 rounded-lg bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Zs,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:u.name}),n.jsxs("div",{className:"text-xs text-gray-600",children:[u.radius,"m radius ",u.notifyOnExit&&" Exit alerts",u.notifyOnEnter&&" Entry alerts"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{variant:u.isActive?"default":"secondary",children:u.isActive?"Active":"Inactive"}),n.jsx(E,{size:"sm",variant:"ghost",onClick:()=>c.mutate(u.id),className:"text-red-600 hover:text-red-800",children:n.jsx(Wn,{className:"w-4 h-4"})})]})]},u.id))}),o&&o.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[n.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Recent Zone Activity"}),n.jsx("div",{className:"space-y-2",children:o.slice(0,3).map(u=>n.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-green-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u.eventType==="exit"?"bg-orange-500":"bg-green-500"}`}),n.jsxs("span",{children:[u.eventType==="exit"?"Left":"Entered"," zone"]})]}),n.jsx("span",{className:"text-gray-500",children:Ti(new Date(u.timestamp))})]},u.id))})]}),n.jsx("p",{className:"text-xs text-green-600 mt-4",children:"Caregivers will receive instant notifications when you leave or enter designated safe zones. This helps them know you're safe without constant check-ins."})]})}function Z2(){const[e,t]=v.useState(!1),{modules:s,reorderModules:r}=QK();YK();const i=l=>{if(!l.destination)return;const c=l.source.index,d=l.destination.index;if(c===d)return;const h=s.filter(x=>x.enabled),u=h[c].id,m=h[d].id,f=s.findIndex(x=>x.id===u),j=s.findIndex(x=>x.id===m);r(f,j)},a={DailySummary:Vee,DailyTasksModule:SY,MoodModule:kY,FinancialModule:CY,AppointmentsModule:zee,AchievementsModule:_Y,CaregiverModule:TY,PharmacyModule:FF,SafetyTransportationModule:Vte,LocationSafetyModule:qte,HealthWellnessModule:jte,AccessibilitySettingsModule:Ete,LifeSkillsModule:Ate,ProgressMotivationModule:Ite},o=(l,c,d=!1)=>{const h=a[c];return h?d&&e?n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"bg-blue-500 text-white rounded-full p-1 shadow-lg flex items-center gap-1 text-xs px-2",children:[n.jsx(M0,{className:"w-3 h-3"}),"Drag to reorder"]})}),n.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-2 hover:border-blue-400 transition-colors",children:n.jsx(h,{},l)})]}):n.jsx(h,{},l):null};return n.jsxs(n.Fragment,{children:[n.jsx(ZK,{}),n.jsxs("div",{className:"w-full max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsx("div",{className:"flex-1",children:n.jsx(eQ,{})})}),n.jsx(oY,{}),e&&n.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx(M0,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-800 font-medium",children:"Tile Reorder Mode Active"}),n.jsx("p",{className:"text-blue-600 text-sm",children:"Click and drag any tile below to reorder your dashboard"})]})]}),n.jsx(lK,{onDragEnd:i,children:n.jsx(KK,{droppableId:"dashboard-modules",isDropDisabled:!e,children:(l,c)=>n.jsxs("div",{...l.droppableProps,ref:l.innerRef,className:`space-y-4 sm:space-y-8 mt-4 sm:mt-8 w-full ${e&&c.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4":""}`,children:[s.filter(d=>d.enabled).map((d,h)=>{const u=s.findIndex(m=>m.id===d.id);return n.jsx(_K,{draggableId:d.id,index:h,isDragDisabled:!e,children:(m,f)=>n.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:`${f.isDragging?"opacity-75 transform scale-105 shadow-lg":""} transition-all duration-200`,children:[d.id==="daily-summary"?(()=>{const j=s[u+1],x=j&&j.id==="daily-tasks"&&j.enabled;return n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:o(d.id,d.component,e)}),n.jsx("div",{className:"lg:col-span-2",children:x?o(j.id,j.component,e):null})]})})():null,d.id==="daily-tasks"&&u>0&&(()=>{const j=s[u-1];return j&&j.id==="daily-summary"&&j.enabled?null:["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?n.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:n.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):n.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)})})(),d.id!=="daily-summary"&&d.id!=="daily-tasks"?["safety-transportation","location-safety","health-wellness","accessibility","life-skills","progress-motivation"].includes(d.id)?n.jsx("div",{className:"mb-8 border-2 border-purple-200 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 p-1",children:n.jsx("div",{className:"bg-white rounded-lg",children:o(d.id,d.component,e)})}):n.jsx("div",{className:"mb-8",children:o(d.id,d.component,e)}):null]})},d.id)}),l.placeholder]})})})]}),n.jsx(dte,{})]})}function Fi(){var a;const[e,t]=On(),{data:s}=xe({queryKey:["/api/user"]}),{data:r}=xe({queryKey:["/api/subscription"]});v.useEffect(()=>{var d,h;if(!s||!r||s.accountType==="admin"||s.username==="admin"||((d=s.name)==null?void 0:d.toLowerCase().includes("admin")))return;if(["/wearable-devices","/meal-planning","/medication-management","/location-safety","/analytics","/pharmacy"].some(u=>e.startsWith(u))){if(r.status==="expired"||r.status!=="active"&&r.trialDaysLeft===0){t("/subscription");return}const m=(h=Object.entries({"/wearable-devices":"wearableDevices","/meal-planning":"mealPlanning","/medication-management":"medicationManagement","/location-safety":"locationSafety","/analytics":"advancedAnalytics","/pharmacy":"medicationManagement"}).find(([f])=>e.startsWith(f)))==null?void 0:h[1];m&&!r.features[m]&&t("/subscription")}},[e,s,r,t]);const i=(s==null?void 0:s.accountType)==="admin"||(s==null?void 0:s.username)==="admin"||((a=s==null?void 0:s.name)==null?void 0:a.toLowerCase().includes("admin"));return{subscription:r,isPremiumUser:i||(r==null?void 0:r.status)==="active"||(r==null?void 0:r.status)==="trialing"&&((r==null?void 0:r.trialDaysLeft)||0)>0,hasFeature:o=>i||(r==null?void 0:r.features[o])||!1}}function fa({title:e,description:t,feature:s,requiredPlan:r,className:i=""}){const a={premium:"from-purple-600 to-pink-600",family:"from-blue-600 to-purple-600"},l={premium:qt,family:$p}[r];return n.jsxs(L,{className:`border-2 border-dashed border-gray-300 bg-gray-50 ${i}`,children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:n.jsx(Rr,{className:"w-8 h-8 text-gray-500"})}),n.jsx(ce,{className:"text-lg text-gray-700",children:e}),n.jsxs(he,{variant:"secondary",className:`bg-gradient-to-r ${a[r]} text-white`,children:[n.jsx(l,{className:"w-3 h-3 mr-1"}),r==="premium"?"Premium":"Family"," Feature"]})]}),n.jsxs(V,{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:t}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Oe,{href:"/subscription",children:n.jsxs(E,{className:`w-full bg-gradient-to-r ${a[r]} hover:opacity-90 text-white`,children:[n.jsx(da,{className:"w-4 h-4 mr-2"}),"Upgrade to ",r==="premium"?"Premium":"Family"]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Start with a 7-day free trial"})]})]})]})}function Wte(){const{isPremiumUser:e}=Fi();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Daily Task Management",description:"Organize and track your daily tasks with reminders, categories, and progress tracking. Subscribe to continue using Adaptalyfe's core task management features.",feature:"tasks",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=dt(),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),[h,u]=v.useState({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),{data:m=[],isLoading:f}=xe({queryKey:["/api/daily-tasks"]}),j=Ce({mutationFn:async T=>ye("POST","/api/daily-tasks",T),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),r(!1),d({title:"",description:"",category:"personal_care",frequency:"daily",estimatedMinutes:"",pointValue:"",scheduledTime:""}),t({title:"Task created!",description:"New task added to your daily list"})},onError:()=>{t({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}}),x=Ce({mutationFn:async({taskId:T,isCompleted:D,task:P})=>ye("PATCH",`/api/daily-tasks/${T}/complete`,{isCompleted:D}),onSuccess:(T,D)=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),xs.invalidateQueries({queryKey:["/api/points/balance"]});const{isCompleted:P,task:M}=D;let X="Great job staying on track!";P&&M&&M.pointValue>0&&(X=`Excellent! You earned ${M.pointValue} points for completing this task!`),t({title:P?"Task completed!":"Task updated!",description:X})}}),g=Ce({mutationFn:async({taskId:T,updates:D})=>ye("PATCH",`/api/daily-tasks/${T}`,D),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/daily-tasks"]}),a(!1),l(null),t({title:"Task updated!",description:"Your task has been updated successfully."})},onError:()=>{t({title:"Error",description:"Failed to update task. Please try again.",variant:"destructive"})}}),p=()=>{if(!c.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}j.mutate({...c,pointValue:parseInt(c.pointValue)||0,estimatedMinutes:parseInt(c.estimatedMinutes)||15})},y=T=>{var D,P;l(T),u({title:T.title,description:T.description||"",category:T.category,frequency:T.frequency||"daily",estimatedMinutes:((D=T.estimatedMinutes)==null?void 0:D.toString())||"",pointValue:((P=T.pointValue)==null?void 0:P.toString())||"",scheduledTime:T.scheduledTime||""}),a(!0)},b=()=>{if(!h.title.trim()){t({title:"Error",description:"Please enter a task title",variant:"destructive"});return}o&&g.mutate({taskId:o.id,updates:{...h,pointValue:parseInt(h.pointValue)||0,estimatedMinutes:parseInt(h.estimatedMinutes)||15}})},w=(m||[]).filter(T=>T.isCompleted).length,C=(m||[]).length,N=C>0?Math.round(w/C*100):0,S=(m||[]).reduce((T,D)=>(T[D.category]||(T[D.category]=[]),T[D.category].push(D),T),{}),k={morning:"bg-sunny-orange",cooking:"bg-vibrant-green",organization:"bg-bright-blue",planning:"bg-happy-purple"};return f?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded"}),n.jsx("div",{className:"grid gap-6",children:[1,2,3].map(T=>n.jsx("div",{className:"h-64 bg-gray-200 rounded"},T))})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Daily Tasks"}),n.jsx(L,{className:"border-t-4 border-vibrant-green",children:n.jsxs(V,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Today's Progress"}),n.jsxs("p",{className:"text-gray-600",children:[w," of ",C," tasks completed"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[N,"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete"})]})]}),n.jsx("div",{className:"w-full bg-gradient-to-r from-gray-300 to-gray-400 rounded-full h-6 shadow-inner border border-gray-400",children:n.jsxs("div",{className:"bg-gradient-to-r from-green-500 via-green-400 to-emerald-400 h-6 rounded-full transition-all duration-500 shadow-lg relative overflow-hidden border-2 border-green-600",style:{width:`${N}%`},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-200 to-transparent opacity-50"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-green-600/20 to-transparent"})]})})]})})]}),n.jsx("div",{className:"grid gap-6",children:Object.entries(S).map(([T,D])=>n.jsxs(L,{className:"border-t-4 border-gray-200",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 ${k[T]||"bg-gray-400"} rounded-lg`}),n.jsxs("span",{className:"capitalize",children:[T," Tasks"]}),n.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",D.filter(P=>P.isCompleted).length,"/",D.length,")"]})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:D.map(P=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx(E,{variant:"ghost",size:"sm",className:`w-8 h-8 p-0 rounded-full flex items-center justify-center ${P.isCompleted?"bg-vibrant-green hover:bg-vibrant-green":"bg-green-500 hover:bg-vibrant-green"}`,onClick:()=>x.mutate({taskId:P.id,isCompleted:!P.isCompleted,task:P}),disabled:x.isPending,children:P.isCompleted?n.jsx($t,{className:"text-white",size:20}):n.jsx(mc,{className:"text-white",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`font-medium text-gray-900 ${P.isCompleted?"line-through":""}`,children:P.title}),n.jsx("p",{className:"text-sm text-gray-600",children:P.description}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ws,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[P.estimatedMinutes," minutes"]})]}),P.frequency&&P.frequency!=="daily"&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full font-medium",children:P.frequency})}),P.scheduledTime&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:new Date(`2000-01-01T${P.scheduledTime}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})}),P.pointValue&&P.pointValue>0&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(qt,{size:14,className:"text-yellow-500"}),n.jsxs("span",{className:"text-xs text-yellow-600 font-medium",children:[P.pointValue," points"]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-blue-100",onClick:()=>y(P),children:n.jsx(_9,{className:"text-blue-600",size:16})}),P.isCompleted&&n.jsx("div",{className:"w-10 h-10 bg-sunny-orange rounded-full flex items-center justify-center",children:n.jsx(qt,{className:"text-white",size:20})})]})]},P.id))})})]},T))}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-vibrant-green hover:bg-green-600 text-black font-bold shadow-lg border border-green-700",children:[n.jsx(ct,{size:20,className:"mr-2 text-black"}),n.jsx("span",{className:"text-black font-bold",children:"Add New Task"})]})}),n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Daily Task"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Task title",value:c.title,onChange:T=>d({...c,title:T.target.value})}),n.jsx(ot,{placeholder:"Description (optional)",value:c.description,onChange:T=>d({...c,description:T.target.value})}),n.jsxs(Ge,{value:c.category,onValueChange:T=>d({...c,category:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal_care",children:"Personal Care"}),n.jsx(B,{value:"household",children:"Household"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsxs(Ge,{value:c.frequency,onValueChange:T=>d({...c,frequency:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),n.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:c.scheduledTime,onChange:T=>d({...c,scheduledTime:T.target.value})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:c.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&d({...c,estimatedMinutes:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:c.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&d({...c,pointValue:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:p,disabled:j.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:j.isPending?"Creating...":"Create Task"}),n.jsx(E,{onClick:()=>r(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Edit Task"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Task title",value:h.title,onChange:T=>u({...h,title:T.target.value})}),n.jsx(ot,{placeholder:"Description (optional)",value:h.description,onChange:T=>u({...h,description:T.target.value})}),n.jsxs(Ge,{value:h.category,onValueChange:T=>u({...h,category:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal_care",children:"Personal Care"}),n.jsx(B,{value:"household",children:"Household"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsxs(Ge,{value:h.frequency,onValueChange:T=>u({...h,frequency:T}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select frequency"})}),n.jsxs(We,{children:[n.jsx(B,{value:"daily",children:"Daily"}),n.jsx(B,{value:"weekly",children:"Weekly"}),n.jsx(B,{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time (optional)"}),n.jsx(q,{type:"time",placeholder:"e.g., 10:00 AM",value:h.scheduledTime,onChange:T=>u({...h,scheduledTime:T.target.value})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave blank for no specific time"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Time (minutes)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter minutes (e.g., 15, 30, 60)",value:h.estimatedMinutes,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=1&&parseInt(D)<=480)&&u({...h,estimatedMinutes:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"How long will this task take? (1-480 minutes)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Point Value (awarded when completed)"}),n.jsx(q,{type:"text",inputMode:"numeric",placeholder:"Enter points (0 for none)",value:h.pointValue,onChange:T=>{const D=T.target.value;(D===""||/^\d+$/.test(D)&&parseInt(D)>=0&&parseInt(D)<=100)&&u({...h,pointValue:D})}}),n.jsx("p",{className:"text-xs text-gray-500",children:"Enter any number 0-100, or leave empty for 0 points"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:b,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",disabled:g.isPending,children:g.isPending?"Updating...":"Update Task"}),n.jsx(E,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}const Gte=Ns({name:Ae().min(1,"Bill name is required"),amount:zs().min(.01,"Amount must be greater than 0"),dueDate:zs().min(1).max(31),category:Ae().min(1,"Category is required"),isRecurring:ko()}),Kte=Ns({category:Ae().min(1,"Category is required"),amount:zs().min(.01,"Amount must be greater than 0"),type:kl(["income","expense"]),description:Ae().optional()}),Qte=Ns({title:Ae().min(1,"Goal title is required"),description:Ae().optional(),targetAmount:zs().min(.01,"Target amount must be greater than 0"),currentAmount:zs().min(0,"Current amount cannot be negative"),targetDate:Ae().min(1,"Target date is required"),category:Ae().optional(),priority:kl(["low","medium","high"]).default("medium")}),Yte=Ns({name:Ae().min(1,"Category name is required"),type:kl(["income","expense"]),budgetedAmount:zs().min(0,"Budget amount cannot be negative"),color:Ae().optional()});function Xte(){const{isPremiumUser:e}=Fi(),{toast:t}=dt(),[s,r]=v.useState(!1);if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Financial Management",description:"Track bills, manage budgets, and monitor your financial health. Subscribe to continue using Adaptalyfe's financial management tools.",feature:"financial",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[h,u]=v.useState(null),[m,f]=v.useState(null),[j,x]=v.useState(null),[g,p]=v.useState("overview"),{data:y=[],isLoading:b}=xe({queryKey:["/api/bills"]}),{data:w=[],isLoading:C}=xe({queryKey:["/api/budget-entries"]}),{data:N=[]}=xe({queryKey:["/api/savings-goals"]}),{data:S=[]}=xe({queryKey:["/api/budget-categories"]}),k=Bt({resolver:Vt(Gte),defaultValues:{name:"",amount:0,dueDate:1,category:"",isRecurring:!0}}),T=Bt({resolver:Vt(Kte),defaultValues:{category:"",amount:0,type:"expense",description:""}}),D=Bt({resolver:Vt(Qte),defaultValues:{title:"",description:"",targetAmount:0,currentAmount:0,targetDate:"",category:"general",priority:"medium"}}),P=Bt({resolver:Vt(Yte),defaultValues:{name:"",type:"expense",budgetedAmount:0,color:"#3b82f6"}}),M=Ce({mutationFn:async $=>(await ye("POST","/api/budget-entries",$)).json(),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/budget-entries"]}),a(!1),T.reset(),t({title:"Success",description:"Budget entry added successfully!"})},onError:()=>{t({title:"Error",description:"Failed to add budget entry",variant:"destructive"})}}),X=Ce({mutationFn:async $=>{const oe=h?`/api/savings-goals/${h.id}`:"/api/savings-goals";return(await ye(h?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/savings-goals"]}),xs.refetchQueries({queryKey:["/api/savings-goals"]}),l(!1),u(null),D.reset(),t({title:"Success",description:h?"Savings goal updated successfully!":"Savings goal created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save savings goal",variant:"destructive"})}}),ee=Ce({mutationFn:async $=>{const oe=j?`/api/bills/${j.id}`:"/api/bills";return(await ye(j?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/bills"]}),xs.refetchQueries({queryKey:["/api/bills"]}),r(!1),x(null),k.reset(),t({title:"Success",description:j?"Bill updated successfully!":"Bill created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save bill",variant:"destructive"})}}),F=Ce({mutationFn:async $=>{const oe=m?`/api/budget-categories/${m.id}`:"/api/budget-categories";return(await ye(m?"PATCH":"POST",oe,$)).json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/budget-categories"]}),xs.refetchQueries({queryKey:["/api/budget-categories"]}),d(!1),f(null),P.reset(),t({title:"Success",description:m?"Category updated successfully!":"Category created successfully!"})},onError:()=>{t({title:"Error",description:"Failed to save category",variant:"destructive"})}}),re=w.filter($=>$.type==="income").reduce(($,oe)=>$+oe.amount,0),fe=w.filter($=>$.type==="expense").reduce(($,oe)=>$+oe.amount,0),H=re>0?fe/re*100:0;return b||C?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-24 bg-gray-200 rounded"}),n.jsx("div",{className:"h-24 bg-gray-200 rounded"}),n.jsx("div",{className:"h-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Financial Management"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsx(L,{className:"border-t-4 border-bright-blue",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-bright-blue rounded-lg flex items-center justify-center",children:n.jsx(Pi,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Income"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(re)})]})]})})}),n.jsx(L,{className:"border-t-4 border-sunny-orange",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(ho,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Fs(fe)})]})]})})}),n.jsx(L,{className:"border-t-4 border-vibrant-green",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:n.jsx($t,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Budget Status"}),n.jsxs("p",{className:`text-2xl font-bold ${H<80?"text-green-600":H<100?"text-yellow-600":"text-red-600"}`,children:[Math.round(H),"%"]})]})]})})})]}),n.jsxs(hn,{value:g,onValueChange:p,className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-5",children:[n.jsx($e,{value:"overview",children:"Overview"}),n.jsx($e,{value:"bills",children:"Bills"}),n.jsxs($e,{value:"savings",children:[n.jsx(Us,{className:"h-4 w-4 mr-1"}),"Savings"]}),n.jsxs($e,{value:"categories",children:[n.jsx(fS,{className:"h-4 w-4 mr-1"}),"Categories"]}),n.jsx($e,{value:"banking",children:"Banking"})]}),n.jsx(Ue,{value:"overview",className:"mt-6",children:n.jsx("div",{className:"space-y-6",children:n.jsxs(L,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Monthly Budget Overview"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Expense"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Budget Entry"})}),n.jsx(zt,{...T,children:n.jsxs("form",{onSubmit:T.handleSubmit($=>M.mutate($)),className:"space-y-4",children:[n.jsx(Z,{control:T.control,name:"type",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Entry Type"}),n.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select entry type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"income",children:"Income"}),n.jsx(B,{value:"expense",children:"Expense"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"category",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Groceries, Gas, Shopping",...$})}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"amount",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:T.control,name:"description",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Add a note...",...$})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:M.isPending,children:M.isPending?"Adding...":"Add Entry"})]})})]})]}),n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{T.reset({type:"income",category:"",amount:0,description:""}),a(!0)},children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Income"]})]})]})}),n.jsxs(V,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Budget Usage"}),n.jsx("span",{className:`text-sm font-medium ${H<80?"text-green-600":H<100?"text-yellow-600":"text-red-600"}`,children:H<80?"On track":H<100?"Watch spending":"Over budget"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:n.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${H<80?"bg-gradient-to-r from-green-400 to-green-600":H<100?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.min(H,100)}%`},children:n.jsx("div",{className:"h-full rounded-full opacity-30 bg-white"})})}),n.jsxs("div",{className:"flex justify-between items-center mt-3",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-red-600",children:Fs(fe)})," spent"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-green-600",children:Fs(re)})," budget"]})]}),n.jsx("div",{className:"text-center mt-2",children:n.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${H<80?"bg-green-100 text-green-800":H<100?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(H),"% Used  ",Fs(re-fe)," Remaining"]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Transactions"}),w.length>0?n.jsx("div",{className:"space-y-3",children:w.slice(-5).reverse().map($=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${$.type==="income"?"bg-green-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:$.category}),n.jsx("p",{className:"text-sm text-gray-600",children:$.description||"No description"})]})]}),n.jsxs("span",{className:`font-semibold ${$.type==="income"?"text-green-600":"text-red-600"}`,children:[$.type==="income"?"+":"-",Fs($.amount)]})]},$.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No transactions yet"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Expense Categories"}),(()=>{const $=w.filter(oe=>oe.type==="expense").reduce((oe,be)=>(oe[be.category]=(oe[be.category]||0)+be.amount,oe),{});return Object.entries($).length>0?n.jsx("div",{className:"space-y-3",children:Object.entries($).map(([oe,be])=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:oe}),n.jsx("span",{className:"font-semibold text-red-600",children:Fs(be)})]},oe))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No expenses tracked yet"})})()]})]})]})})}),n.jsx(Ue,{value:"bills",className:"mt-6",children:n.jsxs(L,{className:"border-t-4 border-sunny-orange",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ht,{className:"text-sunny-orange",size:24}),n.jsx("span",{children:"Bill Calendar"})]}),n.jsxs(et,{open:s,onOpenChange:$=>{r($),$||(x(null),k.reset())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Bill"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:j?"Edit Bill":"Add New Bill"})}),n.jsx(zt,{...k,children:n.jsxs("form",{onSubmit:k.handleSubmit($=>ee.mutate($)),className:"space-y-4",children:[n.jsx(Z,{control:k.control,name:"name",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Bill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Electric Bill, Rent",...$})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"amount",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"dueDate",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Due Date (Day of Month)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:"1",max:"31",placeholder:"15",...$,onChange:oe=>$.onChange(parseInt(oe.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:k.control,name:"category",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Utilities, Housing",...$})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:ee.isPending,children:ee.isPending?"Saving...":j?"Update Bill":"Add Bill"})]})})]})]})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:y.length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(Ht,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No bills added yet"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add your recurring bills to track due dates"}),n.jsxs(E,{className:"bg-sunny-orange hover:bg-sunny-orange",onClick:()=>r(!0),children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Bill"]})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map($=>{const oe=Fp($.dueDate),be=oe<0,st=oe<=3&&oe>=0;return n.jsx(L,{className:`border-l-4 ${be?"border-l-red-500":st?"border-l-sunny-orange":"border-l-bright-blue"}`,children:n.jsxs(V,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:$.name}),n.jsx("p",{className:"text-sm text-gray-600",children:$.category})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold",children:Fs($.amount)}),n.jsx("p",{className:`text-sm ${be?"text-red-600":st?"text-sunny-orange":"text-gray-600"}`,children:be?`${Math.abs(oe)} days overdue`:st?`Due in ${oe} days`:`Due ${oe} days`})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{x($),k.reset({name:$.name,amount:$.amount,dueDate:$.dueDate,category:$.category,isRecurring:$.isRecurring}),r(!0)},children:"Edit"}),n.jsx(E,{size:"sm",className:"bg-bright-blue hover:bg-blue-600",onClick:()=>{t({title:"Bill Payment",description:`Ready to pay ${$.name}! In the full version, this would redirect to your payment portal or banking app.`})},children:"Pay Bill"})]})]})},$.id)})})})})]})}),n.jsx(Ue,{value:"savings",className:"mt-6",children:n.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Us,{className:"text-vibrant-green",size:24}),n.jsx("span",{children:"Savings Goals"})]}),n.jsxs(et,{open:o,onOpenChange:l,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Goal"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:h?"Edit Savings Goal":"Create Savings Goal"})}),n.jsx(zt,{...D,children:n.jsxs("form",{onSubmit:D.handleSubmit($=>X.mutate($)),className:"space-y-4",children:[n.jsx(Z,{control:D.control,name:"title",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Goal Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Emergency Fund, Vacation",...$})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"description",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"What are you saving for?",...$})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:D.control,name:"targetAmount",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"currentAmount",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:D.control,name:"targetDate",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Date"}),n.jsx(J,{children:n.jsx(q,{type:"date",...$})}),n.jsx(se,{})]})}),n.jsx(Z,{control:D.control,name:"priority",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select priority"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"})]})]}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:X.isPending,children:X.isPending?"Saving...":h?"Update Goal":"Create Goal"})]})})]})]})]})}),n.jsx(V,{children:N.length>0?n.jsx("div",{className:"space-y-4",children:N.map($=>{const oe=$.currentAmount/$.targetAmount*100;return n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:$.title}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[Fs($.currentAmount)," / ",Fs($.targetAmount)]}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{u($),D.reset({title:$.title,description:$.description||"",targetAmount:$.targetAmount,currentAmount:$.currentAmount,targetDate:$.targetDate?new Date($.targetDate).toISOString().split("T")[0]:"",category:$.category||"general",priority:$.priority||"medium"}),l(!0)},children:"Edit"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:$.description}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-vibrant-green rounded-full",style:{width:`${Math.min(oe,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(oe),"% complete"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",new Date($.targetDate).toLocaleDateString()]})]})]},$.id)})}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No savings goals yet. Create your first goal!"})})]})}),n.jsx(Ue,{value:"categories",className:"mt-6",children:n.jsxs(L,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fS,{className:"text-bright-blue",size:24}),n.jsx("span",{children:"Budget Categories"})]}),n.jsxs(et,{open:c,onOpenChange:$=>{d($),$||(f(null),P.reset())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Category"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:m?"Edit Category":"Add New Category"})}),n.jsx(zt,{...P,children:n.jsxs("form",{onSubmit:P.handleSubmit($=>F.mutate($)),className:"space-y-4",children:[n.jsx(Z,{control:P.control,name:"name",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Food & Dining, Transportation",...$})}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"type",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category Type"}),n.jsxs(Ge,{onValueChange:$.onChange,defaultValue:$.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"income",children:"Income"}),n.jsx(B,{value:"expense",children:"Expense"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"budgetedAmount",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Budgeted Amount"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"0.00",...$,onChange:oe=>$.onChange(parseFloat(oe.target.value)||0)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:P.control,name:"color",render:({field:$})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Color"}),n.jsx(J,{children:n.jsx(q,{type:"color",...$,className:"w-full h-10"})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:F.isPending,children:F.isPending?"Saving...":m?"Update Category":"Add Category"})]})})]})]})]})}),n.jsx(V,{children:S.length>0?n.jsx("div",{className:"space-y-4",children:S.map($=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:$.color}}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:$.name}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:$.type})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:Fs($.budgetedAmount)}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>{f($),P.reset({name:$.name,type:$.type,budgetedAmount:$.budgetedAmount,color:$.color||"#3b82f6"}),d(!0)},children:"Edit"})]})]})},$.id))}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No budget categories set up yet."})})]})}),n.jsx(Ue,{value:"banking",className:"mt-6",children:n.jsx("div",{className:"space-y-6",children:n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{children:"Banking & Bill Pay Integration"})}),n.jsxs(V,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Connect your bank accounts for secure bill payments and balance checking."}),n.jsxs(E,{className:"bg-bright-blue hover:bg-blue-600",children:[n.jsx(d9,{className:"h-4 w-4 mr-2"}),"Connect Bank Account"]})]})]})})})]})]})})}function Zte(){var j,x,g;const{isPremiumUser:e}=Fi();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Mood Tracking",description:"Monitor your emotional well-being with daily mood check-ins and progress tracking. Subscribe to continue using Adaptalyfe's mood management features.",feature:"mood",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const{toast:t}=dt(),[s,r]=v.useState(null),[i,a]=v.useState(""),{data:o=[],isLoading:l}=xe({queryKey:["/api/mood-entries"]}),{data:c}=xe({queryKey:["/api/mood-entries/today"]}),d=[{value:1,emoji:"",label:"Very Sad",color:"bg-red-500"},{value:2,emoji:"",label:"Okay",color:"bg-yellow-500"},{value:3,emoji:"",label:"Good",color:"bg-green-500"},{value:4,emoji:"",label:"Great",color:"bg-blue-500"},{value:5,emoji:"",label:"Amazing",color:"bg-purple-500"}],h=Ce({mutationFn:async p=>{const y=await ye("POST","/api/mood-entries",p);if(!y.ok){const w=await y.json(),C=new Error(w.message||"Failed to save mood");throw C.status=y.status,C.data=w,C}return await y.json()},onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/mood-entries"]}),xs.invalidateQueries({queryKey:["/api/mood-entries/today"]}),r(null),a(""),t({title:"Mood recorded!",description:"Thanks for checking in today!"})},onError:p=>{var y;if(console.error("Failed to save mood:",p),p.status===400&&((y=p.data)!=null&&y.existing)){t({title:"Already Logged Today",description:"You've already recorded your mood for today! Check back tomorrow for a new entry.",variant:"default"}),xs.invalidateQueries({queryKey:["/api/mood-entries/today"]});return}t({title:"Error",description:p.message||"Failed to save your mood. Please try again.",variant:"destructive"})}}),u=()=>{s&&h.mutate({mood:s,notes:i||void 0})},m=o.sort((p,y)=>{const b=p.entryDate?new Date(p.entryDate).getTime():0;return(y.entryDate?new Date(y.entryDate).getTime():0)-b}).slice(0,7),f=o.length>0?o.reduce((p,y)=>p+y.mood,0)/o.length:0;return l?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"h-96 bg-gray-200 rounded"}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mood & Wellbeing"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsx(L,{className:"border-t-4 border-happy-purple",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-happy-purple rounded-lg flex items-center justify-center",children:n.jsx(lt,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Today's Mood"}),n.jsx("p",{className:"text-2xl",children:c?(j=d.find(p=>p.value===c.mood))==null?void 0:j.emoji:""})]})]})})}),n.jsx(L,{className:"border-t-4 border-sunny-orange",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-sunny-orange rounded-lg flex items-center justify-center",children:n.jsx(Ni,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Average Mood"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.toFixed(1),"/5"]})]})]})})}),n.jsx(L,{className:"border-t-4 border-vibrant-green",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-vibrant-green rounded-lg flex items-center justify-center",children:n.jsx(Ht,{className:"text-white",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Check-ins"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs(L,{className:"border-t-4 border-happy-purple",children:[n.jsx(le,{children:n.jsx(ce,{children:"How are you feeling today?"})}),n.jsx(V,{children:c?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-6xl mb-4",children:(x=d.find(p=>p.value===c.mood))==null?void 0:x.emoji}),n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["You're feeling ",(g=d.find(p=>p.value===c.mood))==null?void 0:g.label]}),n.jsx("p",{className:"text-gray-600",children:"You've already checked in today!"}),n.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"Come back tomorrow for your next daily check-in."}),c.notes&&n.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:['"',c.notes,'"']})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-5 gap-3",children:d.map(p=>n.jsx(E,{variant:"outline",className:`p-4 h-auto border-2 transition-all ${s===p.value?"border-happy-purple bg-purple-50 scale-105":"border-gray-200 hover:border-happy-purple"}`,onClick:()=>r(p.value),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl mb-2",children:p.emoji}),n.jsx("p",{className:"text-xs text-gray-600",children:p.label})]})},p.value))}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx(ot,{placeholder:"Tell us more about how you're feeling...",value:i,onChange:p=>a(p.target.value),className:"min-h-20"})]}),n.jsx(E,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:u,disabled:!s||h.isPending,children:h.isPending?"Recording...":"Record Mood"})]})})]}),n.jsxs(L,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsx(ce,{children:"Recent Check-ins"})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:m.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No mood entries yet"}):m.map(p=>{const y=d.find(b=>b.value===p.mood);return n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl",children:y==null?void 0:y.emoji}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:y==null?void 0:y.label}),n.jsx("span",{className:"text-xs text-gray-500",children:p.entryDate?Ti(new Date(p.entryDate)):"Unknown date"})]}),p.notes&&n.jsxs("p",{className:"text-sm text-gray-600",children:['"',p.notes,'"']})]})]},p.id)})})})]})]})]})}function Jte(){const[e,t]=v.useState(!1),[s,r]=v.useState(null),{toast:i}=dt(),a=Yt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/emergency-resources"]}),c=Bt({resolver:Vt(oee),defaultValues:{name:"",type:"crisis",phoneNumber:"",address:"",website:"",description:"",availabilityHours:"",isEmergencyOnly:!1,caregiverId:1}}),d=Ce({mutationFn:async g=>await ye("POST","/api/emergency-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource added successfully"}),c.reset(),t(!1)},onError:()=>{i({title:"Error",description:"Failed to add emergency resource",variant:"destructive"})}}),h=Ce({mutationFn:async({id:g,data:p})=>await ye("PUT",`/api/emergency-resources/${g}`,p),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource updated successfully"}),r(null),c.reset()},onError:()=>{i({title:"Error",description:"Failed to update emergency resource",variant:"destructive"})}}),u=Ce({mutationFn:async g=>await ye("DELETE",`/api/emergency-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/emergency-resources"]}),i({title:"Success",description:"Emergency resource deleted successfully"})},onError:()=>{i({title:"Error",description:"Failed to delete emergency resource",variant:"destructive"})}}),m=g=>{s?h.mutate({id:s.id,data:g}):d.mutate(g)},f=g=>{r(g),t(!0),c.reset({name:g.name,type:g.type,phoneNumber:g.phoneNumber||"",address:g.address||"",website:g.website||"",description:g.description||"",availabilityHours:g.availabilityHours||"",isEmergencyOnly:g.isEmergencyOnly||!1,caregiverId:g.caregiverId})},j=g=>{switch(g){case"crisis":return n.jsx(Jt,{className:"w-4 h-4"});case"counselor":return n.jsx(lt,{className:"w-4 h-4"});case"hospital":return n.jsx(v9,{className:"w-4 h-4"});case"mental_health":return n.jsx(y9,{className:"w-4 h-4"});case"support_group":return n.jsx(ls,{className:"w-4 h-4"});default:return n.jsx(os,{className:"w-4 h-4"})}},x=g=>{switch(g){case"crisis":return"bg-red-100 text-red-800";case"counselor":return"bg-blue-100 text-blue-800";case"hospital":return"bg-purple-100 text-purple-800";case"mental_health":return"bg-green-100 text-green-800";case"support_group":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return l?n.jsx("div",{className:"animate-pulse",children:"Loading emergency resources..."}):n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-red-600"}),"Local Emergency Resources"]}),n.jsxs(E,{onClick:()=>{r(null),c.reset(),t(!e)},size:"sm",className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4"}),"Add Resource"]})]})}),n.jsxs(V,{className:"space-y-4",children:[e&&n.jsx(L,{className:"border-2 border-blue-200",children:n.jsx(V,{className:"pt-6",children:n.jsx(zt,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(m),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:c.control,name:"name",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Resource Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Crisis Hotline, Local Counselor, etc.",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"type",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Type"}),n.jsxs(Ge,{onValueChange:g.onChange,value:g.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select resource type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"crisis",children:"Crisis Hotline"}),n.jsx(B,{value:"counselor",children:"Personal Counselor"}),n.jsx(B,{value:"hospital",children:"Hospital/ER"}),n.jsx(B,{value:"mental_health",children:"Mental Health Center"}),n.jsx(B,{value:"support_group",children:"Support Group"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"phoneNumber",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Phone Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"(555) 123-4567",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"availabilityHours",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Availability"}),n.jsx(J,{children:n.jsx(q,{placeholder:"24/7, Mon-Fri 9-5, etc.",...g})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:c.control,name:"address",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Address"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Full address or general location",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"website",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://...",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Special notes, services offered, when to use this resource...",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:c.control,name:"isEmergencyOnly",render:({field:g})=>n.jsxs(Y,{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{className:"text-base",children:"Emergency Only"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Only use this resource during emergencies"})]}),n.jsx(J,{children:n.jsx(Ls,{checked:g.value,onCheckedChange:g.onChange})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",disabled:d.isPending||h.isPending,children:s?"Update Resource":"Add Resource"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>{t(!1),r(null),c.reset()},children:"Cancel"})]})]})})})}),o.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(os,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No emergency resources added yet."}),n.jsx("p",{className:"text-sm mt-2",children:"Caregivers can add local crisis support and counseling resources."})]}):n.jsx("div",{className:"grid gap-4",children:o.map(g=>n.jsx(L,{className:"border-l-4 border-l-red-500",children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j(g.type),n.jsx("h3",{className:"font-semibold text-lg",children:g.name}),n.jsx(he,{className:x(g.type),children:g.type.replace("_"," ")}),g.isEmergencyOnly&&n.jsx(he,{variant:"destructive",className:"text-xs",children:"Emergency Only"})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("a",{href:`tel:${g.phoneNumber}`,className:"text-blue-600 hover:underline font-medium",children:g.phoneNumber})]}),g.address&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4"}),n.jsx("span",{children:g.address})]}),g.website&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"w-4 h-4"}),n.jsx("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]}),g.availabilityHours&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"w-4 h-4"}),n.jsx("span",{children:g.availabilityHours})]}),g.description&&n.jsx("p",{className:"mt-2 text-gray-700",children:g.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx(E,{onClick:()=>f(g),variant:"ghost",size:"sm",children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{onClick:()=>u.mutate(g.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},g.id))}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"For Caregivers"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Add local emergency resources, crisis hotlines, personal counselors, and support groups that are specific to your area. This helps ensure your loved one has quick access to appropriate help when needed."})]})]})]})}const ese={music:C9,videos:R9,websites:mo,apps:l9,relaxation:lt,entertainment:ow,other:mo},tse={music:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",videos:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",websites:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",apps:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",relaxation:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",entertainment:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",other:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};function sse(){const[e,t]=v.useState("all"),[s,r]=v.useState(!1),{toast:i}=dt(),a=Yt(),o=Bt({resolver:Vt(lee),defaultValues:{title:"",url:"",description:"",category:"websites",tags:"",isFavorite:!1}}),{data:l=[],isLoading:c}=xe({queryKey:e==="all"?["/api/personal-resources"]:["/api/personal-resources",{category:e}]}),d=Ce({mutationFn:async g=>await ye("POST","/api/personal-resources",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),r(!1),o.reset(),i({title:"Success",description:"Personal resource added successfully!"})},onError:g=>{console.error("Error creating resource:",g),i({title:"Error",description:"Failed to add personal resource",variant:"destructive"})}}),h=Ce({mutationFn:async g=>await ye("DELETE",`/api/personal-resources/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]}),i({title:"Success",description:"Personal resource deleted successfully!"})},onError:()=>{i({title:"Error",description:"Failed to delete personal resource",variant:"destructive"})}}),u=Ce({mutationFn:async({id:g,isFavorite:p})=>await ye("PATCH",`/api/personal-resources/${g}`,{isFavorite:p}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),m=Ce({mutationFn:async g=>await ye("PATCH",`/api/personal-resources/${g}/access`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/personal-resources"]})}}),f=g=>{d.mutate(g)},j=g=>{m.mutate(g.id),window.open(g.url,"_blank")},x=[{value:"all",label:"All Resources"},{value:"music",label:"Music"},{value:"videos",label:"Videos"},{value:"websites",label:"Websites"},{value:"apps",label:"Apps"},{value:"relaxation",label:"Relaxation"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];return c?n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{children:"My Personal Resources"})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"},g))})})]}):n.jsxs(L,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{children:[n.jsx(ce,{className:"text-xl font-semibold",children:"My Personal Resources"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Save and access your favorite links for relaxation, music, videos, and more"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(ct,{className:"h-4 w-4 mr-2"}),"Add Resource"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Personal Resource"})}),n.jsx(zt,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-4",children:[n.jsx(Z,{control:o.control,name:"title",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Resource name",...g})})]})}),n.jsx(Z,{control:o.control,name:"url",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"URL"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://",...g})})]})}),n.jsx(Z,{control:o.control,name:"category",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:g.onChange,defaultValue:g.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"music",children:"Music"}),n.jsx(B,{value:"videos",children:"Videos"}),n.jsx(B,{value:"websites",children:"Websites"}),n.jsx(B,{value:"apps",children:"Apps"}),n.jsx(B,{value:"relaxation",children:"Relaxation"}),n.jsx(B,{value:"entertainment",children:"Entertainment"}),n.jsx(B,{value:"other",children:"Other"})]})]})]})}),n.jsx(Z,{control:o.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"What makes this resource helpful?",...g,value:g.value||""})})]})}),n.jsx(Z,{control:o.control,name:"tags",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Tags (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"calming, motivation, focus (comma-separated)",...g,value:g.value||""})})]})}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(E,{type:"submit",disabled:d.isPending,className:"flex-1",children:d.isPending?"Adding...":"Add Resource"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]})]})]}),n.jsxs(V,{children:[n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:x.map(g=>n.jsx(E,{variant:e===g.value?"default":"outline",size:"sm",onClick:()=>t(g.value),children:g.label},g.value))}),l.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(mo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg mb-2",children:"No resources saved yet"}),n.jsx("p",{className:"text-sm",children:"Add your favorite websites, music, videos, and apps to access them quickly."})]}):n.jsx("div",{className:"space-y-3",children:l.map(g=>{const p=ese[g.category]||mo;return n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(p,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-medium truncate",children:g.title}),n.jsx(he,{variant:"secondary",className:tse[g.category],children:g.category}),g.isFavorite&&n.jsx(qt,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),g.description&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.description}),g.tags&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.tags.split(",").map((y,b)=>n.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-muted rounded",children:y.trim()},b))}),(g.accessCount||0)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Accessed ",g.accessCount||0," times"]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>u.mutate({id:g.id,isFavorite:!g.isFavorite}),children:g.isFavorite?n.jsx(M9,{className:"h-4 w-4"}):n.jsx(qt,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>j(g),children:n.jsx(dx,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),children:n.jsx(Wn,{className:"h-4 w-4"})})]})]},g.id)})})]})]})}function nse(){const{toast:e}=dt(),t=Yt(),[s,r]=v.useState(!1),[i,a]=v.useState(null),[o,l]=v.useState({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""}),{data:c=[],isLoading:d}=xe({queryKey:["/api/emergency-contacts"],queryFn:()=>ye("GET","/api/emergency-contacts").then(b=>b.json())}),h=Ce({mutationFn:async b=>{const w=i?"PUT":"POST",C=i?`/api/emergency-contacts/${i.id}`:"/api/emergency-contacts";return ye(w,C,b)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),r(!1),a(null),m(),e({title:"Success",description:i?"Contact updated successfully":"Emergency contact added successfully"})},onError:()=>{e({title:"Error",description:"Failed to save contact. Please try again.",variant:"destructive"})}}),u=Ce({mutationFn:async b=>ye("DELETE",`/api/emergency-contacts/${b}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete contact. Please try again.",variant:"destructive"})}}),m=()=>{l({name:"",relationship:"",phoneNumber:"",email:"",isPrimary:!1,isEmergencyContact:!0,notes:""})},f=b=>{a(b),l({name:b.name,relationship:b.relationship,phoneNumber:b.phoneNumber,email:b.email||"",isPrimary:b.isPrimary,isEmergencyContact:b.isEmergencyContact,notes:b.notes||""}),r(!0)},j=b=>{b.preventDefault(),h.mutate(o)},x=(b,w)=>{window.location.href=`tel:${b}`,e({title:"Calling...",description:`Calling ${w} at ${b}`})},g=b=>{switch(b==null?void 0:b.toLowerCase()){case"parent":case"guardian":return n.jsx(lt,{className:"w-4 h-4 text-red-500"});case"sibling":return n.jsx(ta,{className:"w-4 h-4 text-blue-500"});case"doctor":case"therapist":return n.jsx(os,{className:"w-4 h-4 text-green-500"});case"crisis_hotline":case"emergency":return n.jsx(Jt,{className:"w-4 h-4 text-orange-500"});default:return n.jsx(bs,{className:"w-4 h-4 text-gray-500"})}},p=c.filter(b=>b.isPrimary),y=c.filter(b=>b.isEmergencyContact&&!b.isPrimary);return c.filter(b=>!b.isEmergencyContact&&!b.isPrimary),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(L,{className:"border-red-200 bg-red-50",children:[n.jsx(le,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-red-800 text-lg",children:[n.jsx(Jt,{className:"w-4 h-4"}),"Emergency Quick Dial"]}),n.jsx(he,{variant:"destructive",className:"text-xs",children:"Emergency"})]})}),n.jsx(V,{className:"pt-0",children:y.length>0?n.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:y.slice(0,4).map(b=>n.jsx(E,{onClick:()=>x(b.phoneNumber,b.name),className:"h-12 bg-red-600 hover:bg-red-700 text-white",size:"sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium text-sm",children:b.name}),n.jsx("div",{className:"text-xs opacity-90",children:b.phoneNumber})]})]})},b.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Jt,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),n.jsx("p",{className:"text-red-700 mb-4",children:"No emergency contacts set up yet"}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"destructive",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Emergency Contact"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Emergency Contact"}),n.jsx(es,{children:"Add a contact for emergency situations"})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name *"}),n.jsx(q,{id:"name",value:o.name,onChange:b=>l({...o,name:b.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),n.jsxs(Ge,{value:o.relationship,onValueChange:b=>l({...o,relationship:b}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"guardian",children:"Guardian"}),n.jsx(B,{value:"sibling",children:"Sibling"}),n.jsx(B,{value:"caregiver",children:"Caregiver"}),n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),n.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:b=>l({...o,phoneNumber:b.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{id:"email",type:"email",value:o.email,onChange:b=>l({...o,email:b.target.value})})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{id:"notes",value:o.notes,onChange:b=>l({...o,notes:b.target.value}),placeholder:"Special instructions or notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:h.isPending,children:h.isPending?"Saving...":"Save Contact"})]})]})]})]})]})})]}),p.length>0&&n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(qt,{className:"w-5 h-5 text-yellow-500"}),"Primary Contacts"]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-3",children:p.map(b=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g(b.relationship),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:b.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[b.relationship,"  ",b.phoneNumber]}),b.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.notes})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"sm",onClick:()=>x(b.phoneNumber,b.name),className:"bg-green-600 hover:bg-green-700",children:n.jsx(bs,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>f(b),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(b.id),disabled:u.isPending,children:n.jsx(Wn,{className:"w-4 h-4"})})]})]},b.id))})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"w-5 h-5"}),"All Contacts"]}),n.jsxs(et,{open:s,onOpenChange:b=>{r(b),b||(a(null),m())},children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:i?"Edit Contact":"Add Contact"}),n.jsx(es,{children:i?"Update contact information":"Add a new emergency contact"})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name *"}),n.jsx(q,{id:"name",value:o.name,onChange:b=>l({...o,name:b.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship *"}),n.jsxs(Ge,{value:o.relationship,onValueChange:b=>l({...o,relationship:b}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"guardian",children:"Guardian"}),n.jsx(B,{value:"sibling",children:"Sibling"}),n.jsx(B,{value:"caregiver",children:"Caregiver"}),n.jsx(B,{value:"doctor",children:"Doctor"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"crisis_hotline",children:"Crisis Hotline"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number *"}),n.jsx(q,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:b=>l({...o,phoneNumber:b.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{id:"email",type:"email",value:o.email,onChange:b=>l({...o,email:b.target.value})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isPrimary",checked:o.isPrimary,onChange:b=>l({...o,isPrimary:b.target.checked})}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isEmergencyContact",checked:o.isEmergencyContact,onChange:b=>l({...o,isEmergencyContact:b.target.checked})}),n.jsx(de,{htmlFor:"isEmergencyContact",children:"Emergency contact"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{id:"notes",value:o.notes,onChange:b=>l({...o,notes:b.target.value}),placeholder:"Special instructions or notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:h.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",children:h.isPending?"Saving...":i?"Update":"Save Contact"})]})]})]})]})]})}),n.jsx(V,{children:c.length>0?n.jsx("div",{className:"space-y-3",children:c.map(b=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g(b.relationship),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:b.name}),b.isPrimary&&n.jsx(he,{variant:"secondary",children:"Primary"}),b.isEmergencyContact&&n.jsx(he,{variant:"destructive",children:"Emergency"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[b.relationship,"  ",b.phoneNumber]}),b.email&&n.jsx("p",{className:"text-sm text-gray-500",children:b.email}),b.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.notes})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{size:"sm",onClick:()=>x(b.phoneNumber,b.name),className:"bg-green-600 hover:bg-green-700",children:n.jsx(bs,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>f(b),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u.mutate(b.id),disabled:u.isPending,children:n.jsx(Wn,{className:"w-4 h-4"})})]})]},b.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts added yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add emergency contacts for quick access during urgent situations"})]})})]})]})}function rse(){const[e,t]=v.useState(!1),[s,r]=v.useState("inhale"),[i,a]=v.useState(0),[o,l]=v.useState(0),[c,d]=v.useState(null),h=_h(null),u=_h(null),m=[{id:"grounding",title:"5-4-3-2-1 Grounding Technique",description:"Use your senses to ground yourself in the present moment",steps:["Notice 5 things you can see around you","Notice 4 things you can touch","Notice 3 things you can hear","Notice 2 things you can smell","Notice 1 thing you can taste"],color:"bg-vibrant-green"},{id:"progressive",title:"Progressive Muscle Relaxation",description:"Tense and relax different muscle groups to reduce stress",steps:["Start with your toes - tense for 5 seconds, then relax","Move to your calves - tense and relax","Continue with thighs, abdomen, hands, arms","Finish with shoulders, neck, and face","Take deep breaths throughout the process"],color:"bg-happy-purple"},{id:"positive",title:"Positive Self-Talk",description:"Replace negative thoughts with encouraging ones",steps:["Notice when you're being self-critical","Ask yourself: 'What would I tell a friend?'","Replace negative thoughts with realistic, kind ones","Use affirmations: 'I am capable and strong'","Practice daily to build this habit"],color:"bg-sunny-orange"},{id:"mindfulness",title:"Mindful Moment",description:"Take a pause to reconnect with the present",steps:["Stop what you're doing and sit comfortably","Close your eyes or soften your gaze","Notice your breath without changing it","When your mind wanders, gently return to your breath","Continue for 2-5 minutes"],color:"bg-calm-teal"}],f=[{name:"Crisis Text Line",description:"Text HOME to 741741",available:"24/7",color:"bg-red-500"},{name:"National Suicide Prevention Lifeline",description:"Call 988",available:"24/7",color:"bg-red-600"},{name:"SAMHSA National Helpline",description:"1-800-662-4357",available:"24/7",color:"bg-red-700"}],j=()=>{e||(t(!0),l(0),r("inhale"),a(0))},x=()=>{t(!1),a(0),r("inhale"),h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)};return v.useEffect(()=>{if(!e)return;const g=[{name:"inhale",duration:4e3},{name:"hold",duration:4e3},{name:"exhale",duration:4e3}];let p=0,y=0;const b=()=>{const w=g[p];r(w.name);const C=Date.now(),N=()=>{const S=Date.now()-C,k=Math.min(S/w.duration*100,100);a(k),k<100?h.current=requestAnimationFrame(N):(p=(p+1)%g.length,p===0&&(y++,l(y)),u.current=window.setTimeout(b,100))};h.current=requestAnimationFrame(N)};return b(),()=>{h.current!==null&&(cancelAnimationFrame(h.current),h.current=null),u.current!==null&&(clearTimeout(u.current),u.current=null)}},[e]),n.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Mental Health Resources"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Take care of your mental health with these helpful tools and resources."})]}),n.jsx("div",{className:"mb-8",children:n.jsx(nse,{})}),n.jsxs(L,{className:"border-t-4 border-red-500 mb-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3 text-red-700",children:[n.jsx(bs,{size:24}),n.jsx("span",{children:"Emergency Support"})]})}),n.jsxs(V,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"If you're in crisis or having thoughts of self-harm, please reach out for help immediately."}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:f.map((g,p)=>n.jsxs("div",{className:`${g.color} text-white rounded-lg p-3 sm:p-4`,children:[n.jsx("h4",{className:"font-semibold mb-2 text-sm sm:text-base",children:g.name}),n.jsx("p",{className:"text-xs sm:text-sm opacity-90 mb-1",children:g.description}),n.jsx("p",{className:"text-xs opacity-80",children:g.available})]},p))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[n.jsxs(L,{className:"border-t-4 border-happy-purple",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(kD,{className:"text-happy-purple",size:20}),n.jsx("span",{children:"Breathing Exercise"})]})}),n.jsx(V,{className:"px-3 sm:px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mb-4 sm:mb-6",children:n.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center transition-all duration-1000 ${s==="inhale"?"bg-blue-200 scale-110":s==="hold"?"bg-purple-200 scale-110":"bg-green-200 scale-90"}`,children:n.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-700 px-2 text-center leading-tight",children:s==="inhale"?"Breathe In":s==="hold"?"Hold":"Breathe Out"})})}),n.jsx("div",{className:"mb-4 px-2",children:n.jsx(on,{value:i,className:"h-2"})}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base px-2",children:e?`Cycle ${o+1}  ${s}`:"4-4-4 Breathing Pattern"}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 px-2",children:e?n.jsxs(n.Fragment,{children:[n.jsxs(E,{variant:"outline",onClick:x,className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[n.jsx(jD,{size:16,className:"mr-2"}),"Stop"]}),n.jsxs(E,{variant:"outline",onClick:()=>{x(),setTimeout(j,100)},className:"border-happy-purple text-happy-purple w-full sm:w-auto",children:[n.jsx(wD,{size:16,className:"mr-2"}),"Restart"]})]}):n.jsxs(E,{className:"bg-happy-purple hover:bg-happy-purple text-white w-full sm:w-auto",onClick:j,children:[n.jsx(iw,{size:16,className:"mr-2"}),"Start Breathing"]})})]})})]}),n.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(Au,{className:"text-vibrant-green",size:20}),n.jsx("span",{children:"Coping Strategies"})]})}),n.jsx(V,{className:"px-3 sm:px-6",children:n.jsx("div",{className:"space-y-2 sm:space-y-3",children:m.map(g=>n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",className:"w-full justify-start h-auto p-3 sm:p-4 border-2 hover:shadow-md transition-all text-left",onClick:()=>d(g.id),children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0`,children:n.jsx(lt,{className:"text-white",size:14})}),n.jsxs("div",{className:"text-left min-w-0 flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:g.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 sm:line-clamp-none",children:g.description})]})]})}),n.jsxs(Ye,{className:"max-w-sm sm:max-w-md mx-2 sm:mx-auto max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{className:"pb-3",children:n.jsxs(Ze,{className:"flex items-center space-x-2 sm:space-x-3 text-base sm:text-lg",children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color} rounded-lg flex items-center justify-center flex-shrink-0`,children:n.jsx(lt,{className:"text-white",size:14})}),n.jsx("span",{className:"leading-tight",children:g.title})]})}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 pb-2",children:[n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:g.description}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Steps:"}),n.jsx("ol",{className:"space-y-2 sm:space-y-3",children:g.steps.map((p,y)=>n.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("span",{className:`w-5 h-5 sm:w-6 sm:h-6 ${g.color} text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-medium flex-shrink-0 mt-0.5`,children:y+1}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:p})]},y))})]})]})]})]},g.id))})})]})]}),n.jsxs(L,{className:"border-t-4 border-sunny-orange mt-6 sm:mt-8",children:[n.jsx(le,{className:"pb-4",children:n.jsxs(ce,{className:"flex items-center space-x-2 sm:space-x-3 text-lg sm:text-xl",children:[n.jsx(Hr,{className:"text-sunny-orange",size:20}),n.jsx("span",{children:"Educational Resources"})]})}),n.jsx(V,{className:"px-3 sm:px-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Understanding Anxiety"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn about anxiety symptoms and healthy ways to manage anxious feelings."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-sunny-orange text-sunny-orange hover:bg-orange-50",children:"Learn More"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Building Resilience"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Discover strategies to bounce back from challenges and build emotional strength."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"Learn More"})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Healthy Habits"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Simple daily practices that support your mental and emotional wellbeing."}),n.jsx(E,{variant:"outline",size:"sm",className:"border-vibrant-green text-vibrant-green hover:bg-green-50",children:"Learn More"})]})]})})]}),n.jsx("div",{className:"col-span-full",children:n.jsx(Jte,{})}),n.jsx("div",{className:"col-span-full",children:n.jsx(sse,{})})]})}const ise=Ns({name:Ae().min(1,"Name is required"),relationship:Ae().min(1,"Relationship is required"),email:Ae().email("Valid email is required").optional().or(HR(""))}),ase=Ns({caregiverId:zs().min(1,"Please select a caregiver"),content:Ae().min(1,"Message cannot be empty")});function ose(){const{isPremiumUser:e}=Fi(),{toast:t}=dt(),[s,r]=v.useState(!1);if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Caregiver Communication",description:"Connect with your support network, share updates, and coordinate care. Subscribe to continue using Adaptalyfe's caregiver features.",feature:"caregiver",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[i,a]=v.useState(!1),[o,l]=v.useState(null),{data:c=[],isLoading:d}=xe({queryKey:["/api/caregivers"]}),{data:h=[],isLoading:u}=xe({queryKey:["/api/messages"]}),{data:m}=xe({queryKey:["/api/user"]}),{data:f=[]}=xe({queryKey:["/api/daily-tasks"]}),j=Bt({resolver:Vt(ise),defaultValues:{name:"",relationship:"",email:""}}),x=Bt({resolver:Vt(ase),defaultValues:{caregiverId:0,content:""}}),g=Ce({mutationFn:async k=>ye("POST","/api/caregivers",{...k,email:k.email||void 0}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/caregivers"]}),r(!1),j.reset(),t({title:"Caregiver added!",description:"Your support person has been added to your network."})}}),p=Ce({mutationFn:async k=>ye("POST","/api/messages",{...k,fromUser:!0}),onSuccess:()=>{xs.invalidateQueries({queryKey:["/api/messages"]}),a(!1),x.reset(),t({title:"Message sent!",description:"Your message has been sent to your caregiver."})}}),y=Ce({mutationFn:async()=>new Promise(k=>setTimeout(k,1e3)),onSuccess:()=>{t({title:"Progress shared!",description:"Your progress has been shared with your caregivers."})}}),b=f.filter(k=>k.isCompleted).length,w=f.length,C=w>0?Math.round(b/w*100):0,N=h.reduce((k,T)=>(k[T.caregiverId]||(k[T.caregiverId]=[]),k[T.caregiverId].push(T),k),{}),S=h.sort((k,T)=>new Date(T.sentAt).getTime()-new Date(k.sentAt).getTime()).slice(0,5);return d||u?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"h-96 bg-gray-200 rounded"}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Support Network"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Connect with your caregivers and support team to share your progress and get help when you need it."})]}),n.jsxs(L,{className:"border-t-4 border-calm-teal mb-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(lt,{className:"text-calm-teal",size:24}),n.jsx("span",{children:"Your Progress Today"})]}),n.jsxs(E,{className:"bg-calm-teal hover:bg-calm-teal text-white",onClick:()=>y.mutate(),disabled:y.isPending,children:[n.jsx(SD,{size:16,className:"mr-2"}),"Share Progress"]})]})}),n.jsx(V,{children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-calm-teal mb-2",children:[C,"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Daily Tasks Complete"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-sunny-orange mb-2",children:(m==null?void 0:m.streakDays)||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Day Streak"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-happy-purple mb-2",children:c.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Support Connections"})]})]})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsxs(L,{className:"border-t-4 border-vibrant-green",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ls,{className:"text-vibrant-green",size:24}),n.jsx("span",{children:"My Support Team"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-vibrant-green hover:bg-vibrant-green text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Caregiver"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Caregiver"})}),n.jsx(zt,{...j,children:n.jsxs("form",{onSubmit:j.handleSubmit(k=>g.mutate(k)),className:"space-y-4",children:[n.jsx(Z,{control:j.control,name:"name",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Mom, Dr. Smith",...k})}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"relationship",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Relationship"}),n.jsxs(Ge,{onValueChange:k.onChange,defaultValue:k.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"parent",children:"Parent"}),n.jsx(B,{value:"therapist",children:"Therapist"}),n.jsx(B,{value:"support worker",children:"Support Worker"}),n.jsx(B,{value:"family member",children:"Family Member"}),n.jsx(B,{value:"friend",children:"Friend"}),n.jsx(B,{value:"other",children:"Other"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:j.control,name:"email",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Email (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"email",placeholder:"caregiver@example.com",...k})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:g.isPending,children:"Add Caregiver"})]})})]})]})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:c.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No caregivers added yet. Add someone to your support team!"}):c.map(k=>{var T;return n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-12 h-12 bg-calm-teal rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium",children:k.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),n.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[k.relationship,k.email&&`  ${k.email}`]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[((T=N[k.id])==null?void 0:T.length)||0," messages"]})]}),n.jsx(E,{variant:"outline",size:"sm",className:"border-calm-teal text-calm-teal hover:bg-teal-50",onClick:()=>{l(k.id),x.setValue("caregiverId",k.id),a(!0)},children:n.jsx(Af,{size:16})})]},k.id)})})})]}),n.jsxs(L,{className:"border-t-4 border-bright-blue",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Af,{className:"text-bright-blue",size:24}),n.jsx("span",{children:"Messages"})]}),n.jsxs(et,{open:i,onOpenChange:a,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-bright-blue hover:bg-bright-blue text-white",disabled:c.length===0,children:[n.jsx(ND,{size:16,className:"mr-2"}),"Send Message"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Send Message"})}),n.jsx(zt,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(k=>p.mutate(k)),className:"space-y-4",children:[n.jsx(Z,{control:x.control,name:"caregiverId",render:({field:k})=>{var T;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Send to"}),n.jsxs(Ge,{onValueChange:D=>k.onChange(parseInt(D)),defaultValue:(T=k.value)==null?void 0:T.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select caregiver"})})}),n.jsx(We,{children:c.map(D=>n.jsx(B,{value:D.id.toString(),children:D.name},D.id))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:x.control,name:"content",render:({field:k})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Message"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Type your message here...",className:"min-h-24",...k})}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:p.isPending,children:"Send Message"})]})})]})]})]})}),n.jsxs(V,{children:[n.jsx("div",{className:"space-y-4",children:S.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No messages yet. Send a message to start communicating!"}):S.map(k=>{const T=c.find(D=>D.id===k.caregiverId);return n.jsxs("div",{className:`p-4 rounded-lg border-2 ${k.fromUser?"bg-blue-50 border-blue-200 ml-8":"bg-teal-50 border-teal-200 mr-8"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:k.fromUser?"You":T==null?void 0:T.name}),n.jsx("span",{className:"text-xs text-gray-500",children:Ti(new Date(k.sentAt))})]}),n.jsx("p",{className:"text-gray-700",children:k.content})]},k.id)})}),h.length>5&&n.jsx("div",{className:"text-center mt-6",children:n.jsx(E,{variant:"outline",className:"border-bright-blue text-bright-blue hover:bg-blue-50",children:"View All Messages"})})]})]})]}),n.jsxs(L,{className:"border-t-4 border-sunny-orange mt-8",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-3",children:[n.jsx(cl,{className:"text-sunny-orange",size:24}),n.jsx("span",{children:"Getting Help"})]})}),n.jsx(V,{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"When to Reach Out"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("li",{children:" When you're feeling overwhelmed or stressed"}),n.jsx("li",{children:" If you need help with daily tasks"}),n.jsx("li",{children:" When you have questions about your progress"}),n.jsx("li",{children:" If you want to celebrate achievements"}),n.jsx("li",{children:" When you need emotional support"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Communication Tips"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("li",{children:" Be specific about what you need"}),n.jsx("li",{children:" Share your feelings openly and honestly"}),n.jsx("li",{children:" Ask questions if you don't understand"}),n.jsx("li",{children:" Celebrate your wins, big and small"}),n.jsx("li",{children:" Remember that asking for help is a sign of strength"})]})]})]})})]})]})}const J2=Ns({userName:Ae().min(1,"Person's name is required"),userEmail:Ae().optional(),userAge:zs().optional(),relationship:Ae().min(1,"Relationship type is required"),permissions:Xw(Ae()).default([])}),lse=[{value:"parent",label:"Parent/Guardian",icon:"",description:"Full access to all features and settings"},{value:"therapist",label:"Therapist/Counselor",icon:"",description:"Access to mood, goals, and session notes"},{value:"case_worker",label:"Case Worker",icon:"",description:"Access to appointments and resources"},{value:"teacher",label:"Teacher/Aide",icon:"",description:"Access to academic and daily tasks"},{value:"mentor",label:"Life Skills Mentor",icon:"",description:"Access to independence and life skills"},{value:"family_friend",label:"Family Friend",icon:"",description:"Limited access to check-ins"}],cse=[{id:"view_progress",label:"View Progress",description:"See completed tasks and achievements"},{id:"view_mood",label:"Mood Tracking",description:"Access mood entries and patterns"},{id:"view_medical",label:"Medical Information",description:"View medications and appointments"},{id:"view_financial",label:"Financial Management",description:"See bills and budget entries"},{id:"emergency_access",label:"Emergency Access",description:"Contact in emergencies"},{id:"location_tracking",label:"Location Sharing",description:"See location updates"},{id:"schedule_appointments",label:"Schedule Appointments",description:"Book medical/therapy appointments"},{id:"modify_tasks",label:"Modify Tasks",description:"Add or edit daily tasks"}];function dse(){const{toast:e}=dt(),t=Yt(),[s,r]=v.useState(null),[i,a]=v.useState("create"),[o,l]=v.useState(null),{data:c}=xe({queryKey:["/api/user"]}),{data:d=[]}=xe({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`],enabled:!!(c!=null&&c.id)}),{data:h=[]}=xe({queryKey:["/api/care-relationships/caregiver",c==null?void 0:c.id],enabled:!!(c!=null&&c.id)}),u=Bt({resolver:Vt(J2),defaultValues:{userName:"",userEmail:"",userAge:void 0,relationship:"",permissions:[]}}),m=Ce({mutationFn:y=>ye("POST","/api/caregiver-invitations",{...y,caregiverId:c==null?void 0:c.id,permissionsGranted:y.permissions}).then(b=>b.json()),onSuccess:y=>{t.invalidateQueries({queryKey:["/api/caregiver-invitations"]}),t.invalidateQueries({queryKey:[`/api/caregiver-invitations/${c==null?void 0:c.id}`]}),e({title:"Invitation Created Successfully!",description:`Share this code with your caregiver: ${y.invitationCode}`}),u.reset(),a("manage")},onError:y=>{console.error("Invitation creation error:",y),e({title:"Unable to Create Invitation",description:"There was a problem saving your invitation. Please check your information and try again.",variant:"destructive"})}}),f=async(y,b)=>{try{await navigator.clipboard.writeText(y),r(b),setTimeout(()=>r(null),2e3),e({title:"Copied!",description:`${b} copied to clipboard`})}catch{e({title:"Copy Failed",description:"Please copy the code manually",variant:"destructive"})}},j=async y=>{l(y)},x=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},g=y=>{console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Form data:",y),console.log("Form errors:",u.formState.errors),console.log("Form is valid:",u.formState.isValid),console.log("Form values:",u.getValues()),console.log("Current permissions:",u.getValues().permissions);const b=J2.safeParse(y);if(console.log("Schema validation result:",b),!b.success){console.log("Schema validation failed:",b.error.issues),e({title:"Validation Error",description:`Please fix: ${b.error.issues.map(w=>w.message).join(", ")}`,variant:"destructive"});return}console.log("All validation passed, submitting..."),m.mutate(y)},p=y=>({parent:["view_progress","view_mood","view_medical","view_financial","emergency_access","location_tracking","schedule_appointments","modify_tasks"],therapist:["view_progress","view_mood","emergency_access","schedule_appointments"],case_worker:["view_progress","emergency_access","schedule_appointments"],teacher:["view_progress","modify_tasks"],mentor:["view_progress","modify_tasks"],family_friend:["view_progress","emergency_access"]})[y]||[];return n.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(ls,{className:"text-white",size:28})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Caregiver Setup Center"}),n.jsx("p",{className:"text-gray-600",children:"Connect with family, therapists, and support team"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[n.jsx(L,{className:"border-2 border-purple-200 bg-purple-50",children:n.jsxs(V,{className:"p-4 text-center",children:[n.jsx(lt,{className:"mx-auto text-purple-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-purple-900",children:"Family-Centered"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Designed for families and care teams"})]})}),n.jsx(L,{className:"border-2 border-blue-200 bg-blue-50",children:n.jsxs(V,{className:"p-4 text-center",children:[n.jsx(os,{className:"mx-auto text-blue-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-blue-900",children:"Secure & Private"}),n.jsx("p",{className:"text-sm text-blue-700",children:"HIPAA-compliant data protection"})]})}),n.jsx(L,{className:"border-2 border-green-200 bg-green-50",children:n.jsxs(V,{className:"p-4 text-center",children:[n.jsx(ca,{className:"mx-auto text-green-600 mb-2",size:24}),n.jsx("p",{className:"font-medium text-green-900",children:"Customizable Access"}),n.jsx("p",{className:"text-sm text-green-700",children:"Control what each caregiver sees"})]})})]})]}),n.jsxs(hn,{value:i,onValueChange:a,className:"w-full",children:[n.jsxs(en,{className:"grid grid-cols-1 sm:grid-cols-3 max-w-2xl mx-auto gap-1 sm:gap-0 h-auto sm:h-10 p-1",children:[n.jsxs($e,{value:"create",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(ta,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Create Invitation"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]}),n.jsxs($e,{value:"manage",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(vy,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Manage Invitations"}),n.jsx("span",{className:"sm:hidden",children:"Manage"})]}),n.jsxs($e,{value:"relationships",className:"flex items-center justify-center space-x-2 py-3 px-4 text-sm",children:[n.jsx(ls,{size:16}),n.jsx("span",{className:"hidden sm:inline",children:"Active Relationships"}),n.jsx("span",{className:"sm:hidden",children:"Active"})]})]}),n.jsx(Ue,{value:"create",className:"space-y-6 mt-6",children:n.jsxs(L,{className:"max-w-2xl mx-auto",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ta,{className:"text-purple-600",size:24}),n.jsx("span",{children:"Invite New Caregiver"})]}),n.jsx(at,{children:"Create a secure invitation for a family member, therapist, or support team member"})]}),n.jsx(V,{children:n.jsx(zt,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:u.control,name:"userName",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Person's Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Sarah Johnson",...y})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"userEmail",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Email Address (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"email",placeholder:"sarah@email.com",...y,value:y.value||""})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:u.control,name:"relationship",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Relationship Type"}),n.jsxs(Ge,{onValueChange:b=>{y.onChange(b);const w=p(b);u.setValue("permissions",w),console.log(`Selected relationship: ${b}, setting permissions:`,w)},value:y.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select relationship type"})})}),n.jsx(We,{children:lse.map(b=>n.jsx(B,{value:b.value,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:b.icon}),n.jsxs("div",{children:[n.jsx("div",{children:b.label}),n.jsx("div",{className:"text-xs text-gray-500",children:b.description})]})]})},b.value))})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"permissions",render:({field:y})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Access Permissions"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:cse.map(b=>n.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${y.value.includes(b.id)?"border-purple-300 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{const w=y.value,C=w.includes(b.id)?w.filter(N=>N!==b.id):[...w,b.id];y.onChange(C)},children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-4 h-4 border-2 rounded ${y.value.includes(b.id)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:y.value.includes(b.id)&&n.jsx(uc,{className:"text-white",size:12})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:b.label}),n.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]})},b.id))}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:m.isPending,onClick:()=>{console.log("Create Invitation button clicked"),console.log("Current form values:",u.getValues()),console.log("Form errors:",u.formState.errors)},children:m.isPending?"Creating...":"Create Invitation"})]})})})]})}),n.jsxs(Ue,{value:"manage",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invitation Management"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage caregiver invitations"})]}),n.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:d.length===0?n.jsx(L,{children:n.jsxs(V,{className:"text-center py-12",children:[n.jsx(vy,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Invitations Yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first caregiver invitation to get started"}),n.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Create Invitation"})]})}):d.map(y=>n.jsx(L,{className:"border-l-4 border-l-purple-500",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.userName}),n.jsx(he,{className:`${x(y.status)} border-none`,children:y.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Relationship:"})," ",y.relationship]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",y.userEmail||"Not provided"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Created:"})," ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Expires:"})," ",y.expiresAt?new Date(y.expiresAt).toLocaleDateString():"N/A"]})]}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx("strong",{children:"Permissions:"})," ",y.permissionsGranted?Array.isArray(y.permissionsGranted)?y.permissionsGranted.length:JSON.parse(y.permissionsGranted).length:0," granted"]})})]})]}),y.status==="pending"&&n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("code",{className:"px-3 py-1 bg-gray-100 rounded text-sm font-mono",children:y.invitationCode}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>f(y.invitationCode,"Invitation Code"),children:s==="Invitation Code"?n.jsx(uc,{className:"text-green-600",size:16}):n.jsx(pS,{size:16})})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(`Join AdaptaLyfe with invitation code: ${y.invitationCode}

Visit: ${window.location.origin}/accept-invitation?code=${y.invitationCode}`,"Share Message"),children:[n.jsx(dx,{size:14,className:"mr-1"}),"Share Link"]}),n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>j(y.invitationCode),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[n.jsx(Df,{size:14,className:"mr-1"}),"Share"]})]})]})]})})},y.id))})]}),n.jsxs(Ue,{value:"relationships",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Active Care Relationships"}),n.jsx("p",{className:"text-gray-600",children:"Manage connected caregivers and their access levels"})]}),n.jsx("div",{className:"grid gap-4 max-w-4xl mx-auto",children:h.length===0?n.jsx(L,{children:n.jsxs(V,{className:"text-center py-12",children:[n.jsx(ls,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Relationships"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"When caregivers accept invitations, they'll appear here"}),n.jsx(E,{onClick:()=>a("create"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Send First Invitation"})]})}):h.map(y=>n.jsx(L,{className:"border-l-4 border-l-green-500",children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Care Relationship #",y.id]}),y.isPrimary&&n.jsx(he,{className:"bg-yellow-100 text-yellow-800 border-none",children:"PRIMARY"}),n.jsx(he,{className:"bg-green-100 text-green-800 border-none",children:"ACTIVE"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Relationship:"})," ",y.relationship]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Established:"})," ",y.establishedAt?new Date(y.establishedAt).toLocaleDateString():"N/A"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Method:"})," ",y.establishedVia]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",y.userId]})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(ca,{size:14,className:"mr-1"}),"Manage Access"]})})]})})},y.id))})]})]}),n.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Professional Healthcare Positioning"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"SkillBridge is designed to support individuals with neurodevelopmental disorders in building independence while maintaining strong connections with their care team. Perfect for families, therapists, and healthcare providers."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(os,{className:"text-blue-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"HIPAA Compliant"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(lt,{className:"text-red-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"Evidence-Based"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(ls,{className:"text-green-600",size:16}),n.jsx("span",{className:"text-gray-700",children:"Care Team Focused"})]})]})]})}),n.jsx(et,{open:!!o,onOpenChange:()=>l(null),children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{className:"text-center",children:"Share Invitation with Caregiver"}),n.jsx(es,{className:"text-center",children:"Send your caregiver a simple message with the invitation code"})]}),n.jsx("div",{className:"space-y-4",children:o&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:["Invitation Code: ",n.jsx("code",{className:"bg-white px-2 py-1 rounded border",children:o})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your caregiver can use this code when they sign in at the main login page."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(E,{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:()=>{const y=d==null?void 0:d.find(S=>S.invitationCode===o),b=(y==null?void 0:y.userName)||"my caregiver",w=`adaptalyfe://login?code=${o}`,C=`${window.location.origin}/login?code=${o}`,N=`Hi ${b}! I'd like you to join my Adaptalyfe support network.

If you have the Adaptalyfe app installed:
${w}

Otherwise, use this web link:
${C}

Invitation code: ${o}`;window.open(`sms:?body=${encodeURIComponent(N)}`,"_blank")},children:[n.jsx(Df,{className:"w-4 h-4 mr-2"}),"Send Text Message"]}),n.jsxs(E,{variant:"outline",className:"w-full border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-semibold",onClick:()=>{const y=d==null?void 0:d.find(k=>k.invitationCode===o),b=(y==null?void 0:y.userName)||"my caregiver",w="Adaptalyfe Caregiver Invitation",C=`adaptalyfe://login?code=${o}`,N=`${window.location.origin}/login?code=${o}`,S=`Hi ${b}!

I'd like you to join my support network on Adaptalyfe, an app that helps me manage daily tasks and stay independent.

To join:

If you have the Adaptalyfe mobile app installed:
${C}

Otherwise, use this web link:
${N}

Your invitation code is: ${o}

Thanks!`;window.open(`mailto:?subject=${encodeURIComponent(w)}&body=${encodeURIComponent(S)}`,"_blank")},children:[n.jsx(vy,{className:"w-4 h-4 mr-2"}),"Send Email"]}),n.jsxs(E,{variant:"ghost",className:"w-full text-gray-600 hover:bg-gray-50",onClick:()=>{const y=`Invitation Code: ${o}
Login at: ${window.location.origin}/login`;navigator.clipboard.writeText(y),e({title:"Copied!",description:"Invitation details copied to clipboard"}),r("invitation"),setTimeout(()=>r(null),2e3)},children:[s==="invitation"?n.jsx(uc,{className:"w-4 h-4 mr-2"}):n.jsx(pS,{className:"w-4 h-4 mr-2"}),"Copy Invitation Details"]})]})]})})]})})]})}const use=mm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vc=v.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:Le(use({variant:t}),e),...s}));vc.displayName="Alert";const hse=v.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:Le("mb-1 font-medium leading-none tracking-tight",e),...t}));hse.displayName="AlertTitle";const bc=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Le("text-sm [&_p]:leading-relaxed",e),...t}));bc.displayName="AlertDescription";const mse=Ns({invitationCode:Ae().min(6,"Invitation code must be at least 6 characters"),confirmAccept:ko().default(!1)});function pse(){const{toast:e}=dt(),[t,s]=On(),[r,i]=v.useState(null),[a,o]=v.useState(!1),[l,c]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{(()=>{const C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);h(C),console.log("AcceptInvitation: Mobile detected:",C)})()},[]);const{data:u,isLoading:m}=xe({queryKey:["/api/user"],retry:d?3:1,retryDelay:d?1e3:500});if(m)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const f=Bt({resolver:Vt(mse),defaultValues:{invitationCode:"",confirmAccept:!1}});v.useEffect(()=>{try{console.log("AcceptInvitation: Checking URL for invitation code");const C=new URLSearchParams(window.location.search).get("code");console.log("AcceptInvitation: Code from URL:",C),C&&(f.setValue("invitationCode",C),j(C))}catch(w){console.error("AcceptInvitation: Error parsing URL:",w)}},[]);const j=async w=>{if(!(!w||w.length<6)){console.log("AcceptInvitation: Validating invitation code:",w),o(!0),c(null);try{const N=await(await ye("GET",`/api/invitation/${w}`)).json();console.log("AcceptInvitation: Invitation data received:",N),i(N)}catch(C){console.error("AcceptInvitation: Validation error:",C);const N=C.message.includes("404")?"Invitation code not found":C.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(N),i(null)}finally{o(!1)}}},x=Ce({mutationFn:w=>ye("POST","/api/accept-invitation",w).then(C=>C.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to Adaptalyfe!"}),setTimeout(()=>{s("/dashboard")},2e3)},onError:w=>{e({title:"Error",description:"Failed to accept invitation: "+w.message,variant:"destructive"})}}),g=w=>{f.setValue("invitationCode",w),w.length>=6?j(w):(i(null),c(null))},p=()=>{!u||!r||typeof u!="object"||!("id"in u)||x.mutate({invitationCode:r.invitationCode,userId:u.id})},y=w=>{const C={view_progress:"View your daily tasks and achievements",view_mood:"See your mood tracking entries",view_medical:"Access medical information and appointments",view_financial:"View bills and budget information",emergency_access:"Contact you in emergencies",location_tracking:"See your location updates",schedule_appointments:"Book appointments for you",modify_tasks:"Add or edit your daily tasks"};return w.map(N=>C[N]||N)},b={parent:"",therapist:"",case_worker:"",teacher:"",mentor:"",family_friend:""};return n.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 flex items-center justify-center ${d?"p-2":"p-4"}`,children:n.jsxs("div",{className:`${d?"max-w-sm":"max-w-2xl"} w-full space-y-8`,children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:28})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Join Your Care Team"}),n.jsx("p",{className:"text-gray-600",children:"Accept invitation to Adaptalyfe"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-lg mx-auto",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"mx-auto text-red-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Support Network"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(os,{className:"mx-auto text-blue-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Secure & Private"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ls,{className:"mx-auto text-green-500 mb-2",size:20}),n.jsx("p",{className:"text-sm text-gray-700",children:"Care Team"})]})]})]}),n.jsxs(L,{className:"border-2 border-purple-200 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsxs(ce,{className:"flex items-center justify-center space-x-2",children:[n.jsx(cl,{className:"text-purple-600",size:24}),n.jsx("span",{children:"Caregiver Invitation"})]}),n.jsx(at,{children:"Enter your invitation code to connect with your caregiver"})]}),n.jsx(V,{className:"space-y-6",children:n.jsx(zt,{...f,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z,{control:f.control,name:"invitationCode",render:({field:w})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Invitation Code"}),n.jsx(J,{children:n.jsx(q,{...w,placeholder:"Enter 6-character code",className:"text-center text-lg font-mono tracking-wider",onChange:C=>{w.onChange(C),g(C.target.value.toUpperCase())},value:w.value.toUpperCase(),maxLength:8})}),n.jsx(se,{})]})}),a&&n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&n.jsxs(vc,{className:"border-red-200 bg-red-50",children:[n.jsx(Jt,{className:"text-red-600",size:16}),n.jsx(bc,{className:"text-red-800",children:l})]}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(vc,{className:"border-green-200 bg-green-50",children:[n.jsx(cl,{className:"text-green-600",size:16}),n.jsx(bc,{className:"text-green-800",children:"Valid invitation found! Review the details below."})]}),n.jsx(L,{className:"border-purple-200 bg-purple-50",children:n.jsxs(V,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"text-3xl",children:b[r.relationship]||""}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.userName}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:n.jsx("strong",{children:"Invitation expires:"})}),n.jsxs("div",{className:"flex items-center space-x-1 text-orange-600",children:[n.jsx(ws,{size:14}),n.jsx("span",{children:new Date(r.expiresAt).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:n.jsx("strong",{children:"Status:"})}),n.jsx(he,{className:"bg-yellow-100 text-yellow-800 border-none",children:r.status.toUpperCase()})]})]}),r.permissionsGranted&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"This caregiver will have access to:"}),n.jsx("div",{className:"space-y-1",children:(()=>{try{const w=typeof r.permissionsGranted=="string"?JSON.parse(r.permissionsGranted):r.permissionsGranted;return Array.isArray(w)?y(w).map((C,N)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full"}),n.jsx("span",{children:String(C)})]},N)):n.jsx("span",{className:"text-sm text-gray-500",children:"No permissions specified"})}catch(w){return console.error("Error parsing permissions:",w),n.jsx("span",{className:"text-sm text-gray-500",children:"Permissions information not available"})}})()})]})]})}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"By accepting this invitation, you agree to share the specified information with your caregiver to support your independence journey."}),n.jsx(E,{onClick:p,disabled:x.isPending||!u||typeof u!="object"||!("id"in u),className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg text-lg py-3",children:x.isPending?"Accepting Invitation...":"Accept Invitation & Join Care Team"}),!u&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(vc,{className:"border-blue-200 bg-blue-50",children:[n.jsx(Jt,{className:"text-blue-600",size:16}),n.jsx(bc,{className:"text-blue-800",children:"Please log in or create an account first to accept this invitation."})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/sign-in")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]})]})})})]}),n.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(V,{className:"p-4 text-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Welcome to Adaptalyfe"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function fse(){const{toast:e}=dt(),[t,s]=On(),[r,i]=v.useState(null),[a,o]=v.useState(!1),[l,c]=v.useState(null);console.log("MobileAcceptInvitation: Component loaded");const{data:d,isLoading:h}=xe({queryKey:["/api/user"],retry:3,retryDelay:1e3});v.useEffect(()=>{try{console.log("MobileAcceptInvitation: Checking URL for invitation code");const g=new URLSearchParams(window.location.search).get("code");console.log("MobileAcceptInvitation: Code from URL:",g),g&&u(g)}catch(x){console.error("MobileAcceptInvitation: Error parsing URL:",x)}},[]);const u=async x=>{if(!(!x||x.length<6)){console.log("MobileAcceptInvitation: Validating invitation code:",x),o(!0),c(null);try{const p=await(await ye("GET",`/api/invitation/${x}`)).json();console.log("MobileAcceptInvitation: Invitation data received:",p),i(p)}catch(g){console.error("MobileAcceptInvitation: Validation error:",g);const p=g.message.includes("404")?"Invitation code not found":g.message.includes("410")?"This invitation has expired":"Invalid invitation code";c(p),i(null)}finally{o(!1)}}},m=Ce({mutationFn:x=>ye("POST","/api/accept-invitation",x).then(g=>g.json()),onSuccess:()=>{e({title:"Invitation Accepted!",description:"You're now connected with your caregiver. Welcome to SkillBridge!"}),setTimeout(()=>{s("/dashboard")},2e3)},onError:x=>{e({title:"Error",description:"Failed to accept invitation: "+x.message,variant:"destructive"})}}),f=()=>{!d||!r||typeof d!="object"||!("id"in d)||m.mutate({invitationCode:r.invitationCode,userId:d.id})};if(h)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});const j={parent:"",therapist:"",case_worker:"",teacher:"",mentor:"",family_friend:""};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-2",children:n.jsxs("div",{className:"max-w-sm w-full space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(cl,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Join Your Care Team"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accept invitation to SkillBridge"})]})]}),n.jsxs("div",{className:"flex justify-center space-x-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"mx-auto text-red-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Support"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(os,{className:"mx-auto text-blue-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Secure"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ls,{className:"mx-auto text-green-500 mb-1",size:16}),n.jsx("p",{className:"text-xs text-gray-700",children:"Care Team"})]})]})]}),n.jsxs(L,{className:"border-2 border-purple-200 shadow-lg",children:[n.jsxs(le,{className:"text-center pb-4",children:[n.jsxs(ce,{className:"flex items-center justify-center space-x-2 text-lg",children:[n.jsx(cl,{className:"text-purple-600",size:20}),n.jsx("span",{children:"Caregiver Invitation"})]}),n.jsx(at,{className:"text-sm",children:"Connect with your caregiver"})]}),n.jsxs(V,{className:"space-y-4",children:[a&&n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-sm",children:"Validating invitation..."})]}),l&&n.jsxs(vc,{className:"border-red-200 bg-red-50",children:[n.jsx(Jt,{className:"text-red-600",size:16}),n.jsx(bc,{className:"text-red-800 text-sm",children:l})]}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(L,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs(V,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"text-2xl",children:j[r.relationship]||""}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900",children:r.userName}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.relationship.replace("_"," ")})]})]}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsx("div",{children:n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"Expires:"})," ",new Date(r.expiresAt).toLocaleDateString()]})})})]})}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"By accepting this invitation, you agree to share information with your caregiver to support your independence journey."}),n.jsx(E,{onClick:f,disabled:m.isPending||!d||typeof d!="object"||!("id"in d),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-3",children:m.isPending?"Accepting...":"Accept Invitation"}),!d&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs(vc,{className:"border-blue-200 bg-blue-50",children:[n.jsx(Jt,{className:"text-blue-600",size:16}),n.jsx(bc,{className:"text-blue-800 text-sm",children:"Please log in or create an account first."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/login")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign In to Continue"}),n.jsx(E,{onClick:()=>{r&&localStorage.setItem("pendingInvitation",r.invitationCode),s("/register")},variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",children:"Create New Account"})]})]})]})]}),!r&&!a&&!l&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"Loading invitation details..."})})]})]}),n.jsx(L,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:n.jsxs(V,{className:"p-3 text-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Welcome to SkillBridge"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Your bridge to independence with support from those who care about you most."})]})})]})})}function gse(){const[,e]=On(),{toast:t}=dt(),[s,r]=v.useState({username:"",password:""}),[i,a]=v.useState(!1),o=async l=>{l.preventDefault(),a(!0);try{await ye("POST","/api/login",{username:s.username,password:s.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"});const c=localStorage.getItem("pendingInvitation");c?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${c}`)):e("/dashboard")}catch(c){t({title:"Login Failed",description:c.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Oe,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsx(Oe,{href:"/",children:n.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[n.jsx(cx,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs(L,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(yD,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),n.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),n.jsx(V,{children:n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:l=>r({...s,username:l.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:l=>r({...s,password:l.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),n.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center space-y-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(Oe,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function xse(){const[e]=On(),{toast:t}=dt(),[s,r]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState("");v.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("code");m?(l(m),c(m)):a(!1)},[e]);const c=async u=>{try{const f=await(await ye("GET",`/api/invitation/${u}`)).json();r(f)}catch(m){console.error("Error fetching invitation:",m),t({title:"Invalid Invitation",description:"This invitation code is not valid or has expired.",variant:"destructive"})}finally{a(!1)}},d=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/register"},h=()=>{o&&localStorage.setItem("pendingInvitation",o),window.location.href="/login"};return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Oe,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Oe,{href:"/login",children:n.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),n.jsx(Oe,{href:"/register",children:n.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:py-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-4 rounded-full w-fit mx-auto mb-6",children:n.jsx(T9,{className:"h-12 w-12 text-blue-600"})}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"You're Invited to Join Adaptalyfe!"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Start your independence journey with support from someone who cares about you."})]}),s&&n.jsx(L,{className:"mb-8 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:n.jsxs(V,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-3 rounded-full",children:n.jsx(lt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg text-gray-900",children:[s.caregiverName," wants to support you"]}),n.jsx("p",{className:"text-gray-600",children:s.message})]})]}),n.jsx("div",{className:"bg-white/60 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Invitation Code:"})," ",n.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded",children:o})]})})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[n.jsxs(L,{className:"border-2 hover:border-blue-300 transition-colors",children:[n.jsxs(le,{children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit",children:n.jsx(pc,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-xl",children:"Download the App"}),n.jsx(at,{children:"Get the full Adaptalyfe experience on your mobile device"})]}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(E,{className:"flex-1 bg-gray-900 hover:bg-gray-800",disabled:!0,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"App Store (Coming Soon)"]}),n.jsxs(E,{className:"flex-1 bg-green-600 hover:bg-green-700",disabled:!0,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Google Play (Coming Soon)"]})]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Native mobile apps launching soon with enhanced features"})]})})]}),n.jsxs(L,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[n.jsxs(le,{children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 p-3 rounded-lg w-fit",children:n.jsx(ta,{className:"h-8 w-8 text-purple-600"})}),n.jsx(ce,{className:"text-xl",children:"Start Now on Web"}),n.jsx(at,{children:"Create your account and begin immediately in your browser"})]}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs(E,{onClick:d,className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg py-3",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),"Create Account with Invitation",n.jsx(dd,{className:"h-4 w-4 ml-2"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Already have an account?"}),n.jsx(E,{onClick:h,variant:"outline",className:"w-full",children:"Sign In to Accept Invitation"})]})]})})]})]}),n.jsxs(L,{className:"bg-white/80 backdrop-blur-md",children:[n.jsxs(le,{className:"text-center",children:[n.jsx(ce,{className:"text-2xl",children:"What You'll Get with Adaptalyfe"}),n.jsx(at,{children:"Tools designed to help you live independently with confidence"})]}),n.jsx(V,{children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(os,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Task Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Organize daily tasks with reminders and progress tracking"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(lt,{className:"h-6 w-6 text-purple-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Mood Tracking"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monitor emotional well-being and identify patterns"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-lg w-fit mx-auto mb-3",children:n.jsx(ta,{className:"h-6 w-6 text-green-600"})}),n.jsx("h4",{className:"font-semibold mb-2",children:"Caregiver Support"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Stay connected with your support network"})]})]})})]}),n.jsx("div",{className:"text-center mt-12",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})})]})]})}function It(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ha(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zF(e,t){const s=It(e);return isNaN(t)?ha(e,NaN):(t&&s.setDate(s.getDate()+t),s)}const VF=6048e5,yse=864e5,op=43200,eC=1440;let vse={};function km(){return vse}function Th(e,t){var l,c,d,h;const s=km(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=It(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function hg(e){return Th(e,{weekStartsOn:1})}function qF(e){const t=It(e),s=t.getFullYear(),r=ha(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=hg(r),a=ha(e,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=hg(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function mg(e){const t=It(e);return t.setHours(0,0,0,0),t}function pg(e){const t=It(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function bse(e,t){const s=mg(e),r=mg(t),i=+s-pg(s),a=+r-pg(r);return Math.round((i-a)/yse)}function jse(e){const t=qF(e),s=ha(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),hg(s)}function Hp(e,t){const s=It(e),r=It(t),i=s.getTime()-r.getTime();return i<0?-1:i>0?1:i}function dN(e){return ha(e,Date.now())}function HF(e,t){const s=mg(e),r=mg(t);return+s==+r}function wse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nse(e){if(!wse(e)&&typeof e!="number")return!1;const t=It(e);return!isNaN(Number(t))}function Sse(e,t){const s=It(e),r=It(t),i=s.getFullYear()-r.getFullYear(),a=s.getMonth()-r.getMonth();return i*12+a}function Cse(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function kse(e,t){return+It(e)-+It(t)}function _se(e){const t=It(e);return t.setHours(23,59,59,999),t}function Tse(e){const t=It(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Pse(e){const t=It(e);return+_se(t)==+Tse(t)}function Ese(e,t){const s=It(e),r=It(t),i=Hp(s,r),a=Math.abs(Sse(s,r));let o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let l=Hp(s,r)===-i;Pse(It(e))&&a===1&&Hp(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function Ase(e,t,s){const r=kse(e,t)/1e3;return Cse(s==null?void 0:s.roundingMethod)(r)}function Dse(e){const t=It(e),s=ha(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Mse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ise=(e,t,s)=>{let r;const i=Mse[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Gy(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Rse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ose={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lse={date:Gy({formats:Rse,defaultWidth:"full"}),time:Gy({formats:Fse,defaultWidth:"full"}),dateTime:Gy({formats:Ose,defaultWidth:"full"})},$se={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Use=(e,t,s,r)=>$se[e];function tu(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Bse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gse=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Kse={ordinalNumber:Gse,era:tu({values:Bse,defaultWidth:"wide"}),quarter:tu({values:zse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tu({values:Vse,defaultWidth:"wide"}),day:tu({values:qse,defaultWidth:"wide"}),dayPeriod:tu({values:Hse,defaultWidth:"wide",formattingValues:Wse,defaultFormattingWidth:"wide"})};function su(e){return(t,s={})=>{const r=s.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Yse(l,u=>u.test(o)):Qse(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function Qse(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Yse(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Xse(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Zse=/^(\d+)(th|st|nd|rd)?/i,Jse=/\d+/i,ene={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tne={any:[/^b/i,/^(a|c)/i]},sne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nne={any:[/1/i,/2/i,/3/i,/4/i]},rne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ine={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ane={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},one={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dne={ordinalNumber:Xse({matchPattern:Zse,parsePattern:Jse,valueCallback:e=>parseInt(e,10)}),era:su({matchPatterns:ene,defaultMatchWidth:"wide",parsePatterns:tne,defaultParseWidth:"any"}),quarter:su({matchPatterns:sne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:su({matchPatterns:rne,defaultMatchWidth:"wide",parsePatterns:ine,defaultParseWidth:"any"}),day:su({matchPatterns:ane,defaultMatchWidth:"wide",parsePatterns:one,defaultParseWidth:"any"}),dayPeriod:su({matchPatterns:lne,defaultMatchWidth:"any",parsePatterns:cne,defaultParseWidth:"any"})},WF={code:"en-US",formatDistance:Ise,formatLong:Lse,formatRelative:Use,localize:Kse,match:dne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function une(e){const t=It(e);return bse(t,Dse(t))+1}function hne(e){const t=It(e),s=+hg(t)-+jse(t);return Math.round(s/VF)+1}function GF(e,t){var h,u,m,f;const s=It(e),r=s.getFullYear(),i=km(),a=(t==null?void 0:t.firstWeekContainsDate)??((u=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=ha(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Th(o,t),c=ha(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Th(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function mne(e,t){var l,c,d,h;const s=km(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=GF(e,t),a=ha(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Th(a,t)}function pne(e,t){const s=It(e),r=+Th(s,t)-+mne(s,t);return Math.round(r/VF)+1}function Ot(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const ba={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Ot(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Ot(s+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,s-3));return Ot(i,t.length)}},Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tC={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return ba.y(e,t)},Y:function(e,t,s,r){const i=GF(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ot(o,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):Ot(a,t.length)},R:function(e,t){const s=qF(e);return Ot(s,t.length)},u:function(e,t){const s=e.getFullYear();return Ot(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return ba.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const i=pne(e,r);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):Ot(i,t.length)},I:function(e,t,s){const r=hne(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Ot(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ba.d(e,t)},D:function(e,t,s){const r=une(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ot(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ot(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ot(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let i;switch(r===12?i=Fl.noon:r===0?i=Fl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let i;switch(r>=17?i=Fl.evening:r>=12?i=Fl.afternoon:r>=4?i=Fl.morning:i=Fl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return ba.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ba.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Ot(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ba.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ba.s(e,t)},S:function(e,t){return ba.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nC(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return nC(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sC(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sC(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return Ot(r,t.length)},T:function(e,t,s){const r=e.getTime();return Ot(r,t.length)}};function sC(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?s+String(i):s+String(i)+t+Ot(a,2)}function nC(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),i=Ot(Math.trunc(r/60),2),a=Ot(r%60,2);return s+i+t+a}const rC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fne=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return rC(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",rC(r,t)).replace("{{time}}",KF(i,t))},gne={p:KF,P:fne},xne=/^D+$/,yne=/^Y+$/,vne=["D","DD","YY","YYYY"];function bne(e){return xne.test(e)}function jne(e){return yne.test(e)}function wne(e,t,s){const r=Nne(e,t,s);if(console.warn(r),vne.includes(e))throw new RangeError(r)}function Nne(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kne=/^'([^]*?)'?$/,_ne=/''/g,Tne=/[a-zA-Z]/;function Lt(e,t,s){var h,u,m,f;const r=km(),i=r.locale??WF,a=r.firstWeekContainsDate??((u=(h=r.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,l=It(e);if(!Nse(l))throw new RangeError("Invalid time value");let c=t.match(Cne).map(j=>{const x=j[0];if(x==="p"||x==="P"){const g=gne[x];return g(j,i.formatLong)}return j}).join("").match(Sne).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const x=j[0];if(x==="'")return{isToken:!1,value:Pne(j)};if(tC[x])return{isToken:!0,value:j};if(x.match(Tne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const x=j.value;(jne(x)||bne(x))&&wne(x,t,String(e));const g=tC[x[0]];return g(l,x,i.localize,d)}).join("")}function Pne(e){const t=e.match(kne);return t?t[1].replace(_ne,"'"):e}function Ene(e,t,s){const r=km(),i=(s==null?void 0:s.locale)??r.locale??WF,a=2520,o=Hp(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=It(t),d=It(e)):(c=It(e),d=It(t));const h=Ase(d,c),u=(pg(d)-pg(c))/1e3,m=Math.round((h-u)/60);let f;if(m<2)return s!=null&&s.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,l):h<10?i.formatDistance("lessThanXSeconds",10,l):h<20?i.formatDistance("lessThanXSeconds",20,l):h<40?i.formatDistance("halfAMinute",0,l):h<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<eC){const j=Math.round(m/60);return i.formatDistance("aboutXHours",j,l)}else{if(m<a)return i.formatDistance("xDays",1,l);if(m<op){const j=Math.round(m/eC);return i.formatDistance("xDays",j,l)}else if(m<op*2)return f=Math.round(m/op),i.formatDistance("aboutXMonths",f,l)}if(f=Ese(d,c),f<12){const j=Math.round(m/op);return i.formatDistance("xMonths",j,l)}else{const j=f%12,x=Math.trunc(f/12);return j<3?i.formatDistance("aboutXYears",x,l):j<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function Ane(e,t){return Ene(e,dN(e),t)}function iC(e,t){const s=It(e),r=It(t);return s.getTime()>r.getTime()}function QF(e){return HF(e,dN(e))}function Dne(e){return HF(e,zF(dN(e),1))}function aC(e,t){return zF(e,-t)}const Mne={1:"bg-green-100 text-green-800",2:"bg-green-100 text-green-800",3:"bg-yellow-100 text-yellow-800",4:"bg-yellow-100 text-yellow-800",5:"bg-orange-100 text-orange-800",6:"bg-orange-100 text-orange-800",7:"bg-red-100 text-red-800",8:"bg-red-100 text-red-800",9:"bg-red-100 text-red-800",10:"bg-red-100 text-red-800"},oC={1:"Very Mild",2:"Mild",3:"Mild-Moderate",4:"Moderate",5:"Moderate",6:"Moderate-Severe",7:"Severe",8:"Severe",9:"Very Severe",10:"Extreme"};function Ine(){const[e,t]=v.useState(!1),[s,r]=v.useState(null),{toast:i}=dt(),a=Yt(),{data:o=[],isLoading:l}=xe({queryKey:["/api/symptom-entries"]}),c=Ce({mutationFn:g=>ye("POST","/api/symptom-entries",g),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),t(!1),i({title:"Success",description:"Symptom entry added successfully"})},onError:g=>{i({title:"Error",description:"Failed to add symptom entry",variant:"destructive"})}}),d=Ce({mutationFn:({id:g,data:p})=>ye("PATCH",`/api/symptom-entries/${g}`,p),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),r(null),i({title:"Success",description:"Symptom entry updated successfully"})},onError:g=>{i({title:"Error",description:"Failed to update symptom entry",variant:"destructive"})}}),h=Ce({mutationFn:g=>ye("DELETE",`/api/symptom-entries/${g}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/symptom-entries"]}),i({title:"Success",description:"Symptom entry deleted successfully"})},onError:g=>{i({title:"Error",description:"Failed to delete symptom entry",variant:"destructive"})}}),u=Bt({resolver:Vt(H2),defaultValues:{symptomName:"",severity:1,startTime:new Date,endTime:null,triggers:"",location:"",description:"",notes:""}}),m=Bt({resolver:Vt(H2)}),f=g=>{c.mutate({...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null})},j=g=>{s&&d.mutate({id:s.id,data:{...g,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null}})},x=g=>{r(g),m.reset({symptomName:g.symptomName,severity:g.severity,startTime:new Date(g.startTime),endTime:g.endTime?new Date(g.endTime):null,triggers:g.triggers||"",location:g.location||"",description:g.description||"",notes:g.notes||""})};return l?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"space-y-6 h-80 overflow-y-scroll",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Symptom Tracker"}),n.jsx("p",{className:"text-gray-600",children:"Track your symptoms to identify patterns and triggers"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"flex items-center gap-2 border-2 border-blue-300 shadow-md hover:shadow-lg transition-shadow",children:[n.jsx(ct,{className:"w-4 h-4"}),"Log Symptom"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Log New Symptom"}),n.jsx(es,{children:"Record details about your symptom to track patterns over time"})]}),n.jsx(zt,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:u.control,name:"symptomName",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Symptom Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"severity",render:({field:g})=>{var p;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Severity (1-10)"}),n.jsxs(Ge,{onValueChange:y=>g.onChange(parseInt(y)),defaultValue:(p=g.value)==null?void 0:p.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})})}),n.jsx(We,{children:Array.from({length:10},(y,b)=>b+1).map(y=>n.jsxs(B,{value:y.toString(),children:[y," - ",oC[y]]},y))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:u.control,name:"startTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Start Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(new Date(p.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"endTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"End Time (Optional)"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(p.target.value?new Date(p.target.value):null)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"location",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"triggers",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Possible Triggers (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsx(Z,{control:u.control,name:"description",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Describe the symptom in detail",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsxs(q0,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:c.isPending,className:"border-2 border-green-400 shadow-md hover:shadow-lg transition-shadow",children:c.isPending?"Adding...":"Add Entry"})]})]})})]})]})]}),!o||o.length===0?n.jsx(L,{children:n.jsxs(V,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Jt,{className:"w-12 h-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Symptoms Logged"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking symptoms to identify patterns and triggers"}),n.jsxs(E,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4"}),"Log Your First Symptom"]})]})}):n.jsx("div",{className:"space-y-4",children:o.map(g=>n.jsx(L,{children:n.jsxs(V,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h4",{className:"font-medium text-lg",children:g.symptomName}),n.jsxs(he,{className:Mne[g.severity],children:["Level ",g.severity]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>x(g),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>h.mutate(g.id),className:"text-red-600 hover:text-red-700",children:n.jsx(Wn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:Lt(new Date(g.startTime),"MMM d, yyyy 'at' h:mm a")})]}),g.endTime&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{children:["Ended ",Ane(new Date(g.endTime))," ago"]})]}),g.location&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:g.location})]})]}),(g.description||g.triggers)&&n.jsxs(n.Fragment,{children:[n.jsx(ec,{className:"my-3"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[g.description&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Description: "}),n.jsx("span",{className:"text-gray-700",children:g.description})]}),g.triggers&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Triggers: "}),n.jsx("span",{className:"text-gray-700",children:g.triggers})]})]})]})]})},g.id))}),n.jsx(et,{open:!!s,onOpenChange:()=>r(null),children:n.jsxs(Ye,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Edit Symptom Entry"}),n.jsx(es,{children:"Update the details of this symptom entry"})]}),n.jsx(zt,{...m,children:n.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:m.control,name:"symptomName",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Symptom Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Headache, Nausea, Pain",...g})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"severity",render:({field:g})=>{var p;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Severity (1-10)"}),n.jsxs(Ge,{onValueChange:y=>g.onChange(parseInt(y)),value:(p=g.value)==null?void 0:p.toString(),children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})})}),n.jsx(We,{children:Array.from({length:10},(y,b)=>b+1).map(y=>n.jsxs(B,{value:y.toString(),children:[y," - ",oC[y]]},y))})]}),n.jsx(se,{})]})}}),n.jsx(Z,{control:m.control,name:"startTime",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Start Time"}),n.jsx(J,{children:n.jsx(q,{type:"datetime-local",value:g.value?Lt(new Date(g.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:p=>g.onChange(new Date(p.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"location",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Location (Optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Head, Stomach, Back",...g,value:g.value||""})}),n.jsx(se,{})]})}),n.jsx(Z,{control:m.control,name:"triggers",render:({field:g})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Possible Triggers (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"e.g., Stress, Food, Weather",name:g.name,value:g.value||"",onChange:g.onChange,onBlur:g.onBlur})}),n.jsx(se,{})]})}),n.jsxs(q0,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(null),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:d.isPending,children:d.isPending?"Updating...":"Update Entry"})]})]})})]})})]})}const lC={mild:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",severe:"bg-red-100 text-red-800","life-threatening":"bg-red-200 text-red-900"},Rne={active:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800",resolved:"bg-green-100 text-green-800"};function Fne(){const{toast:e}=dt(),t=Yt(),[s,r]=v.useState(null),[i,a]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[h,u]=v.useState(null),{data:m=[]}=xe({queryKey:["/api/allergies"]}),{data:f=[]}=xe({queryKey:["/api/medical-conditions"]}),{data:j=[]}=xe({queryKey:["/api/adverse-medications"]}),{data:x=[]}=xe({queryKey:["/api/emergency-contacts"]}),{data:g=[]}=xe({queryKey:["/api/primary-care-providers"]}),p=Ce({mutationFn:P=>ye("POST","/api/allergies",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/allergies/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy updated successfully"}),r(null)}});const y=Ce({mutationFn:P=>ye("DELETE",`/api/allergies/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/allergies"]}),e({title:"Success",description:"Allergy deleted successfully"})}}),b=Ce({mutationFn:async P=>(await ye("POST","/api/medical-conditions",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition added successfully"})},onError:P=>{console.error("Failed to create medical condition:",P),e({title:"Error",description:"Failed to add medical condition. Please try again.",variant:"destructive"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/medical-conditions/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition updated successfully"}),a(null)}});const w=Ce({mutationFn:P=>ye("DELETE",`/api/medical-conditions/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/medical-conditions"]}),e({title:"Success",description:"Medical condition deleted successfully"})}}),C=Ce({mutationFn:async P=>(await ye("POST","/api/adverse-medications",P)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/adverse-medications/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication updated successfully"}),l(null)}});const N=Ce({mutationFn:P=>ye("DELETE",`/api/adverse-medications/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/adverse-medications"]}),e({title:"Success",description:"Adverse medication deleted successfully"})}}),S=Ce({mutationFn:P=>ye("POST","/api/emergency-contacts",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/emergency-contacts/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact updated successfully"}),d(null)}});const k=Ce({mutationFn:P=>ye("DELETE",`/api/emergency-contacts/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/emergency-contacts"]}),e({title:"Success",description:"Emergency contact deleted successfully"})}}),T=Ce({mutationFn:P=>ye("POST","/api/primary-care-providers",P),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider added successfully"})}});Ce({mutationFn:({id:P,...M})=>ye("PUT",`/api/primary-care-providers/${P}`,M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider updated successfully"}),u(null)}});const D=Ce({mutationFn:P=>ye("DELETE",`/api/primary-care-providers/${P}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/primary-care-providers"]}),e({title:"Success",description:"Primary care provider deleted successfully"})}});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Medical Information"}),n.jsx("p",{className:"text-gray-600",children:"Manage your medical history, allergies, and healthcare contacts"})]}),n.jsxs(hn,{defaultValue:"allergies",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-3 md:grid-cols-6 h-16 md:h-12 p-1 gap-1",children:[n.jsx($e,{value:"allergies",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Allergies"}),n.jsx($e,{value:"conditions",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Conditions"}),n.jsx($e,{value:"adverse",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Adverse"}),n.jsx($e,{value:"contacts",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Emergency"}),n.jsx($e,{value:"providers",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Providers"}),n.jsx($e,{value:"symptoms",className:"text-xs md:text-sm px-2 py-2 whitespace-nowrap",children:"Symptoms"})]}),n.jsxs(Ue,{value:"allergies",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Allergies"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Allergy"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Allergy"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);p.mutate({allergen:M.get("allergen"),severity:M.get("severity"),reaction:M.get("reaction"),notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"allergen",children:"Allergen"}),n.jsx(q,{name:"allergen",required:!0,placeholder:"e.g., Peanuts, Penicillin"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"severity",children:"Severity"}),n.jsxs(Ge,{name:"severity",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})}),n.jsxs(We,{children:[n.jsx(B,{value:"mild",children:"Mild"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"severe",children:"Severe"}),n.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reaction",children:"Reaction"}),n.jsx(q,{name:"reaction",placeholder:"e.g., Hives, difficulty breathing"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:p.isPending,children:p.isPending?"Adding...":"Add Allergy"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!m||m.length===0?n.jsx(L,{children:n.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No allergies recorded. Click "Add Allergy" to get started.'})}):m.map(P=>n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.allergen}),n.jsx(he,{className:lC[P.severity],children:P.severity})]}),P.reaction&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>r(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>y.mutate(P.id),children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(Ue,{value:"conditions",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Medical Conditions"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Condition"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Medical Condition"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("diagnosedDate");b.mutate({condition:M.get("condition"),status:M.get("status"),diagnosedDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"condition",children:"Condition"}),n.jsx(q,{name:"condition",required:!0,placeholder:"e.g., Diabetes, Asthma"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"status",children:"Status"}),n.jsxs(Ge,{name:"status",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select status"})}),n.jsxs(We,{children:[n.jsx(B,{value:"active",children:"Active"}),n.jsx(B,{value:"inactive",children:"Inactive"}),n.jsx(B,{value:"resolved",children:"Resolved"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"diagnosedDate",children:"Diagnosed Date"}),n.jsx(q,{name:"diagnosedDate",type:"date"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:b.isPending,children:b.isPending?"Adding...":"Add Condition"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!f||f.length===0?n.jsx(L,{children:n.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No medical conditions recorded. Click "Add Condition" to get started.'})}):f.map(P=>n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.condition}),n.jsx(he,{className:Rne[P.status],children:P.status})]}),P.diagnosedDate&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Diagnosed: ",new Date(P.diagnosedDate).toLocaleDateString()]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>a(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>w.mutate(P.id),children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(Ue,{value:"adverse",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Adverse Medications"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Adverse Medication"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Adverse Medication"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget),X=M.get("reactionDate");C.mutate({medicationName:M.get("medicationName"),reaction:M.get("reaction"),severity:M.get("severity"),reactionDate:X||void 0,notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"medicationName",children:"Medication Name"}),n.jsx(q,{name:"medicationName",required:!0,placeholder:"e.g., Amoxicillin, Aspirin"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reaction",children:"Reaction"}),n.jsx(q,{name:"reaction",required:!0,placeholder:"e.g., Rash, nausea, dizziness"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"severity",children:"Severity"}),n.jsxs(Ge,{name:"severity",required:!0,children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select severity"})}),n.jsxs(We,{children:[n.jsx(B,{value:"mild",children:"Mild"}),n.jsx(B,{value:"moderate",children:"Moderate"}),n.jsx(B,{value:"severe",children:"Severe"}),n.jsx(B,{value:"life-threatening",children:"Life-threatening"})]})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"reactionDate",children:"Reaction Date"}),n.jsx(q,{name:"reactionDate",type:"date"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:C.isPending,children:C.isPending?"Adding...":"Add Adverse Medication"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!j||j.length===0?n.jsx(L,{children:n.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No adverse medications recorded. Click "Add Adverse Medication" to get started.'})}):j.map(P=>n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.medicationName}),n.jsx(he,{className:lC[P.severity],children:P.severity})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Reaction: ",P.reaction]}),P.reactionDate&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(P.reactionDate).toLocaleDateString()]}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>l(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>N.mutate(P.id),children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(Ue,{value:"contacts",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Emergency Contacts"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Emergency Contact"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);S.mutate({name:M.get("name"),relationship:M.get("relationship"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Name"}),n.jsx(q,{name:"name",required:!0,placeholder:"Contact name"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"relationship",children:"Relationship"}),n.jsx(q,{name:"relationship",placeholder:"e.g., Parent, Sibling, Friend"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Phone number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{name:"email",type:"email",placeholder:"Email address"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(ot,{name:"address",placeholder:"Home address"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary contact"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:S.isPending,children:S.isPending?"Adding...":"Add Contact"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!x||x.length===0?n.jsx(L,{children:n.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No emergency contacts recorded. Click "Add Contact" to get started.'})}):x.map(P=>n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&n.jsx(he,{className:"bg-blue-100 text-blue-800",children:"Primary"})]}),P.relationship&&n.jsx("p",{className:"text-sm text-gray-600",children:P.relationship}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&n.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>d(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>k.mutate(P.id),children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsxs(Ue,{value:"providers",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Primary Care Providers"}),n.jsxs(et,{children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Provider"]})}),n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add Primary Care Provider"})}),n.jsxs("form",{onSubmit:P=>{P.preventDefault();const M=new FormData(P.currentTarget);T.mutate({name:M.get("name"),specialty:M.get("specialty"),practiceName:M.get("practiceName"),phoneNumber:M.get("phoneNumber"),email:M.get("email"),address:M.get("address"),isPrimary:M.get("isPrimary")==="on",notes:M.get("notes")}),P.currentTarget.reset()},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Provider Name"}),n.jsx(q,{name:"name",required:!0,placeholder:"Dr. Smith"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"specialty",children:"Specialty"}),n.jsx(q,{name:"specialty",required:!0,placeholder:"e.g., Family Medicine, Cardiology"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"practiceName",children:"Practice Name"}),n.jsx(q,{name:"practiceName",placeholder:"Medical center or clinic name"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"phoneNumber",children:"Phone Number"}),n.jsx(q,{name:"phoneNumber",required:!0,placeholder:"Office phone number"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email"}),n.jsx(q,{name:"email",type:"email",placeholder:"Office email"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"address",children:"Address"}),n.jsx(ot,{name:"address",placeholder:"Office address"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",name:"isPrimary",className:"rounded"}),n.jsx(de,{htmlFor:"isPrimary",children:"Primary care provider"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{name:"notes",placeholder:"Additional information"})]}),n.jsx(E,{type:"submit",disabled:T.isPending,children:T.isPending?"Adding...":"Add Provider"})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:!g||g.length===0?n.jsx(L,{children:n.jsx(V,{className:"pt-6 text-center text-gray-500",children:'No providers recorded. Click "Add Provider" to get started.'})}):g.map(P=>n.jsx(L,{children:n.jsx(V,{className:"pt-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:P.name}),P.isPrimary&&n.jsx(he,{className:"bg-green-100 text-green-800",children:"Primary"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:P.specialty}),P.practiceName&&n.jsx("p",{className:"text-sm text-gray-600",children:P.practiceName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",P.phoneNumber]}),P.email&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",P.email]}),P.address&&n.jsx("p",{className:"text-sm text-gray-500",children:P.address}),P.notes&&n.jsx("p",{className:"text-sm text-gray-500",children:P.notes})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{size:"sm",variant:"outline",onClick:()=>u(P),children:n.jsx(fi,{className:"w-4 h-4"})}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>D.mutate(P.id),children:n.jsx(Wn,{className:"w-4 h-4"})})]})]})})},P.id))})]}),n.jsx(Ue,{value:"symptoms",className:"space-y-4 mt-6 h-96 overflow-y-scroll",children:n.jsx(Ine,{})})]})]})}function One(){const{isPremiumUser:e}=Fi();return e?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Medical Information"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your medical history, allergies, healthcare contacts, and track symptoms"})]}),n.jsx(Fne,{})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(fa,{title:"Medical Information Management",description:"Securely store and manage your medical history, allergies, medications, and healthcare contacts. Subscribe to continue using Adaptalyfe's medical features.",feature:"medical",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Lne(){const e=Yt(),{toast:t}=dt(),{data:s,isLoading:r}=xe({queryKey:["/api/meal-plans"]}),i=Ce({mutationFn:async u=>(await ye("POST","/api/meal-plans",u)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]}),o.reset(),t({title:"Success",description:"Meal plan saved successfully!"})},onError:u=>{console.error("Failed to create meal plan:",u),t({title:"Error",description:"Failed to save meal plan. Please try again.",variant:"destructive"})}}),a=Ce({mutationFn:async({id:u,isCompleted:m})=>await ye("PATCH",`/api/meal-plans/${u}/completion`,{isCompleted:m}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/meal-plans"]})}}),o=Bt({resolver:Vt(iee.omit({userId:!0})),defaultValues:{mealType:"breakfast",mealName:"",plannedDate:Lt(new Date,"yyyy-MM-dd"),isCompleted:!1,recipe:"",cookingTime:30}}),l=u=>{console.log("Submitting meal plan data:",u),i.mutate(u)},c=u=>{a.mutate({id:u.id,isCompleted:!u.isCompleted})},d=u=>{switch(u){case"breakfast":return"bg-sunny-orange text-white";case"lunch":return"bg-vibrant-green text-white";case"dinner":return"bg-bright-blue text-white";case"snack":return"bg-cheerful-pink text-white";default:return"bg-gray-500 text-white"}},h=s==null?void 0:s.reduce((u,m)=>{const f=m.plannedDate;return u[f]||(u[f]=[]),u[f].push(m),u},{});return r?n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(hc,{className:"text-sunny-orange"}),n.jsx("span",{children:"Meal Planning"})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>n.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},u))})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(hc,{className:"text-sunny-orange"}),n.jsx("span",{children:"Add New Meal"})]}),n.jsx(at,{children:"Plan your meals to develop healthy eating habits and cooking skills"})]}),n.jsx(V,{children:n.jsx(zt,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(l,u=>{console.error("Form validation errors:",u),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z,{control:o.control,name:"mealName",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Meal Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Scrambled eggs and toast",...u})}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"mealType",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Meal Type"}),n.jsxs(Ge,{onValueChange:u.onChange,defaultValue:u.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select meal type"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"breakfast",children:"Breakfast"}),n.jsx(B,{value:"lunch",children:"Lunch"}),n.jsx(B,{value:"dinner",children:"Dinner"}),n.jsx(B,{value:"snack",children:"Snack"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"plannedDate",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Planned Date"}),n.jsx(J,{children:n.jsx(q,{type:"date",...u})}),n.jsx(se,{})]})}),n.jsx(Z,{control:o.control,name:"cookingTime",render:({field:u})=>{var m;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Cooking Time (minutes)"}),n.jsx(J,{children:n.jsx(q,{type:"number",placeholder:"30",value:((m=u.value)==null?void 0:m.toString())||"",onChange:f=>u.onChange(parseInt(f.target.value)||0),onBlur:u.onBlur,name:u.name})}),n.jsx(se,{})]})}})]}),n.jsx(Z,{control:o.control,name:"recipe",render:({field:u})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Recipe/Instructions (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Write simple cooking instructions or notes...",className:"min-h-[100px]",value:u.value||"",onChange:u.onChange,onBlur:u.onBlur,name:u.name})}),n.jsx(se,{})]})}),n.jsxs(E,{type:"submit",disabled:i.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>console.log("Button clicked, form values:",o.getValues()),children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),i.isPending?"Adding...":"Add Meal Plan"]})]})})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(Ht,{className:"text-bright-blue"}),n.jsx("span",{children:"Meal Schedule"})]})}),n.jsx(V,{children:!h||Object.keys(h).length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(hc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No meals planned yet. Add your first meal plan above!"})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(h).sort(([u],[m])=>new Date(u).getTime()-new Date(m).getTime()).map(([u,m])=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:Lt(new Date(u),"EEEE, MMMM d, yyyy")}),n.jsx("div",{className:"grid gap-3",children:m.sort((f,j)=>{const x={breakfast:1,lunch:2,dinner:3,snack:4};return x[f.mealType]-x[j.mealType]}).map(f=>n.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${f.isCompleted?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ci,{checked:f.isCompleted||!1,onCheckedChange:()=>c(f),disabled:a.isPending}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:f.mealName}),n.jsx(he,{className:d(f.mealType),children:f.mealType})]}),f.cookingTime&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mt-1",children:[n.jsx(ws,{className:"w-3 h-3"}),n.jsxs("span",{children:[f.cookingTime," minutes"]})]}),f.recipe&&n.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-2xl",children:f.recipe})]})]}),f.isCompleted&&n.jsx(ih,{className:"w-5 h-5 text-vibrant-green"})]})},f.id))})]},u))})})]})]})}function $ne(){const e=Yt(),{toast:t}=dt(),[s,r]=v.useState(!1);v.useState(null);const{data:i,isLoading:a}=xe({queryKey:["/api/shopping-lists"]}),{data:o}=xe({queryKey:["/api/shopping-lists/active"]}),{data:l=[]}=xe({queryKey:["/api/grocery-stores"]}),c=Ce({mutationFn:async p=>(await ye("POST","/api/shopping-lists",p)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]}),h.reset(),t({title:"Success",description:"Shopping item added successfully!"})},onError:p=>{console.error("Failed to create shopping item:",p),t({title:"Error",description:"Failed to save shopping item. Please try again.",variant:"destructive"})}}),d=Ce({mutationFn:async({id:p,isPurchased:y,actualCost:b})=>await ye("PATCH",`/api/shopping-lists/${p}/purchased`,{isPurchased:y,actualCost:b}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/shopping-lists"]}),e.invalidateQueries({queryKey:["/api/shopping-lists/active"]})}}),h=Bt({resolver:Vt(aee.omit({userId:!0})),defaultValues:{itemName:"",category:"produce",quantity:"",isPurchased:!1,estimatedCost:void 0,actualCost:void 0}}),u=p=>{console.log("Submitting shopping list data:",p),c.mutate(p)},m=(p,y)=>{d.mutate({id:p.id,isPurchased:!p.isPurchased,actualCost:y})},f=p=>{switch(p){case"produce":return"bg-vibrant-green text-white";case"dairy":return"bg-bright-blue text-white";case"meat":return"bg-cheerful-pink text-white";case"pantry":return"bg-sunny-orange text-white";case"frozen":return"bg-calm-teal text-white";case"household":return"bg-happy-purple text-white";default:return"bg-gray-500 text-white"}},j=o==null?void 0:o.reduce((p,y)=>{const b=y.category;return p[b]||(p[b]=[]),p[b].push(y),p},{}),x=(o==null?void 0:o.reduce((p,y)=>p+(y.estimatedCost||0),0))||0,g=(i==null?void 0:i.filter(p=>p.isPurchased).reduce((p,y)=>p+(y.actualCost||0),0))||0;return a?n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"text-bright-blue"}),n.jsx("span",{children:"Shopping List"})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>n.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},p))})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(k9,{className:"text-sunny-orange"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Items"}),n.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.length)||0})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pi,{className:"text-vibrant-green"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Total"}),n.jsx("p",{className:"text-2xl font-bold",children:Fs(x)})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ih,{className:"text-bright-blue"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Spent This Month"}),n.jsx("p",{className:"text-2xl font-bold",children:Fs(g)})]})]})})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(I0,{className:"text-blue-600"}),n.jsx("span",{children:"Your Grocery Stores"})]}),n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(ca,{className:"w-4 h-4 mr-2"}),"Manage Stores"]})}),n.jsx(Une,{stores:l,onClose:()=>r(!1)})]})]})}),n.jsx(V,{children:l.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(I0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No grocery stores added yet"}),n.jsx("p",{className:"text-sm",children:"Add your favorite stores to enable online ordering"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(p=>n.jsxs("div",{className:`p-4 rounded-lg border ${p.isPreferred?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:p.name}),p.isPreferred&&n.jsx(he,{variant:"secondary",className:"mt-1",children:"Preferred"}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[p.address&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Zs,{className:"w-3 h-3"}),n.jsx("span",{className:"truncate",children:p.address})]}),p.phoneNumber&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(bs,{className:"w-3 h-3"}),n.jsx("span",{children:p.phoneNumber})]})]}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[p.deliveryAvailable&&n.jsx(he,{variant:"outline",className:"text-xs",children:"Delivery"}),p.pickupAvailable&&n.jsx(he,{variant:"outline",className:"text-xs",children:"Pickup"})]})]})}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[p.onlineOrderingUrl&&n.jsxs(E,{size:"sm",className:"flex-1",onClick:()=>p.onlineOrderingUrl&&window.open(p.onlineOrderingUrl,"_blank"),children:[n.jsx(dx,{className:"w-3 h-3 mr-1"}),"Order Online"]}),p.website&&n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>p.website&&window.open(p.website,"_blank"),children:[n.jsx(mo,{className:"w-3 h-3 mr-1"}),"Website"]})]})]},p.id))})})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ct,{className:"text-vibrant-green"}),n.jsx("span",{children:"Add Shopping Item"})]}),n.jsx(at,{children:"Build your shopping list and track your grocery spending"})]}),n.jsx(V,{children:n.jsx(zt,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(u,p=>{console.error("Form validation errors:",p),t({title:"Form Error",description:"Please fill in all required fields correctly.",variant:"destructive"})}),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Z,{control:h.control,name:"itemName",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Item Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Bananas",...p})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"category",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:p.onChange,defaultValue:p.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsxs(We,{children:[n.jsx(B,{value:"produce",children:"Produce"}),n.jsx(B,{value:"dairy",children:"Dairy"}),n.jsx(B,{value:"meat",children:"Meat & Seafood"}),n.jsx(B,{value:"pantry",children:"Pantry"}),n.jsx(B,{value:"frozen",children:"Frozen"}),n.jsx(B,{value:"household",children:"Household"})]})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"quantity",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Quantity"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., 2 lbs, 1 gallon",value:p.value||"",onChange:p.onChange,onBlur:p.onBlur,name:p.name})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"estimatedCost",render:({field:p})=>{var y;return n.jsxs(Y,{children:[n.jsx(Q,{children:"Est. Cost ($)"}),n.jsx(J,{children:n.jsx(q,{type:"number",step:"0.01",placeholder:"5.99",value:((y=p.value)==null?void 0:y.toString())||"",onChange:b=>p.onChange(parseFloat(b.target.value)||void 0),onBlur:p.onBlur,name:p.name})}),n.jsx(se,{})]})}})]}),n.jsxs(E,{type:"submit",disabled:c.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>console.log("Button clicked, form values:",h.getValues()),children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),c.isPending?"Adding...":"Add to Shopping List"]})]})})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"text-bright-blue"}),n.jsx("span",{children:"Shopping List"})]})}),n.jsx(V,{children:!j||Object.keys(j).length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Your shopping list is empty. Add some items above!"})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([p,y])=>n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{className:f(p),children:p.charAt(0).toUpperCase()+p.slice(1)}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",y.length," items)"]})]}),n.jsx("div",{className:"grid gap-2",children:y.map(b=>n.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${b.isPurchased?"border-vibrant-green bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ci,{checked:b.isPurchased||!1,onCheckedChange:()=>m(b),disabled:d.isPending}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:b.itemName}),b.quantity&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",b.quantity,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[b.estimatedCost&&n.jsxs("span",{children:["Est: ",Fs(b.estimatedCost)]}),b.actualCost&&n.jsxs("span",{className:"text-vibrant-green font-medium",children:["Actual: ",Fs(b.actualCost)]})]})]})]}),b.isPurchased&&n.jsx(ih,{className:"w-5 h-5 text-vibrant-green"})]})},b.id))})]},p))})})]})]})}function Une({stores:e,onClose:t}){const s=Yt(),[r,i]=v.useState(null),[a,o]=v.useState(!1),l=Ce({mutationFn:async h=>(await fetch("/api/grocery-stores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]}),o(!1)}}),c=Ce({mutationFn:async({id:h,...u})=>(await fetch(`/api/grocery-stores/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]}),i(null)}}),d=Ce({mutationFn:async h=>(await fetch(`/api/grocery-stores/${h}`,{method:"DELETE"})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/grocery-stores"]})}});return n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Manage Grocery Stores"}),n.jsx(es,{children:"Add your favorite grocery stores for easy online ordering and shopping list management"})]}),n.jsxs(hn,{defaultValue:"stores",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-2",children:[n.jsx($e,{value:"stores",children:"Your Stores"}),n.jsx($e,{value:"add",children:"Add New Store"})]}),n.jsx(Ue,{value:"stores",className:"space-y-4",children:e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(I0,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No stores added yet"}),n.jsx("p",{className:"text-sm",children:'Switch to "Add New Store" tab to get started'})]}):n.jsx("div",{className:"space-y-4",children:e.map(h=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:h.name}),h.isPreferred&&n.jsx(he,{variant:"secondary",children:"Preferred"})]}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[h.address&&n.jsxs("p",{children:[n.jsx(Zs,{className:"w-3 h-3 inline mr-1"}),h.address]}),h.phoneNumber&&n.jsxs("p",{children:[n.jsx(bs,{className:"w-3 h-3 inline mr-1"}),h.phoneNumber]}),h.website&&n.jsxs("p",{children:[n.jsx(mo,{className:"w-3 h-3 inline mr-1"}),h.website]})]}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[h.deliveryAvailable&&n.jsx(he,{variant:"outline",className:"text-xs",children:"Delivery"}),h.pickupAvailable&&n.jsx(he,{variant:"outline",className:"text-xs",children:"Pickup"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>i(h),children:"Edit"}),n.jsx(E,{variant:"destructive",size:"sm",onClick:()=>d.mutate(h.id),disabled:d.isPending,children:n.jsx(Wn,{className:"w-3 h-3"})})]})]})},h.id))})}),n.jsx(Ue,{value:"add",children:n.jsx(cC,{store:null,onSubmit:h=>l.mutate(h),onCancel:()=>o(!1),isLoading:l.isPending})})]}),r&&n.jsx(et,{open:!!r,onOpenChange:()=>i(null),children:n.jsxs(Ye,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Edit Store"})}),n.jsx(cC,{store:r,onSubmit:h=>c.mutate({id:r.id,...h}),onCancel:()=>i(null),isLoading:c.isPending})]})})]})}function cC({store:e,onSubmit:t,onCancel:s,isLoading:r}){const i=Bt({defaultValues:{name:(e==null?void 0:e.name)||"",address:(e==null?void 0:e.address)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",website:(e==null?void 0:e.website)||"",onlineOrderingUrl:(e==null?void 0:e.onlineOrderingUrl)||"",deliveryAvailable:(e==null?void 0:e.deliveryAvailable)||!1,pickupAvailable:(e==null?void 0:e.pickupAvailable)||!0,isPreferred:(e==null?void 0:e.isPreferred)||!1}}),a=o=>{t(o)};return n.jsx(zt,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[n.jsx(Z,{control:i.control,name:"name",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Store Name *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Walmart Supercenter",...o})}),n.jsx(se,{})]})}),n.jsx(Z,{control:i.control,name:"address",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Address"}),n.jsx(J,{children:n.jsx(q,{placeholder:"123 Main St, City, State 12345",...o})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:i.control,name:"phoneNumber",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Phone Number"}),n.jsx(J,{children:n.jsx(q,{placeholder:"(555) 123-4567",...o})}),n.jsx(se,{})]})}),n.jsx(Z,{control:i.control,name:"website",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://walmart.com",...o})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:i.control,name:"onlineOrderingUrl",render:({field:o})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Online Ordering URL"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://grocery.walmart.com",...o})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Z,{control:i.control,name:"deliveryAvailable",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Delivery Available"})})]})}),n.jsx(Z,{control:i.control,name:"pickupAvailable",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Pickup Available"})})]})}),n.jsx(Z,{control:i.control,name:"isPreferred",render:({field:o})=>n.jsxs(Y,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx(Ci,{checked:o.value,onCheckedChange:o.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Q,{children:"Preferred Store"})})]})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{type:"submit",disabled:r,className:"flex-1",children:r?"Saving...":e?"Update Store":"Add Store"}),n.jsx(E,{type:"button",variant:"outline",onClick:s,children:"Cancel"})]})]})})}function Bne(){const{hasFeature:e}=Fi();return e("mealPlanning")?n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meal Planning & Shopping"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Plan nutritious meals and manage your grocery shopping efficiently"})]}),n.jsxs(hn,{defaultValue:"meal-planning",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-2",children:[n.jsxs($e,{value:"meal-planning",className:"flex items-center space-x-2",children:[n.jsx(hc,{className:"w-4 h-4"}),n.jsx("span",{children:"Meal Planning"})]}),n.jsxs($e,{value:"shopping-list",className:"flex items-center space-x-2",children:[n.jsx(ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Shopping List"})]})]}),n.jsx(Ue,{value:"meal-planning",className:"mt-6",children:n.jsx(Lne,{})}),n.jsx(Ue,{value:"shopping-list",className:"mt-6",children:n.jsx($ne,{})})]})]}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Meal Planning & Shopping",description:"Create personalized meal plans, manage recipes, and generate smart shopping lists. This premium feature helps you maintain a healthy diet and budget.",feature:"mealPlanning",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})}function zne(){const{hasFeature:e}=Fi();return e("medicationManagement")?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pharmacy & Medications"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your pharmacies, track medications, and order refills easily"})]}),n.jsx(FF,{})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(fa,{title:"Pharmacy & Medication Management",description:"Track medications, set reminders, manage pharmacy information, and order refills. This premium feature ensures you never miss a dose and stay on top of your health.",feature:"medicationManagement",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})})})})}function Vne(){const{hasFeature:e}=Fi();if(!e("advancedAnalytics"))return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Academic Planner",description:"Manage classes, assignments, study sessions, and campus navigation. This comprehensive academic tool helps students with developmental disabilities succeed in their educational journey.",feature:"advancedAnalytics",requiredPlan:"family",className:"max-w-md mx-auto mt-20"})});const[t,s]=v.useState("schedule"),[r,i]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[d,h]=v.useState(!1),[u,m]=v.useState(!1),[f,j]=v.useState(!1),[x,g]=v.useState({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2}),[p,y]=v.useState({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"}),[b,w]=v.useState({subject:"",topic:"",technique:"",duration:60,notes:""}),[C,N]=v.useState({name:"",building:"",floor:"",description:"",category:"academic"}),[S,k]=v.useState({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15}),[T,D]=v.useState({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6}),P=Yt(),{data:M=[],isLoading:X,refetch:ee}=xe({queryKey:["/api/academic-classes"],queryFn:async()=>{const O=await fetch("/api/academic-classes");if(!O.ok)throw new Error("Failed to fetch classes");return O.json()},staleTime:0,cacheTime:0}),{data:F=[],isLoading:re,refetch:fe}=xe({queryKey:["/api/assignments"],queryFn:async()=>{const O=await fetch("/api/assignments");if(!O.ok)throw new Error("Failed to fetch assignments");return O.json()},staleTime:0,cacheTime:0}),{data:H=[],isLoading:$,refetch:oe}=xe({queryKey:["/api/study-sessions"],queryFn:async()=>{const O=await fetch("/api/study-sessions");if(!O.ok)throw new Error("Failed to fetch study sessions");return O.json()},staleTime:0,cacheTime:0}),{data:be=[],isLoading:st}=xe({queryKey:["/api/campus-locations"],queryFn:async()=>{const O=await fetch("/api/campus-locations");if(!O.ok)throw new Error("Failed to fetch locations");return O.json()},staleTime:0,cacheTime:0}),{data:_t=[],isLoading:Ft}=xe({queryKey:["/api/campus-transport"],queryFn:async()=>{const O=await fetch("/api/campus-transport");if(!O.ok)throw new Error("Failed to fetch transport");return O.json()},staleTime:0,cacheTime:0}),{data:ps=[],isLoading:Xt}=xe({queryKey:["/api/study-groups"],queryFn:async()=>{const O=await fetch("/api/study-groups");if(!O.ok)throw new Error("Failed to fetch study groups");return O.json()},staleTime:0,cacheTime:0}),Be=Ce({mutationFn:async O=>ye("POST","/api/assignments",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/assignments"]}),fe(),i(!1),g({title:"",description:"",type:"homework",dueDate:"",priority:"medium",estimatedHours:2})}}),yt=Ce({mutationFn:async O=>ye("POST","/api/academic-classes",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/academic-classes"]}),ee(),o(!1),y({className:"",instructor:"",building:"",room:"",startTime:"",endTime:"",dayOfWeek:1,credits:3,semester:"Fall 2025"})}}),Et=Ce({mutationFn:async O=>{console.log("Creating study session with data:",O);try{const it=await ye("POST","/api/study-sessions",O);return console.log("API response:",it),it}catch(it){throw console.error("API request failed:",it),it}},onSuccess:O=>{console.log("Study session created successfully:",O),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""})},onError:O=>{var it;console.error("Failed to create study session:",O),(it=O==null?void 0:O.message)!=null&&it.includes("cross-origin")&&(console.log("Cross-origin error detected, but session may have been created successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]}),oe(),c(!1),w({subject:"",topic:"",technique:"",duration:60,notes:""}))}}),vt=Ce({mutationFn:async O=>ye("POST","/api/study-groups",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/study-groups"]}),j(!1),D({groupName:"",subject:"",description:"",meetingDay:"",meetingTime:"",maxMembers:6})}}),bt=Ce({mutationFn:async O=>await ye("POST","/api/campus-locations",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-locations"]}),h(!1),N({name:"",building:"",floor:"",description:"",category:"academic"})}}),rt=Ce({mutationFn:async O=>await ye("POST","/api/campus-transport",O),onSuccess:()=>{P.invalidateQueries({queryKey:["/api/campus-transport"]}),m(!1),k({routeName:"",fromStop:"",toStop:"",departureTime:"",estimatedDuration:15})}}),ts=()=>{!x.title.trim()||!x.dueDate||Be.mutate({...x,dueDate:new Date(x.dueDate).toISOString()})},mn=()=>{!p.className.trim()||!p.instructor.trim()||yt.mutate({...p,isActive:!0})},Oi=async()=>{if(console.log("=== handleCreateStudySession CALLED ==="),console.log("Current newStudySession:",b),!b.subject.trim()){console.log("Subject is empty, returning early");return}try{const O={...b,startedAt:new Date().toISOString(),completedAt:null,effectiveness:null};console.log("About to create session with data:",O),console.log("Mutation object:",Et),console.log("Calling mutation..."),await Et.mutateAsync(O),console.log("Mutation completed successfully")}catch(O){console.error("Error in handleCreateStudySession:",O)}},ei=()=>{!C.name.trim()||!C.building.trim()||bt.mutate(C)},ti=()=>{!S.routeName.trim()||!S.fromStop.trim()||rt.mutate(S)},Ld=()=>{!T.groupName.trim()||!T.subject.trim()||vt.mutate({...T,isActive:!0,currentMembers:1})},ga=()=>{try{if(!Array.isArray(F))return[];const O=new Date;return F.filter(Tt=>Tt&&Tt.dueDate&&new Date(Tt.dueDate)>O&&Tt.status!=="completed").sort((Tt,$d)=>new Date(Tt.dueDate).getTime()-new Date($d.dueDate).getTime()).slice(0,5)}catch(O){return console.error("Error in getUpcomingAssignments:",O),[]}},_N=()=>{try{if(!Array.isArray(M))return[];const O=new Date().getDay();return M.filter(it=>it&&it.dayOfWeek===O&&it.isActive)}catch(O){return console.error("Error in getTodayClasses:",O),[]}},Pm=()=>{try{if(!Array.isArray(M)||!Array.isArray(H))return 0;const O=M.length,it=H.filter(Tt=>Tt&&Tt.classId).length;return O>0?Math.round(it/O*100):0}catch(O){return console.error("Error in getClassProgress:",O),0}},U=()=>{try{if(!Array.isArray(F))return{total:0,completed:0,inProgress:0,overdue:0};const O=F.length,it=F.filter(_n=>_n&&_n.status==="completed").length,Tt=F.filter(_n=>_n&&_n.status==="in_progress").length,$d=F.filter(_n=>_n&&_n.dueDate&&new Date(_n.dueDate)<new Date&&_n.status!=="completed").length;return{total:O,completed:it,inProgress:Tt,overdue:$d}}catch(O){return console.error("Error in getAssignmentStats:",O),{total:0,completed:0,inProgress:0,overdue:0}}},G=O=>{const it=new Date(O);return QF(it)?"Today":Dne(it)?"Tomorrow":Lt(it,"MMM d")},ie=O=>{switch(O){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};if(X||re)return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(O=>n.jsx("div",{className:"h-32 bg-gray-200 rounded"},O))})]})});let De=[],Te=[],ve=0,Ie={total:0,completed:0,inProgress:0,overdue:0};try{De=_N(),Te=ga(),ve=Pm(),Ie=U()}catch(O){console.error("Error in helper functions:",O)}return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Planner"}),n.jsx("p",{className:"text-gray-600",children:"Manage your classes, assignments, study sessions, and campus navigation"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Classes"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.length})]}),n.jsx(Hr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Due This Week"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Te.length})]}),n.jsx(ws,{className:"w-8 h-8 text-orange-600"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assignment Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Ie.completed,"/",Ie.total]})]}),n.jsx(Us,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Study Hours"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(H.reduce((O,it)=>O+(it.duration||0),0)/60),"h"]})]}),n.jsx(Ni,{className:"w-8 h-8 text-purple-600"})]})})})]}),n.jsxs(hn,{value:t,onValueChange:s,className:"space-y-8",children:[n.jsxs(en,{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 w-full gap-1 h-auto p-1 mb-6",children:[n.jsx($e,{value:"schedule",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Schedule"}),n.jsx($e,{value:"assignments",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Assignments"}),n.jsx($e,{value:"study",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Study"}),n.jsx($e,{value:"campus",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Campus"}),n.jsx($e,{value:"social",className:"text-xs md:text-sm px-2 md:px-4 py-2",children:"Social"})]}),n.jsx(Ue,{value:"schedule",className:"space-y-6 mt-6",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5"}),"Today's Schedule"]}),n.jsx(at,{children:"Your classes and study sessions for today"})]}),n.jsx(V,{children:De.length>0?n.jsx("div",{className:"space-y-4",children:De.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:O.className}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.instructor,"  ",O.building," ",O.room]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium",children:[O.startTime," - ",O.endTime]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.credits," credits"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No classes scheduled for today"}),n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Class"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Class name",value:p.className,onChange:O=>y({...p,className:O.target.value})}),n.jsx(q,{placeholder:"Instructor",value:p.instructor,onChange:O=>y({...p,instructor:O.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(q,{placeholder:"Building",value:p.building,onChange:O=>y({...p,building:O.target.value})}),n.jsx(q,{placeholder:"Room",value:p.room,onChange:O=>y({...p,room:O.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(q,{type:"time",value:p.startTime,onChange:O=>y({...p,startTime:O.target.value})}),n.jsx(q,{type:"time",value:p.endTime,onChange:O=>y({...p,endTime:O.target.value})})]}),n.jsxs(Ge,{value:p.dayOfWeek.toString(),onValueChange:O=>y({...p,dayOfWeek:parseInt(O)}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Day of week"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"Monday"}),n.jsx(B,{value:"2",children:"Tuesday"}),n.jsx(B,{value:"3",children:"Wednesday"}),n.jsx(B,{value:"4",children:"Thursday"}),n.jsx(B,{value:"5",children:"Friday"})]})]}),n.jsx(q,{type:"number",placeholder:"Credits",value:p.credits,onChange:O=>y({...p,credits:parseInt(O.target.value)||3}),min:"1",max:"6"}),n.jsxs(Ge,{value:p.semester,onValueChange:O=>y({...p,semester:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Semester"})}),n.jsxs(We,{children:[n.jsx(B,{value:"Fall 2025",children:"Fall 2025"}),n.jsx(B,{value:"Spring 2026",children:"Spring 2026"}),n.jsx(B,{value:"Summer 2025",children:"Summer 2025"}),n.jsx(B,{value:"Winter 2025",children:"Winter 2025"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:mn,disabled:yt.isPending,className:"flex-1",children:yt.isPending?"Creating...":"Create Class"}),n.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),n.jsx(Ue,{value:"assignments",className:"space-y-6 mt-6",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"w-5 h-5"}),"Upcoming Assignments"]}),n.jsx(at,{children:"Track your homework, projects, and deadlines"})]}),n.jsx(V,{children:F.length>0?n.jsx("div",{className:"space-y-4",children:F.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${O.priority==="urgent"?"bg-red-500":O.priority==="high"?"bg-orange-500":O.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:O.title}),n.jsx("p",{className:"text-sm text-gray-600",children:O.type})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(he,{className:ie(O.priority),children:G(O.dueDate)}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[O.estimatedHours,"h estimated"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No assignments yet"}),n.jsxs(et,{open:r,onOpenChange:i,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Assignment"]})}),n.jsxs(Ye,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Assignment"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Assignment title",value:x.title,onChange:O=>g({...x,title:O.target.value})}),n.jsx(ot,{placeholder:"Description (optional)",value:x.description,onChange:O=>g({...x,description:O.target.value})}),n.jsxs(Ge,{value:x.type,onValueChange:O=>g({...x,type:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Assignment type"})}),n.jsxs(We,{children:[n.jsx(B,{value:"homework",children:"Homework"}),n.jsx(B,{value:"project",children:"Project"}),n.jsx(B,{value:"exam",children:"Exam"}),n.jsx(B,{value:"quiz",children:"Quiz"}),n.jsx(B,{value:"paper",children:"Paper"})]})]}),n.jsx(q,{type:"date",placeholder:"Due date",value:x.dueDate,onChange:O=>g({...x,dueDate:O.target.value})}),n.jsxs(Ge,{value:x.priority,onValueChange:O=>g({...x,priority:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Priority"})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"urgent",children:"Urgent"})]})]}),n.jsx(q,{type:"number",placeholder:"Estimated hours",value:x.estimatedHours,onChange:O=>g({...x,estimatedHours:parseInt(O.target.value)||2}),min:"1",max:"100"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:ts,disabled:Be.isPending,className:"flex-1",children:Be.isPending?"Creating...":"Create Assignment"}),n.jsx(E,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})})]})}),n.jsx(Ue,{value:"study",className:"space-y-6 mt-6",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"w-5 h-5"}),"Study Tracker"]}),n.jsx(at,{children:"Track your study sessions and techniques"})]}),n.jsxs(V,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs(E,{onClick:O=>{O.preventDefault(),O.stopPropagation(),console.log("=== HEADER BUTTON CLICKED ==="),console.log("isAddStudySessionOpen before:",l),c(!0),console.log("setIsAddStudySessionOpen(true) called"),console.log("Dialog should be opening now...")},className:"w-full bg-blue-600 hover:bg-blue-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Start New Study Session"]})}),H.length>0?n.jsx("div",{className:"space-y-4",children:H.slice(0,5).map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:O.subject}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.technique,"  ",O.duration," minutes"]}),O.location&&n.jsx("p",{className:"text-xs text-gray-500",children:O.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium",children:O.completedAt?"Completed":"In Progress"}),O.effectiveness&&n.jsxs("p",{className:"text-xs text-gray-500",children:[O.effectiveness,"/5 stars"]}),!O.completedAt&&n.jsx(E,{size:"sm",variant:"outline",className:"mt-1",onClick:it=>{it.preventDefault(),console.log("Complete button clicked for session:",O.id),fetch(`/api/study-sessions/${O.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completedAt:new Date().toISOString(),effectiveness:4})}).then(Tt=>{Tt.ok?(console.log("Session completed successfully"),P.invalidateQueries({queryKey:["/api/study-sessions"]})):console.error("Failed to complete session:",Tt.status)}).catch(Tt=>console.error("Failed to complete session:",Tt))},children:"Complete"})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Hr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Start tracking your study sessions"})]}),n.jsx(et,{open:l,onOpenChange:c,children:n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Start Study Session"})}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(q,{placeholder:"Subject (required)",value:b.subject,onChange:O=>w({...b,subject:O.target.value})}),n.jsx(q,{placeholder:"Topic",value:b.topic,onChange:O=>w({...b,topic:O.target.value})}),n.jsxs(Ge,{value:b.technique,onValueChange:O=>w({...b,technique:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Study technique"})}),n.jsxs(We,{children:[n.jsx(B,{value:"reading",children:"Reading"}),n.jsx(B,{value:"flashcards",children:"Flashcards"}),n.jsx(B,{value:"practice-problems",children:"Practice Problems"}),n.jsx(B,{value:"note-taking",children:"Note Taking"}),n.jsx(B,{value:"group-study",children:"Group Study"}),n.jsx(B,{value:"online-resources",children:"Online Resources"})]})]}),n.jsx(q,{type:"number",placeholder:"Duration (minutes)",value:b.duration,onChange:O=>w({...b,duration:parseInt(O.target.value)||60}),min:"5",max:"300"}),n.jsx(ot,{placeholder:"Notes (optional)",value:b.notes,onChange:O=>w({...b,notes:O.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{type:"button",onClick:async O=>{O.preventDefault(),O.stopPropagation(),console.log("=== START SESSION BUTTON CLICKED ==="),console.log("newStudySession data:",b),console.log("Subject value:",b.subject),console.log("Subject trimmed:",b.subject.trim()),console.log("Is subject empty?",!b.subject.trim()),console.log("Mutation pending:",Et.isPending);try{await Oi(),console.log("handleCreateStudySession completed")}catch(it){console.error("Button click error handled:",it)}},disabled:Et.isPending,className:"flex-1",children:Et.isPending?"Starting...":"Start Session"}),n.jsx(E,{type:"button",variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})]})}),n.jsx(Ue,{value:"campus",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-5 h-5"}),"Campus Locations"]}),n.jsx(at,{children:"Your saved places and favorite spots"})]}),n.jsxs(V,{children:[st?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading locations..."})]}):be.length>0?n.jsx("div",{className:"space-y-3",children:be.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.building,O.floor&&`, Floor ${O.floor}`]}),O.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.description})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No campus locations saved"})]}),n.jsxs(et,{open:d,onOpenChange:h,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"w-full mt-4",variant:"outline",size:"sm",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Location"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Campus Location"}),n.jsx(es,{children:"Save important campus locations for quick reference"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Location name (required)",value:C.name,onChange:O=>N({...C,name:O.target.value})}),n.jsx(q,{placeholder:"Building (required)",value:C.building,onChange:O=>N({...C,building:O.target.value})}),n.jsx(q,{placeholder:"Floor (optional)",value:C.floor,onChange:O=>N({...C,floor:O.target.value})}),n.jsxs(Ge,{value:C.category,onValueChange:O=>N({...C,category:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"academic",children:"Academic"}),n.jsx(B,{value:"dining",children:"Dining"}),n.jsx(B,{value:"recreation",children:"Recreation"}),n.jsx(B,{value:"services",children:"Services"}),n.jsx(B,{value:"transportation",children:"Transportation"})]})]}),n.jsx(ot,{placeholder:"Description (optional)",value:C.description,onChange:O=>N({...C,description:O.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:ei,disabled:bt.isPending,className:"flex-1",children:bt.isPending?"Adding...":"Add Location"}),n.jsx(E,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(so,{className:"w-5 h-5"}),"Campus Transportation"]}),n.jsx(at,{children:"Bus schedules and routes"})]}),n.jsxs(V,{children:[Ft?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading routes..."})]}):_t.length>0?n.jsx("div",{className:"space-y-3",children:_t.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(so,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:O.routeName}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.fromStop,"  ",O.toStop]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Departs: ",O.departureTime,"  ~",O.estimatedDuration," min"]})]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(so,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No transportation routes saved"})]}),n.jsxs(et,{open:u,onOpenChange:m,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"mt-4 w-full",size:"sm",variant:"outline",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add Transportation Route"}),n.jsx(es,{children:"Save bus routes and schedules for easy access"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Route name (required)",value:S.routeName,onChange:O=>k({...S,routeName:O.target.value})}),n.jsx(q,{placeholder:"From stop (required)",value:S.fromStop,onChange:O=>k({...S,fromStop:O.target.value})}),n.jsx(q,{placeholder:"To stop",value:S.toStop,onChange:O=>k({...S,toStop:O.target.value})}),n.jsx(q,{type:"time",placeholder:"Departure time",value:S.departureTime,onChange:O=>k({...S,departureTime:O.target.value})}),n.jsx(q,{type:"number",placeholder:"Estimated duration (minutes)",value:S.estimatedDuration,onChange:O=>k({...S,estimatedDuration:parseInt(O.target.value)||15}),min:"5",max:"120"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:ti,disabled:rt.isPending,className:"flex-1",children:rt.isPending?"Adding...":"Add Route"}),n.jsx(E,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})]})}),n.jsx(Ue,{value:"social",className:"space-y-6 mt-6",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ls,{className:"w-5 h-5"}),"Study Groups"]}),n.jsx(at,{children:"Collaborate and learn with classmates"})]}),n.jsxs(V,{children:[Xt?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading study groups..."})]}):ps.length>0?n.jsx("div",{className:"space-y-3",children:ps.map(O=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(ls,{className:"w-5 h-5 text-purple-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:O.groupName}),n.jsx("p",{className:"text-sm text-gray-600",children:O.subject}),O.meetingDay&&O.meetingTime&&n.jsxs("p",{className:"text-xs text-gray-500",children:[O.meetingDay,"s at ",O.meetingTime]})]}),n.jsxs(he,{variant:"outline",children:[O.currentMembers||1," member",(O.currentMembers||1)!==1?"s":""]})]},O.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No study groups yet"})]}),n.jsxs(et,{open:f,onOpenChange:j,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"w-full mt-4",size:"sm",variant:"outline",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Study Group"]})}),n.jsxs(Ye,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Study Group"}),n.jsx(es,{children:"Start a study group to collaborate with classmates"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Group name (required)",value:T.groupName,onChange:O=>D({...T,groupName:O.target.value})}),n.jsx(q,{placeholder:"Subject (required)",value:T.subject,onChange:O=>D({...T,subject:O.target.value})}),n.jsx(ot,{placeholder:"Description (optional)",value:T.description,onChange:O=>D({...T,description:O.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Ge,{value:T.meetingDay,onValueChange:O=>D({...T,meetingDay:O}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Meeting day"})}),n.jsxs(We,{children:[n.jsx(B,{value:"Monday",children:"Monday"}),n.jsx(B,{value:"Tuesday",children:"Tuesday"}),n.jsx(B,{value:"Wednesday",children:"Wednesday"}),n.jsx(B,{value:"Thursday",children:"Thursday"}),n.jsx(B,{value:"Friday",children:"Friday"}),n.jsx(B,{value:"Saturday",children:"Saturday"}),n.jsx(B,{value:"Sunday",children:"Sunday"})]})]}),n.jsx(q,{type:"time",placeholder:"Meeting time",value:T.meetingTime,onChange:O=>D({...T,meetingTime:O.target.value})})]}),n.jsx(q,{type:"number",placeholder:"Max members (default: 6)",value:T.maxMembers,onChange:O=>D({...T,maxMembers:parseInt(O.target.value)||6}),min:"2",max:"20"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:Ld,disabled:vt.isPending,className:"flex-1",children:vt.isPending?"Creating...":"Create Group"}),n.jsx(E,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})})]})]})}const dC=Ns({skillName:Ae().min(1,"Skill name is required"),description:Ae().optional(),skillCategory:kl(["academic","social","independent_living","career","personal","health"]),currentLevel:zs().min(1).max(10).default(1),targetLevel:zs().min(1).max(10).default(5),targetDate:Ae().optional(),priority:kl(["low","medium","high","critical"]).default("medium")}),To={academic:{label:"Academic Skills",icon:Hr,color:"bg-blue-500"},social:{label:"Social Skills",icon:ls,color:"bg-green-500"},independent_living:{label:"Independent Living",icon:nw,color:"bg-purple-500"},career:{label:"Career Readiness",icon:c9,color:"bg-orange-500"},personal:{label:"Personal Development",icon:lt,color:"bg-pink-500"},health:{label:"Health & Wellness",icon:mr,color:"bg-teal-500"}};function qne(){var k;const e=Yt(),[t,s]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState(null),[l,c]=v.useState("all"),d=Bt({resolver:Vt(dC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),h=Bt({resolver:Vt(dC),defaultValues:{skillName:"",description:"",skillCategory:"independent_living",currentLevel:1,targetLevel:5,targetDate:"",priority:"medium"}}),{data:u=[],isLoading:m,refetch:f}=xe({queryKey:["/api/transition-skills"],queryFn:async()=>{const T=await fetch("/api/transition-skills");if(!T.ok)throw new Error("Failed to fetch skills");return T.json()},staleTime:0}),j=Ce({mutationFn:async T=>ye("POST","/api/transition-skills",T),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),s(!1),d.reset(),wa({title:"Success",description:"New skill milestone added!"})},onError:()=>{wa({title:"Error",description:"Failed to add skill milestone",variant:"destructive"})}}),x=Ce({mutationFn:async({id:T,currentLevel:D})=>ye("PATCH",`/api/transition-skills/${T}`,{currentLevel:D}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),wa({title:"Progress Updated",description:"Great job on improving your skills!"})}}),g=Ce({mutationFn:async({id:T,skillData:D})=>ye("PATCH",`/api/transition-skills/${T}`,D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),i(!1),o(null),h.reset(),wa({title:"Success",description:"Skill updated successfully!"})},onError:()=>{wa({title:"Error",description:"Failed to update skill",variant:"destructive"})}}),p=Ce({mutationFn:async T=>ye("DELETE",`/api/transition-skills/${T}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/transition-skills"]}),f(),wa({title:"Success",description:"Skill deleted successfully!"})},onError:()=>{wa({title:"Error",description:"Failed to delete skill",variant:"destructive"})}}),y=(T,D)=>{x.mutate({id:T,currentLevel:D})},b=T=>{o(T),h.reset({skillName:T.skillName||"",description:T.description||"",skillCategory:T.skillCategory||"independent_living",currentLevel:T.currentLevel||1,targetLevel:T.targetLevel||5,targetDate:T.targetDate||"",priority:T.priority||"medium"}),i(!0)},w=T=>{window.confirm("Are you sure you want to delete this skill? This action cannot be undone.")&&p.mutate(T)},C=(T,D)=>Math.min(T/D*100,100),N=(T,D)=>{const P=C(T,D);return P>=100?{text:"Completed",color:"text-green-600"}:P>=75?{text:"Almost There",color:"text-blue-600"}:P>=50?{text:"Good Progress",color:"text-yellow-600"}:{text:"Getting Started",color:"text-gray-600"}},S=l==="all"?u:u.filter(T=>T.skillCategory===l);return m?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your skills and milestones..."})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills & Milestones"}),n.jsx("p",{className:"text-gray-600",children:"Track your progress in life skills, set goals, and celebrate achievements"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Us,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Skills"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.length})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx($t,{className:"text-green-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>(T.currentLevel||1)>=(T.targetLevel||5)).length})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(ws,{className:"text-yellow-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(T=>{const D=T.currentLevel||1,P=T.targetLevel||5;return D<P&&D>1}).length})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(Ni,{className:"text-purple-600",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.length>0?Math.round(u.reduce((T,D)=>T+C(D.currentLevel||1,D.targetLevel||5),0)/u.length):0,"%"]})]})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs(Ge,{value:l,onValueChange:c,children:[n.jsx(He,{className:"w-full sm:w-64",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"all",children:"All Categories"}),Object.entries(To).map(([T,D])=>n.jsx(B,{value:T,children:D.label},T))]})]}),n.jsxs(et,{open:t,onOpenChange:s,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Skill Milestone"]})}),n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add New Skill Milestone"}),n.jsx(es,{children:"Set a new skill goal to track your progress"})]}),n.jsx(zt,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(T=>j.mutate(T)),className:"space-y-4",children:[n.jsx(Z,{control:d.control,name:"skillName",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Skill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"skillCategory",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsx(We,{children:Object.entries(To).map(([D,P])=>n.jsx(B,{value:D,children:P.label},D))})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:d.control,name:"currentLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"targetLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:d.control,name:"description",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Describe what this skill involves and why it's important...",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:d.control,name:"priority",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"critical",children:"Critical"})]})]}),n.jsx(se,{})]})}),n.jsx(E,{type:"submit",className:"w-full",disabled:j.isPending,children:j.isPending?"Adding...":"Add Skill Milestone"})]})})]})]}),n.jsx(et,{open:r,onOpenChange:i,children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Edit Skill Milestone"}),n.jsx(es,{children:"Update your skill details and progress goals"})]}),n.jsx(zt,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(T=>{a&&g.mutate({id:a.id,skillData:T})}),className:"space-y-4",children:[n.jsx(Z,{control:h.control,name:"skillName",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Skill Name"}),n.jsx(J,{children:n.jsx(q,{placeholder:"e.g., Time Management, Cooking, Communication",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"skillCategory",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsx(We,{children:Object.entries(To).map(([D,P])=>n.jsx(B,{value:D,children:P.label},D))})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:h.control,name:"currentLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Current Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||1)})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"targetLevel",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Target Level (1-10)"}),n.jsx(J,{children:n.jsx(q,{type:"number",min:1,max:10,...T,onChange:D=>T.onChange(parseInt(D.target.value)||5)})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:h.control,name:"description",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Describe what this skill involves and why it's important...",...T})}),n.jsx(se,{})]})}),n.jsx(Z,{control:h.control,name:"priority",render:({field:T})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Priority"}),n.jsxs(Ge,{onValueChange:T.onChange,value:T.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{})})}),n.jsxs(We,{children:[n.jsx(B,{value:"low",children:"Low"}),n.jsx(B,{value:"medium",children:"Medium"}),n.jsx(B,{value:"high",children:"High"}),n.jsx(B,{value:"critical",children:"Critical"})]})]}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(E,{type:"button",variant:"outline",className:"flex-1",onClick:()=>i(!1),children:"Cancel"}),n.jsx(E,{type:"submit",variant:"outline",className:"flex-1",disabled:g.isPending,children:g.isPending?"Updating...":"Update Skill"})]})]})})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>{var X,ee,F;const D=((X=To[T.skillCategory])==null?void 0:X.icon)||Us,P=N(T.currentLevel||1,T.targetLevel||5),M=C(T.currentLevel||1,T.targetLevel||5);return n.jsxs(L,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${((ee=To[T.skillCategory])==null?void 0:ee.color)||"bg-gray-500"}`,children:n.jsx(D,{className:"text-white",size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(ce,{className:"text-lg",children:T.skillName}),n.jsx(he,{variant:"outline",className:"mt-1",children:((F=To[T.skillCategory])==null?void 0:F.label)||T.skillCategory})]})]}),M>=100&&n.jsx(po,{className:"text-yellow-500",size:20})]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[T.description&&n.jsx("p",{className:"text-sm text-gray-600",children:T.description}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Progress"}),n.jsx("span",{className:`text-sm font-medium ${P.color}`,children:P.text})]}),n.jsx(on,{value:M,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Level ",T.currentLevel||1]}),n.jsxs("span",{children:["Target: ",T.targetLevel||5]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>y(T.id,Math.max(1,(T.currentLevel||1)-1)),disabled:x.isPending||(T.currentLevel||1)<=1,children:"-"}),n.jsx(E,{variant:"default",size:"sm",className:"flex-1",onClick:()=>y(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:x.isPending||(T.currentLevel||1)>=10,children:"Update Progress"}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>y(T.id,Math.min(10,(T.currentLevel||1)+1)),disabled:x.isPending||(T.currentLevel||1)>=10,children:"+"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(T),children:[n.jsx(fi,{size:14,className:"mr-1"}),"Edit"]}),n.jsxs(E,{variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>w(T.id),disabled:p.isPending,children:[n.jsx(Wn,{size:14,className:"mr-1"}),"Delete"]})]})]})]})})]},T.id)})}),S.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Us,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Skills Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:l==="all"?"Start tracking your progress by adding your first skill milestone!":`No skills found in the ${((k=To[l])==null?void 0:k.label)||l} category.`}),n.jsxs(E,{onClick:()=>s(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(ct,{size:16,className:"mr-2"}),"Add Your First Skill"]})]})]})}const rb=v.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:Le("w-full caption-bottom text-sm",e),...t})}));rb.displayName="Table";const ib=v.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:Le("[&_tr]:border-b",e),...t}));ib.displayName="TableHeader";const ab=v.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:Le("[&_tr:last-child]:border-0",e),...t}));ab.displayName="TableBody";const Hne=v.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Hne.displayName="TableFooter";const fu=v.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fu.displayName="TableRow";const $n=v.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$n.displayName="TableHead";const Un=v.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:Le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Un.displayName="TableCell";const Wne=v.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));Wne.displayName="TableCaption";const uC=[{key:"location_sharing",name:"Location Sharing",description:"Allows caregivers to see user's current location",category:"safety"},{key:"emergency_contacts",name:"Emergency Contacts",description:"Access to view and modify emergency contact information",category:"safety"},{key:"medication_reminders",name:"Medication Reminders",description:"Automatic reminders for medication schedules",category:"health"},{key:"appointment_notifications",name:"Appointment Notifications",description:"Notifications for upcoming medical appointments",category:"health"},{key:"safety_alerts",name:"Safety Alerts",description:"Alerts for unusual activity or missed check-ins",category:"safety"},{key:"financial_monitoring",name:"Financial Monitoring",description:"Oversight of budgets and bill payment tracking",category:"financial"}],Ky=[{id:1,name:"Primary Caregiver",type:"primary",description:"Full access - parent or guardian",color:"bg-green-100 text-green-800"},{id:2,name:"School Therapist",type:"secondary",description:"Academic and emotional support only",color:"bg-blue-100 text-blue-800"},{id:3,name:"Medical Therapist",type:"secondary",description:"Health and safety management",color:"bg-purple-100 text-purple-800"},{id:4,name:"Respite Worker",type:"temporary",description:"Emergency contacts and basic supervision",color:"bg-orange-100 text-orange-800"},{id:5,name:"Extended Family",type:"secondary",description:"Limited monitoring access",color:"bg-gray-100 text-gray-800"}];function YF({userId:e,caregiverId:t}){const{toast:s}=dt(),r=Yt(),[i,a]=v.useState(t||1),[o,l]=v.useState("user_locks"),[c,d]=v.useState({settingKey:"",settingValue:"",lockReason:"",canUserView:!0}),{data:h=[],isLoading:u}=xe({queryKey:["/api/locked-settings",e],queryFn:()=>ye("GET",`/api/locked-settings/${e}`).then(b=>b.json())});xe({queryKey:["/api/caregiver-permissions",e,i],queryFn:()=>ye("GET",`/api/caregiver-permissions/${e}/${i}`).then(b=>b.json()),enabled:!!i});const m=Ky.find(b=>b.id===i)||Ky[0],f=Ce({mutationFn:b=>ye("POST","/api/locked-settings",b).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),s({title:"Setting Locked",description:"User setting has been successfully locked."}),d({settingKey:"",settingValue:"",lockReason:"",canUserView:!0})},onError:b=>{s({title:"Error",description:"Failed to lock setting: "+b.message,variant:"destructive"})}}),j=Ce({mutationFn:({settingKey:b})=>ye("DELETE",`/api/locked-settings/${e}/${b}`,{caregiverId}).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/locked-settings",e]}),s({title:"Setting Unlocked",description:"User setting has been successfully unlocked."})},onError:b=>{s({title:"Error",description:"Failed to unlock setting: "+b.message,variant:"destructive"})}});Ce({mutationFn:b=>ye("POST","/api/caregiver-permissions",b).then(w=>w.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/caregiver-permissions",e,i]}),s({title:"Permission Updated",description:"Caregiver permission has been updated."})},onError:b=>{s({title:"Error",description:"Failed to update permission: "+b.message,variant:"destructive"})}});const x=()=>{if(!c.settingKey||!c.settingValue){s({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}f.mutate({userId:e,settingKey:c.settingKey,settingValue:c.settingValue,isLocked:!0,lockedBy:i,lockReason:c.lockReason,canUserView:c.canUserView})},g=(b,w)=>{f.mutate({userId:e,settingKey:b,settingValue:"locked",isLocked:!0,lockedBy:t||1,lockReason:`User safety protection: ${w}`,canUserView:!1})},p=b=>{j.mutate({settingKey:b})},y=b=>{switch(b){case"safety":return"destructive";case"health":return"default";case"financial":return"secondary";default:return"outline"}};return u?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{onClick:()=>l("user_locks"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="user_locks"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" User Lock Controls"}),n.jsx("button",{onClick:()=>l("caregiver_permissions"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${o==="caregiver_permissions"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Caregiver Permissions"})]}),o==="user_locks"&&n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"User Safety Lock Controls"]}),n.jsx(at,{children:"Lock critical features to prevent the user from accidentally changing important safety settings."})]}),n.jsx(V,{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock User Settings"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:uC.map(b=>{const w=h.some(C=>C.settingKey===b.key&&C.isLocked);return n.jsx(L,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:b.name}),n.jsx(he,{variant:y(b.category),className:"text-xs",children:b.category}),w&&n.jsxs(he,{variant:"destructive",className:"text-xs",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Locked"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:b.description}),n.jsx("div",{className:"flex flex-col gap-2",children:w?n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(b.key),disabled:j.isPending,children:[n.jsx(yy,{className:"h-4 w-4 mr-1"}),"Unlock from User"]}):n.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>g(b.key,b.description),disabled:f.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock from User"]})})]})})},b.key)})})]})})]}),o==="caregiver_permissions"&&n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-5 w-5"}),"Caregiver Permission Controls"]}),n.jsx(at,{children:"Manage what other caregivers can see and access for this user."})]}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"caregiver-select",className:"text-sm font-medium",children:"Select Caregiver Type"}),n.jsxs(Ge,{value:i==null?void 0:i.toString(),onValueChange:b=>a(parseInt(b)),children:[n.jsx(He,{className:"w-full mt-1",children:n.jsx(Ke,{placeholder:"Choose caregiver type..."})}),n.jsx(We,{children:Ky.map(b=>n.jsx(B,{value:b.id.toString(),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{className:b.color,variant:"secondary",children:b.type}),n.jsx("span",{className:"font-medium",children:b.name})]})},b.id))})]})]}),n.jsx(L,{className:"p-3 bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(he,{className:m.color,variant:"secondary",children:m.type}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm",children:m.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]})})]})}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Critical Safety Settings"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:uC.map(b=>{const w=h.some(N=>N.settingKey===b.key),C=h.find(N=>N.settingKey===b.key);return n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:b.name}),n.jsx(he,{variant:y(b.category),children:b.category}),w&&n.jsx(Rr,{className:"h-4 w-4 text-red-500"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),w&&n.jsxs("div",{className:"text-xs text-red-600",children:[n.jsx("strong",{children:"Locked:"})," ",(C==null?void 0:C.lockReason)||"Safety requirement"]})]}),n.jsx("div",{className:"flex flex-col gap-2",children:w?n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(b.key),disabled:j.isPending,children:[n.jsx(yy,{className:"h-4 w-4 mr-1"}),"Unlock"]}):n.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>{d({settingKey:b.key,settingValue:"enabled",lockReason:`Critical safety setting: ${b.description}`,canUserView:!0}),x()},disabled:f.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Lock"]})})]})},b.key)})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lock Custom Setting"}),n.jsxs(L,{className:"p-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"settingKey",children:"Setting Key"}),n.jsx(q,{id:"settingKey",placeholder:"e.g., location_sharing",value:c.settingKey,onChange:b=>d(w=>({...w,settingKey:b.target.value}))})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"settingValue",children:"Setting Value"}),n.jsx(q,{id:"settingValue",placeholder:"e.g., enabled",value:c.settingValue,onChange:b=>d(w=>({...w,settingValue:b.target.value}))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(de,{htmlFor:"lockReason",children:"Lock Reason"}),n.jsx(ot,{id:"lockReason",placeholder:"Why is this setting being locked?",value:c.lockReason,onChange:b=>d(w=>({...w,lockReason:b.target.value}))})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ls,{checked:c.canUserView,onCheckedChange:b=>d(w=>({...w,canUserView:b}))}),n.jsx(de,{children:"User can view this setting"}),c.canUserView?n.jsx(pm,{className:"h-4 w-4"}):n.jsx(D0,{className:"h-4 w-4"})]}),n.jsxs(E,{onClick:x,disabled:f.isPending,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Lock Setting"]})]})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Currently Locked Settings"}),n.jsx("div",{className:"space-y-3",children:h.map(b=>n.jsx(L,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:b.settingKey}),n.jsx(he,{variant:"destructive",children:"LOCKED"}),!b.canUserView&&n.jsx(D0,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",b.settingValue]}),b.lockReason&&n.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",b.lockReason]})]}),n.jsxs(E,{size:"sm",variant:"outline",onClick:()=>p(b.settingKey),disabled:j.isPending,children:[n.jsx(yy,{className:"h-4 w-4 mr-1"}),"Unlock"]})]})},b.id))})]})]})]})]})}function hC(){const[e,t]=v.useState("30d"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),{toast:o}=dt(),l={overview:{totalUsers:1847,activeUsers:1203,newUsersToday:47,newUsersThisMonth:234,totalRevenue:28420,monthlyRecurringRevenue:7680,churnRate:2.8,averageRevenuePerUser:15.42,conversionRate:12.4,lifetimeValue:186.5},subscriptions:{basic:{count:489,revenue:2445,percentage:39.2},premium:{count:623,revenue:8089,percentage:49.9},family:{count:136,revenue:3398,percentage:10.9}},recentUsers:[{id:1,name:"Sarah Johnson",email:"sarah.j@email.com",plan:"Premium",joinDate:"2025-07-06",status:"Active",lastActivity:"2 hours ago",tasksCompleted:47,streakDays:12},{id:2,name:"Michael Chen",email:"m.chen@email.com",plan:"Family",joinDate:"2025-07-05",status:"Active",lastActivity:"1 day ago",tasksCompleted:23,streakDays:8},{id:3,name:"Emma Rodriguez",email:"emma.r@email.com",plan:"Basic",joinDate:"2025-07-04",status:"Trial",lastActivity:"3 hours ago",tasksCompleted:15,streakDays:4},{id:4,name:"David Park",email:"d.park@email.com",plan:"Premium",joinDate:"2025-07-03",status:"Active",lastActivity:"5 minutes ago",tasksCompleted:82,streakDays:21},{id:5,name:"Lisa Thompson",email:"lisa.t@email.com",plan:"Family",joinDate:"2025-07-02",status:"Churned",lastActivity:"1 week ago",tasksCompleted:34,streakDays:0}],payments:[{id:1,user:"Sarah Johnson",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-06"},{id:2,user:"Michael Chen",plan:"Family",amount:24.99,status:"Completed",date:"2025-07-06"},{id:3,user:"Emma Rodriguez",plan:"Basic",amount:4.99,status:"Failed",date:"2025-07-05"},{id:4,user:"David Park",plan:"Premium",amount:12.99,status:"Completed",date:"2025-07-05"},{id:5,user:"Lisa Thompson",plan:"Family",amount:24.99,status:"Refunded",date:"2025-07-04"}],engagement:{averageSessionTime:"24 minutes",dailyActiveUsers:743,tasksCompletedToday:2847,moodEntriesLogged:1203,caregiverMessagesExchanged:456,emergencyAlertsTriggered:3},healthMetrics:{usersWithHealthIntegration:423,medicationComplianceRate:87.3,appointmentAttendanceRate:92.1,averageMoodScore:3.8,usersWithActiveStreaks:678,averageStreakLength:8.4}},c=h=>{switch(h){case"Active":return n.jsx(he,{className:"bg-green-100 text-green-700 border-green-300",children:"Active"});case"Trial":return n.jsx(he,{className:"bg-blue-100 text-blue-700 border-blue-300",children:"Trial"});case"Churned":return n.jsx(he,{className:"bg-red-100 text-red-700 border-red-300",children:"Churned"});default:return n.jsx(he,{variant:"outline",children:h})}},d=h=>{switch(h){case"Completed":return n.jsx(he,{className:"bg-green-100 text-green-700 border-green-300",children:"Completed"});case"Failed":return n.jsx(he,{className:"bg-red-100 text-red-700 border-red-300",children:"Failed"});case"Refunded":return n.jsx(he,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:"Refunded"});default:return n.jsx(he,{variant:"outline",children:h})}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor platform performance and user engagement"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Ge,{value:e,onValueChange:t,children:[n.jsx(He,{className:"w-32",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"7d",children:"Last 7 days"}),n.jsx(B,{value:"30d",children:"Last 30 days"}),n.jsx(B,{value:"90d",children:"Last 90 days"}),n.jsx(B,{value:"1y",children:"Last year"})]})]}),n.jsxs(E,{className:"flex items-center gap-2",children:[n.jsx(pc,{className:"h-4 w-4"}),"Export Data"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(L,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(ls,{className:"h-4 w-4"}),"Total Users"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.totalUsers.toLocaleString()}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Ni,{className:"h-3 w-3 text-green-500"}),n.jsxs("span",{className:"text-green-600",children:["+",l.overview.newUsersThisMonth," this month"]})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Pi,{className:"h-4 w-4"}),"Monthly Revenue"]})}),n.jsxs(V,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Ni,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-green-600",children:"+18.2% from last month"})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Ef,{className:"h-4 w-4"}),"Active Users"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.overview.activeUsers.toLocaleString()}),n.jsx("div",{className:"flex items-center gap-1 text-sm",children:n.jsxs("span",{className:"text-gray-500",children:[(l.overview.activeUsers/l.overview.totalUsers*100).toFixed(1),"% of total"]})})]})]}),n.jsxs(L,{children:[n.jsx(le,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Us,{className:"h-4 w-4"}),"Conversion Rate"]})}),n.jsxs(V,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.overview.conversionRate,"%"]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Ni,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-green-600",children:"+2.1% improvement"})]})]})]})]}),n.jsxs(hn,{defaultValue:"overview",className:"space-y-12",children:[n.jsx("div",{className:"w-full overflow-x-auto pb-4",children:n.jsxs(en,{className:"flex w-max min-w-full h-20 p-4 gap-4 mx-auto justify-center",children:[n.jsx($e,{value:"overview",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Overview"}),n.jsx($e,{value:"users",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Users"}),n.jsx($e,{value:"revenue",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Revenue"}),n.jsx($e,{value:"engagement",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Engagement"}),n.jsx($e,{value:"health",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Health Metrics"}),n.jsx($e,{value:"caregiver",className:"px-8 py-6 text-base font-medium rounded-lg min-w-[140px] flex-shrink-0",children:"Caregiver Monitor"})]})}),n.jsxs(Ue,{value:"overview",className:"space-y-12 mt-16",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ho,{className:"h-5 w-5"}),"Subscription Distribution"]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Basic Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.basic.count," users"]})]}),n.jsx(on,{value:l.subscriptions.basic.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.basic.revenue,"/month revenue"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Premium Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.premium.count," users"]})]}),n.jsx(on,{value:l.subscriptions.premium.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.premium.revenue,"/month revenue"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Family Plan"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[l.subscriptions.family.count," users"]})]}),n.jsx(on,{value:l.subscriptions.family.percentage,className:"h-2"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["$",l.subscriptions.family.revenue,"/month revenue"]})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(sw,{className:"h-5 w-5"}),"Revenue Metrics"]})}),n.jsx(V,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.totalRevenue.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"ARPU"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.averageRevenuePerUser]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Churn Rate"}),n.jsxs("div",{className:"text-xl font-bold",children:[l.overview.churnRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"LTV"}),n.jsxs("div",{className:"text-xl font-bold",children:["$",l.overview.lifetimeValue]})]})]})})]})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ho,{className:"h-5 w-5"}),"Recent Payments"]}),n.jsx(at,{children:"Latest payment transactions"})]}),n.jsx(V,{children:n.jsxs(rb,{children:[n.jsx(ib,{children:n.jsxs(fu,{children:[n.jsx($n,{children:"User"}),n.jsx($n,{children:"Plan"}),n.jsx($n,{children:"Amount"}),n.jsx($n,{children:"Status"}),n.jsx($n,{children:"Date"})]})}),n.jsx(ab,{children:l.payments.map(h=>n.jsxs(fu,{children:[n.jsx(Un,{className:"font-medium",children:h.user}),n.jsx(Un,{children:h.plan}),n.jsxs(Un,{children:["$",h.amount]}),n.jsx(Un,{children:d(h.status)}),n.jsx(Un,{children:h.date})]},h.id))})]})})]})]}),n.jsx(Ue,{value:"users",className:"space-y-12 mt-16",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ls,{className:"h-5 w-5"}),"User Management"]}),n.jsx(at,{children:"Monitor user activity and engagement"})]}),n.jsx(V,{children:n.jsxs(rb,{children:[n.jsx(ib,{children:n.jsxs(fu,{children:[n.jsx($n,{children:"User"}),n.jsx($n,{children:"Plan"}),n.jsx($n,{children:"Status"}),n.jsx($n,{children:"Tasks Completed"}),n.jsx($n,{children:"Streak"}),n.jsx($n,{children:"Last Activity"}),n.jsx($n,{children:"Join Date"})]})}),n.jsx(ab,{children:l.recentUsers.map(h=>n.jsxs(fu,{children:[n.jsx(Un,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})}),n.jsx(Un,{children:h.plan}),n.jsx(Un,{children:c(h.status)}),n.jsx(Un,{children:h.tasksCompleted}),n.jsx(Un,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:h.streakDays}),h.streakDays>0&&n.jsx("span",{className:"text-orange-500",children:""})]})}),n.jsx(Un,{children:h.lastActivity}),n.jsx(Un,{children:h.joinDate})]},h.id))})]})})]})}),n.jsx(Ue,{value:"revenue",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Monthly Recurring Revenue"})}),n.jsxs(V,{children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",l.overview.monthlyRecurringRevenue.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"+18.2% from last month"})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Average Revenue Per User"})}),n.jsxs(V,{children:[n.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",l.overview.averageRevenuePerUser]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Across all plans"})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Customer Lifetime Value"})}),n.jsxs(V,{children:[n.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",l.overview.lifetimeValue]}),n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Average LTV"})]})]})]})}),n.jsx(Ue,{value:"engagement",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-5 w-5"}),"Session Time"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.averageSessionTime}),n.jsx("div",{className:"text-sm text-gray-600",children:"Average per session"})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5"}),"Tasks Completed"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.tasksCompletedToday.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-600",children:"Today"})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Mood Entries"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.engagement.moodEntriesLogged.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-600",children:"This week"})]})]})]})}),n.jsx(Ue,{value:"health",className:"space-y-12 mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Health Integration"]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Users with Health Data"}),n.jsx("span",{className:"font-bold",children:l.healthMetrics.usersWithHealthIntegration})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Medication Compliance"}),n.jsxs("span",{className:"font-bold text-green-600",children:[l.healthMetrics.medicationComplianceRate,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Appointment Attendance"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[l.healthMetrics.appointmentAttendanceRate,"%"]})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Wellness Metrics"]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Average Mood Score"}),n.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageMoodScore,"/5"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Active Streak Users"}),n.jsx("span",{className:"font-bold text-orange-600",children:l.healthMetrics.usersWithActiveStreaks})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Average Streak Length"}),n.jsxs("span",{className:"font-bold",children:[l.healthMetrics.averageStreakLength," days"]})]})]})]})]})}),n.jsxs(Ue,{value:"caregiver",className:"space-y-12 mt-16",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Caregiver Monitoring Center"}),n.jsx("p",{className:"text-gray-600",children:"Monitor user progress and set granular permission controls for different caregiver types"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ls,{className:"h-5 w-5"}),"Select User to Monitor"]})}),n.jsx(V,{children:n.jsxs(Ge,{defaultValue:"2",children:[n.jsx(He,{className:"w-full",children:n.jsx(Ke,{placeholder:"Select a user"})}),n.jsxs(We,{children:[n.jsx(B,{value:"1",children:"Sarah Johnson (ID: 1)"}),n.jsx(B,{value:"2",children:"Alex Johnson (ID: 2) - Demo User"}),n.jsx(B,{value:"3",children:"Michael Chen (ID: 3)"}),n.jsx(B,{value:"4",children:"Emma Rodriguez (ID: 4)"})]})]})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"h-5 w-5"}),"Caregiver Type Settings"]})}),n.jsxs(V,{children:[n.jsxs(Ge,{defaultValue:"school-therapist",children:[n.jsx(He,{className:"w-full",children:n.jsx(Ke,{placeholder:"Select caregiver type"})}),n.jsxs(We,{children:[n.jsx(B,{value:"school-therapist",children:" School Therapist"}),n.jsx(B,{value:"medical-therapist",children:" Medical Therapist"}),n.jsx(B,{value:"respite-worker",children:" Respite Worker"}),n.jsx(B,{value:"family-member",children:" Family Member"}),n.jsx(B,{value:"full-access",children:" Full Access Caregiver"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Select the caregiver type to configure appropriate permission levels and data access."})]})]})]}),n.jsx(YF,{userId:2,caregiverId:2}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Streak"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"12 days"})]}),n.jsx(Us,{className:"w-8 h-8 text-orange-500"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"})]}),n.jsx($t,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Mood"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"3.8/5"})]}),n.jsx(lt,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:"1"})]}),n.jsx(Jt,{className:"w-8 h-8 text-red-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs(E,{className:"bg-blue-600 hover:bg-blue-700 h-12",onClick:()=>{const h={patient:"Alex Johnson (Demo User)",dateGenerated:new Date().toISOString().split("T")[0],streak:"12 days",completionRate:"85%",averageMood:"3.8/5",alerts:"1 active"},u=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),m=URL.createObjectURL(u),f=document.createElement("a");f.href=m,f.download=`medical-report-alex-johnson-${new Date().toISOString().split("T")[0]}.json`,f.click(),URL.revokeObjectURL(m),o({title:"Medical Report Generated",description:"Report has been downloaded successfully"})},children:[n.jsx(pc,{className:"w-4 h-4 mr-2"}),"Generate Medical Report"]}),n.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{r(!0),o({title:"Loading Progress Charts",description:"Displaying user progress visualization"})},children:[n.jsx(Ef,{className:"w-4 h-4 mr-2"}),"View Progress Charts"]}),n.jsxs(E,{variant:"outline",className:"h-12",onClick:()=>{a(!0),o({title:"Opening Schedule",description:"Loading appointment scheduling interface"})},children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Schedule Check-in"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5"}),"Recent Tasks"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Take medication"}),n.jsx(he,{className:"bg-green-100 text-green-700",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Wash hair"}),n.jsx(he,{className:"bg-green-100 text-green-700",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Grocery shopping"}),n.jsx(he,{className:"bg-yellow-100 text-yellow-700",children:"Pending"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Call doctor"}),n.jsx(he,{className:"bg-gray-100 text-gray-700",children:"Scheduled"})]})]})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Mood Tracking"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Today"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Good"}),n.jsxs("div",{className:"flex",children:[[1,2,3,4].map(h=>n.jsx(lt,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),n.jsx(lt,{className:"w-4 h-4 text-gray-300"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Yesterday"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Okay"}),n.jsxs("div",{className:"flex",children:[[1,2,3].map(h=>n.jsx(lt,{className:"w-4 h-4 fill-pink-500 text-pink-500"},h)),[4,5].map(h=>n.jsx(lt,{className:"w-4 h-4 text-gray-300"},h))]})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Trend:"})," Mood has been stable over the past week with slight improvement"]})})]})})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Jt,{className:"h-5 w-5 text-amber-500"}),"Alerts & Recommendations"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx(Jt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Medication Refill Due"}),n.jsx("p",{className:"text-sm text-amber-700",children:"Sertraline prescription needs refill within 3 days"}),n.jsx(E,{size:"sm",className:"mt-2 bg-amber-600 hover:bg-amber-700",children:"Send Reminder"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx($t,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:"Excellent Progress"}),n.jsx("p",{className:"text-sm text-green-700",children:"User has maintained daily task streak for 12 days"})]})]})]})})]})]})]})]}),n.jsx(et,{open:s,onOpenChange:r,children:n.jsxs(Ye,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Alex Johnson - Progress Charts"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Task Completion Over Time"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((h,u)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:h}),n.jsx("div",{className:`h-20 rounded ${u<5?"bg-green-500":"bg-gray-300"}`}),n.jsx("div",{className:"text-xs mt-1",children:u<5?"100%":"0%"})]},h))})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Mood Trends (Last 7 Days)"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:[4,3,4,5,3,4,4].map((h,u)=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Day ",u+1]}),n.jsx("div",{className:"flex justify-center",children:[1,2,3,4,5].map(m=>n.jsx(lt,{className:`w-3 h-3 ${m<=h?"fill-pink-500 text-pink-500":"text-gray-300"}`},m))}),n.jsxs("div",{className:"text-xs mt-1",children:[h,"/5"]})]},u))})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Days Streak"})]}),n.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]}),n.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.8"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Avg Mood"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Done"})]})]})]})]})}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Schedule Check-in for Alex Johnson"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Check-in Type"}),n.jsxs("select",{className:"w-full border rounded-md p-2",children:[n.jsx("option",{children:"Weekly Progress Review"}),n.jsx("option",{children:"Emergency Check-in"}),n.jsx("option",{children:"Medication Review"}),n.jsx("option",{children:"Goal Setting Session"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date & Time"}),n.jsx("input",{type:"datetime-local",className:"w-full border rounded-md p-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),n.jsx("textarea",{className:"w-full border rounded-md p-2 h-20",placeholder:"Any specific topics to discuss..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{o({title:"Check-in Scheduled",description:"Appointment has been added to calendar"}),a(!1)},children:"Schedule Check-in"}),n.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})})]})}function Gne(){const[e,t]=v.useState(null);v.useState("medical");const[s,r]=v.useState(null),{toast:i}=dt(),{data:a}=xe({queryKey:["/api/user"]}),{data:o}=xe({queryKey:["/api/caregiver-access"],enabled:!!a}),l=[{userId:2,userName:"Alex Johnson",streakDays:12,lastActive:"2025-07-08T10:30:00Z",completionRate:85,moodTrend:"stable",alertsCount:1}],c=l.find(N=>N.userId===e)||l[0];xe({queryKey:["/api/user",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0});const{data:d}=xe({queryKey:["/api/daily-tasks",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:h}=xe({queryKey:["/api/mood-entries",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:u}=xe({queryKey:["/api/appointments",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:m}=xe({queryKey:["/api/medications",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),{data:f}=xe({queryKey:["/api/emergency-contacts",c==null?void 0:c.userId],enabled:!!(c!=null&&c.userId)&&s===!0}),j=(d==null?void 0:d.filter(N=>N.isCompleted&&iC(new Date(N.lastCompletedAt||N.createdAt),aC(new Date,7))).length)||0,x=(h==null?void 0:h.slice(-7))||[],g=x.length>0?(x.reduce((N,S)=>N+S.mood,0)/x.length).toFixed(1):0,p=(u==null?void 0:u.filter(N=>iC(new Date(N.appointmentDate),new Date)).slice(0,3))||[],y=(m==null?void 0:m.filter(N=>!N.isDiscontinued))||[],b=(m==null?void 0:m.filter(N=>N.pillsRemaining<7&&!N.isDiscontinued))||[],w=Ce({mutationFn:async()=>{const N={patient:c==null?void 0:c.userName,dateRange:`${Lt(aC(new Date,30),"MMM dd, yyyy")} - ${Lt(new Date,"MMM dd, yyyy")}`,moodSummary:{averageMood:g,entries:x.length,trend:c==null?void 0:c.moodTrend},taskCompletion:{weeklyRate:j,totalTasks:(d==null?void 0:d.length)||0,completedTasks:(d==null?void 0:d.filter(S=>S.isCompleted).length)||0},medications:y,upcomingAppointments:p,alerts:(c==null?void 0:c.alertsCount)||0,emergencyContacts:f};return new Promise(S=>setTimeout(()=>S(N),1e3))},onSuccess:()=>{i({title:"Medical Report Generated",description:`Comprehensive medical report for ${c==null?void 0:c.userName} has been created and downloaded.`})}}),C=async()=>{const N=`
MEDICAL SUMMARY - ${c==null?void 0:c.userName}
Generated: ${Lt(new Date,"MMM dd, yyyy HH:mm")}

CURRENT STATUS:
 Mood Average (7 days): ${g}/5.0 (${c==null?void 0:c.moodTrend})
 Task Completion Rate: ${c==null?void 0:c.completionRate}%
 Activity Streak: ${c==null?void 0:c.streakDays} days
 Active Medications: ${y.length}
 Pending Refills: ${b.length}

UPCOMING APPOINTMENTS:
${p.map(S=>` ${Lt(new Date(S.appointmentDate),"MMM dd")} - ${S.title}`).join(`
`)}

ALERTS: ${(c==null?void 0:c.alertsCount)||0} active alerts requiring attention

This summary was generated by Adaptalyfe for medical provider review.
    `;if(navigator.share)try{await navigator.share({title:`Medical Summary - ${c==null?void 0:c.userName}`,text:N})}catch{navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})}else navigator.clipboard.writeText(N),i({title:"Copied to Clipboard",description:"Medical summary ready to share with providers"})};return v.useEffect(()=>{o!==void 0&&r(o.isCaregiver)},[o]),v.useEffect(()=>{!e&&l.length>0&&t(l[0].userId)},[e,l]),s===null?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Verifying access permissions..."})]})}):s?c?n.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[n.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 text-sm font-bold",children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-900",children:"Soft Launch Testing Mode"}),n.jsx("p",{className:"text-sm text-blue-700",children:"You're viewing the professional caregiver dashboard. This demonstrates monitoring tools for caregivers to track user progress."})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(E,{variant:"outline",size:"sm",onClick:()=>window.location.href="/",className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-700",children:"View as User"})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Caregiver Dashboard"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Monitor progress and generate reports for your care recipients"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(L,{children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-semibold",children:c.userName.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:c.userName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Last active: ",c.lastActive?Lt(new Date(c.lastActive),"MMM dd, HH:mm"):"Unknown"]})]})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Activity Streak"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.streakDays})]}),n.jsx(Ni,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Completion Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.completionRate,"%"]})]}),n.jsx($t,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx(L,{children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.alertsCount})]}),n.jsx(Jt,{className:"w-8 h-8 text-red-500"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[n.jsxs(E,{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(Mf,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:"Share Medical Summary"})]}),n.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(pc,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:w.isPending?"Generating...":"Download Report"})]}),n.jsxs(E,{variant:"outline",className:"text-sm px-3 py-2 min-h-[44px]",children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:"Emergency Contact"})]})]}),n.jsxs(hn,{defaultValue:"overview",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-2",children:[n.jsxs($e,{value:"overview",className:"flex items-center gap-2",children:[n.jsx(Ef,{className:"w-4 h-4"}),"Overview & Reports"]}),n.jsxs($e,{value:"security",className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-4 h-4"})," Security Controls"]})]}),n.jsx(Ue,{value:"overview",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ef,{className:"w-5 h-5"}),"Recent Activity"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Tasks completed today"}),n.jsx(he,{variant:"secondary",children:(d==null?void 0:d.filter(N=>{try{return N.isCompleted&&Lt(new Date(N.lastCompletedAt||N.createdAt),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}}).length)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Mood logged today"}),n.jsx(he,{variant:h!=null&&h.some(N=>{try{return Lt(new Date(N.entryDate),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}})?"default":"destructive",children:h!=null&&h.some(N=>{try{return Lt(new Date(N.entryDate),"yyyy-MM-dd")===Lt(new Date,"yyyy-MM-dd")}catch{return!1}})?"Yes":"No"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Medications due"}),n.jsx(he,{variant:b.length>0?"destructive":"default",children:b.length})]})]})})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5"}),"Upcoming Schedule"]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-3",children:p.length>0?p.map(N=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:N.title}),n.jsx(he,{variant:"outline",children:N.appointmentDate?Lt(new Date(N.appointmentDate),"MMM dd"):"TBD"})]},N.id)):n.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments"})})})]})]})}),n.jsx(Ue,{value:"security",className:"space-y-4",children:n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5"}),"User Safety & Security Controls"]}),n.jsx(at,{children:"Lock critical settings to ensure user safety and prevent accidental changes"})]}),n.jsx(V,{children:n.jsx(YF,{userId:c.userId,caregiverId:a==null?void 0:a.id})})]})})]})]}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Caregiver Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"No users assigned to your care account."})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(L,{className:"w-full max-w-md",children:n.jsx(V,{className:"pt-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(Rr,{className:"w-8 h-8 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"This dashboard is only accessible to authorized caregivers."})]}),n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(os,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-amber-800",children:[n.jsx("p",{className:"font-medium",children:"Need access?"}),n.jsx("p",{children:"Contact your system administrator to request caregiver permissions."})]})]})}),n.jsx(E,{onClick:()=>window.location.href="/",className:"w-full",variant:"outline",children:"Return to Dashboard"})]})})})})}var XF=["PageUp","PageDown"],ZF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],JF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Od="Slider",[ob,Kne,Qne]=ax(Od),[eO,Fhe]=Fn(Od,[Qne]),[Yne,Rx]=eO(Od),tO=v.forwardRef((e,t)=>{const{name:s,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:h,onValueChange:u=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:j,...x}=e,g=v.useRef(new Set),p=v.useRef(0),b=o==="horizontal"?Xne:Zne,[w=[],C]=_i({prop:h,defaultProp:d,onChange:P=>{var X;(X=[...g.current][p.current])==null||X.focus(),u(P)}}),N=v.useRef(w);function S(P){const M=nre(w,P);D(P,M)}function k(P){D(P,p.current)}function T(){const P=N.current[p.current];w[p.current]!==P&&m(w)}function D(P,M,{commit:X}={commit:!1}){const ee=ore(a),F=lre(Math.round((P-r)/a)*a+r,ee),re=mh(F,[r,i]);C((fe=[])=>{const H=tre(fe,re,M);if(are(H,c*a)){p.current=H.indexOf(re);const $=String(H)!==String(fe);return $&&X&&m(H),$?H:fe}else return fe})}return n.jsx(Yne,{scope:e.__scopeSlider,name:s,disabled:l,min:r,max:i,valueIndexToChangeRef:p,thumbs:g.current,values:w,orientation:o,form:j,children:n.jsx(ob.Provider,{scope:e.__scopeSlider,children:n.jsx(ob.Slot,{scope:e.__scopeSlider,children:n.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:Fe(x.onPointerDown,()=>{l||(N.current=w)}),min:r,max:i,inverted:f,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&D(r,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,w.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const F=XF.includes(P.key)||P.shiftKey&&ZF.includes(P.key)?10:1,re=p.current,fe=w[re],H=a*F*M;D(fe+H,re,{commit:!0})}}})})})})});tO.displayName=Od;var[sO,nO]=eO(Od,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xne=v.forwardRef((e,t)=>{const{min:s,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,[u,m]=v.useState(null),f=xt(t,b=>m(b)),j=v.useRef(void 0),x=bm(i),g=x==="ltr",p=g&&!a||!g&&a;function y(b){const w=j.current||u.getBoundingClientRect(),C=[0,w.width],S=uN(C,p?[s,r]:[r,s]);return j.current=w,S(b-w.left)}return n.jsx(sO,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:n.jsx(rO,{dir:x,"data-orientation":"horizontal",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=y(b.clientX);o==null||o(w)},onSlideMove:b=>{const w=y(b.clientX);l==null||l(w)},onSlideEnd:()=>{j.current=void 0,c==null||c()},onStepKeyDown:b=>{const C=JF[p?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:C?-1:1})}})})}),Zne=v.forwardRef((e,t)=>{const{min:s,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,h=v.useRef(null),u=xt(t,h),m=v.useRef(void 0),f=!i;function j(x){const g=m.current||h.current.getBoundingClientRect(),p=[0,g.height],b=uN(p,f?[r,s]:[s,r]);return m.current=g,b(x-g.top)}return n.jsx(sO,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:n.jsx(rO,{"data-orientation":"vertical",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=j(x.clientY);a==null||a(g)},onSlideMove:x=>{const g=j(x.clientY);o==null||o(g)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const p=JF[f?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:p?-1:1})}})})}),rO=v.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=Rx(Od,s);return n.jsx(Ve.span,{...d,ref:t,onKeyDown:Fe(e.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):XF.concat(ZF).includes(u.key)&&(c(u),u.preventDefault())}),onPointerDown:Fe(e.onPointerDown,u=>{const m=u.target;m.setPointerCapture(u.pointerId),u.preventDefault(),h.thumbs.has(m)?m.focus():r(u)}),onPointerMove:Fe(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Fe(e.onPointerUp,u=>{const m=u.target;m.hasPointerCapture(u.pointerId)&&(m.releasePointerCapture(u.pointerId),a(u))})})}),iO="SliderTrack",aO=v.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,i=Rx(iO,s);return n.jsx(Ve.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});aO.displayName=iO;var lb="SliderRange",oO=v.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,i=Rx(lb,s),a=nO(lb,s),o=v.useRef(null),l=xt(t,o),c=i.values.length,d=i.values.map(m=>cO(m,i.min,i.max)),h=c>1?Math.min(...d):0,u=100-Math.max(...d);return n.jsx(Ve.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:u+"%"}})});oO.displayName=lb;var cb="SliderThumb",lO=v.forwardRef((e,t)=>{const s=Kne(e.__scopeSlider),[r,i]=v.useState(null),a=xt(t,l=>i(l)),o=v.useMemo(()=>r?s().findIndex(l=>l.ref.current===r):-1,[s,r]);return n.jsx(Jne,{...e,ref:a,index:o})}),Jne=v.forwardRef((e,t)=>{const{__scopeSlider:s,index:r,name:i,...a}=e,o=Rx(cb,s),l=nO(cb,s),[c,d]=v.useState(null),h=xt(t,y=>d(y)),u=c?o.form||!!c.closest("form"):!0,m=Jg(c),f=o.values[r],j=f===void 0?0:cO(f,o.min,o.max),x=sre(r,o.values.length),g=m==null?void 0:m[l.size],p=g?rre(g,j,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${p}px)`},children:[n.jsx(ob.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Ve.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:f===void 0?{display:"none"}:e.style,onFocus:Fe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&n.jsx(ere,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});lO.displayName=cb;var ere=e=>{const{value:t,...s}=e,r=v.useRef(null),i=Cx(t);return v.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&c){const d=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[i,t]),n.jsx("input",{style:{display:"none"},...s,ref:r,defaultValue:t})};function tre(e=[],t,s){const r=[...e];return r[s]=t,r.sort((i,a)=>i-a)}function cO(e,t,s){const a=100/(s-t)*(e-t);return mh(a,[0,100])}function sre(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nre(e,t){if(e.length===1)return 0;const s=e.map(i=>Math.abs(i-t)),r=Math.min(...s);return s.indexOf(r)}function rre(e,t,s){const r=e/2,a=uN([0,50],[0,r]);return(r-a(t)*s)*s}function ire(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function are(e,t){if(t>0){const s=ire(e);return Math.min(...s)>=t}return!0}function uN(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function ore(e){return(String(e).split(".")[1]||"").length}function lre(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var dO=tO,cre=aO,dre=oO,ure=lO;const db=v.forwardRef(({className:e,...t},s)=>n.jsxs(dO,{ref:s,className:Le("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(cre,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(dre,{className:"absolute h-full bg-primary"})}),n.jsx(ure,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));db.displayName=dO.displayName;function hre(){const{toast:e}=dt(),[t,s]=v.useState({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0});xe({queryKey:["/api/user"]});const r={locationTracking:{isLocked:!0,lockedBy:"Mom (Primary Caregiver)",reason:"Safety - Elopement Risk"},emergencyAlerts:{isLocked:!0,lockedBy:"Dr. Sarah Johnson",reason:"Medical Supervision Required"},caregiverAccess:{isLocked:!1,lockedBy:"",reason:""},medicalDataSharing:{isLocked:!0,lockedBy:"Case Manager",reason:"Treatment Coordination"},automaticCheckIns:{isLocked:!1,lockedBy:"",reason:""}},i=()=>{localStorage.setItem("user-settings",JSON.stringify(t)),e({title:"Settings Saved",description:"Your preferences have been saved successfully."})},a=()=>{s({theme:"light",fontSize:16,highContrast:!1,voiceEnabled:!0,voiceSpeed:1,notificationsEnabled:!0,reminderTiming:"15",quickActionsEnabled:!0,premiumFeatures:!1,autoSave:!0,privacyMode:!1,locationTracking:!0,emergencyAlerts:!0,caregiverAccess:!0,medicalDataSharing:!0,automaticCheckIns:!0}),e({title:"Settings Reset",description:"All settings have been reset to defaults."})},o=(c,d)=>{var h,u;if((h=r[c])!=null&&h.isLocked){e({title:"Setting Locked",description:`This setting has been locked by ${(u=r[c])==null?void 0:u.lockedBy} for your safety and wellbeing.`,variant:"destructive"});return}s(m=>({...m,[c]:d}))},l=(c,d,h,u,m)=>{const f=r[c],j=f==null?void 0:f.isLocked;return n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${u&&!j?"bg-white border-green-400 shadow-md":j?"bg-gray-100 border-gray-400 opacity-75":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:c,className:"flex items-center gap-2",children:[h,d,u&&!j&&n.jsx(he,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"}),j&&n.jsx(K5,{children:n.jsxs(Iz,{children:[n.jsx(Rz,{children:n.jsxs(he,{variant:"secondary",className:"ml-2 text-xs",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"LOCKED"]})}),n.jsx(Q5,{children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Locked by: ",f==null?void 0:f.lockedBy]}),n.jsx("div",{className:"text-muted-foreground",children:f==null?void 0:f.reason})]})})]})})]}),n.jsx(Ls,{id:c,checked:u,onCheckedChange:m,disabled:j,className:`scale-125 ${j?"opacity-60 cursor-not-allowed bg-gray-400":u?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]})};return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[n.jsx(ca,{className:"w-8 h-8 text-purple-600"}),"Settings & Customization"]}),n.jsx("p",{className:"text-gray-600",children:"Personalize your AdaptaLyfe experience with accessibility options, themes, and feature preferences."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(bD,{className:"w-5 h-5 text-blue-600"}),"Appearance"]}),n.jsx(at,{children:"Customize the look and feel of your dashboard"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"theme",children:"Theme"}),n.jsxs(Ge,{value:t.theme,onValueChange:c=>o("theme",c),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"light",children:"Light"}),n.jsx(B,{value:"dark",children:"Dark"}),n.jsx(B,{value:"auto",children:"Auto"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{children:["Font Size: ",t.fontSize,"px"]}),n.jsx(db,{value:[t.fontSize],onValueChange:c=>o("fontSize",c[0]),min:12,max:24,step:1,className:"w-full"})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.highContrast?"bg-yellow-100 border-yellow-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"high-contrast",className:"flex items-center gap-2",children:[n.jsx(pm,{className:`w-4 h-4 ${t.highContrast?"text-yellow-600":"text-gray-400"}`}),"High Contrast Mode",t.highContrast&&n.jsx(he,{variant:"secondary",className:"bg-yellow-200 text-yellow-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"high-contrast",checked:t.highContrast,onCheckedChange:c=>o("highContrast",c),className:`scale-125 ${t.highContrast?"data-[state=checked]:bg-yellow-600 shadow-lg shadow-yellow-200":"bg-gray-300 opacity-60"}`})]})]})]}),n.jsxs(L,{className:"border-red-200 bg-red-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-red-600"}),"Safety & Emergency Settings"]}),n.jsx(at,{children:"Critical safety features managed by your care team"})]}),n.jsxs(V,{className:"space-y-6",children:[l("locationTracking","Location Tracking",n.jsx(Zs,{className:"w-4 h-4 text-red-500"}),t.locationTracking,()=>o("locationTracking",!t.locationTracking)),l("emergencyAlerts","Emergency Alerts",n.jsx(Jt,{className:"w-4 h-4 text-red-500"}),t.emergencyAlerts,()=>o("emergencyAlerts",!t.emergencyAlerts)),l("automaticCheckIns","Automatic Check-ins",n.jsx(lt,{className:"w-4 h-4 text-red-500"}),t.automaticCheckIns,()=>o("automaticCheckIns",!t.automaticCheckIns))]})]}),n.jsxs(L,{className:"border-purple-200 bg-purple-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-purple-600"}),"Privacy & Caregiver Access"]}),n.jsx(at,{children:"Control what information caregivers can access"})]}),n.jsxs(V,{className:"space-y-6",children:[l("medicalDataSharing","Medical Data Sharing",n.jsx(lt,{className:"w-4 h-4 text-purple-500"}),t.medicalDataSharing,()=>o("medicalDataSharing",!t.medicalDataSharing)),l("caregiverAccess","Caregiver Dashboard Access",n.jsx(bs,{className:"w-4 h-4 text-purple-500"}),t.caregiverAccess,()=>o("caregiverAccess",!t.caregiverAccess)),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Wa,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"font-medium text-sm",children:"Why are some settings locked?"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Your caregivers have locked certain safety-critical settings to ensure your wellbeing. This is especially important for individuals who may be at risk of wandering or have medical conditions requiring supervision."})]})]})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"w-5 h-5 text-green-600"}),"Voice & Audio"]}),n.jsx(at,{children:"Configure speech and audio preferences"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.voiceEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"voice-enabled",className:"flex items-center gap-2",children:[n.jsx(dl,{className:`w-4 h-4 ${t.voiceEnabled?"text-green-600":"text-gray-400"}`}),"Enable Voice Commands",t.voiceEnabled&&n.jsx(he,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"voice-enabled",checked:t.voiceEnabled,onCheckedChange:c=>o("voiceEnabled",c),className:`scale-125 ${t.voiceEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(de,{children:["Voice Speed: ",t.voiceSpeed,"x"]}),n.jsx(db,{value:[t.voiceSpeed],onValueChange:c=>o("voiceSpeed",c[0]),min:.5,max:2,step:.1,className:"w-full"})]}),n.jsx(E,{onClick:()=>{if("speechSynthesis"in window){const c=new SpeechSynthesisUtterance("This is a test of the voice settings at the current speed.");c.rate=t.voiceSpeed,speechSynthesis.speak(c)}},variant:"outline",className:"w-full",children:"Test Voice Settings"})]})]}),n.jsxs(L,{className:"border-orange-200 bg-orange-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(E0,{className:"w-5 h-5 text-orange-600"}),"Notifications"]}),n.jsx(at,{children:"Manage alerts and reminders"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.notificationsEnabled?"bg-green-100 border-green-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"notifications",className:"flex items-center gap-2",children:[n.jsx(E0,{className:`w-4 h-4 ${t.notificationsEnabled?"text-green-600":"text-gray-400"}`}),"Enable Notifications",t.notificationsEnabled&&n.jsx(he,{variant:"secondary",className:"bg-green-200 text-green-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"notifications",checked:t.notificationsEnabled,onCheckedChange:c=>o("notificationsEnabled",c),className:`scale-125 ${t.notificationsEnabled?"data-[state=checked]:bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"reminder-timing",children:"Default Reminder Time"}),n.jsxs(Ge,{value:t.reminderTiming,onValueChange:c=>o("reminderTiming",c),children:[n.jsx(He,{children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsx(B,{value:"5",children:"5 minutes before"}),n.jsx(B,{value:"15",children:"15 minutes before"}),n.jsx(B,{value:"30",children:"30 minutes before"}),n.jsx(B,{value:"60",children:"1 hour before"})]})]})]})]})]}),n.jsxs(L,{className:"border-indigo-200 bg-indigo-50",children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-5 h-5 text-indigo-600"}),"Features"]}),n.jsx(at,{children:"Enable or disable specific features"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.quickActionsEnabled?"bg-blue-100 border-blue-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"quick-actions",className:"flex items-center gap-2",children:[n.jsx(da,{className:`w-4 h-4 ${t.quickActionsEnabled?"text-blue-600":"text-gray-400"}`}),"Quick Actions Bar",t.quickActionsEnabled&&n.jsx(he,{variant:"secondary",className:"bg-blue-200 text-blue-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"quick-actions",checked:t.quickActionsEnabled,onCheckedChange:c=>o("quickActionsEnabled",c),className:`scale-125 ${t.quickActionsEnabled?"data-[state=checked]:bg-blue-600 shadow-lg shadow-blue-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.premiumFeatures?"bg-purple-100 border-purple-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"premium-features",className:"flex items-center gap-2",children:[n.jsx(qt,{className:`w-4 h-4 ${t.premiumFeatures?"text-purple-600":"text-gray-400"}`}),"Premium Features",t.premiumFeatures&&n.jsx(he,{variant:"secondary",className:"bg-purple-200 text-purple-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"premium-features",checked:t.premiumFeatures,onCheckedChange:c=>o("premiumFeatures",c),className:`scale-125 ${t.premiumFeatures?"data-[state=checked]:bg-purple-600 shadow-lg shadow-purple-200":"bg-gray-300 opacity-60"}`})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.autoSave?"bg-emerald-100 border-emerald-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"auto-save",className:"flex items-center gap-2",children:[n.jsx(bS,{className:`w-4 h-4 ${t.autoSave?"text-emerald-600":"text-gray-400"}`}),"Auto-save Changes",t.autoSave&&n.jsx(he,{variant:"secondary",className:"bg-emerald-200 text-emerald-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"auto-save",checked:t.autoSave,onCheckedChange:c=>o("autoSave",c),className:`scale-125 ${t.autoSave?"data-[state=checked]:bg-emerald-600 shadow-lg shadow-emerald-200":"bg-gray-300 opacity-60"}`})]})]})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-red-600"}),"Privacy & Security"]}),n.jsx(at,{children:"Control your privacy and data settings"})]}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${t.privacyMode?"bg-red-100 border-red-300 shadow-md":"bg-white border-gray-300 opacity-75"}`,children:[n.jsxs(de,{htmlFor:"privacy-mode",className:"flex items-center gap-2",children:[n.jsx(os,{className:`w-4 h-4 ${t.privacyMode?"text-red-600":"text-gray-400"}`}),"Privacy Mode",t.privacyMode&&n.jsx(he,{variant:"secondary",className:"bg-red-200 text-red-900 text-xs font-bold px-2 py-1",children:"ACTIVE"})]}),n.jsx(Ls,{id:"privacy-mode",checked:t.privacyMode,onCheckedChange:c=>o("privacyMode",c),className:`scale-125 ${t.privacyMode?"data-[state=checked]:bg-red-600 shadow-lg shadow-red-200":"bg-gray-300 opacity-60"}`})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Privacy mode hides sensitive information in screenshots and when screen sharing."}),n.jsxs(E,{variant:"outline",className:"w-full",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"View Privacy Policy"]})]})]}),n.jsxs(L,{children:[n.jsxs(le,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Wa,{className:"w-5 h-5 text-purple-600"}),"Help & Support"]}),n.jsx(at,{children:"Get help and learn about features"})]}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"View User Guide"]}),n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),"Accessibility Tutorial"]}),n.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[n.jsx(qt,{className:"w-4 h-4 mr-2"}),"Feature Walkthrough"]})]})]})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsxs(E,{onClick:a,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(wD,{className:"w-4 h-4"}),"Reset to Defaults"]}),n.jsxs(E,{onClick:i,className:"flex items-center gap-2",children:[n.jsx(bS,{className:"w-4 h-4"}),"Save Settings"]})]})]})}function mre(){const{isPremiumUser:e}=Fi();if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(fa,{title:"Calendar & Scheduling",description:"View and manage all your appointments, tasks, and events in one integrated calendar. Subscribe to continue using Adaptalyfe's scheduling features.",feature:"calendar",requiredPlan:"premium",className:"max-w-md mx-auto mt-20"})});const[t,s]=v.useState(new Date("2025-07-08")),[r,i]=v.useState("month"),[a,o]=v.useState(!1),[l,c]=v.useState({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15}),d=Yt(),{data:h=[]}=xe({queryKey:["/api/daily-tasks"]}),{data:u=[]}=xe({queryKey:["/api/bills"]}),{data:m=[]}=xe({queryKey:["/api/appointments"]}),{data:f=[]}=xe({queryKey:["/api/mood-entries"]}),{data:j=[]}=xe({queryKey:["/api/calendar-events"]}),x=Ce({mutationFn:async S=>{let k;if(l.allDay)k=`${S.startDate}T00:00:00`;else{const P=S.startTime||"12:00";k=`${S.startDate}T${P}:00`}let T=null;S.endDate&&S.endTime&&(T=`${S.endDate}T${S.endTime}:00`);const D={title:S.title,description:S.description||"",startDate:k,endDate:T,allDay:S.allDay,category:S.category,color:S.color,location:S.location||"",reminderMinutes:S.reminderMinutes||15};return console.log("Creating calendar event with payload:",D),ye("POST","/api/calendar-events",D)},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/calendar-events"]}),o(!1),c({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,category:"personal",color:"#3b82f6",location:"",reminderMinutes:15})}}),g=S=>{const k=new Date(t);r==="month"?k.setMonth(k.getMonth()+(S==="next"?1:-1)):r==="week"?k.setDate(k.getDate()+(S==="next"?7:-7)):k.setDate(k.getDate()+(S==="next"?1:-1)),s(k)},p=()=>{!l.title.trim()||!l.startDate||x.mutate(l)},y=S=>{const k=S.toISOString().split("T")[0],T=[];j.forEach(M=>{if(M.startDate.split("T")[0]===k){let ee=null;M.allDay||(ee=new Date(M.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),T.push({id:`event-${M.id}`,type:"event",title:M.title,time:ee,completed:M.isCompleted,category:M.category,icon:Ht,color:M.isCompleted?"text-green-600":"text-blue-600",location:M.location})}}),h.forEach(M=>{(M.frequency==="daily"||!M.frequency)&&T.push({id:`task-${M.id}`,type:"task",title:M.title,time:null,completed:M.isCompleted,category:M.category||"daily",icon:M.isCompleted?$t:mc,color:M.isCompleted?"text-green-600":"text-blue-600"})}),h.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`scheduled-task-${M.id}`,type:"task",title:M.title,time:M.dueDate?new Date(M.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,completed:M.isCompleted,category:M.frequency||"scheduled",icon:M.isCompleted?$t:Jt,color:M.isCompleted?"text-green-600":"text-orange-600"})}),u.forEach(M=>{M.dueDate&&new Date(M.dueDate).toISOString().split("T")[0]===k&&T.push({id:`bill-${M.id}`,type:"bill",title:`${M.name} - $${M.amount}`,time:null,completed:M.isPaid,category:"financial",icon:Pi,color:M.isPaid?"text-green-600":"text-red-600"})}),m.filter(M=>new Date(M.appointmentDate).toISOString().split("T")[0]===k).forEach(M=>{T.push({id:`appointment-${M.id}`,type:"appointment",title:M.title,time:new Date(M.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),completed:M.isCompleted,category:M.provider||"appointment",icon:Ht,color:M.isCompleted?"text-green-600":"text-purple-600"})});const P=f.find(M=>M.entryDate?new Date(M.entryDate).toISOString().split("T")[0]===k:!1);if(P){const M=["","","","",""];T.push({id:`mood-${P.id}`,type:"mood",title:`Mood: ${M[P.mood-1]}`,time:null,completed:!0,category:"wellness",icon:lt,color:"text-pink-600"})}return T.sort((M,X)=>{const ee=M.time||"",F=X.time||"";return typeof ee=="string"&&typeof F=="string"?ee.localeCompare(F):ee&&!F?-1:!ee&&F?1:0})},b=()=>{const S=new Date(t.getFullYear(),t.getMonth(),1);new Date(t.getFullYear(),t.getMonth()+1,0);const k=new Date(S);k.setDate(k.getDate()-S.getDay());const T=[],D=new Date(k);for(let P=0;P<42;P++){const M=y(D),X=D.getMonth()===t.getMonth(),ee=D.toDateString()===new Date().toDateString(),F=new Date(D);T.push(n.jsxs("div",{className:`min-h-36 p-3 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${X?"bg-white":"bg-gray-50"} ${ee?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>{s(F),i("day")},title:`Click to view ${M.length} events for ${F.toLocaleDateString()}`,children:[n.jsx("div",{className:`text-lg font-bold mb-3 ${X?"text-gray-900":"text-gray-400"} ${ee?"text-blue-700":""}`,children:D.getDate()}),n.jsxs("div",{className:"space-y-1.5",children:[M.slice(0,3).map(re=>n.jsxs("div",{onClick:fe=>{fe.stopPropagation(),re.type==="event"&&(s(F),i("day"))},className:`text-xs px-2 py-1 rounded-md font-medium cursor-pointer hover:shadow-sm transition-all duration-200 border-l-2 ${re.type==="task"?"bg-blue-50 text-blue-800 border-blue-400 hover:bg-blue-100":re.type==="bill"?"bg-red-50 text-red-800 border-red-400 hover:bg-red-100":re.type==="appointment"?"bg-purple-50 text-purple-800 border-purple-400 hover:bg-purple-100":re.type==="event"?"bg-indigo-50 text-indigo-800 border-indigo-400 hover:bg-indigo-100":"bg-pink-50 text-pink-800 border-pink-400 hover:bg-pink-100"}`,title:`${re.title}${re.time?` at ${re.time}`:""}${re.location?` - ${re.location}`:""}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"truncate flex-1",children:re.title}),re.time&&n.jsx("div",{className:"ml-1 text-xs opacity-70 font-normal",children:re.time})]}),re.completed&&n.jsx("div",{className:"text-xs opacity-60 mt-0.5",children:" Completed"})]},re.id)),M.length>3&&n.jsxs("div",{className:"text-xs text-gray-500 font-semibold bg-gray-100 px-2 py-1 rounded-md text-center",children:["+",M.length-3," more events"]})]})]},P)),D.setDate(D.getDate()+1)}return n.jsxs("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>n.jsx("div",{className:"bg-gray-100 p-3 text-center font-semibold text-gray-700 border-b border-gray-200",children:P},P)),T]})},w=()=>{const S=new Date(t);S.setDate(t.getDate()-t.getDay());const k=[];for(let T=0;T<7;T++){const D=new Date(S);D.setDate(S.getDate()+T),k.push(D)}return n.jsxs("div",{className:"bg-white rounded-lg border max-w-4xl mx-auto",children:[n.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:["Week of ",S.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[S.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",(()=>{const T=new Date(S);return T.setDate(S.getDate()+6),T.toLocaleDateString("en-US",{month:"short",day:"numeric"})})()]})]}),n.jsx("div",{className:"space-y-1",children:k.map(T=>{const D=y(T),P=T.toDateString()===new Date().toDateString();return n.jsx("div",{className:`border-b last:border-b-0 ${P?"bg-blue-50":"hover:bg-gray-50"} transition-colors`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:`text-center ${P?"text-blue-700":"text-gray-900"}`,children:[n.jsx("div",{className:"text-2xl font-bold",children:T.getDate()}),n.jsx("div",{className:"text-xs font-medium",children:T.toLocaleDateString("en-US",{month:"short"})})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-lg font-bold ${P?"text-blue-700":"text-gray-900"}`,children:T.toLocaleDateString("en-US",{weekday:"long"})}),n.jsxs("div",{className:"text-sm text-gray-500",children:[D.length," ",D.length===1?"event":"events"," scheduled"]})]})]}),P&&n.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Today"})]}),D.length>0?n.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:D.map(M=>n.jsxs("div",{onClick:()=>{M.type==="event"&&(s(T),i("day"))},className:`p-4 rounded-lg text-white font-medium cursor-pointer hover:opacity-90 transition-all hover:scale-105 shadow-sm border-l-4 ${M.type==="task"?"bg-blue-600 border-blue-400":M.type==="bill"?"bg-red-600 border-red-400":M.type==="appointment"?"bg-purple-600 border-purple-400":M.type==="event"?"bg-indigo-600 border-indigo-400":"bg-pink-600 border-pink-400"}`,title:`${M.title}${M.time?` at ${M.time}`:""}${M.location?` - ${M.location}`:""}`,children:[n.jsx("div",{className:"font-bold mb-2 leading-tight",children:M.title}),n.jsxs("div",{className:"space-y-1",children:[M.time&&n.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[n.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:M.time})]}),M.location&&n.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:M.location})]})]}),n.jsx("div",{className:"text-xs opacity-75 mt-2 capitalize",children:M.type==="task"?"Daily Task":M.type==="bill"?"Bill Due":M.type==="appointment"?"Appointment":M.type==="event"?"Event":"Other"})]},M.id))}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("div",{className:"text-sm font-medium",children:"No events scheduled"}),n.jsx("div",{className:"text-xs mt-1",children:"Free day to relax!"})]})]})},T.toISOString())})})]})},C=()=>{const S=y(t),k=t.toDateString()===new Date().toDateString();return n.jsxs(L,{className:k?"ring-2 ring-blue-500":"",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5"}),t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),n.jsx(V,{className:"space-y-4",children:S.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No events scheduled for this day"}):S.map(T=>n.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx(T.icon,{className:`w-5 h-5 ${T.color}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:T.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.time&&n.jsxs(he,{variant:"outline",className:"text-xs",children:[n.jsx(ws,{className:"w-3 h-3 mr-1"}),T.time]}),n.jsx(he,{variant:"secondary",className:"text-xs",children:T.category}),T.completed&&n.jsx(he,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})]},T.id))})]})},N=()=>{if(r==="month")return t.toLocaleDateString("en-US",{year:"numeric",month:"long"});if(r==="week"){const S=new Date(t);S.setDate(t.getDate()-t.getDay());const k=new Date(S);return k.setDate(S.getDate()+6),`${S.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(Ht,{className:"w-8 h-8 text-blue-600"}),"Calendar"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Event"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Event"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{placeholder:"Event title",value:l.title,onChange:S=>c({...l,title:S.target.value})}),n.jsx(ot,{placeholder:"Description (optional)",value:l.description,onChange:S=>c({...l,description:S.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),n.jsx(q,{type:"date",value:l.startDate,onChange:S=>c({...l,startDate:S.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),n.jsx(q,{type:"time",disabled:l.allDay,value:l.startTime,onChange:S=>c({...l,startTime:S.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ci,{checked:l.allDay,onCheckedChange:S=>c({...l,allDay:!!S})}),n.jsx("label",{className:"text-sm font-medium",children:"All Day Event"})]}),n.jsxs(Ge,{value:l.category,onValueChange:S=>c({...l,category:S}),children:[n.jsx(He,{children:n.jsx(Ke,{placeholder:"Category"})}),n.jsxs(We,{children:[n.jsx(B,{value:"personal",children:"Personal"}),n.jsx(B,{value:"work",children:"Work"}),n.jsx(B,{value:"health",children:"Health"}),n.jsx(B,{value:"social",children:"Social"}),n.jsx(B,{value:"education",children:"Education"})]})]}),n.jsx(q,{placeholder:"Location (optional)",value:l.location,onChange:S=>c({...l,location:S.target.value})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{onClick:p,disabled:x.isPending,className:"flex-1 bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:x.isPending?"Creating...":"Create Event"}),n.jsx(E,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]}),n.jsx(E,{onClick:()=>s(new Date),variant:"outline",children:"Today"})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(E,{onClick:()=>g("prev"),variant:"outline",size:"sm",children:n.jsx(u9,{className:"w-4 h-4"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:N()}),n.jsx(E,{onClick:()=>g("next"),variant:"outline",size:"sm",children:n.jsx(h9,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"flex gap-1 border border-gray-300 rounded-lg overflow-hidden min-w-fit",children:[n.jsx("button",{onClick:()=>i("month"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="month"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Month"}),n.jsx("button",{onClick:()=>i("week"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap border-l border-r border-gray-300 transition-all ${r==="week"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Week"}),n.jsx("button",{onClick:()=>i("day"),className:`px-6 sm:px-8 py-3 font-semibold min-w-[90px] sm:min-w-[100px] whitespace-nowrap transition-all ${r==="day"?"bg-blue-600 text-white":"bg-white text-gray-800 hover:bg-gray-50"}`,children:"Day"})]})})]}),n.jsxs("div",{className:"mb-6",children:[r==="month"&&b(),r==="week"&&w(),r==="day"&&C()]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{className:"text-lg",children:"Legend"})}),n.jsx(V,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mc,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm",children:"Daily Tasks"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pi,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-sm",children:"Bills"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-sm",children:"Appointments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"w-4 h-4 text-pink-600"}),n.jsx("span",{className:"text-sm",children:"Mood Check-ins"})]})]})})]})]})}function pre(){const[e,t]=v.useState("all"),s=[{id:"smart-notifications",title:"Smart Notifications",description:"Intelligent reminder system with priority levels and customizable scheduling",icon:E0,status:"integrated",category:"core"},{id:"achievement-system",title:"Achievement System",description:"Gamification features with points, levels, and progress tracking",icon:qt,status:"integrated",category:"motivation"},{id:"voice-commands",title:"Voice Commands",description:"Hands-free navigation and task management with speech recognition",icon:dl,status:"integrated",category:"accessibility"},{id:"dashboard-insights",title:"Dashboard Insights",description:"AI-powered personalized recommendations and behavior analysis",icon:da,status:"integrated",category:"ai"},{id:"enhanced-communication",title:"Enhanced Communication",description:"Improved messaging with emoji reactions and quick responses",icon:Wa,status:"integrated",category:"communication"},{id:"personalization-engine",title:"Personalization Engine",description:"Adaptive UI themes and AI-powered customization based on usage patterns",icon:ca,status:"integrated",category:"customization"},{id:"ai-coach",title:"AI Life Skills Coach",description:"Personalized guidance and real-time support for daily challenges",icon:mr,status:"premium",category:"ai"},{id:"progress-photos",title:"Visual Progress Journals",description:"Photo documentation of achievements and daily accomplishments",icon:rh,status:"premium",category:"tracking"},{id:"advanced-analytics",title:"Advanced Analytics & Insights",description:"Detailed progress reports and behavioral pattern analysis",icon:sw,status:"premium",category:"analytics"},{id:"skill-challenges",title:"Interactive Skill Challenges",description:"Gamified learning experiences with custom difficulty levels",icon:Us,status:"premium",category:"learning"},{id:"smart-reminders",title:"Smart Location-Based Reminders",description:"GPS-triggered alerts for medications, tasks, and appointments",icon:Df,status:"premium",category:"location"},{id:"offline-mode",title:"Offline Mode & Sync",description:"Full app functionality without internet, auto-sync when connected",icon:ol,status:"premium",category:"reliability"},{id:"custom-templates",title:"Custom Task Templates",description:"Create and share personalized task sequences and routines",icon:Hr,status:"premium",category:"customization"},{id:"health-integration",title:"Health Data Integration",description:"Connect with Apple Health, Google Fit, and medical devices",icon:lt,status:"premium",category:"health"}],r=[{id:"all",name:"All Features",count:s.length},{id:"core",name:"Core Features",count:s.filter(c=>c.category==="core").length},{id:"ai",name:"AI Enhanced",count:s.filter(c=>c.category==="ai").length},{id:"accessibility",name:"Accessibility",count:s.filter(c=>c.category==="accessibility").length},{id:"motivation",name:"Motivation",count:s.filter(c=>c.category==="motivation").length},{id:"communication",name:"Communication",count:s.filter(c=>c.category==="communication").length},{id:"customization",name:"Customization",count:s.filter(c=>c.category==="customization").length},{id:"tracking",name:"Progress Tracking",count:s.filter(c=>c.category==="tracking").length},{id:"learning",name:"Learning",count:s.filter(c=>c.category==="learning").length},{id:"health",name:"Health & Wellness",count:s.filter(c=>c.category==="health").length}],i=e==="all"?s:s.filter(c=>c.category===e),a=c=>{switch(c){case"integrated":return"text-green-600 bg-green-100 border-green-300";case"premium":return"text-purple-600 bg-purple-100 border-purple-300";case"coming-soon":return"text-blue-600 bg-blue-100 border-blue-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},o=c=>{switch(c){case"integrated":return n.jsx(ih,{className:"w-3 h-3"});case"premium":return n.jsx(Rr,{className:"w-3 h-3"});case"coming-soon":return n.jsx(dd,{className:"w-3 h-3"});default:return null}},l=c=>{switch(c){case"integrated":return"Available Now";case"premium":return"Premium Feature";case"coming-soon":return"Coming Soon";default:return"Unknown"}};return n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Adaptalyfe Features"}),n.jsx("p",{className:"text-muted-foreground",children:"Discover all the tools and features available to help you achieve independence and build life skills"})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(c=>n.jsxs(E,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"text-sm",children:[c.name,n.jsx(he,{variant:"secondary",className:"ml-2 text-xs",children:c.count})]},c.id))})}),n.jsx("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(c=>{const d=c.icon;return n.jsxs(L,{className:"h-full hover:shadow-lg transition-shadow",children:[n.jsxs(le,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(d,{className:"w-5 h-5 text-blue-600"})}),n.jsx(he,{variant:"outline",className:`text-xs font-medium px-2 py-1 ${a(c.status)}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:[o(c.status),l(c.status)]})})]}),n.jsx(ce,{className:"text-lg",children:c.title})]}),n.jsxs(V,{children:[n.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:c.description}),c.status==="premium"&&n.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:n.jsx("p",{className:"text-xs text-purple-700",children:"Upgrade to Premium to unlock this feature and gain access to advanced tools designed to enhance your independence journey."})})]})]},c.id)})}),i.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No features found in this category."})}),n.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[n.jsxs(L,{className:"border-green-200 bg-green-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-green-800 flex items-center gap-2",children:[n.jsx(ih,{className:"w-5 h-5"}),"Available Now"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:s.filter(c=>c.status==="integrated").length}),n.jsx("p",{className:"text-sm text-green-600",children:"Features ready to use"})]})]}),n.jsxs(L,{className:"border-purple-200 bg-purple-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-purple-800 flex items-center gap-2",children:[n.jsx(Rr,{className:"w-5 h-5"}),"Premium Features"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:s.filter(c=>c.status==="premium").length}),n.jsx("p",{className:"text-sm text-purple-600",children:"Advanced capabilities available"})]})]}),n.jsxs(L,{className:"border-blue-200 bg-blue-50",children:[n.jsx(le,{children:n.jsxs(ce,{className:"text-blue-800 flex items-center gap-2",children:[n.jsx(da,{className:"w-5 h-5"}),"Total Features"]})}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:s.length}),n.jsx("p",{className:"text-sm text-blue-600",children:"Tools to support your journey"})]})]})]})]})}var uO={exports:{}},fre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gre=fre,xre=gre;function hO(){}function mO(){}mO.resetWarningCache=hO;var yre=function(){function e(r,i,a,o,l,c){if(c!==xre){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mO,resetWarningCache:hO};return s.PropTypes=s,s};uO.exports=yre();var vre=uO.exports;const ns=Mi(vre);function mC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function pC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(s),!0).forEach(function(r){pO(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mC(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function Wp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(t){return typeof t}:Wp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function pO(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bre(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function jre(e,t){if(e==null)return{};var s=bre(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fO(e,t){return wre(e)||Nre(e,t)||Sre(e,t)||Cre()}function wre(e){if(Array.isArray(e))return e}function Nre(e,t){var s=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(s!=null){var r=[],i=!0,a=!1,o,l;try{for(s=s.call(e);!(i=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&s.return!=null&&s.return()}finally{if(a)throw l}}return r}}function Sre(e,t){if(e){if(typeof e=="string")return fC(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fC(e,t)}}function fC(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ln=function(t,s,r){var i=!!r,a=me.useRef(r);me.useEffect(function(){a.current=r},[r]),me.useEffect(function(){if(!i||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(s,o),function(){t.off(s,o)}},[i,s,t,a])},ub=function(t){var s=me.useRef(t);return me.useEffect(function(){s.current=t},[t]),s.current},jd=function(t){return t!==null&&Wp(t)==="object"},kre=function(t){return jd(t)&&typeof t.then=="function"},_re=function(t){return jd(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},gC="[object Object]",Tre=function e(t,s){if(!jd(t)||!jd(s))return t===s;var r=Array.isArray(t),i=Array.isArray(s);if(r!==i)return!1;var a=Object.prototype.toString.call(t)===gC,o=Object.prototype.toString.call(s)===gC;if(a!==o)return!1;if(!a&&!r)return t===s;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},h=0;h<l.length;h+=1)d[l[h]]=!0;for(var u=0;u<c.length;u+=1)d[c[u]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var f=t,j=s,x=function(p){return e(f[p],j[p])};return m.every(x)},gO=function(t,s,r){return jd(t)?Object.keys(t).reduce(function(i,a){var o=!jd(s)||!Tre(t[a],s[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?pC(pC({},i||{}),{},pO({},a,t[a])):i},null):null},xO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",xC=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xO;if(t===null||_re(t))return t;throw new Error(s)},Pre=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xO;if(kre(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return xC(i,s)})};var r=xC(t,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ere=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},Fx=me.createContext(null);Fx.displayName="ElementsContext";var yO=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},vO=function(t){var s=t.stripe,r=t.options,i=t.children,a=me.useMemo(function(){return Pre(s)},[s]),o=me.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=fO(o,2),c=l[0],d=l[1];me.useEffect(function(){var m=!0,f=function(x){d(function(g){return g.stripe?g:{stripe:x,elements:x.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(j){j&&m&&f(j)}):a.tag==="sync"&&!c.stripe&&f(a.stripe),function(){m=!1}},[a,c,r]);var h=ub(s);me.useEffect(function(){h!==null&&h!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,s]);var u=ub(r);return me.useEffect(function(){if(c.elements){var m=gO(r,u,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,u,c.elements]),me.useEffect(function(){Ere(c.stripe)},[c.stripe]),me.createElement(Fx.Provider,{value:c},i)};vO.propTypes={stripe:ns.any,options:ns.object};var Are=function(t){var s=me.useContext(Fx);return yO(s,t)},Dre=function(){var t=Are("calls useElements()"),s=t.elements;return s};ns.func.isRequired;var bO=me.createContext(null);bO.displayName="CheckoutSdkContext";var Mre=function(t,s){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CheckoutProvider> provider."));return t},Ire=me.createContext(null);Ire.displayName="CheckoutContext";ns.any,ns.shape({fetchClientSecret:ns.func.isRequired,elementsOptions:ns.object}).isRequired;var hb=function(t){var s=me.useContext(bO),r=me.useContext(Fx);if(s&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s?Mre(s,t):yO(r,t)},Rre=["mode"],Fre=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ss=function(t,s){var r="".concat(Fre(t),"Element"),i=function(c){var d=c.id,h=c.className,u=c.options,m=u===void 0?{}:u,f=c.onBlur,j=c.onFocus,x=c.onReady,g=c.onChange,p=c.onEscape,y=c.onClick,b=c.onLoadError,w=c.onLoaderStart,C=c.onNetworksChange,N=c.onConfirm,S=c.onCancel,k=c.onShippingAddressChange,T=c.onShippingRateChange,D=hb("mounts <".concat(r,">")),P="elements"in D?D.elements:null,M="checkoutSdk"in D?D.checkoutSdk:null,X=me.useState(null),ee=fO(X,2),F=ee[0],re=ee[1],fe=me.useRef(null),H=me.useRef(null);Ln(F,"blur",f),Ln(F,"focus",j),Ln(F,"escape",p),Ln(F,"click",y),Ln(F,"loaderror",b),Ln(F,"loaderstart",w),Ln(F,"networkschange",C),Ln(F,"confirm",N),Ln(F,"cancel",S),Ln(F,"shippingaddresschange",k),Ln(F,"shippingratechange",T),Ln(F,"change",g);var $;x&&(t==="expressCheckout"?$=x:$=function(){x(F)}),Ln(F,"ready",$),me.useLayoutEffect(function(){if(fe.current===null&&H.current!==null&&(P||M)){var be=null;if(M)switch(t){case"payment":be=M.createPaymentElement(m);break;case"address":if("mode"in m){var st=m.mode,_t=jre(m,Rre);if(st==="shipping")be=M.createShippingAddressElement(_t);else if(st==="billing")be=M.createBillingAddressElement(_t);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":be=M.createExpressCheckoutElement(m);break;case"currencySelector":be=M.createCurrencySelectorElement();break;case"taxId":be=M.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(be=P.create(t,m));fe.current=be,re(be),be&&be.mount(H.current)}},[P,M,m]);var oe=ub(m);return me.useEffect(function(){if(fe.current){var be=gO(m,oe,["paymentRequest"]);be&&"update"in fe.current&&fe.current.update(be)}},[m,oe]),me.useLayoutEffect(function(){return function(){if(fe.current&&typeof fe.current.destroy=="function")try{fe.current.destroy(),fe.current=null}catch{}}},[]),me.createElement("div",{id:d,className:h,ref:H})},a=function(c){hb("mounts <".concat(r,">"));var d=c.id,h=c.className;return me.createElement("div",{id:d,className:h})},o=s?a:i;return o.propTypes={id:ns.string,className:ns.string,onChange:ns.func,onBlur:ns.func,onFocus:ns.func,onReady:ns.func,onEscape:ns.func,onClick:ns.func,onLoadError:ns.func,onLoaderStart:ns.func,onNetworksChange:ns.func,onConfirm:ns.func,onCancel:ns.func,onShippingAddressChange:ns.func,onShippingRateChange:ns.func,options:ns.object},o.displayName=r,o.__elementType=t,o},Cs=typeof window>"u",Ore=me.createContext(null);Ore.displayName="EmbeddedCheckoutProviderContext";var Lre=function(){var t=hb("calls useStripe()"),s=t.stripe;return s};Ss("auBankAccount",Cs);Ss("card",Cs);Ss("cardNumber",Cs);Ss("cardExpiry",Cs);Ss("cardCvc",Cs);Ss("fpxBank",Cs);Ss("iban",Cs);Ss("idealBank",Cs);Ss("p24Bank",Cs);Ss("epsBank",Cs);var $re=Ss("payment",Cs);Ss("expressCheckout",Cs);Ss("currencySelector",Cs);Ss("paymentRequestButton",Cs);Ss("linkAuthentication",Cs);Ss("address",Cs);Ss("shippingAddress",Cs);Ss("paymentMethodMessaging",Cs);Ss("affirmMessage",Cs);Ss("afterpayClearpayMessage",Cs);Ss("taxId",Cs);var jO="basil",Ure=function(t){return t===3?"v3":t},wO="https://js.stripe.com",Bre="".concat(wO,"/").concat(jO,"/stripe.js"),zre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Vre=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,yC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qre=function(t){return zre.test(t)||Vre.test(t)},Hre=function(){for(var t=document.querySelectorAll('script[src^="'.concat(wO,'"]')),s=0;s<t.length;s++){var r=t[s];if(qre(r.src))return r}return null},vC=function(t){var s="",r=document.createElement("script");r.src="".concat(Bre).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Wre=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:s})},nu=null,lp=null,cp=null,Gre=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},Kre=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},Qre=function(t){return nu!==null?nu:(nu=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&t&&console.warn(yC),window.Stripe){s(window.Stripe);return}try{var i=Hre();if(i&&t)console.warn(yC);else if(!i)i=vC(t);else if(i&&cp!==null&&lp!==null){var a;i.removeEventListener("load",cp),i.removeEventListener("error",lp),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=vC(t)}cp=Kre(s,r),lp=Gre(r),i.addEventListener("load",cp),i.addEventListener("error",lp)}catch(o){r(o);return}}),nu.catch(function(s){return nu=null,Promise.reject(s)}))},Yre=function(t,s,r){if(t===null)return null;var i=s[0],a=i.match(/^pk_test/),o=Ure(t.version),l=jO;a&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,s);return Wre(c,r),c},ru,NO=!1,SO=function(){return ru||(ru=Qre(null).catch(function(t){return ru=null,Promise.reject(t)}),ru)};Promise.resolve().then(function(){return SO()}).catch(function(e){NO||console.warn(e)});var Xre=function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];NO=!0;var i=Date.now();return SO().then(function(a){return Yre(a,s,i)})};let Qy=null;const Zre=()=>(Qy||(Qy=Xre(" pk_live_51RkYzqJUhUgzM1cLBLWR7kHt0VFYxDr7G0CwnqMcH77aUDV0DrutudppgIJVhMTWUEFZmcjDVzRE1Pu80Owv3Ns2005JSBt3CB").catch(e=>(console.warn("Stripe failed to load:",e),null))),Qy);function Jre({children:e,clientSecret:t,onStripeLoadError:s}){const[r,i]=v.useState(null),[a,o]=v.useState(!0),[l,c]=v.useState(!1);if(v.useEffect(()=>{(async()=>{try{const u=await Zre();u?i(u):(c(!0),s==null||s())}catch(u){console.warn("Failed to load Stripe:",u),c(!0),s==null||s()}finally{o(!1)}})()},[s]),a)return n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})});if(l||!r)return n.jsxs("div",{className:"text-center p-8",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Payment system is temporarily unavailable."}),e]});const d=t?{clientSecret:t}:{};return n.jsx(vO,{stripe:r,options:d,children:e})}const fg={basic:{name:"Basic Plan",description:"Essential features for daily independence",price:{monthly:4.99,annual:49},features:["Daily task management","Basic mood tracking","Simple financial tracking","1 caregiver connection","Basic reminders","Email support"]},premium:{name:"Premium Plan",description:"Advanced features for enhanced independence",price:{monthly:12.99,annual:129},features:["Everything in Basic","Advanced analytics","Medication management","Up to 5 caregiver connections","Voice commands","Smart notifications","Meal planning","Academic planner","Priority support"],popular:!0},family:{name:"Family Plan",description:"Complete solution for families and care teams",price:{monthly:24.99,annual:249},features:["Everything in Premium","Unlimited caregiver connections","Family dashboard","Advanced safety features","Location tracking","Emergency protocols","Multi-user accounts","Custom reporting","Phone support"]}};function eie({planType:e,billingCycle:t,onSuccess:s}){var u;const r=Lre(),i=Dre(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),{toast:d}=dt();console.log("PaymentForm render:",{stripe:!!r,elements:!!i}),v.useState(()=>{const m=setTimeout(()=>{(!r||!i)&&(console.error("Stripe load timeout after 10 seconds - showing fallback"),c(!0))},1e4);return()=>clearTimeout(m)});const h=async m=>{if(m.preventDefault(),!(!r||!i)){o(!0);try{const{error:f}=await r.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}/subscription?success=true`},redirect:"if_required"});f?d({title:"Payment Failed",description:f.message,variant:"destructive"}):(d({title:"Payment Successful!",description:"Your subscription has been activated."}),s())}catch{d({title:"Payment Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}};return n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsx("div",{className:"min-h-[200px] p-4 border-2 border-dashed border-gray-200 rounded-lg",children:(()=>{var m;return console.log("PaymentElement render state:",{stripe:!!r,elements:!!i,loadTimeout:l}),l?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsxs("div",{className:"text-red-600 mb-2",children:[n.jsx("p",{className:"font-semibold",children:"Stripe.js Loading Failed"}),n.jsx("p",{className:"text-sm",children:"Using Demo Payment Mode"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Network issues prevented secure payment form loading"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(E,{onClick:()=>{window.location.href=`/direct-payment?plan=${e}&billing=${t}`},className:"bg-blue-600 hover:bg-blue-700 text-white w-full",children:"Use Alternative Payment Form"}),n.jsxs(E,{onClick:async()=>{o(!0),await new Promise(f=>setTimeout(f,2e3)),d({title:"Subscription Activated!",description:`Your ${e} plan is now active. Welcome to Adaptalyfe!`}),s(),o(!1)},variant:"outline",className:"w-full",children:["Demo Payment - $$",(m=fg[e])==null?void 0:m.price[t==="annual"?"annual":"monthly"]]})]})]})}):!r||!i?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Loading secure payment form..."}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Stripe: ",r?"":""," | Elements: ",i?"":""]})]})}):n.jsx($re,{options:{layout:"tabs"},onReady:()=>console.log(" PaymentElement is ready"),onChange:f=>console.log("PaymentElement change:",f.complete),onLoadError:f=>console.error("PaymentElement error:",f)})})()}),n.jsx(E,{type:"submit",disabled:!r||!i||a,className:"w-full bg-blue-600 hover:bg-blue-700 h-12 text-lg",children:a?"Processing...":`Subscribe Now - $${(u=fg[e])==null?void 0:u.price[t==="annual"?"annual":"monthly"]}`})]})}function bC(){const[e,t]=v.useState(null),[s,r]=v.useState("monthly"),[i,a]=v.useState(null),[o,l]=v.useState(!1),{toast:c}=dt(),d=Yt(),{data:h}=xe({queryKey:["/api/user"]});xe({queryKey:["/api/subscription"]});const u=h?Math.max(0,Math.ceil((new Date(h.createdAt).getTime()+7*24*60*60*1e3-Date.now())/(24*60*60*1e3))):0,m=Ce({mutationFn:async({planType:g,billingCycle:p})=>(await ye("POST","/api/create-subscription",{planType:g,billingCycle:p})).json(),onSuccess:g=>{console.log("Subscription creation response:",g),g.clientSecret?a(g.clientSecret):g.status==="active"||g.status==="trialing"?(c({title:"Subscription Activated!",description:"Your subscription has been set up successfully."}),t(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})):(console.error("Subscription creation failed:",g),c({title:"Subscription Error",description:g.error||"Failed to create subscription. Please try again or contact support.",variant:"destructive"}),t(null))},onError:g=>{c({title:"Subscription Error",description:g.message||"Failed to create subscription",variant:"destructive"})}}),f=g=>{t(g),m.mutate({planType:g,billingCycle:s})},j=()=>{t(null),a(null),d.invalidateQueries({queryKey:["/api/user"]}),d.invalidateQueries({queryKey:["/api/subscription"]})},x=u<=2&&(h==null?void 0:h.subscriptionStatus)!=="active";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),n.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Unlock your full potential with Adaptalyfe's comprehensive features"}),(h==null?void 0:h.subscriptionStatus)!=="active"&&n.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-6 ${x?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[n.jsx(ws,{className:"w-4 h-4"}),u>0?n.jsxs(n.Fragment,{children:["Free trial: ",u," days remaining"]}):n.jsx(n.Fragment,{children:"Trial expired - Subscribe to continue"})]}),(h==null?void 0:h.subscriptionStatus)==="active"&&n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium mb-6 border border-green-200",children:[n.jsx($t,{className:"w-4 h-4"}),"Active ",h.subscriptionTier," subscription"]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[n.jsx("span",{className:s==="monthly"?"font-semibold":"text-gray-600",children:"Monthly"}),n.jsx(Ls,{checked:s==="annual",onCheckedChange:g=>r(g?"annual":"monthly")}),n.jsxs("span",{className:s==="annual"?"font-semibold":"text-gray-600",children:["Annual ",n.jsx(he,{variant:"secondary",className:"ml-1",children:"Save 20%"})]})]})]}),i&&e&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs(L,{className:"w-full max-w-md bg-white shadow-2xl border-2",children:[n.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[n.jsx(ho,{className:"w-5 h-5 text-blue-600"}),"Complete Payment"]}),n.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",fg[e].name," - ",s," billing"]})]}),n.jsxs(V,{className:"bg-white p-6",children:[n.jsx(Jre,{clientSecret:i,onStripeLoadError:()=>l(!0),children:n.jsx(eie,{planType:e,billingCycle:s,onSuccess:j})}),n.jsx(E,{variant:"outline",onClick:()=>{t(null),a(null)},className:"w-full mt-4 bg-gray-50 hover:bg-gray-100",children:"Cancel"})]})]})}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Object.entries(fg).map(([g,p])=>n.jsxs(L,{className:`relative ${p.popular?"ring-2 ring-blue-500 scale-105":"border-2 border-gray-200"} ${(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?"bg-green-50 border-green-200":""}`,children:[p.popular&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsxs(he,{className:"bg-blue-500 text-white",children:[n.jsx(qt,{className:"w-3 h-3 mr-1"}),"Most Popular"]})}),n.jsxs(le,{className:"text-center",children:[n.jsxs(ce,{className:"flex items-center justify-center gap-2",children:[g==="basic"&&n.jsx(da,{className:"w-5 h-5"}),g==="premium"&&n.jsx(qt,{className:"w-5 h-5"}),g==="family"&&n.jsx(ls,{className:"w-5 h-5"}),p.name]}),n.jsx(at,{children:p.description}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-3xl font-bold",children:["$",s==="annual"?p.price.annual:p.price.monthly]}),n.jsxs("span",{className:"text-gray-600",children:["/",s==="annual"?"year":"month"]}),s==="annual"&&n.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Save $",(p.price.monthly*12-p.price.annual).toFixed(2)]})]})]}),n.jsxs(V,{children:[n.jsx("ul",{className:"space-y-2 mb-6",children:p.features.map((y,b)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx($t,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:y})]},b))}),(h==null?void 0:h.subscriptionTier)===g&&(h==null?void 0:h.subscriptionStatus)==="active"?n.jsxs(E,{disabled:!0,className:"w-full",children:[n.jsx($t,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):n.jsx(E,{onClick:()=>f(g),disabled:m.isPending,className:"w-full",variant:p.popular?"default":"outline",children:m.isPending&&e===g?"Setting up...":u>0?"Start Free Trial":"Subscribe Now"})]})]},g))}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Why Choose Adaptalyfe?"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-6",children:[n.jsx(da,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Built for Independence"}),n.jsx("p",{className:"text-gray-600",children:"Designed specifically for individuals with developmental disabilities"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(ls,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Family-Centered"}),n.jsx("p",{className:"text-gray-600",children:"Connect caregivers, family members, and support teams"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(qt,{className:"w-12 h-12 text-purple-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold mb-2",children:"Proven Results"}),n.jsx("p",{className:"text-gray-600",children:"Thousands of users building independence every day"})]})]})]})]})})}function tie(){const[,e]=On(),[t,s]=v.useState(!1),[r,i]=v.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvc:"",name:"",email:""}),{toast:a}=dt(),o=Yt(),l=new URLSearchParams(window.location.search),c=l.get("plan")||"premium",d=l.get("billing")||"monthly",u={basic:{name:"Basic Plan",price:{monthly:"4.99",annual:"49.00"}},premium:{name:"Premium Plan",price:{monthly:"12.99",annual:"129.00"}},family:{name:"Family Plan",price:{monthly:"24.99",annual:"249.00"}}}[c],m=(u==null?void 0:u.price[d])||"19.99",f=(g,p)=>{i(y=>({...y,[g]:p}))},j=g=>{const p=g.replace(/\s+/g,"").replace(/[^0-9]/gi,""),y=p.match(/\d{4,16}/g),b=y&&y[0]||"",w=[];for(let C=0,N=b.length;C<N;C+=4)w.push(b.substring(C,C+4));return w.length?w.join(" "):p};Ce({mutationFn:async()=>(await ye("POST","/api/process-direct-payment",{planType:c,billingCycle:d,amount:m,paymentMethod:{card:{number:r.cardNumber.replace(/\s/g,""),exp_month:r.expiryMonth,exp_year:r.expiryYear,cvc:r.cvc},billing_details:{name:r.name,email:r.email}}})).json(),onSuccess:()=>{a({title:"Payment Successful!",description:`Your ${u.name} subscription has been activated.`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")},onError:()=>{a({title:"Payment Failed",description:"Please check your card details and try again.",variant:"destructive"})}});const x=async g=>{if(g.preventDefault(),!r.cardNumber||!r.expiryMonth||!r.expiryYear||!r.cvc||!r.name){a({title:"Missing Information",description:"Please fill in all payment details.",variant:"destructive"});return}s(!0);try{await new Promise(p=>setTimeout(p,3e3)),a({title:"Subscription Activated!",description:`Your ${u.name} plan is now active. Welcome to Adaptalyfe!`}),o.invalidateQueries({queryKey:["/api/user"]}),o.invalidateQueries({queryKey:["/api/subscription"]}),e("/dashboard")}catch{a({title:"Payment Failed",description:"Please try again or contact support.",variant:"destructive"})}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 p-4",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Oe,{href:"/subscription",children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(cx,{className:"w-4 h-4 mr-2"}),"Back to Plans"]})})}),n.jsxs(L,{className:"shadow-2xl border-2",children:[n.jsxs(le,{className:"bg-gradient-to-r from-blue-50 to-cyan-50",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-gray-900",children:[n.jsx(ho,{className:"w-5 h-5 text-blue-600"}),"Secure Payment"]}),n.jsxs(at,{className:"text-gray-700",children:["Subscribe to ",u==null?void 0:u.name," Plan - ",d," billing"]})]}),n.jsxs(V,{className:"p-6",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.name," Plan (",d,")"]}),n.jsxs("span",{className:"text-2xl font-bold",children:["$",m]})]})}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(q,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:r.cardNumber,onChange:g=>f("cardNumber",j(g.target.value)),maxLength:19,required:!0})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"expiryMonth",children:"Month"}),n.jsx(q,{id:"expiryMonth",placeholder:"MM",value:r.expiryMonth,onChange:g=>f("expiryMonth",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"expiryYear",children:"Year"}),n.jsx(q,{id:"expiryYear",placeholder:"YY",value:r.expiryYear,onChange:g=>f("expiryYear",g.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"cvc",children:"CVC"}),n.jsx(q,{id:"cvc",placeholder:"123",value:r.cvc,onChange:g=>f("cvc",g.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"name",children:"Cardholder Name"}),n.jsx(q,{id:"name",placeholder:"John Doe",value:r.name,onChange:g=>f("name",g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",placeholder:"john@example.com",value:r.email,onChange:g=>f("email",g.target.value),required:!0})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-blue-700 text-sm",children:[n.jsx(os,{className:"w-4 h-4"}),n.jsx("span",{children:"Demo Mode: This is a demonstration payment form"})]})}),n.jsx(E,{type:"submit",disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 text-lg h-12",children:t?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Payment..."]}):`Complete Payment - $${m}`})]})]})]})]})})}function Yy(){const[,e]=On(),[t,s]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(!1),{toast:l}=dt();v.useEffect(()=>{console.log("Landing page loaded - URL:",window.location.href);const h=new URLSearchParams(window.location.search).get("code");console.log("Invitation code detected:",h),h&&s(h)},[]),xe({queryKey:[`/api/invitation/${t}`],enabled:!!t});const c=async()=>{if(!r.trim()){l({title:"Code Required",description:"Please enter an invitation code",variant:"destructive"});return}localStorage.setItem("pendingInvitation",r.trim()),e(`/register?code=${r.trim()}`)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(et,{open:a,onOpenChange:o,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 border-2 border-blue-400 hover:border-blue-600 shadow-md",children:[n.jsx(xS,{className:"w-4 h-4 mr-2"}),"Join with Code"]})}),n.jsxs(Ye,{className:"sm:max-w-md",children:[n.jsxs(Xe,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(xS,{className:"w-5 h-5 text-blue-600"}),"Join with Invitation Code"]}),n.jsx(es,{children:"Enter your invitation code to create an account and join your caregiver's support network."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{htmlFor:"invitation-code",children:"Invitation Code"}),n.jsx(q,{id:"invitation-code",placeholder:"Enter code (e.g., ABC123)",value:r,onChange:d=>i(d.target.value.toUpperCase()),className:"font-mono text-center text-lg tracking-wider",maxLength:6})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(E,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),n.jsx(E,{onClick:c,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Join Now"})]})]})]})]}),n.jsx(Oe,{href:"/login",children:n.jsx(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:"Sign In"})}),n.jsx(Oe,{href:"/register",children:n.jsx(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Get Started"})})]})]})})}),n.jsx("section",{className:"py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Empowering Independence Through Technology"}),n.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"AdaptaLyfe is designed specifically for individuals with developmental disabilities, providing the tools and support needed to build confidence, manage daily life, and achieve greater independence."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(Oe,{href:"/register",children:n.jsxs(E,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8",children:["Start Your Journey ",n.jsx(dd,{className:"w-5 h-5 ml-2"})]})}),n.jsx(Oe,{href:"/demo",children:n.jsx(E,{size:"lg",variant:"outline",className:"px-8",children:"Try Demo"})})]})]})})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsxs("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Comprehensive Support for"," ",n.jsx("span",{className:"text-blue-600 font-bold",children:"Daily Living"})]}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Every feature is thoughtfully designed with accessibility, independence, and personal growth in mind"})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 xl:grid-cols-4 gap-8",children:[n.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-indigo-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx($t,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Daily Task Management"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Organize daily routines with visual cues, progress tracking, and personalized reward systems that celebrate every achievement"})]})}),n.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-green-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(Pi,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Financial Management"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Simple bill tracking, budgeting tools, and secure payment links designed to build financial independence safely"})]})}),n.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-purple-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-pink-500 to-rose-600 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(ow,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Mood & Wellness"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Track emotional well-being with daily check-ins, mood insights, and personalized wellness recommendations"})]})}),n.jsx(L,{className:"group hover:shadow-2xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-white to-yellow-50/30 hover:scale-105",children:n.jsxs(le,{className:"text-center pb-6",children:[n.jsx("div",{className:"mx-auto mb-6 p-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl w-fit shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx(ls,{className:"w-10 h-10 text-white"})}),n.jsx(ce,{className:"text-xl font-bold text-gray-900 mb-3",children:"Support Network"}),n.jsx(at,{className:"text-gray-600 leading-relaxed",children:"Connect securely with caregivers, family, and support professionals through our comprehensive communication platform"})]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-16",children:[n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-indigo-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(mr,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Assistant"}),n.jsx("p",{className:"text-gray-600",children:"Get personalized guidance and support with AdaptAI, your helpful companion"})]}),n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(Us,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Goal Tracking"}),n.jsx("p",{className:"text-gray-600",children:"Set and achieve personal goals with visual progress tracking and celebrations"})]}),n.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-purple-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-xl w-fit mx-auto mb-4",children:n.jsx(qt,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Achievements"}),n.jsx("p",{className:"text-gray-600",children:"Earn badges and rewards for completing tasks and reaching milestones"})]})]})]})}),n.jsx("section",{className:"py-24 bg-gradient-to-r from-blue-600 to-purple-600",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Your Independence Journey?"}),n.jsx("p",{className:"text-xl text-white mb-12 max-w-2xl mx-auto",children:"Join thousands of individuals building confidence and achieving their goals with AdaptaLyfe"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[n.jsx(Oe,{href:"/register",children:n.jsxs(E,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-50 px-12 py-4 text-lg font-semibold shadow-2xl hover:shadow-3xl transition-all duration-300 rounded-2xl",children:["Get Started Free",n.jsx(dd,{className:"w-6 h-6 ml-3"})]})}),n.jsx(Oe,{href:"/demo",children:n.jsx(E,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white/20 hover:border-white px-12 py-4 text-lg font-semibold rounded-2xl bg-white/10",children:"Try Demo First"})})]})]})}),n.jsx("footer",{className:"py-16 bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:n.jsx(mr,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-2xl font-bold text-white",children:"Adaptalyfe"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Grow with Guidance. Thrive with Confidence."})]})]}),n.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto text-lg",children:"Empowering individuals with developmental disabilities to achieve independence through innovative technology, personalized support, and a caring community."})]})})]})}function sie(){const[,e]=On(),{toast:t}=dt(),[s,r]=v.useState({username:"",password:"",invitationCode:""}),[i,a]=v.useState(!1),[o,l]=v.useState(!1);v.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("code");h&&(r(u=>({...u,invitationCode:h})),l(!0))},[]);const c=async d=>{d.preventDefault(),a(!0);try{if(await ye("POST","/api/login",{username:s.username,password:s.password}),t({title:"Login Successful!",description:"Welcome back to Adaptalyfe"}),s.invitationCode)e(`/accept-invitation?code=${s.invitationCode}`);else{const h=localStorage.getItem("pendingInvitation");h?(localStorage.removeItem("pendingInvitation"),e(`/accept-invitation?code=${h}`)):e("/dashboard")}}catch(h){t({title:"Login Failed",description:h.message||"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Oe,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"h-6 w-6 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"})]})}),n.jsx(Oe,{href:"/",children:n.jsxs(E,{variant:"ghost",children:[n.jsx(cx,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs(L,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(yD,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Welcome Back"}),n.jsx(at,{className:"text-base",children:"Sign in to continue your independence journey"})]}),n.jsx(V,{children:n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:d=>r({...s,username:d.target.value}),placeholder:"Enter your username",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:d=>r({...s,password:d.target.value}),placeholder:"Enter your password",required:!0,className:"mt-1"})]}),o&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border",children:[n.jsx(de,{htmlFor:"invitationCode",className:"text-blue-700 font-medium",children:"Caregiver Invitation Code"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:d=>r({...s,invitationCode:d.target.value}),placeholder:"Enter invitation code",className:"mt-1 bg-white",readOnly:!0}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You'll become a caregiver after logging in"})]}),!o&&n.jsxs("div",{children:[n.jsx(de,{htmlFor:"invitationCode",children:"Have a Caregiver Invitation Code? (Optional)"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:d=>r({...s,invitationCode:d.target.value}),placeholder:"Enter invitation code to become a caregiver",className:"mt-1"})]}),n.jsx(E,{type:"submit",className:"w-full bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",size:"lg",disabled:i,children:i?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center space-y-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(Oe,{href:"/register",className:"text-blue-600 hover:underline",children:"Create one here"})]})})]})})]})})]})}function nie(){const[,e]=On(),{toast:t}=dt(),[s,r]=v.useState({name:"",email:"",username:"",password:"",confirmPassword:"",plan:"basic",agreeToTerms:!1,subscribeNewsletter:!1,invitationCode:""}),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(!1);v.useEffect(()=>{try{console.log("Register: Component mounted, checking for mobile and invitation code");const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);d(m),console.log("Register: Mobile detected:",m);const j=new URLSearchParams(window.location.search).get("code"),x=localStorage.getItem("pendingInvitation");if(console.log("Register: Code from URL:",j),console.log("Register: Code from storage:",x),j||x){const g=j||x||"";r(p=>({...p,invitationCode:g})),l(!0),console.log("Register: Invitation code set:",g),x&&!j&&localStorage.removeItem("pendingInvitation")}}catch(m){console.error("Register: Error in useEffect:",m)}},[]);const h=async m=>{if(m.preventDefault(),a(!0),s.password!==s.confirmPassword){t({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"}),a(!1);return}if(!s.agreeToTerms){t({title:"Terms Required",description:"Please agree to the terms of service",variant:"destructive"}),a(!1);return}try{await ye("POST","/api/register",s),t({title:"Registration Successful!",description:`Welcome to AdaptaLyfe, ${s.name}!`}),s.invitationCode?e(`/accept-invitation?code=${s.invitationCode}`):e("/dashboard")}catch(f){t({title:"Registration Failed",description:f.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{a(!1)}},u={basic:"$4.99/month",premium:"$12.99/month",family:"$24.99/month"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(Oe,{href:"/",children:n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Adaptalyfe"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Grow with Guidance. Thrive with Confidence."})]})]})}),n.jsx(Oe,{href:"/",children:n.jsxs(E,{variant:"ghost",className:"text-gray-700 hover:text-gray-900 border-2 border-gray-400 hover:border-gray-600 shadow-md",children:[n.jsx(cx,{className:"h-4 w-4 mr-2"}),"Home"]})})]})})}),n.jsx("div",{className:"max-w-md mx-auto pt-16 pb-24 px-4",children:n.jsxs(L,{className:"border-2 shadow-lg",children:[n.jsxs(le,{className:"text-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-lg w-fit mx-auto mb-4",children:n.jsx(lt,{className:"h-8 w-8 text-blue-600"})}),n.jsx(ce,{className:"text-2xl",children:"Create Your Account"}),n.jsx(at,{className:"text-base",children:"Start your independence journey with Adaptalyfe"})]}),n.jsx(V,{children:n.jsxs("form",{onSubmit:h,className:"space-y-6",autoComplete:"off",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Personal Information"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"name",children:"Full Name"}),n.jsx(q,{id:"name",type:"text",value:s.name,onChange:m=>r({...s,name:m.target.value}),placeholder:"Enter your full name",required:!0,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",value:s.email,onChange:m=>r({...s,email:m.target.value}),placeholder:"Enter your email",required:!0,className:"mt-1"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Account Setup"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"username",children:"Username"}),n.jsx(q,{id:"username",type:"text",value:s.username,onChange:m=>r({...s,username:m.target.value}),placeholder:"Choose a username",required:!0,className:"mt-1",autoComplete:"new-username"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"password",children:"Password"}),n.jsx(q,{id:"password",type:"password",value:s.password,onChange:m=>r({...s,password:m.target.value}),placeholder:"Create a strong password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(q,{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:m=>r({...s,confirmPassword:m.target.value}),placeholder:"Confirm your password",required:!0,className:"mt-1",autoComplete:"new-password"})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"invitationCode",children:"Invitation Code (Optional)"}),n.jsx(q,{id:"invitationCode",type:"text",value:s.invitationCode,onChange:m=>r({...s,invitationCode:m.target.value}),placeholder:"Enter invitation code if you have one",className:"mt-1"}),o&&n.jsx("p",{className:"text-sm text-green-600 mt-1",children:" Invitation code detected - your caregiver will join your support network after registration"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Choose Your Plan"}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"plan",children:"Subscription Plan"}),n.jsxs(Ge,{value:s.plan,onValueChange:m=>r({...s,plan:m}),children:[n.jsx(He,{className:"mt-1",children:n.jsx(Ke,{})}),n.jsxs(We,{children:[n.jsxs(B,{value:"basic",children:["Basic - ",u.basic]}),n.jsxs(B,{value:"premium",children:["Premium - ",u.premium]}),n.jsxs(B,{value:"family",children:["Family - ",u.family]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ci,{id:"terms",checked:s.agreeToTerms,onCheckedChange:m=>r({...s,agreeToTerms:m})}),n.jsx("div",{className:"text-sm",children:n.jsxs(de,{htmlFor:"terms",className:"cursor-pointer",children:["I agree to the ",n.jsx(Oe,{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and"," ",n.jsx(Oe,{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ci,{id:"newsletter",checked:s.subscribeNewsletter,onCheckedChange:m=>r({...s,subscribeNewsletter:m})}),n.jsx(de,{htmlFor:"newsletter",className:"text-sm cursor-pointer",children:"Subscribe to updates and independence tips (optional)"})]})]}),n.jsx(E,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-colors",size:"lg",disabled:i,children:i?"Creating Account...":"Create Account"}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx(Oe,{href:"/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]}),n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-blue-50 rounded-lg",children:[n.jsx(os,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-sm text-blue-800",children:"7-day free trial  Cancel anytime  Secure payment processing"})]})]})})]})})]})}function ss({children:e,redirectTo:t="/login"}){const[,s]=On(),{data:r,isLoading:i,error:a,refetch:o}=xe({queryKey:["/api/user"],retry:1,retryDelay:500});return v.useEffect(()=>{if(!i&&!r&&a){const l=window.location.pathname;["/login","/register","/","/demo","/landing"].includes(l)||(console.log("AuthCheck: No authenticated user, redirecting to",t,"from",l),console.log("AuthCheck: Error details:",a),s(t))}},[i,r,a,s,t]),i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!r&&a?null:n.jsx(n.Fragment,{children:e})}function jC({children:e,redirectTo:t="/dashboard"}){const[,s]=On(),{data:r,isLoading:i,error:a}=xe({queryKey:["/api/user"],retry:!1});if(v.useEffect(()=>{if(!i){const l=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";(!r||!l)&&(console.log("AdminCheck: Access denied. Redirecting non-admin user to",t),s(t))}},[i,r,s,t]),i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})});const o=(r==null?void 0:r.username)==="admin"||(r==null?void 0:r.accountType)==="admin";return!r||!o?null:n.jsx(n.Fragment,{children:e})}function rie(){const[e,t]=v.useState(!1),[s,r]=v.useState("");return v.useEffect(()=>{const i=o=>{var l,c;if(o.detail&&o.detail.message){if(o.detail.message.includes("useRef")||o.detail.message.includes("runtime-error-plugin")||o.detail.message.includes("Cannot read properties of null")||o.detail.message.includes("Stripe")||o.detail.message.includes("Failed to load Stripe.js")){(l=o.preventDefault)==null||l.call(o),(c=o.stopPropagation)==null||c.call(o);return}r(o.detail.message),t(!0)}};window.addEventListener("runtime-error",i);const a=o=>{if(o.error&&o.error.message){if(o.error.message.includes("useRef")||o.error.message.includes("runtime-error-plugin")||o.error.message.includes("Cannot read properties of null")||o.error.message.includes("Stripe")||o.error.message.includes("Failed to load Stripe.js")){o.preventDefault(),o.stopPropagation();return}r(o.error.message),t(!0)}};return window.addEventListener("error",a,!0),()=>{window.removeEventListener("runtime-error",i),window.removeEventListener("error",a,!0)}},[]),e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(L,{className:"w-full max-w-md",children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(Jt,{className:"w-5 h-5"}),"Runtime Error Detected"]})}),n.jsxs(V,{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an error. This is usually temporary and can be resolved by refreshing the page."}),n.jsxs("details",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[n.jsx("summary",{className:"font-medium cursor-pointer",children:"Error Details"}),n.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-32",children:s})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[n.jsx(aw,{className:"w-4 h-4"}),"Reload Page"]}),n.jsx(E,{onClick:()=>t(!1),variant:"outline",children:"Continue Anyway"})]})]})]})}):null}class iie extends me.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return t.message&&(t.message.includes("useRef")||t.message.includes("Failed to load Stripe.js")||t.message.includes("Stripe")||t.message.includes("stripe")||t.message.includes("Cannot read properties of null"))?{hasError:!1}:{hasError:!0,error:t}}componentDidCatch(t,s){t.message&&(t.message.includes("useRef")||t.message.includes("Failed to load Stripe.js")||t.message.includes("Stripe")||t.message.includes("stripe")||t.message.includes("Cannot read properties of null"))||console.error("React Error Boundary caught an error:",t,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"max-w-md mx-auto text-center p-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})}):this.props.children}}function aie(e,t,s){const r=[];return e.forEach(i=>typeof i!="string"?r.push(i):t[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(s)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function wC(e,t){const s=/\$/g,r="$$$$";let i=[e];if(t==null)return i;for(const a of Object.keys(t))if(a!=="_"){let o=t[a];typeof o=="string"&&(o=s[Symbol.replace](o,r)),i=aie(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const oie=e=>{throw new Error(`missing string: ${e}`)};var Lh,$h,mb;class CO{constructor(t,{onMissingKey:s=oie}={}){K(this,$h);A(this,"locale");K(this,Lh);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(ne(this,$h,mb),this):ne(this,$h,mb).call(this,t),te(this,Lh,s)}translate(t,s){return this.translateArray(t,s).join("")}translateArray(t,s){let r=this.locale.strings[t];if(r==null&&(_(this,Lh).call(this,t),r=t),typeof r=="object"){if(s&&typeof s.smart_count<"u"){const a=this.locale.pluralize(s.smart_count);return wC(r[a],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return wC(r,s)}}Lh=new WeakMap,$h=new WeakSet,mb=function(t){if(!(t!=null&&t.strings))return;const s=this.locale;Object.assign(this.locale,{strings:{...s.strings,...t.strings},pluralize:t.pluralize||s.pluralize})};class kO{constructor(t,s){A(this,"uppy");A(this,"opts");A(this,"id");A(this,"defaultLocale");A(this,"i18n");A(this,"i18nArray");A(this,"type");A(this,"VERSION");this.uppy=t,this.opts=s??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new CO([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}function Xy(e){return e<10?`0${e}`:e.toString()}function Gp(){const e=new Date,t=Xy(e.getHours()),s=Xy(e.getMinutes()),r=Xy(e.getSeconds());return`${t}:${s}:${r}`}const lie={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${Gp()}]`,...e)},cie={debug:(...e)=>console.debug(`[Uppy] [${Gp()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${Gp()}]`,...e),error:(...e)=>console.error(`[Uppy] [${Gp()}]`,...e)};function _O(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function die(e,t=document){return typeof e=="string"?t.querySelector(e):_O(e)?e:null}function TO(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}var _m,ft,PO,Io,NC,EO,AO,DO,hN,pb,fb,Ph={},MO=[],uie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Tm=Array.isArray;function vi(e,t){for(var s in t)e[s]=t[s];return e}function mN(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Eh(e,t,s){var r,i,a,o={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?_m.call(arguments,2):s),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Fu(e,o,r,i,null)}function Fu(e,t,s,r,i){var a={type:e,props:t,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++PO,__i:-1,__u:0};return i==null&&ft.vnode!=null&&ft.vnode(a),a}function hie(){return{current:null}}function zr(e){return e.children}function Rn(e,t){this.props=e,this.context=t}function wd(e,t){if(t==null)return e.__?wd(e.__,e.__i+1):null;for(var s;t<e.__k.length;t++)if((s=e.__k[t])!=null&&s.__e!=null)return s.__e;return typeof e.type=="function"?wd(e):null}function IO(e){var t,s;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((s=e.__k[t])!=null&&s.__e!=null){e.__e=e.__c.base=s.__e;break}return IO(e)}}function SC(e){(!e.__d&&(e.__d=!0)&&Io.push(e)&&!gg.__r++||NC!=ft.debounceRendering)&&((NC=ft.debounceRendering)||EO)(gg)}function gg(){for(var e,t,s,r,i,a,o,l=1;Io.length;)Io.length>l&&Io.sort(AO),e=Io.shift(),l=Io.length,e.__d&&(s=void 0,i=(r=(t=e).__v).__e,a=[],o=[],t.__P&&((s=vi({},r)).__v=r.__v+1,ft.vnode&&ft.vnode(s),pN(t.__P,s,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,a,i??wd(r),!!(32&r.__u),o),s.__v=r.__v,s.__.__k[s.__i]=s,OO(a,s,o),s.__e!=i&&IO(s)));gg.__r=0}function RO(e,t,s,r,i,a,o,l,c,d,h){var u,m,f,j,x,g,p,y=r&&r.__k||MO,b=t.length;for(c=mie(s,t,y,c,b),u=0;u<b;u++)(f=s.__k[u])!=null&&(m=f.__i==-1?Ph:y[f.__i]||Ph,f.__i=u,g=pN(e,f,m,i,a,o,l,c,d,h),j=f.__e,f.ref&&m.ref!=f.ref&&(m.ref&&fN(m.ref,null,f),h.push(f.ref,f.__c||j,f)),x==null&&j!=null&&(x=j),(p=!!(4&f.__u))||m.__k===f.__k?c=FO(f,c,e,p):typeof f.type=="function"&&g!==void 0?c=g:j&&(c=j.nextSibling),f.__u&=-7);return s.__e=x,c}function mie(e,t,s,r,i){var a,o,l,c,d,h=s.length,u=h,m=0;for(e.__k=new Array(i),a=0;a<i;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=e.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Fu(null,o,null,null,null):Tm(o)?Fu(zr,{children:o},null,null,null):o.constructor==null&&o.__b>0?Fu(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(d=o.__i=pie(o,s,c,u))!=-1&&(u--,(l=s[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>h?m--:i<h&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<h;a++)(l=s[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=wd(l)),$O(l,l));return r}function FO(e,t,s,r){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,t=FO(i[a],t,s,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=wd(e)),s.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Fr(e,t){return t=t||[],e==null||typeof e=="boolean"||(Tm(e)?e.some(function(s){Fr(s,t)}):t.push(e)),t}function pie(e,t,s,r){var i,a,o,l=e.key,c=e.type,d=t[s],h=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||h&&l==d.key&&c==d.type)return s;if(r>(h?1:0)){for(i=s-1,a=s+1;i>=0||a<t.length;)if((d=t[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function CC(e,t,s){t[0]=="-"?e.setProperty(t,s??""):e[t]=s==null?"":typeof s!="number"||uie.test(t)?s:s+"px"}function dp(e,t,s,r,i){var a,o;e:if(t=="style")if(typeof s=="string")e.style.cssText=s;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)s&&t in s||CC(e.style,t,"");if(s)for(t in s)r&&s[t]==r[t]||CC(e.style,t,s[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(DO,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=s,s?r?s.u=r.u:(s.u=hN,e.addEventListener(t,a?fb:pb,a)):e.removeEventListener(t,a?fb:pb,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&s==1?"":s))}}function kC(e){return function(t){if(this.l){var s=this.l[t.type+e];if(t.t==null)t.t=hN++;else if(t.t<s.u)return;return s(ft.event?ft.event(t):t)}}}function pN(e,t,s,r,i,a,o,l,c,d){var h,u,m,f,j,x,g,p,y,b,w,C,N,S,k,T,D,P=t.type;if(t.constructor!=null)return null;128&s.__u&&(c=!!(32&s.__u),a=[l=t.__e=s.__e]),(h=ft.__b)&&h(t);e:if(typeof P=="function")try{if(p=t.props,y="prototype"in P&&P.prototype.render,b=(h=P.contextType)&&r[h.__c],w=h?b?b.props.value:h.__:r,s.__c?g=(u=t.__c=s.__c).__=u.__E:(y?t.__c=u=new P(p,w):(t.__c=u=new Rn(p,w),u.constructor=P,u.render=gie),b&&b.sub(u),u.props=p,u.state||(u.state={}),u.context=w,u.__n=r,m=u.__d=!0,u.__h=[],u._sb=[]),y&&u.__s==null&&(u.__s=u.state),y&&P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=vi({},u.__s)),vi(u.__s,P.getDerivedStateFromProps(p,u.__s))),f=u.props,j=u.state,u.__v=t,m)y&&P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),y&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(y&&P.getDerivedStateFromProps==null&&p!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(p,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(p,u.__s,w)===!1||t.__v==s.__v){for(t.__v!=s.__v&&(u.props=p,u.state=u.__s,u.__d=!1),t.__e=s.__e,t.__k=s.__k,t.__k.some(function(M){M&&(M.__=t)}),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(p,u.__s,w),y&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,j,x)})}if(u.context=w,u.props=p,u.__P=e,u.__e=!1,N=ft.__r,S=0,y){for(u.state=u.__s,u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,N&&N(t),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(r=vi(vi({},r),u.getChildContext())),y&&!m&&u.getSnapshotBeforeUpdate!=null&&(x=u.getSnapshotBeforeUpdate(f,j)),T=h,h!=null&&h.type===zr&&h.key==null&&(T=LO(h.props.children)),l=RO(e,Tm(T)?T:[T],t,s,r,i,a,o,l,c,d),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),g&&(u.__E=u.__=null)}catch(M){if(t.__v=null,c||a!=null)if(M.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(D=a.length;D--;)mN(a[D]);gb(t)}else t.__e=s.__e,t.__k=s.__k,M.then||gb(t);ft.__e(M,t,s)}else a==null&&t.__v==s.__v?(t.__k=s.__k,t.__e=s.__e):l=t.__e=fie(s.__e,t,s,r,i,a,o,c,d);return(h=ft.diffed)&&h(t),128&t.__u?void 0:l}function gb(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(gb)}function OO(e,t,s){for(var r=0;r<s.length;r++)fN(s[r],s[++r],s[++r]);ft.__c&&ft.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){ft.__e(a,i.__v)}})}function LO(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Tm(e)?e.map(LO):vi({},e)}function fie(e,t,s,r,i,a,o,l,c){var d,h,u,m,f,j,x,g=s.props,p=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((f=a[d])&&"setAttribute"in f==!!y&&(y?f.localName==y:f.nodeType==3)){e=f,a[d]=null;break}}if(e==null){if(y==null)return document.createTextNode(p);e=document.createElementNS(i,y,p.is&&p),l&&(ft.__m&&ft.__m(t,a),l=!1),a=null}if(y==null)g===p||l&&e.data==p||(e.data=p);else{if(a=a&&_m.call(e.childNodes),g=s.props||Ph,!l&&a!=null)for(g={},d=0;d<e.attributes.length;d++)g[(f=e.attributes[d]).name]=f.value;for(d in g)if(f=g[d],d!="children"){if(d=="dangerouslySetInnerHTML")u=f;else if(!(d in p)){if(d=="value"&&"defaultValue"in p||d=="checked"&&"defaultChecked"in p)continue;dp(e,d,null,f,i)}}for(d in p)f=p[d],d=="children"?m=f:d=="dangerouslySetInnerHTML"?h=f:d=="value"?j=f:d=="checked"?x=f:l&&typeof f!="function"||g[d]===f||dp(e,d,f,g[d],i);if(h)l||u&&(h.__html==u.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(u&&(e.innerHTML=""),RO(t.type=="template"?e.content:e,Tm(m)?m:[m],t,s,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:s.__k&&wd(s,0),l,c),a!=null)for(d=a.length;d--;)mN(a[d]);l||(d="value",y=="progress"&&j==null?e.removeAttribute("value"):j!=null&&(j!==e[d]||y=="progress"&&!j||y=="option"&&j!=g[d])&&dp(e,d,j,g[d],i),d="checked",x!=null&&x!=e[d]&&dp(e,d,x,g[d],i))}return e}function fN(e,t,s){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){ft.__e(i,s)}}function $O(e,t,s){var r,i;if(ft.unmount&&ft.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||fN(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ft.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&$O(r[i],t,s||typeof e.type!="function");s||mN(e.__e),e.__c=e.__=e.__e=void 0}function gie(e,t,s){return this.constructor(e,s)}function xie(e,t,s){var r,i,a,o;t==document&&(t=document.documentElement),ft.__&&ft.__(e,t),i=(r=typeof s=="function")?null:t.__k,a=[],o=[],pN(t,e=(!r&&s||t).__k=Eh(zr,null,[e]),i||Ph,Ph,t.namespaceURI,!r&&s?[s]:i?null:t.firstChild?_m.call(t.childNodes):null,a,!r&&s?s:i?i.__e:t.firstChild,r,o),OO(a,e,o)}function UO(e,t,s){var r,i,a,o,l=vi({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)a=="key"?r=t[a]:a=="ref"?i=t[a]:l[a]=t[a]===void 0&&o!=null?o[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?_m.call(arguments,2):s),Fu(e.type,l,r||e.key,i||e.ref,null)}_m=MO.slice,ft={__e:function(e,t,s,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},PO=0,Rn.prototype.setState=function(e,t){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vi({},this.state),typeof e=="function"&&(e=e(vi({},s),this.props)),e&&vi(s,e),e!=null&&this.__v&&(t&&this._sb.push(t),SC(this))},Rn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),SC(this))},Rn.prototype.render=zr,Io=[],EO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,AO=function(e,t){return e.__v.__b-t.__v.__b},gg.__r=0,DO=/(PointerCapture)$|Capture$/i,hN=0,pb=kC(!1),fb=kC(!0);var Ah,ys,Zy,_C,Dh=0,BO=[],ks=ft,TC=ks.__b,PC=ks.__r,EC=ks.diffed,AC=ks.__c,DC=ks.unmount,MC=ks.__;function gN(e,t){ks.__h&&ks.__h(ys,e,Dh||t),Dh=0;var s=ys.__H||(ys.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({}),s.__[e]}function xg(e){return Dh=1,yie(VO,e)}function yie(e,t,s){var r=gN(Ah++,2);if(r.t=e,!r.__c&&(r.__=[s?s(t):VO(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=ys,!ys.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var u=r.__c.props!==l;return h.forEach(function(m){if(m.__N){var f=m.__[0];m.__=m.__N,m.__N=void 0,f!==m.__[0]&&(u=!0)}}),a&&a.call(this,l,c,d)||u};ys.__f=!0;var a=ys.shouldComponentUpdate,o=ys.componentWillUpdate;ys.componentWillUpdate=function(l,c,d){if(this.__e){var h=a;a=void 0,i(l,c,d),a=h}o&&o.call(this,l,c,d)},ys.shouldComponentUpdate=i}return r.__N||r.__}function xb(e,t){var s=gN(Ah++,3);!ks.__s&&zO(s.__H,t)&&(s.__=e,s.u=t,ys.__H.__h.push(s))}function Kp(e){return Dh=5,xN(function(){return{current:e}},[])}function xN(e,t){var s=gN(Ah++,7);return zO(s.__H,t)&&(s.__=e(),s.__H=t,s.__h=e),s.__}function vie(e,t){return Dh=8,xN(function(){return e},t)}function bie(){for(var e;e=BO.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Qp),e.__H.__h.forEach(yb),e.__H.__h=[]}catch(t){e.__H.__h=[],ks.__e(t,e.__v)}}ks.__b=function(e){ys=null,TC&&TC(e)},ks.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),MC&&MC(e,t)},ks.__r=function(e){PC&&PC(e),Ah=0;var t=(ys=e.__c).__H;t&&(Zy===ys?(t.__h=[],ys.__h=[],t.__.forEach(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(t.__h.forEach(Qp),t.__h.forEach(yb),t.__h=[],Ah=0)),Zy=ys},ks.diffed=function(e){EC&&EC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(BO.push(t)!==1&&_C===ks.requestAnimationFrame||((_C=ks.requestAnimationFrame)||jie)(bie)),t.__H.__.forEach(function(s){s.u&&(s.__H=s.u),s.u=void 0})),Zy=ys=null},ks.__c=function(e,t){t.some(function(s){try{s.__h.forEach(Qp),s.__h=s.__h.filter(function(r){return!r.__||yb(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],ks.__e(r,s.__v)}}),AC&&AC(e,t)},ks.unmount=function(e){DC&&DC(e);var t,s=e.__c;s&&s.__H&&(s.__H.__.forEach(function(r){try{Qp(r)}catch(i){t=i}}),s.__H=void 0,t&&ks.__e(t,s.__v))};var IC=typeof requestAnimationFrame=="function";function jie(e){var t,s=function(){clearTimeout(r),IC&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(s,35);IC&&(t=requestAnimationFrame(s))}function Qp(e){var t=ys,s=e.__c;typeof s=="function"&&(e.__c=void 0,s()),ys=t}function yb(e){var t=ys;e.__c=e.__(),ys=t}function zO(e,t){return!e||e.length!==t.length||t.some(function(s,r){return s!==e[r]})}function VO(e,t){return typeof t=="function"?t(e):t}function wie(e,t){for(var s in t)e[s]=t[s];return e}function RC(e,t){for(var s in e)if(s!=="__source"&&!(s in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function FC(e,t){this.props=e,this.context=t}(FC.prototype=new Rn).isPureReactComponent=!0,FC.prototype.shouldComponentUpdate=function(e,t){return RC(this.props,e)||RC(this.state,t)};var OC=ft.__b;ft.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),OC&&OC(e)};var Nie=ft.__e;ft.__e=function(e,t,s,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=s.__e,t.__k=s.__k),i.__c(e,t)}Nie(e,t,s,r)};var LC=ft.unmount;function qO(e,t,s){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=wie({},e)).__c!=null&&(e.__c.__P===s&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return qO(r,t,s)})),e}function HO(e,t,s){return e&&s&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return HO(r,t,s)}),e.__c&&e.__c.__P===t&&(e.__e&&s.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=s)),e}function Jy(){this.__u=0,this.o=null,this.__b=null}function WO(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function up(){this.i=null,this.l=null}ft.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),LC&&LC(e)},(Jy.prototype=new Rn).__c=function(e,t){var s=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(s);var i=WO(r.__v),a=!1,o=function(){a||(a=!0,s.__R=null,i?i(l):l())};s.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=HO(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.o.pop();)d.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},Jy.prototype.componentWillUnmount=function(){this.o=[]},Jy.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=qO(this.__b,s,r.__O=r.__P)}this.__b=null}var i=t.__a&&Eh(zr,null,e.fallback);return i&&(i.__u&=-33),[Eh(zr,null,t.__a?null:e.children),i]};var $C=function(e,t,s){if(++s[1]===s[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(s=e.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.i=s=s[2]}};(up.prototype=new Rn).__a=function(e){var t=this,s=WO(t.__v),r=t.l.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),$C(t,e,r)):i()};s?s(a):a()}},up.prototype.render=function(e){this.i=null,this.l=new Map;var t=Fr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var s=t.length;s--;)this.l.set(t[s],this.i=[1,0,this.i]);return e.children},up.prototype.componentDidUpdate=up.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,s){$C(e,s,t)})};var Sie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Cie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kie=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,_ie=/[A-Z0-9]/g,Tie=typeof document<"u",Pie=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function UC(e,t,s){return t.__k==null&&(t.textContent=""),xie(e,t),typeof s=="function"&&s(),e?e.__c:null}Rn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Rn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var BC=ft.event;function Eie(){}function Aie(){return this.cancelBubble}function Die(){return this.defaultPrevented}ft.event=function(e){return BC&&(e=BC(e)),e.persist=Eie,e.isPropagationStopped=Aie,e.isDefaultPrevented=Die,e.nativeEvent=e};var Mie={enumerable:!1,configurable:!0,get:function(){return this.class}},zC=ft.vnode;ft.vnode=function(e){typeof e.type=="string"&&function(t){var s=t.props,r=t.type,i={},a=r.indexOf("-")===-1;for(var o in s){var l=s[o];if(!(o==="value"&&"defaultValue"in s&&l==null||Tie&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in s&&s.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||Pie(s.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":kie.test(o)&&(o=c):c=o="oninput":a&&Cie.test(o)?o=o.replace(_ie,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Fr(s.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Fr(s.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),s.class&&!s.className?(i.class=s.class,Object.defineProperty(i,"className",Mie)):(s.className&&!s.class||s.class&&s.className)&&(i.class=i.className=s.className),t.props=i}(e),e.$$typeof=Sie,zC&&zC(e)};var VC=ft.__r;ft.__r=function(e){VC&&VC(e),e.__c};var qC=ft.diffed;ft.diffed=function(e){qC&&qC(e);var t=e.props,s=e.__e;s!=null&&e.type==="textarea"&&"value"in t&&t.value!==s.value&&(s.value=t.value==null?"":t.value)};function Iie(e){let t=null,s;return(...r)=>(s=r,t||(t=Promise.resolve().then(()=>(t=null,e(...s)))),t)}var Uh;const bg=class bg extends kO{constructor(){super(...arguments);K(this,Uh);A(this,"isTargetDOMEl");A(this,"el");A(this,"parent");A(this,"title")}getTargetPlugin(s){let r;if(typeof(s==null?void 0:s.addTarget)=="function")r=s,r instanceof bg||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:bg}}));else if(typeof s=="function"){const i=s;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(s,r){const i=r.id,a=die(s);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),te(this,Uh,Iie(d=>{this.uppy.getPlugin(this.id)&&(UC(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${s}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),UC(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||TO(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(s);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof s=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(s,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(s){var r;this.el!=null&&((r=_(this,Uh))==null||r.call(this,s))}unmount(){var s;this.isTargetDOMEl&&((s=this.el)==null||s.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Uh=new WeakMap;let Nd=bg;const Rie="@uppy/store-default",Fie="The default simple object-based store for Uppy.",Oie="4.3.2",Lie="MIT",$ie="lib/index.js",Uie="module",Bie={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},zie=["file uploader","uppy","uppy-store"],Vie="https://uppy.io",qie={url:"https://github.com/transloadit/uppy/issues"},Hie={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Wie={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Gie=["src","lib","dist","CHANGELOG.md"],Kie={name:Rie,description:Fie,version:Oie,license:Lie,main:$ie,type:Uie,scripts:Bie,keywords:zie,homepage:Vie,bugs:qie,devDependencies:Hie,repository:Wie,files:Gie};var Ic,jg,KO;class GO{constructor(){K(this,jg);A(this,"state",{});K(this,Ic,new Set)}getState(){return this.state}setState(t){const s={...this.state},r={...this.state,...t};this.state=r,ne(this,jg,KO).call(this,s,r,t)}subscribe(t){return _(this,Ic).add(t),()=>{_(this,Ic).delete(t)}}}Ic=new WeakMap,jg=new WeakSet,KO=function(...t){_(this,Ic).forEach(s=>{s(...t)})},A(GO,"VERSION",Kie.version);function QO(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const HC={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function YO(e){var s;if(e.type)return e.type;const t=e.name?(s=QO(e.name).extension)==null?void 0:s.toLowerCase():null;return t&&t in HC?HC[t]:"application/octet-stream"}function Qie(e){return e.charCodeAt(0).toString(32)}function WC(e){let t="";return e.replace(/[^A-Z0-9]/gi,s=>(t+=`-${Qie(s)}`,"/"))+t}function Yie(e,t){let s=t||"uppy";return typeof e.name=="string"&&(s+=`-${WC(e.name.toLowerCase())}`),e.type!==void 0&&(s+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(s+=`-${WC(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(s+=`-${e.data.size}`),e.data.lastModified!==void 0&&(s+=`-${e.data.lastModified}`),s}function Xie(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function Zie(e,t){if(Xie(e))return e.id;const s=YO(e);return Yie({...e,type:s},t)}function Jie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yN=Jie,eae=typeof Am=="object"&&Am&&Am.Object===Object&&Am,tae=eae,sae=tae,nae=typeof self=="object"&&self&&self.Object===Object&&self,rae=sae||nae||Function("return this")(),XO=rae,iae=XO,aae=function(){return iae.Date.now()},oae=aae,lae=/\s/;function cae(e){for(var t=e.length;t--&&lae.test(e.charAt(t)););return t}var dae=cae,uae=dae,hae=/^\s+/;function mae(e){return e&&e.slice(0,uae(e)+1).replace(hae,"")}var pae=mae,fae=XO,gae=fae.Symbol,ZO=gae,GC=ZO,JO=Object.prototype,xae=JO.hasOwnProperty,yae=JO.toString,iu=GC?GC.toStringTag:void 0;function vae(e){var t=xae.call(e,iu),s=e[iu];try{e[iu]=void 0;var r=!0}catch{}var i=yae.call(e);return r&&(t?e[iu]=s:delete e[iu]),i}var bae=vae,jae=Object.prototype,wae=jae.toString;function Nae(e){return wae.call(e)}var Sae=Nae,KC=ZO,Cae=bae,kae=Sae,_ae="[object Null]",Tae="[object Undefined]",QC=KC?KC.toStringTag:void 0;function Pae(e){return e==null?e===void 0?Tae:_ae:QC&&QC in Object(e)?Cae(e):kae(e)}var Eae=Pae;function Aae(e){return e!=null&&typeof e=="object"}var Dae=Aae,Mae=Eae,Iae=Dae,Rae="[object Symbol]";function Fae(e){return typeof e=="symbol"||Iae(e)&&Mae(e)==Rae}var Oae=Fae,Lae=pae,YC=yN,$ae=Oae,XC=NaN,Uae=/^[-+]0x[0-9a-f]+$/i,Bae=/^0b[01]+$/i,zae=/^0o[0-7]+$/i,Vae=parseInt;function qae(e){if(typeof e=="number")return e;if($ae(e))return XC;if(YC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lae(e);var s=Bae.test(e);return s||zae.test(e)?Vae(e.slice(2),s?2:8):Uae.test(e)?XC:+e}var Hae=qae,Wae=yN,ev=oae,ZC=Hae,Gae="Expected a function",Kae=Math.max,Qae=Math.min;function Yae(e,t,s){var r,i,a,o,l,c,d=0,h=!1,u=!1,m=!0;if(typeof e!="function")throw new TypeError(Gae);t=ZC(t)||0,Wae(s)&&(h=!!s.leading,u="maxWait"in s,a=u?Kae(ZC(s.maxWait)||0,t):a,m="trailing"in s?!!s.trailing:m);function f(N){var S=r,k=i;return r=i=void 0,d=N,o=e.apply(k,S),o}function j(N){return d=N,l=setTimeout(p,t),h?f(N):o}function x(N){var S=N-c,k=N-d,T=t-S;return u?Qae(T,a-k):T}function g(N){var S=N-c,k=N-d;return c===void 0||S>=t||S<0||u&&k>=a}function p(){var N=ev();if(g(N))return y(N);l=setTimeout(p,x(N))}function y(N){return l=void 0,m&&r?f(N):(r=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function w(){return l===void 0?o:y(ev())}function C(){var N=ev(),S=g(N);if(r=arguments,i=this,c=N,S){if(l===void 0)return j(c);if(u)return clearTimeout(l),l=setTimeout(p,t),f(c)}return l===void 0&&(l=setTimeout(p,t)),o}return C.cancel=b,C.flush=w,C}var eL=Yae;const Xae=Mi(eL);var Zae=eL,Jae=yN,eoe="Expected a function";function toe(e,t,s){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(eoe);return Jae(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),Zae(e,t,{leading:r,maxWait:t,trailing:i})}var soe=toe;const noe=Mi(soe);var roe=function(){var t={},s=t._fns={};t.emit=function(o,l,c,d,h,u,m){var f=r(o);f.length&&i(o,f,[l,c,d,h,u,m])},t.on=function(o,l){s[o]||(s[o]=[]),s[o].push(l)},t.once=function(o,l){function c(){l.apply(this,arguments),t.off(o,c)}this.on(o,c)},t.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],h=0,u=d?d.length:0;for(h;h<u;h++)d[h]!==l&&c.push(d[h])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=s[a]?s[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(s),h=0,u=d.length;for(h;h<u;h++){var m=d[h];if(m==="*"&&(o=o.concat(s[m])),c.length===2&&c[0]===m){o=o.concat(s[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return t};const ioe=Mi(roe);let aoe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ooe=(e=21)=>{let t="",s=e|0;for(;s--;)t+=aoe[Math.random()*64|0];return t};const loe="@uppy/core",coe="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",doe="4.5.2",uoe="MIT",hoe="lib/index.js",moe="dist/style.min.css",poe="module",foe=["*.css"],goe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},xoe=["file uploader","uppy","uppy-plugin"],yoe="https://uppy.io",voe={url:"https://github.com/transloadit/uppy/issues"},boe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},joe=["src","lib","dist","CHANGELOG.md"],woe={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Noe={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Soe={name:loe,description:coe,version:doe,license:uoe,main:hoe,style:moe,type:poe,sideEffects:foe,scripts:goe,keywords:xoe,homepage:yoe,bugs:voe,repository:boe,files:joe,dependencies:woe,devDependencies:Noe};function Coe(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const koe={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var _oe=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const s=t<0;let r=Math.abs(t);if(s&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Uo=Mi(_oe);function tL(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}tL.prototype.match=function(e){var t=!0,s=this.parts,r,i=s.length,a;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(a=(e||"").split(this.separator),r=0;t&&r<i;r++)s[r]!=="*"&&(r<a.length?t=s[r]===a[r]:t=!1);t=t&&a}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var Toe=function(e,t,s){var r=new tL(e,s||/[\/\.]/);return typeof t<"u"?r.match(t):r},Poe=Toe,Eoe=/[\/\+\.]/,Aoe=function(e,t){function s(r){var i=Poe(r,e,Eoe);return i&&i.length>=2}return t?s(t.split(";")[0]):s};const Doe=Mi(Aoe),Moe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Ar extends Error{constructor(s,r){super(s);A(this,"isUserFacing");A(this,"file");A(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class Ioe{constructor(t,s){A(this,"getI18n");A(this,"getOpts");this.getI18n=s,this.getOpts=()=>{var i;const r=t();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(t,s){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(o=>!o.isGhost).length+s.length>i)throw new Ar(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...t,...s].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Ar(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Uo(r),size:Uo(a)}))}}validateSingleFile(t){const{maxFileSize:s,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?t.type?Doe(t.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&t.extension?t.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Ar(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:t})}if(s&&t.size!=null&&t.size>s)throw new Ar(this.getI18n()("exceedsSize",{size:Uo(s),file:t.name??this.getI18n()("unnamed")}),{file:t});if(r&&t.size!=null&&t.size<r)throw new Ar(this.getI18n()("inferiorSize",{size:Uo(r)}),{file:t})}validate(t,s){s.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,s)}validateMinNumberOfFiles(t){const{minNumberOfFiles:s}=this.getOpts().restrictions;if(s&&Object.keys(t).length<s)throw new Ar(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:s}))}getMissingRequiredMetaFields(t){const s=new Ar(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(t.meta,a)||t.meta[a]==="")&&i.push(a);return{missingFields:i,error:s}}}function Roe(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const hp={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Sr,Cr,Bh,Ko,Rc,Fc,Qo,Qe,Mo,bb,sL,jb,nL,wb,Nb,Sb,Cb,wg,kb,Yo,rL,iL,Ba,zh,gu,aL,Yp,xu;const Ng=class Ng{constructor(t){K(this,Qe);K(this,Sr,Object.create(null));K(this,Cr);K(this,Bh);K(this,Ko,ioe());K(this,Rc,new Set);K(this,Fc,new Set);K(this,Qo,new Set);A(this,"defaultLocale");A(this,"locale");A(this,"opts");A(this,"store");A(this,"i18n");A(this,"i18nArray");A(this,"scheduledAutoProceed",null);A(this,"wasOffline",!1);K(this,wg,(t,s)=>{const r=t?this.getFile(t.id):void 0;if(t==null||!r){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const i={bytesTotal:s.bytesTotal,percentage:s.bytesTotal!=null&&Number.isFinite(s.bytesTotal)&&s.bytesTotal>0?Math.round(s.bytesUploaded/s.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...r.progress,...i,bytesUploaded:s.bytesUploaded}}):this.setFileState(t.id,{progress:{...r.progress,...i}}),_(this,Yo).call(this)});K(this,Yo,noe(()=>ne(this,Qe,kb).call(this),500,{leading:!0,trailing:!0}));K(this,Ba,this.updateOnlineStatus.bind(this));K(this,zh,new Map);this.defaultLocale=koe;const s={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Moe,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new GO,logger:lie,infoTimeout:5e3},r={...s,...t};this.opts={...r,restrictions:{...s.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=cie),this.log(`Using Core v${Ng.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...hp,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Roe(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),te(this,Cr,new Ioe(()=>this.opts,()=>this.i18n)),te(this,Bh,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ne(this,Qe,iL).call(this)}emit(t,...s){_(this,Ko).emit(t,...s)}on(t,s){return _(this,Ko).on(t,s),this}once(t,s){return _(this,Ko).once(t,s),this}off(t,s){return _(this,Ko).off(t,s),this}updateAll(t){this.iteratePlugins(s=>{s.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const s=this.getState().files;this.setState({files:{...s,...Object.fromEntries(Object.entries(t).map(([r,i])=>[r,{...s[r],...i}]))}})}setFileState(t,s){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:s})}i18nInit(){const t=r=>this.log(`Missing i18n string: ${r}`,"error"),s=new CO([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=s.translate.bind(s),this.i18nArray=s.translateArray.bind(s),this.locale=s.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(s=>{s.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},r=Object.create(null);Object.keys(s).forEach(i=>{r[i]={...s[i],progress:{...s[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...hp})}clear(){const{capabilities:t,currentUploads:s}=this.getState();if(Object.keys(s).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...hp,files:{}})}addPreProcessor(t){_(this,Rc).add(t)}removePreProcessor(t){return _(this,Rc).delete(t)}addPostProcessor(t){_(this,Qo).add(t)}removePostProcessor(t){return _(this,Qo).delete(t)}addUploader(t){_(this,Fc).add(t)}removeUploader(t){return _(this,Fc).delete(t)}setMeta(t){const s={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:s,files:r})}setFileMeta(t,s){const r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const i={...r[t].meta,...s};r[t]={...r[t],meta:i},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(s=>this.getFile(s))}getObjectOfFilesPerState(){const{files:t,totalProgress:s,error:r}=this.getState(),i=Object.values(t),a=[],o=[],l=[],c=[],d=[],h=[],u=[],m=[],f=[];for(const j of i){const{progress:x}=j;!x.uploadComplete&&x.uploadStarted&&(a.push(j),j.isPaused||m.push(j)),x.uploadStarted||o.push(j),(x.uploadStarted||x.preprocess||x.postprocess)&&l.push(j),x.uploadStarted&&c.push(j),j.isPaused&&d.push(j),x.uploadComplete&&h.push(j),j.error&&u.push(j),(x.preprocess||x.postprocess)&&f.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:h,erroredFiles:u,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:c.length>0,isAllComplete:s===100&&h.length===i.length&&f.length===0,isAllErrored:!!r&&u.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(j=>j.isGhost)}}validateRestrictions(t,s=this.getFiles()){try{_(this,Cr).validate(s,[t])}catch(r){return r}return null}validateSingleFile(t){try{_(this,Cr).validateSingleFile(t)}catch(s){return s.message}return null}validateAggregateRestrictions(t){const s=this.getFiles();try{_(this,Cr).validateAggregateRestrictions(s,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){const{files:s}=this.getState();return!!(s[t]&&!s[t].isGhost)}addFile(t){ne(this,Qe,jb).call(this,t);const{nextFilesState:s,validFilesToAdd:r,errors:i}=ne(this,Qe,Nb).call(this,[t]),a=i.filter(l=>l.isRestriction);if(ne(this,Qe,Mo).call(this,a),i.length>0)throw i[0];this.setState({files:s});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),ne(this,Qe,wb).call(this),o.id}addFiles(t){ne(this,Qe,jb).call(this);const{nextFilesState:s,validFilesToAdd:r,errors:i}=ne(this,Qe,Nb).call(this,t),a=i.filter(l=>l.isRestriction);ne(this,Qe,Mo).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:s}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&ne(this,Qe,wb).call(this)}removeFiles(t){const{files:s,currentUploads:r}=this.getState(),i={...s},a={...r},o=Object.create(null);t.forEach(h=>{s[h]&&(o[h]=s[h],delete i[h])});function l(h){return o[h]===void 0}Object.keys(a).forEach(h=>{const u=r[h].fileIDs.filter(l);if(u.length===0){delete a[h];return}const{capabilities:m}=this.getState();if(u.length!==r[h].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[h]={...r[h],fileIDs:u}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),_(this,Yo).call(this);const d=Object.keys(o);d.forEach(h=>{this.emit("file-removed",o[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const s=this.getFile(t),i=!(s.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",s,i),i}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!0};t[r]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!1,error:null};t[r]=i}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await ne(this,Qe,Cb).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),s=Object.keys(t);s.length&&this.removeFiles(s),this.setState(hp)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const s=ne(this,Qe,gu).call(this,[t],{forceAllowNewUpload:!0});return ne(this,Qe,xu).call(this,s)}logout(){this.iteratePlugins(t=>{var s,r;(r=(s=t.provider)==null?void 0:s.logout)==null||r.call(s)})}[Symbol.for("uppy test: updateTotalProgress")](){return ne(this,Qe,kb).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...s){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new t(this,...s),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),r.type in _(this,Sr)?_(this,Sr)[r.type].push(r):_(this,Sr)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(t){for(const s of Object.values(_(this,Sr))){const r=s.find(i=>i.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return _(this,Sr)[t]}iteratePlugins(t){Object.values(_(this,Sr)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const s=_(this,Sr)[t.type],r=s.findIndex(o=>o.id===t.id);r!==-1&&s.splice(r,1);const a={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),_(this,Bh).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_(this,Ba)),window.removeEventListener("offline",_(this,Ba)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,s="info",r=3e3){const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:s,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,s){const{logger:r}=this.opts;switch(s){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,s){_(this,zh).set(t,s)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const s=_(this,zh).get(t.remote.requestClientId);if(s==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return s}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?ne(this,Qe,xu).call(this,t):(ne(this,Qe,Yp).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return ne(this,Qe,gu).call(this,...t)}addResultData(t,s){if(!ne(this,Qe,aL).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:r}=this.getState(),i={...r[t],result:{...r[t].result,...s}};this.setState({currentUploads:{...r,[t]:i}})}async upload(){var i;(i=_(this,Sr).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(ne(this,Qe,Sb).call(this).length>0){const a=await ne(this,Qe,Cb).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:t}=this.getState())}const r=this.opts.onBeforeUpload(t);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>_(this,Cr).validateMinNumberOfFiles(t)).catch(a=>{throw ne(this,Qe,Mo).call(this,[a]),a}).then(()=>{if(!ne(this,Qe,sL).call(this,t))throw new Ar(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(h=>h.fileIDs),l=[];Object.keys(t).forEach(h=>{const u=this.getFile(h);!u.progress.uploadStarted&&o.indexOf(h)===-1&&l.push(u.id)});const c=ne(this,Qe,gu).call(this,l),d=await ne(this,Qe,xu).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};Sr=new WeakMap,Cr=new WeakMap,Bh=new WeakMap,Ko=new WeakMap,Rc=new WeakMap,Fc=new WeakMap,Qo=new WeakMap,Qe=new WeakSet,Mo=function(t){for(const o of t)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const s=t.filter(o=>o.isUserFacing),r=4,i=s.slice(0,r),a=s.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},bb=function(t){const{missingFields:s,error:r}=_(this,Cr).getMissingRequiredMetaFields(t);return s.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:s}),this.log(r.message),this.emit("restriction-failed",t,r),!1):(s.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},sL=function(t){let s=!0;for(const r of Object.values(t))ne(this,Qe,bb).call(this,r)||(s=!1);return s},jb=function(t){const{allowNewUpload:s}=this.getState();if(s===!1){const r=new Ar(this.i18n("noMoreFilesAllowed"),{file:t});throw ne(this,Qe,Mo).call(this,[r]),r}},nL=function(t){const s=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=YO(s),i=Coe(r,s),a=QO(i).extension,o=Zie(s,this.getID()),l=s.meta||{};l.name=i,l.type=r;const c=Number.isFinite(s.data.size)?s.data.size:null;return{source:s.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,data:s.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:s.isRemote||!1,remote:s.remote,preview:s.preview}},wb=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},Nb=function(t){var o;let{files:s}=this.getState(),r={...s};const i=[],a=[];for(const l of t)try{let c=ne(this,Qe,nL).call(this,l);const d=(o=s[c.id])==null?void 0:o.isGhost;d&&(c={...s[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const h=this.opts.onBeforeFileAdded(c,r);if(s=this.getState().files,r={...s,...r},!h&&this.checkIfFileAlreadyExists(c.id))throw new Ar(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!d)throw new Ar("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(c=h),_(this,Cr).validateSingleFile(c),r[c.id]=c,i.push(c)}catch(c){a.push(c)}try{_(this,Cr).validateAggregateRestrictions(Object.values(s),i)}catch(l){return a.push(l),{nextFilesState:s,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Sb=function(){const{files:t}=this.getState();return Object.keys(t).filter(s=>t[s].error)},Cb=async function(){const t=ne(this,Qe,Sb).call(this),s={...this.getState().files};if(t.forEach(i=>{s[i]={...s[i],isPaused:!1,error:null}}),this.setState({files:s,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const r=ne(this,Qe,gu).call(this,t,{forceAllowNewUpload:!0});return ne(this,Qe,xu).call(this,r)},wg=new WeakMap,kb=function(){const t=ne(this,Qe,rL).call(this);let s=null;t!=null&&(s=Math.round(t*100),s>100?s=100:s<0&&(s=0)),this.emit("progress",s??0),this.setState({totalProgress:s??0})},Yo=new WeakMap,rL=function(){const s=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(s.length===0)return 0;if(s.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=s.filter(r),a=s.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},iL=function(){const t=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",t),this.on("upload-error",(i,a,o)=>{if(t(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),ne(this,Qe,Mo).call(this,[l])}else ne(this,Qe,Mo).call(this,[a])});let s=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");s||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),s=setTimeout(()=>{s=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",_(this,wg)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...o,postprocess:_(this,Qo).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),_(this,Yo).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{_(this,Yo).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ne(this,Qe,bb).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_(this,Ba)),window.addEventListener("offline",_(this,Ba)),setTimeout(_(this,Ba),3e3))},Ba=new WeakMap,zh=new WeakMap,gu=function(t,s={}){const{forceAllowNewUpload:r=!1}=s,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=ooe();return this.emit("upload",o,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:t,step:0,result:{}}}}),o},aL=function(t){const{currentUploads:s}=this.getState();return s[t]},Yp=function(t){const s={...this.getState().currentUploads};delete s[t],this.setState({currentUploads:s})},xu=async function(t){const s=()=>{const{currentUploads:o}=this.getState();return o[t]};let r=s();const i=[..._(this,Rc),..._(this,Fc),..._(this,Qo)];try{for(let o=r.step||0;o<i.length&&r;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:o}}});const{fileIDs:c}=r;await l(c,t),r=s()}}catch(o){throw ne(this,Qe,Yp).call(this,t),o}if(r){r.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),r=s()}let a;return r&&(a=r.result,ne(this,Qe,Yp).call(this,t)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),a={successful:[],failed:[],uploadID:t}),a},A(Ng,"VERSION",Soe.version);let vb=Ng;var Foe=0;function I(e,t,s,r,i,a){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var d={type:e,props:c,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Foe,__i:-1,__u:0,__source:i,__self:a};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return ft.vnode&&ft.vnode(d),d}const Ooe="@uppy/informer",Loe="A notification and error pop-up bar for Uppy.",$oe="4.3.2",Uoe="MIT",Boe="lib/index.js",zoe="dist/style.min.css",Voe="module",qoe={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},Hoe=["file uploader","uppy","uppy-plugin","notification","bar","ui"],Woe="https://uppy.io",Goe={url:"https://github.com/transloadit/uppy/issues"},Koe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Qoe=["src","lib","dist","CHANGELOG.md"],Yoe={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},Xoe={"@uppy/core":"^4.5.2"},Zoe={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Joe={name:Ooe,description:Loe,version:$oe,license:Uoe,main:Boe,style:zoe,type:Voe,scripts:qoe,keywords:Hoe,homepage:Woe,bugs:Goe,repository:Koe,files:Qoe,dependencies:Yoe,peerDependencies:Xoe,devDependencies:Zoe},JC=300;class ele extends Rn{constructor(){super(...arguments);A(this,"ref",hie())}componentWillEnter(s){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(s,JC)}componentWillLeave(s){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(s,JC)}render(){const{children:s}=this.props;return I("div",{className:"uppy-Informer-animated",ref:this.ref,children:s})}}function tle(e,t){return Object.assign(e,t)}function sle(e,t){return(e==null?void 0:e.key)??t}function nle(e,t){const s=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return s[t]||(s[t]=r=>{e.refs[t]=r})}function au(e){const t={};for(let s=0;s<e.length;s++)if(e[s]!=null){const r=sle(e[s],s.toString(36));t[r]=e[s]}return t}function rle(e,t){e=e||{},t=t||{};const s=o=>Object.hasOwn(t,o)?t[o]:e[o],r={};let i=[];for(const o in e)Object.hasOwn(t,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in t){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=s(c)}a[o]=s(o)}for(let o=0;o<i.length;o++)a[i[o]]=s(i[o]);return a}const ile=e=>e;class oL extends Rn{constructor(t,s){super(t,s),this.refs={},this.state={children:au(Fr(Fr(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const s in t)t[s]&&this.performAppear(s)}componentWillReceiveProps(t){const s=au(Fr(t.children)||[]),r=this.state.children;this.setState(a=>({children:rle(a.children,s)}));let i;for(i in s)if(Object.hasOwn(s,i)){const a=r&&Object.hasOwn(r,i);s[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):s[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=s&&Object.hasOwn(s,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:s}=this;this.keysToLeave=[],s.forEach(this.performLeave)}_finishAbort(t){const s=this.keysToAbortLeave.indexOf(t);s!==-1&&this.keysToAbortLeave.splice(s,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillAppear?s.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const s=this.refs[t];s!=null&&s.componentDidAppear&&s.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=au(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillEnter?s.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const s=this.refs[t];s!=null&&s.componentDidEnter&&s.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=au(Fr(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const r=this.refs[t];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const i=au(Fr(this.props.children)||[]);if(i&&Object.hasOwn(i,t))this.performEnter(t);else{const a=tle({},this.state.children);delete a[t],this.setState({children:a})}}render({childFactory:t,transitionLeave:s,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...h},{children:u}){const m=Object.entries(u).map(([f,j])=>{if(!j)return;const x=nle(this,f);return UO(t(j),{ref:x,key:f})}).filter(Boolean);return Eh(d,h,m)}}oL.defaultProps={component:"span",childFactory:ile};class lL extends Nd{constructor(s,r){super(s,r);A(this,"render",s=>I("div",{className:"uppy uppy-Informer",children:I(oL,{children:s.info.map(r=>I(ele,{children:I("p",{role:"alert",children:[r.message," ",r.details&&I("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:s}=this.opts;s&&this.mount(s,this)}}A(lL,"VERSION",Joe.version);var cL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(cL);var ale=cL.exports;const Xr=Mi(ale),ole={position:"relative",width:"100%",minHeight:"100%"},lle={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class cle extends Rn{constructor(s){super(s);A(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});A(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var s;(s=this.focusElement)!=null&&s.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:s}=this.state;s!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:s,rowHeight:r,renderRow:i,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/r),h=Math.floor(c/r);a&&(d=Math.max(0,d-d%a),h+=a);const u=d+h+4,m=s.slice(d,u),f={...ole,height:s.length*r},j={...lle,top:d*r};return I("div",{onScroll:this.handleScroll,...o,children:I("div",{role:"presentation",style:f,children:I("div",{role:"presentation",style:j,children:m.map(i)})})})}}function dle(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:I("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function ek(e,t,s,r){return e===t?e:r===0?t:e+(t-e)*2**(-r/s)}const ule="@uppy/status-bar",hle="A progress bar for Uppy, with many bells and whistles.",mle="4.2.3",ple="MIT",fle="lib/index.js",gle="dist/style.min.css",xle="module",yle={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},vle=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],ble="https://uppy.io",jle={url:"https://github.com/transloadit/uppy/issues"},wle={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Nle=["src","lib","dist","CHANGELOG.md"],Sle={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},Cle={"@uppy/core":"^4.5.2"},kle={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},_le={name:ule,description:hle,version:mle,license:ple,main:fle,style:gle,type:xle,scripts:yle,keywords:vle,homepage:ble,bugs:jle,repository:wle,files:Nle,dependencies:Sle,peerDependencies:Cle,devDependencies:kle},Tle={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ii={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function Ple(e){const t=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:s,seconds:r}}function Ele(e){const t=Ple(e),s=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${s}${r}${i}`}const Ale="",tk=()=>` ${Ale} `;function Dle(e){const{newFiles:t,isUploadStarted:s,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=e,c=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ii.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=t&&s&&!r?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return I("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function Mle(e){const{i18n:t,uppy:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>s.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:I("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function Ile(e){const{i18n:t,uppy:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>s.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Rle(e){const{isAllPaused:t,i18n:s,isAllComplete:r,resumableUploads:i,uppy:a}=e,o=s(t?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(t){a.resumeAll();return}a.pauseAll()}}return I("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Fle(e){const{i18n:t,doneButtonHandler:s}=e;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:s,"data-uppy-super-focusable":!0,children:t("done")})}function dL(){return I("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:I("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Ole(e){const{progress:t}=e,{value:s,mode:r,message:i}=t;return I("div",{className:"uppy-StatusBar-content",children:[I(dL,{}),r==="determinate"?`${Math.round(s*100)}%  `:"",i]})}function Lle(e){const{numUploads:t,complete:s,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=e,l=t>1,c=Uo(r);return I("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:s,smart_count:t}),I("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&tk(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Uo(i)}):o("dataUploadedOfUnknown",{complete:c}),tk(),a!=null&&o("xTimeLeft",{time:Ele(a)})]})]})}function uL(e){const{i18n:t,complete:s,numUploads:r}=e;return I("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:s,smart_count:r})})}function $le(e){const{i18n:t,newFiles:s,startUpload:r}=e,i=Xr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return I("div",{className:"uppy-StatusBar-statusSecondary",children:[I("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:s})}),I("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:s}),onClick:r,children:t("upload")})]})}function Ule(e){const{i18n:t,supportsUploadProgress:s,totalProgress:r,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:f,startUpload:j}=e,x=c&&a;if(!a||o)return null;const g=t(l?"paused":"uploading");function p(){return!l&&!x&&i?s?I(Lle,{numUploads:d,complete:h,totalUploadedSize:u,totalSize:m,totalETA:f,i18n:t}):I(uL,{i18n:t,complete:h,numUploads:d}):null}return I("div",{className:"uppy-StatusBar-content",title:g,children:[l?null:I(dL,{}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:s&&r!==0?`${g}: ${r}%`:g}),p(),x?I($le,{i18n:t,newFiles:c,startUpload:j}):null]})]})}function Ble(e){const{i18n:t}=e;return I("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:I("div",{className:"uppy-StatusBar-status",children:I("div",{className:"uppy-StatusBar-statusPrimary",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:I("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function zle(e){const{error:t,i18n:s,complete:r,numUploads:i}=e;function a(){const o=`${s("uploadFailed")} 

 ${t}`;alert(o)}return I("div",{className:"uppy-StatusBar-content",title:s("uploadFailed"),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:[s("uploadFailed"),I("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":s("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),I(uL,{i18n:s,complete:r,numUploads:i})]})]})}function tv(e){const t=[];let s="indeterminate",r;for(const{progress:a}of Object.values(e)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:s,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const i=t.reduce((a,o)=>a+o/t.length,0);return{mode:s,message:r,value:i}}const{STATE_ERROR:sk,STATE_WAITING:Vle,STATE_PREPROCESSING:sv,STATE_UPLOADING:mp,STATE_POSTPROCESSING:nv,STATE_COMPLETE:pp}=ii;function qle({newFiles:e,allowNewUpload:t,isUploadInProgress:s,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:u,totalProgress:m,files:f,supportsUploadProgress:j,hideAfterFinish:x=!1,isSomeGhost:g,doneButtonHandler:p=void 0,isUploadStarted:y,i18n:b,startUpload:w,uppy:C,isAllComplete:N,showProgressDetails:S=void 0,numUploads:k,complete:T,totalSize:D,totalETA:P,totalUploadedSize:M}){function X(){switch(u){case nv:case sv:{const yt=tv(f);return yt.mode==="determinate"?yt.value*100:m}case sk:return null;case mp:return j?m:null;default:return m}}function ee(){switch(u){case nv:case sv:{const{mode:yt}=tv(f);return yt==="indeterminate"}case mp:return!j;default:return!1}}const F=X(),re=F??100,fe=!a&&e&&(!s&&!r||h)&&t&&!o,H=!c&&u!==Vle&&u!==pp,$=i&&!l&&u===mp,oe=a&&!N&&!d,be=p&&u===pp,st=Xr("uppy-StatusBar-progress",{"is-indeterminate":ee()}),_t=Xr("uppy-StatusBar",`is-${u}`,{"has-ghosts":g}),Ft=(()=>{switch(u){case sv:case nv:return I(Ole,{progress:tv(f)});case pp:return I(Ble,{i18n:b});case sk:return I(zle,{error:a,i18n:b,numUploads:k,complete:T});case mp:return I(Ule,{i18n:b,supportsUploadProgress:j,totalProgress:m,showProgressDetails:S,isUploadStarted:y,isAllComplete:N,isAllPaused:r,newFiles:e,numUploads:k,complete:T,totalUploadedSize:M,totalSize:D,totalETA:P,startUpload:w});default:return null}})();return!(fe||oe||$||H||be)&&!Ft||u===pp&&x?null:I("div",{className:_t,children:[I("div",{className:st,style:{width:`${re}%`},role:"progressbar","aria-label":`${re}%`,"aria-valuetext":`${re}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":F}),Ft,I("div",{className:"uppy-StatusBar-actions",children:[fe?I(Dle,{newFiles:e,isUploadStarted:y,recoveredState:h,i18n:b,isSomeGhost:g,startUpload:w,uploadState:u}):null,oe?I(Mle,{i18n:b,uppy:C}):null,$?I(Rle,{isAllPaused:r,i18n:b,isAllComplete:N,resumableUploads:i,uppy:C}):null,H?I(Ile,{i18n:b,uppy:C}):null,be?I(Fle,{i18n:b,doneButtonHandler:p}):null]})]})}const Hle=2e3,Wle=2e3;function Gle(e,t,s,r){if(e)return ii.STATE_ERROR;if(t)return ii.STATE_COMPLETE;if(s)return ii.STATE_WAITING;let i=ii.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ii.STATE_UPLOADING;l.preprocess&&(i=ii.STATE_PREPROCESSING),l.postprocess&&i!==ii.STATE_PREPROCESSING&&(i=ii.STATE_POSTPROCESSING)}return i}const Kle={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var hv,za,Va,Xo,Wi,Sg,hL,Vh;let Qle=(hv=class extends Nd{constructor(s,r){super(s,{...Kle,...r});K(this,Sg);K(this,za);K(this,Va);K(this,Xo);K(this,Wi);A(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));K(this,Vh,()=>{const{recoveredState:s}=this.uppy.getState();if(te(this,Xo,null),te(this,Wi,null),s){te(this,Va,Object.values(s.files).reduce((r,{progress:i})=>r+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}te(this,za,performance.now()),te(this,Va,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Tle,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(s){const{capabilities:r,files:i,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=s,{newFiles:d,startedFiles:h,completeFiles:u,isUploadStarted:m,isAllComplete:f,isAllPaused:j,isUploadInProgress:x,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),p=c?Object.values(i):d,y=!!r.resumableUploads,b=r.uploadProgress!==!1;let w=null,C=0;h.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(w=0,h.forEach(S=>{w+=S.progress.bytesTotal||0,C+=S.progress.bytesUploaded||0})):h.forEach(S=>{C+=S.progress.bytesUploaded||0});const N=ne(this,Sg,hL).call(this,{uploaded:C,total:w});return qle({error:l,uploadState:Gle(l,f,c,s.files||{}),allowNewUpload:a,totalProgress:o,totalSize:w,totalUploadedSize:C,isAllComplete:!1,isAllPaused:j,isUploadStarted:m,isUploadInProgress:x,isSomeGhost:g,recoveredState:c,complete:u.length,newFiles:p.length,numUploads:h.length,totalETA:N,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const s=this.el;TO(s)||(s.dir="ltr")}install(){const{target:s}=this.opts;s&&this.mount(s,this),this.uppy.on("upload",_(this,Vh)),te(this,za,performance.now()),te(this,Va,this.uppy.getFiles().reduce((r,i)=>r+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",_(this,Vh))}},za=new WeakMap,Va=new WeakMap,Xo=new WeakMap,Wi=new WeakMap,Sg=new WeakSet,hL=function(s){if(s.total==null||s.total===0)return null;const r=s.total-s.uploaded;if(r<=0)return null;_(this,za)??te(this,za,performance.now());const i=performance.now()-_(this,za);if(i===0)return Math.round((_(this,Wi)??0)/100)/10;const a=s.uploaded-_(this,Va);if(te(this,Va,s.uploaded),a<=0)return Math.round((_(this,Wi)??0)/100)/10;const o=a/i,l=_(this,Xo)==null?o:ek(o,_(this,Xo),Hle,i);te(this,Xo,l);const c=r/l,d=Math.max(_(this,Wi)-i,0),h=_(this,Wi)==null?c:ek(c,d,Wle,i);return te(this,Wi,h),te(this,za,performance.now()),Math.round(h/100)/10},Vh=new WeakMap,A(hv,"VERSION",_le.version),hv);const Yle=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Xle(e,t,s){const r=Yle.exec(e),i=t.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}function nk(e){return e.startsWith("blob:")}function rk(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function Dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var mL=typeof self<"u"?self:global;const Mh=typeof navigator<"u",Zle=Mh&&typeof HTMLImageElement>"u",ik=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),pL=mL.Buffer,fL=!!pL,Jle=e=>e!==void 0;function gL(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(Jle).length===0)}function Vs(e){let t=new Error(e);throw delete t.stack,t}function ak(e){let t=function(s){let r=0;return s.ifd0.enabled&&(r+=1024),s.exif.enabled&&(r+=2048),s.makerNote&&(r+=2048),s.userComment&&(r+=1024),s.gps.enabled&&(r+=512),s.interop.enabled&&(r+=100),s.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const rv=e=>String.fromCharCode.apply(null,e),ok=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class $r{static from(t,s){return t instanceof this&&t.le===s?t:new $r(t,void 0,void 0,s)}constructor(t,s=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-s);let a=new DataView(t,s,r);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof $r){r===void 0&&(r=t.byteLength-s),(s+=t.byteOffset)+r>t.byteOffset+t.byteLength&&Vs("Creating view outside of available memory in ArrayBuffer");let a=new DataView(t.buffer,s,r);this._swapDataView(a)}else if(typeof t=="number"){let a=new DataView(new ArrayBuffer(t));this._swapDataView(a)}else Vs("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,s,r=$r){return t instanceof DataView||t instanceof $r?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Vs("BufferView.set(): Invalid data argument."),this.toUint8().set(t,s),new r(this,s,t.byteLength)}subarray(t,s){return s=s||this._lengthToEnd(t),new $r(this,t,s)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,s){return new Uint8Array(this.buffer,this.byteOffset+t,s)}getString(t=0,s=this.byteLength){return i=this.getUint8Array(t,s),ok?ok.decode(i):fL?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(rv(i)));var i}getLatin1String(t=0,s=this.byteLength){let r=this.getUint8Array(t,s);return rv(r)}getUnicodeString(t=0,s=this.byteLength){const r=[];for(let i=0;i<s&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return rv(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,s=this.le){return this.dataView.getInt16(t,s)}getInt32(t,s=this.le){return this.dataView.getInt32(t,s)}getUint16(t,s=this.le){return this.dataView.getUint16(t,s)}getUint32(t,s=this.le){return this.dataView.getUint32(t,s)}getFloat32(t,s=this.le){return this.dataView.getFloat32(t,s)}getFloat64(t,s=this.le){return this.dataView.getFloat64(t,s)}getFloat(t,s=this.le){return this.dataView.getFloat32(t,s)}getDouble(t,s=this.le){return this.dataView.getFloat64(t,s)}getUintBytes(t,s,r){switch(s){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,s,r){switch(s){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function _b(e,t){Vs(`${e} '${t}' was not loaded, try using full build of exifr.`)}class vN extends Map{constructor(t){super(),this.kind=t}get(t,s){return this.has(t)||_b(this.kind,t),s&&(t in s||function(r,i){Vs(`Unknown ${r} '${i}'.`)}(this.kind,t),s[t].enabled||_b(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var xL=new vN("file parser"),Dr=new vN("segment parser"),bN=new vN("file reader");let ece=mL.fetch;function lk(e,t){return(s=e).startsWith("data:")||s.length>1e4?Pb(e,t,"base64"):ik&&e.includes("://")?Tb(e,t,"url",ck):ik?Pb(e,t,"fs"):Mh?Tb(e,t,"url",ck):void Vs("Invalid input argument");var s}async function Tb(e,t,s,r){return bN.has(s)?Pb(e,t,s):r?async function(i,a){let o=await a(i);return new $r(o)}(e,r):void Vs(`Parser ${s} is not loaded`)}async function Pb(e,t,s){let r=new(bN.get(s))(e,t);return await r.read(),r}const ck=e=>ece(e).then(t=>t.arrayBuffer()),Eb=e=>new Promise((t,s)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=s,r.readAsArrayBuffer(e)}),jN=new Map,tce=new Map,sce=new Map,fp=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],yL=["jfif","xmp","icc","iptc","ihdr"],Ab=["tiff",...yL],Rs=["ifd0","ifd1","exif","gps","interop"],gp=[...Ab,...Rs],xp=["makerNote","userComment"],vL=["translateKeys","translateValues","reviveValues","multiSegment"],yp=[...vL,"sanitize","mergeOutput","silentErrors"];class bL{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ou extends bL{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,r,i){if(super(),Dt(this,"enabled",!1),Dt(this,"skip",new Set),Dt(this,"pick",new Set),Dt(this,"deps",new Set),Dt(this,"translateKeys",!1),Dt(this,"translateValues",!1),Dt(this,"reviveValues",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Rs.includes(t),this.canBeFiltered&&(this.dict=jN.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Vs(`Invalid options argument: ${r}`)}applyInheritables(t){let s,r;for(s of vL)r=t[s],r!==void 0&&(this[s]=r)}translateTagSet(t,s){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of t)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&s.add(Number(a[i]))):s.add(r)}else for(let r of t)s.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,yg(this.pick,this.deps)):this.enabled&&this.pick.size>0&&yg(this.pick,this.deps)}}var fn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},dk=new Map;class wN extends bL{static useCached(t){let s=dk.get(t);return s!==void 0||(s=new this(t),dk.set(t,s)),s}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Vs(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Mh?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of fp)this[t]=fn[t];for(t of yp)this[t]=fn[t];for(t of xp)this[t]=fn[t];for(t of gp)this[t]=new ou(t,fn[t],void 0,this)}setupFromTrue(){let t;for(t of fp)this[t]=fn[t];for(t of yp)this[t]=fn[t];for(t of xp)this[t]=!0;for(t of gp)this[t]=new ou(t,!0,void 0,this)}setupFromArray(t){let s;for(s of fp)this[s]=fn[s];for(s of yp)this[s]=fn[s];for(s of xp)this[s]=fn[s];for(s of gp)this[s]=new ou(s,!1,void 0,this);this.setupGlobalFilters(t,void 0,Rs)}setupFromObject(t){let s;for(s of(Rs.ifd0=Rs.ifd0||Rs.image,Rs.ifd1=Rs.ifd1||Rs.thumbnail,Object.assign(this,t),fp))this[s]=iv(t[s],fn[s]);for(s of yp)this[s]=iv(t[s],fn[s]);for(s of xp)this[s]=iv(t[s],fn[s]);for(s of Ab)this[s]=new ou(s,fn[s],t[s],this);for(s of Rs)this[s]=new ou(s,fn[s],t[s],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Rs,gp),t.tiff===!0?this.batchEnableWithBool(Rs,!0):t.tiff===!1?this.batchEnableWithUserValue(Rs,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Rs):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Rs)}batchEnableWithBool(t,s){for(let r of t)this[r].enabled=s}batchEnableWithUserValue(t,s){for(let r of t){let i=s[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,s,r,i=r){if(t&&t.length){for(let o of i)this[o].enabled=!1;let a=uk(t,r);for(let[o,l]of a)yg(this[o].pick,l),this[o].enabled=!0}else if(s&&s.length){let a=uk(s,r);for(let[o,l]of a)yg(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:s,xmp:r,iptc:i,icc:a}=this;this.makerNote?s.deps.add(37500):s.skip.add(37500),this.userComment?s.deps.add(37510):s.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),a.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:s,gps:r,interop:i}=this;i.needed&&(s.deps.add(40965),t.deps.add(40965)),s.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Rs.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Rs)this[a].finalizeFilters()}get onlyTiff(){return!yL.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Ab)this[t].enabled&&!Dr.has(t)&&_b("segment parser",t)}}function uk(e,t){let s,r,i,a,o=[];for(i of t){for(a of(s=jN.get(i),r=[],s))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function iv(e,t){return e!==void 0?e:t!==void 0?t:void 0}function yg(e,t){for(let s of t)e.add(s)}Dt(wN,"default",fn);class nce{constructor(t){Dt(this,"parsers",{}),Dt(this,"output",{}),Dt(this,"errors",[]),Dt(this,"pushToErrors",s=>this.errors.push(s)),this.options=wN.useCached(t)}async read(t){this.file=await function(s,r){return typeof s=="string"?lk(s,r):Mh&&!Zle&&s instanceof HTMLImageElement?lk(s.src,r):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new $r(s):Mh&&s instanceof Blob?Tb(s,r,"blob",Eb):void Vs("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,s=t.getUint16(0);for(let[r,i]of xL)if(i.canHandle(t,s))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),Vs("Unknown file format")}async parse(){let{output:t,errors:s}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),s.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&s.length>0&&(t.errors=s),gL(r=t)?void 0:r;var r}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let s=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(t,i)});this.options.silentErrors&&(s=s.map(r=>r.catch(this.pushToErrors))),await Promise.all(s)}async extractThumbnail(){this.setup();let{options:t,file:s}=this,r=Dr.get("tiff",t);var i;if(s.tiff?i={start:0,type:"tiff"}:s.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,t,s),l=await o.extractThumbnail();return s.close&&s.close(),l}}class tc{static findPosition(t,s){let r=t.getUint16(s+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,s,r):this.headerLength,a=s+i,o=r-i;return{offset:s,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(t,s={}){return new this(t,new wN({[this.type]:s}),t).parse()}normalizeInput(t){return t instanceof $r?t:new $r(t)}constructor(t,s={},r){Dt(this,"errors",[]),Dt(this,"raw",new Map),Dt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,s){let r=sce.get(s),i=tce.get(s),a=jN.get(s),o=this.options[s],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,h={};for(let[u,m]of t)l&&r.has(u)?m=r.get(u)(m):c&&i.has(u)&&(m=this.translateValue(m,i.get(u))),d&&a.has(u)&&(u=a.get(u)||u),h[u]=m;return h}translateValue(t,s){return s[t]||s.DEFAULT||t}assignToOutput(t,s){this.assignObjectToOutput(t,this.constructor.type,s)}assignObjectToOutput(t,s,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[s]?Object.assign(t[s],r):t[s]=r}}Dt(tc,"headerLength",4),Dt(tc,"type",void 0),Dt(tc,"multiSegment",!1),Dt(tc,"canHandle",()=>!1);function rce(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function ice(e){return e>=224&&e<=239}function ace(e,t,s){for(let[r,i]of Dr)if(i.canHandle(e,t,s))return r}class hk extends class{constructor(t,s,r){Dt(this,"errors",[]),Dt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){Vs(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):Vs("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=r}injectSegment(t,s){this.options[t].enabled&&this.createParser(t,s)}createParser(t,s){let r=new(Dr.get(t))(s,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let s of t){let{type:r,chunk:i}=s,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(t){let s=t.map(this.ensureSegmentChunk);await Promise.all(s)}}{constructor(...t){super(...t),Dt(this,"appSegments",[]),Dt(this,"jpegSegments",[]),Dt(this,"unknownSegments",[])}static canHandle(t,s){return s===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Dr.keyList())):(t=t===void 0?Dr.keyList().filter(s=>this.options[s].enabled):t.filter(s=>this.options[s].enabled&&Dr.has(s)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,s){this.setupSegmentFinderArgs(s);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Dr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(l=t>c&&!d?!await r.readNextChunk(t):!await r.readNextChunk(c),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,s){s-=2;let r,i,a,o,l,c,{file:d,findAll:h,wanted:u,remaining:m,options:f}=this;for(;t<s;t++)if(d.getUint8(t)===255){if(r=d.getUint8(t+1),ice(r)){if(i=d.getUint16(t+2),a=ace(d,t,i),a&&u.has(a)&&(o=Dr.get(a),l=o.findPosition(d,t),c=f[a],l.type=a,this.appSegments.push(l),!h&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;f.recordUnknownSegments&&(l=tc.findPosition(d,t),l.marker=r,this.unknownSegments.push(l)),t+=i+1}else if(rce(r)){if(i=d.getUint16(t+2),r===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(s=>s.multiSegment))return;let t=function(s,r){let i,a,o,l=new Map;for(let c=0;c<s.length;c++)i=s[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([s,r])=>{let i=Dr.get(s,this.options);return i.handleMultiSegments?{type:s,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(s=>s.type===t)}async getOrFindSegment(t){let s=this.getSegment(t);return s===void 0&&(await this.findAppSegments(0,[t]),s=this.getSegment(t)),s}}Dt(hk,"type","jpeg"),xL.set("jpeg",hk);const oce=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class lce extends tc{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,s,r=new Map){let{pick:i,skip:a}=this.options[s];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(t);t+=2;for(let d=0;d<c;d++){let h=this.chunk.getUint16(t);if(o){if(i.has(h)&&(r.set(h,this.parseTag(t,h,s)),i.delete(h),i.size===0))break}else!l&&a.has(h)||r.set(h,this.parseTag(t,h,s));t+=12}return r}parseTag(t,s,r){let{chunk:i}=this,a=i.getUint16(t+2),o=i.getUint32(t+4),l=oce[a];if(l*o<=4?t+=8:t=i.getUint32(t+8),(a<1||a>13)&&Vs(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${t}`),t>i.byteLength&&Vs(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${t} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(t,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(t,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(t,o);if(o===1)return this.parseTagValue(a,t);{let d=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),h=l;for(let u=0;u<o;u++)d[u]=this.parseTagValue(a,t),t+=h;return d}}parseTagValue(t,s){let{chunk:r}=this;switch(t){case 1:return r.getUint8(s);case 3:return r.getUint16(s);case 4:return r.getUint32(s);case 5:return r.getUint32(s)/r.getUint32(s+4);case 6:return r.getInt8(s);case 8:return r.getInt16(s);case 9:return r.getInt32(s);case 10:return r.getInt32(s)/r.getInt32(s+4);case 11:return r.getFloat(s);case 12:return r.getDouble(s);case 13:return r.getUint32(s);default:Vs(`Invalid tiff type ${t}`)}}}class av extends lce{static canHandle(t,s){return t.getUint8(s+1)===225&&t.getUint32(s+4)===1165519206&&t.getUint16(s+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let s=this[t]();return s.catch!==void 0&&(s=s.catch(this.handleError)),s}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),s=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(s)}}parseBlock(t,s){let r=new Map;return this[s]=r,this.parseTags(t,s,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Vs("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Vs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,ak(this.options));let s=this.parseBlock(this.ifd0Offset,"ifd0");return s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,ak(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,s){let r=t.get(s);r&&r.length===1&&t.set(s,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",mk(...t.get(2),t.get(1))),t.set("longitude",mk(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),s=this.ifd1.get(514);return this.chunk.getUint8Array(t,s)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,s,r,i={};for(s of Rs)if(t=this[s],!gL(t))if(r=this.canTranslate?this.translateBlock(t,s):Object.fromEntries(t),this.options.mergeOutput){if(s==="ifd1")continue;Object.assign(i,r)}else i[s]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,s){if(this.globalOptions.mergeOutput)Object.assign(t,s);else for(let[r,i]of Object.entries(s))this.assignObjectToOutput(t,r,i)}}function mk(e,t,s,r){var i=e+t/60+s/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Dt(av,"type","tiff"),Dt(av,"headerLength",10),Dr.set("tiff",av);const NN={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},NN,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},NN,{tiff:!1,ifd1:!0,mergeOutput:!1});const cce=Object.assign({},NN,{firstChunkSize:4e4,ifd0:[274]});async function dce(e){let t=new nce(cce);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const uce=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let yu=!0,vu=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,s,r]=t;yu=Number(s)+.1*Number(r)<13.4,vu=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);yu=vu=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);yu=vu=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);yu=vu=Number(t)<77}}async function hce(e){let t=await dce(e);return Object.assign({canvas:yu,css:vu},uce[t])}class mce extends $r{constructor(...t){super(...t),Dt(this,"ranges",new pce),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,s,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+s;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(t){let s;s=fL?pL.allocUnsafe(t):new Uint8Array(t);let r=new DataView(s.buffer,s.byteOffset,s.byteLength);return s.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:s,dataView:r}}subarray(t,s,r=!1){return s=s||this._lengthToEnd(t),r&&this._tryExtend(t,s),this.ranges.add(t,s),super.subarray(t,s)}set(t,s,r=!1){r&&this._tryExtend(s,t.byteLength,t);let i=super.set(t,s);return this.ranges.add(s,i.byteLength),i}async ensureChunk(t,s){this.chunked&&(this.ranges.available(t,s)||await this.readChunk(t,s))}available(t,s){return this.ranges.available(t,s)}}class pce{constructor(){Dt(this,"list",[])}get length(){return this.list.length}add(t,s,r=0){let i=t+s,a=this.list.filter(o=>pk(t,o.offset,i)||pk(t,o.end,i));if(a.length>0){t=Math.min(t,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),s=i-t;let o=a.shift();o.offset=t,o.length=s,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:t,length:s,end:i})}available(t,s){let r=t+s;return this.list.some(i=>i.offset<=t&&r<=i.end)}}function pk(e,t,s){return e<=t&&t<=s}class fce extends mce{constructor(t,s){super(0),Dt(this,"chunksRead",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let s=this.options.chunkSize,r=await this.readChunk(t,s);return!!r&&r.byteLength===s}async readChunk(t,s){if(this.chunksRead++,(s=this.safeWrapAddress(t,s))!==0)return this._readChunk(t,s)}safeWrapAddress(t,s){return this.size!==void 0&&t+s>this.size?Math.max(0,this.size-t):s}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}bN.set("blob",class extends fce{async readWhole(){this.chunked=!1;let e=await Eb(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,r=this.input.slice(e,s),i=await Eb(r);return this.set(i,e,!0)}});const gce="@uppy/thumbnail-generator",xce="Uppy plugin that generates small previews of images to show on your upload UI.",yce="4.2.2",vce="MIT",bce="lib/index.js",jce="module",wce={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Nce=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],Sce="https://uppy.io",Cce={url:"https://github.com/transloadit/uppy/issues"},kce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},_ce=["src","lib","dist","CHANGELOG.md"],Tce={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},Pce={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Ece={"@uppy/core":"^4.5.2"},Ace={name:gce,description:xce,version:yce,license:vce,main:bce,type:jce,scripts:wce,keywords:Nce,homepage:Sce,bugs:Cce,repository:kce,files:_ce,dependencies:Tce,devDependencies:Pce,peerDependencies:Ece},Dce={strings:{generatingThumbnails:"Generating thumbnails..."}};function Mce(e,t,s){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(r=>{e.toBlob(r,t,s)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>Xle(e.toDataURL(t,s),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function Ice(e,t){let s=e.width,r=e.height;(t.deg===90||t.deg===270)&&(s=e.height,r=e.width);const i=document.createElement("canvas");i.width=s,i.height=r;const a=i.getContext("2d");return a.translate(s/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}function Rce(e){const t=e.width/e.height,s=5e6,r=4096;let i=Math.floor(Math.sqrt(s*t)),a=Math.floor(s/Math.sqrt(s*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}const Fce={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class jL extends Nd{constructor(s,r){super(s,{...Fce,...r});A(this,"queue");A(this,"queueProcessing");A(this,"defaultThumbnailDimension");A(this,"thumbnailType");A(this,"onFileAdded",s=>{!s.preview&&s.data&&rk(s.type)&&!s.isRemote&&this.addToQueue(s.id)});A(this,"onCancelRequest",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1)});A(this,"onFileRemoved",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1),s.preview&&nk(s.preview)&&URL.revokeObjectURL(s.preview)});A(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||nk(r.preview))&&this.addToQueue(r.id)})});A(this,"onAllFilesRemoved",()=>{this.queue=[]});A(this,"waitUntilAllProcessed",s=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Dce,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(s,r,i){const a=URL.createObjectURL(s.data),o=new Promise((c,d)=>{const h=new Image;h.src=a,h.addEventListener("load",()=>{URL.revokeObjectURL(a),c(h)}),h.addEventListener("error",u=>{URL.revokeObjectURL(a),d(u.error||new Error("Could not create thumbnail"))})}),l=hce(s.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const h=this.getProportionalDimensions(c,r,i,d.deg),u=Ice(c,d),m=this.resizeImage(u,h.width,h.height);return Mce(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(s,r,i,a){let o=s.width/s.height;return(a===90||a===270)&&(o=s.height/s.width),r!=null?{width:r,height:Math.round(r/o)}:i!=null?{width:Math.round(i*o),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(s,r,i){let a=Rce(s),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(a,0,0,l,c),a=h,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(s,r){this.uppy.setFileState(s,{preview:r})}addToQueue(s){this.queue.push(s),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const s=this.uppy.getFile(this.queue.shift());return s?this.requestThumbnail(s).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(s){return rk(s.type)&&!s.isRemote?this.createThumbnail(s,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(s.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${s.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(s.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${s.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(s.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}A(jL,"VERSION",Ace.version);function fk(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&_O(e)?[e]:null}const Ou=Array.from;function Oce(e){const t=Ou(e.files);return Promise.resolve(t)}function wL(e,t,s,{onSuccess:r}){e.readEntries(i=>{const a=[...t,...i];i.length?queueMicrotask(()=>{wL(e,a,s,{onSuccess:r})}):r(a)},i=>{s(i),r(t)})}function NL(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((s,r)=>e.file(s,r))},async*values(){const s=e.createReader();yield*await new Promise(i=>{wL(s,[],t,{onSuccess:a=>i(a.map(o=>NL(o,t)))})})},isSameEntry:void 0}}async function*SL(e,t,s=void 0){const r=()=>`${t}/${e.name}`;if(e.kind==="file"){const i=await e.getFile();i!=null?(i.relativePath=t?r():null,yield i):s!=null&&(yield s)}else if(e.kind==="directory")for await(const i of e.values())yield*SL(i,t?r():e.name);else s!=null&&(yield s)}async function*Lce(e,t){const s=await Promise.all(Array.from(e.items,async r=>{let i;return i??(i=NL(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),t)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of s)if(i!=null)try{yield*SL(i,"",r)}catch(a){r!=null?yield r:t(a)}else r!=null&&(yield r)}async function $ce(e,t){const s=(t==null?void 0:t.logDropError)??Function.prototype;try{const r=[];for await(const i of Lce(e,s))r.push(i);return r}catch{return Oce(e)}}let Uce="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",CL=(e=21)=>{let t="",s=e|0;for(;s--;)t+=Uce[Math.random()*64|0];return t};const Bce="@uppy/dashboard",zce="Universal UI plugin for Uppy.",Vce="4.4.3",qce="MIT",Hce="lib/index.js",Wce="dist/style.min.css",Gce="module",Kce={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Qce=["file uploader","uppy","uppy-plugin","dashboard","ui"],Yce="https://uppy.io",Xce={url:"https://github.com/transloadit/uppy/issues"},Zce={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Jce=["src","lib","dist","CHANGELOG.md"],ede={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},tde={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},sde={"@uppy/core":"^4.5.2"},nde={name:Bce,description:zce,version:Vce,license:qce,main:Hce,style:Wce,type:Gce,scripts:Kce,keywords:Qce,homepage:Yce,bugs:Xce,repository:Zce,files:Jce,dependencies:ede,devDependencies:tde,peerDependencies:sde};function rde(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}class kL extends Rn{constructor(){super(...arguments);A(this,"fileInput",null);A(this,"folderInput",null);A(this,"mobilePhotoFileInput",null);A(this,"mobileVideoFileInput",null);A(this,"triggerFileInputClick",()=>{var s;(s=this.fileInput)==null||s.click()});A(this,"triggerFolderInputClick",()=>{var s;(s=this.folderInput)==null||s.click()});A(this,"triggerVideoCameraInputClick",()=>{var s;(s=this.mobileVideoFileInput)==null||s.click()});A(this,"triggerPhotoCameraInputClick",()=>{var s;(s=this.mobilePhotoFileInput)==null||s.click()});A(this,"onFileInputChange",s=>{this.props.handleInputChange(s),s.currentTarget.value=""});A(this,"renderHiddenInput",(s,r)=>{var i;return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:s,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});A(this,"renderHiddenCameraInput",(s,r,i)=>{const o={photo:"image/*",video:"video/*"}[s];return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${s}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});A(this,"renderMyDeviceAcquirer",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));A(this,"renderPhotoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));A(this,"renderVideoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));A(this,"renderBrowseButton",(s,r)=>{const i=this.props.acquirers.length;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:s})});A(this,"renderDropPasteBrowseTagline",s=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return I("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):s>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});A(this,"renderAcquirer",s=>{var r;return I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":s.id,children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":s.id,"aria-controls":`uppy-DashboardContent-panel--${s.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===s.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(s.id),children:[I("div",{className:"uppy-DashboardTab-inner",children:s.icon()}),I("div",{className:"uppy-DashboardTab-name",children:s.name})]})})});A(this,"renderAcquirers",s=>{const r=[...s],i=r.splice(s.length-2,s.length);return I(zr,{children:[r.map(a=>this.renderAcquirer(a)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});A(this,"renderSourcesList",(s,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...s.map(u=>({key:u.id,elements:this.renderAcquirer(u)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],h=d.splice(o.length-2,o.length);return I(zr,{children:[this.renderDropPasteBrowseTagline(o.length),I("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:u,elements:m})=>I(zr,{children:m},u)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:u,elements:m})=>I(zr,{children:m},u))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:s}=this.props,r=I("span",{children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),I("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=s("poweredBy",{uppy:r});return I("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:s,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return I("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),s&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),I("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&I("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const ide=e=>I("div",{className:Xr("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),I(kL,{...e})]});function ade(e){const t=e.files[e.fileCardFor],s=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return I("div",{className:Xr("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:e.i18n("cancel")}),I("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),I("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))})]})}function ode(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#686DE0",fillRule:"evenodd",children:[I("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),I("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),I("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function lde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function cde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function dde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function ude(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function hde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[I("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),I("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function mde(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function SN(e){const t={color:"#838999",icon:hde()};if(!e)return t;const s=e.split("/")[0],r=e.split("/")[1];return s==="text"?{color:"#5a5e69",icon:mde()}:s==="image"?{color:"#686de0",icon:ode()}:s==="audio"?{color:"#068dbb",icon:lde()}:s==="video"?{color:"#19af67",icon:cde()}:s==="application"&&r==="pdf"?{color:"#e25149",icon:dde()}:s==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:ude()}:t}function Ga(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function _L(e){const{file:t}=e;if(t.preview)return I("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:s,icon:r}=SN(t.type);return I("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[I("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:s},children:r}),I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:I("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function pde(e){const{computedMetaFields:t,requiredMetaFields:s,updateMeta:r,form:i,formState:a}=e,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=s.includes(l.id);return I("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[I("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:h=>r(h,l.id),fieldCSSClasses:o,required:d,form:i.id},Eh):I("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:h=>r(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function fde(e){const{files:t,fileCardFor:s,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:h,canEditFile:u}=e,m=()=>typeof a=="function"?a(t[s]):a,f=t[s],j=m()??[],x=u(f),g={};j.forEach(S=>{g[S.id]=f.meta[S.id]??""});const[p,y]=xg(g),b=vie(S=>{S.preventDefault(),i(p,s)},[i,p,s]),w=(S,k)=>{y({...p,[k]:S})},C=()=>{r(!1)},[N]=xg(()=>{const S=document.createElement("form");return S.setAttribute("tabindex","-1"),S.id=CL(),S});return xb(()=>(document.body.appendChild(N),N.addEventListener("submit",b),()=>{N.removeEventListener("submit",b),document.body.removeChild(N)}),[N,b]),I("div",{className:Xr("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Ga,onDragLeave:Ga,onDrop:Ga,onPaste:Ga,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:f.meta?f.meta.name:f.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",form:N.id,title:c("finishEditingFile"),onClick:C,children:c("cancel")})]}),I("div",{className:"uppy-Dashboard-FileCard-inner",children:[I("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:SN(f.type).color},children:[I(_L,{file:f}),x&&I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:S=>{b(S),l(f)},children:c("editImage")})]}),I("div",{className:"uppy-Dashboard-FileCard-info",children:I(pde,{computedMetaFields:j,requiredMetaFields:o,updateMeta:w,form:N,formState:p})}),I("div",{className:"uppy-Dashboard-FileCard-actions",children:[I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:N.id,children:c("saveChanges")}),I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:C,form:N.id,children:c("cancel")})]})]})]})}function gde(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),r=Object.keys(t),i=s.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=s[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function xde(e,t="Copy the URL below"){return new Promise(s=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(t,e),s()};try{return document.execCommand("copy")?(document.body.removeChild(r),s()):i()}catch{return document.body.removeChild(r),i()}})}function yde({file:e,uploadInProgressOrComplete:t,metaFields:s,canEditFile:r,i18n:i,onClick:a}){return!t&&s&&s.length>0||!t&&r(e)?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:e.meta.name}),title:i("editFileWithFilename",{file:e.meta.name}),onClick:()=>a(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:I("g",{fillRule:"evenodd",children:[I("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),I("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),I("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function vde({i18n:e,onClick:t,file:s}){return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:s.meta.name}),title:e("removeFile",{file:s.meta.name}),onClick:()=>t(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[I("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),I("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function bde({file:e,uppy:t,i18n:s}){const r=i=>{xde(e.uploadURL,s("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(s("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>i.target.focus({preventScroll:!0}))};return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":s("copyLink"),title:s("copyLink"),onClick:i=>r(i),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:I("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function jde(e){const{uppy:t,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:h}=e;return I("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[I(yde,{i18n:c,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,s.id):h(s)}}),o&&s.uploadURL?I(bde,{file:s,uppy:t,i18n:c}):null,l?I(vde,{i18n:c,file:s,onClick:()=>t.removeFile(s.id)}):null]})}const ov="...";function TL(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=ov.length+1)return`${e.slice(0,t-1)}`;const s=t-ov.length,r=Math.ceil(s/2),i=Math.floor(s/2);return e.slice(0,r)+ov+e.slice(-i)}const wde=(e,t)=>(typeof t=="function"?t():t).filter(i=>i.id===e)[0].name;function PL(e){const{file:t,toggleFileCard:s,i18n:r,metaFields:i}=e,{missingRequiredMetaFields:a}=t;if(!(a!=null&&a.length))return null;const o=a.map(l=>wde(l,i)).join(", ");return I("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",I("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>s(!0,t.id),children:r("editFile")})]})}const Nde=e=>{const{author:t,name:s}=e.file.meta;function r(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return I("div",{className:"uppy-Dashboard-Item-name",title:s,children:TL(s,r())})},Sde=e=>{var i;const{author:t}=e.file.meta,s=(i=e.file.remote)==null?void 0:i.providerName,r="";return t?I("div",{className:"uppy-Dashboard-Item-author",children:[I("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:TL(t.name,13)}),s?I(zr,{children:[` ${r} `,s,` ${r} `]}):null]}):null},Cde=e=>e.file.size&&I("div",{className:"uppy-Dashboard-Item-statusSize",children:Uo(e.file.size)}),kde=e=>e.file.isGhost&&I("span",{children:["  ",I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),_de=({file:e,onClick:t})=>e.error?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function Tde(e){const{file:t,i18n:s,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=e;return I("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[I("div",{className:"uppy-Dashboard-Item-fileName",children:[Nde({file:t,isSingleFile:o,containerHeight:l,containerWidth:c}),I(_de,{file:t,onClick:()=>alert(t.error)})]}),I("div",{className:"uppy-Dashboard-Item-status",children:[Sde({file:t}),Cde({file:t}),kde({file:t,toggleAddFilesPanel:a,i18n:s})]}),I(PL,{file:t,i18n:s,toggleFileCard:r,metaFields:i})]})}function Pde(e){const{file:t,i18n:s,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":SN(t.type).color;return I("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&t.uploadURL&&I("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:I("span",{hidden:!0,children:t.meta.name})}),I(_L,{file:t}),I(PL,{file:t,i18n:s,toggleFileCard:r,metaFields:i})]})}function Ede(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function gk(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function lv(e){return I("div",{className:"uppy-Dashboard-Item-progress",children:I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":gk(e),title:gk(e),onClick:()=>Ede(e),children:e.children})})}function vp({children:e}){return I("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function cv({progress:e}){const t=2*Math.PI*15;return I("g",{children:[I("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),I("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function Ade(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(vp,{children:[I("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),I("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?I(lv,{...e,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[I("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),I("path",{d:"M7.9 3H10v2H7.9z"}),I("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),I("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?I(lv,{...e,children:I(vp,{children:[I(cv,{progress:e.file.progress.percentage}),e.file.isPaused?I("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):I("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[I("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),I("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?I(lv,{...e,children:I(vp,{children:[I(cv,{progress:e.file.progress.percentage}),I("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(vp,{children:I(cv,{progress:e.file.progress.percentage})})})})}class Dde extends Rn{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!gde(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,s=t.progress.preprocess||t.progress.postprocess,r=!!t.progress.uploadComplete&&!s&&!t.error,i=!!t.progress.uploadStarted||!!s,a=t.progress.uploadStarted&&!t.progress.uploadComplete||s,o=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Xr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":s,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return I("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[I("div",{className:"uppy-Dashboard-Item-preview",children:[I(Pde,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),I(Ade,{uppy:this.props.uppy,file:t,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),I("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[I(Tde,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),I(jde,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Mde(e,t){const s=[];let r=[];return e.forEach(i=>{r.length<t?r.push(i):(s.push(r),r=[i])}),r.length&&s.push(r),s}function Ide({id:e,i18n:t,uppy:s,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:u,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:j,recoveredState:x,individualCancellation:g,itemsPerRow:p,openFileEditor:y,canEditFile:b,toggleAddFilesPanel:w,containerWidth:C,containerHeight:N}){const S=p===1?71:200,k=xN(()=>{const D=(M,X)=>Number(r[X].isGhost)-Number(r[M].isGhost),P=Object.keys(r);return x&&P.sort(D),Mde(P,p)},[r,p,x]),T=D=>I("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:D.map(P=>I(Dde,{uppy:s,id:e,i18n:t,resumableUploads:i,individualCancellation:g,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:x,isSingleFile:u,containerWidth:C,containerHeight:N,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:j,role:"listitem",openFileEditor:y,canEditFile:b,toggleAddFilesPanel:w,file:r[P]},P))},D[0]);return u?I("div",{class:"uppy-Dashboard-files",children:T(k[0])}):I(cle,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:T,rowHeight:S})}function Rde({activePickerPanel:e,className:t,hideAllPanels:s,i18n:r,state:i,uppy:a}){const o=Kp(null);return I("div",{className:Xr("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Ga,onDragLeave:Ga,onDrop:Ga,onPaste:Ga,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:e.name})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:r("cancel")})]}),I("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(e.id).render(i,o.current)})]})}const ni={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Fde(e,t,s,r={}){if(e)return ni.STATE_ERROR;if(t)return ni.STATE_COMPLETE;if(s)return ni.STATE_PAUSED;let i=ni.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ni.STATE_UPLOADING;l.preprocess&&i!==ni.STATE_UPLOADING&&(i=ni.STATE_PREPROCESSING),l.postprocess&&i!==ni.STATE_UPLOADING&&i!==ni.STATE_PREPROCESSING&&(i=ni.STATE_POSTPROCESSING)}return i}function Ode({files:e,i18n:t,isAllComplete:s,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Fde(r,s,i,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:o.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function Lde(e){const{i18n:t,isAllComplete:s,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=e;let{allowNewUpload:l}=e;return l&&i&&(l=e.totalFileCount<e.maxNumberOfFiles),I("div",{className:"uppy-DashboardContent-bar",children:[!s&&!r?I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:t("cancel")}):I("div",{}),I("div",{className:"uppy-DashboardContent-title",children:I(Ode,{...e})}),l?I("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>a(!0),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:I("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),I("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):I("div",{})]})}const Ol="uppy-transition-slideDownUp",xk=250;function bp({children:e}){const[t,s]=xg(null),[r,i]=xg(""),a=Kp(),o=Kp(),l=Kp(),c=()=>{i(`${Ol}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-enter ${Ol}-enter-active`),a.current=setTimeout(()=>{i("")},xk)})},d=()=>{i(`${Ol}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ol}-leave ${Ol}-leave-active`),o.current=setTimeout(()=>{s(null),i("")},xk)})};return xb(()=>{const h=Fr(e)[0];t!==h&&(h&&!t?c():t&&!h&&!o.current&&d(),s(h))},[e,t]),xb(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),t?UO(t,{className:Xr(r,t.props.className)}):null}const yk=900,vk=700,dv=576,bk=330;function $de(e){const t=e.totalFileCount===0,s=e.totalFileCount===1,r=e.containerWidth>dv,i=e.containerHeight>bk,a=Xr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>dv,"uppy-size--lg":e.containerWidth>vk,"uppy-size--xl":e.containerWidth>yk,"uppy-size--height-md":e.containerHeight>bk,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&s&&i});let o=1;e.containerWidth>yk?o=5:e.containerWidth>vk?o=4:e.containerWidth>dv&&(o=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(m=>e.files[m].isGhost).length:0,h=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return I("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&rde(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[I("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),I("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:I("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:I("span",{"aria-hidden":"true",children:""})}),I("div",{className:"uppy-Dashboard-innerWrap",children:[I("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&I(Lde,{...e}),c&&I("div",{className:"uppy-Dashboard-serviceMsg",children:[I("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:I("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[I("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),I("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),I("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),I("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),I("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?I(Ide,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:s,itemsPerRow:o,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):I(kL,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),I(bp,{children:e.showAddFilesPanel?I(ide,{...e,isSizeMD:r},"AddFiles"):null}),I(bp,{children:e.fileCardFor?I(fde,{...e},"FileCard"):null}),I(bp,{children:e.activePickerPanel?I(Rde,{...e},"Picker"):null}),I(bp,{children:e.showFileEditor?I(ade,{...e},"Editor"):null}),I("div",{className:"uppy-Dashboard-progressindicators",children:e.progressindicators.map(m=>e.uppy.getPlugin(m.id).render(e.state))})]})]})]})}const Ude={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},EL=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function AL(e,t){if(t){const s=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(s)return s}return e}function Bde(){let e=!1;return Xae((s,r)=>{const i=AL(s,r),a=i.contains(document.activeElement);if(a&&e)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const l=i.querySelector(EL);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function jk(e,t){const s=t[0];s&&(s.focus(),e.preventDefault())}function zde(e,t){const s=t[t.length-1];s&&(s.focus(),e.preventDefault())}function Vde(e){return e.contains(document.activeElement)}function DL(e,t,s){const r=AL(s,t),i=Ou(r.querySelectorAll(EL)),a=i.indexOf(document.activeElement);Vde(r)?e.shiftKey&&a===0?zde(e,i):!e.shiftKey&&a===i.length-1&&jk(e,i):jk(e,i)}function qde(e,t,s){t===null||DL(e,t,s)}const wk=9,Hde=27;function Nk(){const e={};return e.promise=new Promise((t,s)=>{e.resolve=t,e.reject=s}),e}const Wde={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:dle,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var mv,Oc,Zo,qh,Lc,Cg,kg,_g,Jo,Tg,Pg,$c,Hs,Db,Mb,ML,Ib,Rb,IL;let Gde=(mv=class extends Nd{constructor(s,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(s,{...Wde,...r,autoOpen:i});K(this,Hs);K(this,Oc);A(this,"modalName",`uppy-Dashboard-${CL()}`);A(this,"superFocus",Bde());A(this,"ifFocusedOnUppyRecently",!1);A(this,"dashboardIsDisabled");A(this,"savedScrollPosition");A(this,"savedActiveElement");A(this,"resizeObserver");A(this,"darkModeMediaQuery");A(this,"makeDashboardInsidesVisibleAnywayTimeout");A(this,"removeTarget",s=>{const i=this.getPluginState().targets.filter(a=>a.id!==s.id);this.setPluginState({targets:i})});A(this,"addTarget",s=>{const r=s.id||s.constructor.name,i=s.title||r,a=s.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});A(this,"hideAllPanels",()=>{var i;const s=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===r.activePickerPanel&&s.showAddFilesPanel===r.showAddFilesPanel&&s.showFileEditor===r.showFileEditor&&s.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=s.activePickerPanel)==null?void 0:i.id))});A(this,"showPanel",s=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===s);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)});A(this,"canEditFile",s=>{const{targets:r}=this.getPluginState();return _(this,Jo).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(s))});A(this,"openFileEditor",s=>{const{targets:r}=this.getPluginState(),i=_(this,Jo).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(s)})});A(this,"closeFileEditor",()=>{const{metaFields:s}=this.getPluginState();s&&s.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});A(this,"saveFileEditor",()=>{const{targets:s}=this.getPluginState();_(this,Jo).call(this,s).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});A(this,"openModal",()=>{const{promise:s,resolve:r}=Nk();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s});A(this,"closeModal",s=>{var c;const r=(s==null?void 0:s.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=Nk();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});A(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);A(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());A(this,"setDarkModeCapability",s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:s}})});A(this,"handleSystemDarkModeChange",s=>{const r=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});A(this,"toggleFileCard",(s,r)=>{const i=this.uppy.getFile(r);s?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:s?r:null,activeOverlayType:s?"FileCard":null})});A(this,"toggleAddFilesPanel",s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})});A(this,"addFiles",s=>{const r=s.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});A(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(s=>{const r=s[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),r=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});A(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});A(this,"recordIfFocusedOnUppyRecently",s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});A(this,"disableInteractiveElements",s=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=_(this,Oc)??Ou(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",s):a.disabled=s;s?te(this,Oc,i):te(this,Oc,null),this.dashboardIsDisabled=s});A(this,"updateBrowserHistory",()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});A(this,"handlePopState",s=>{var r;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=s.state)!=null&&r[this.modalName])&&history.back()});A(this,"handleKeyDownInModal",s=>{s.keyCode===Hde&&this.requestCloseModal(),s.keyCode===wk&&DL(s,this.getPluginState().activeOverlayType,this.el)});A(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});A(this,"handlePaste",s=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,s))});const r=Ou(s.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});A(this,"handleInputChange",s=>{s.preventDefault();const r=Ou(s.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});A(this,"handleDragOver",s=>{s.preventDefault(),s.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,s)&&(l=!0)}),l},i=()=>{const{types:l}=s.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none";return}s.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(s)});A(this,"handleDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(s)});A(this,"handleDrop",async s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,s))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await $ce(s.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(s)});A(this,"handleRequestThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)});A(this,"handleCancelThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)});A(this,"handleKeyDownInInline",s=>{s.keyCode===wk&&qde(s,this.getPluginState().activeOverlayType,this.el)});A(this,"handlePasteOnBody",s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)});A(this,"handleComplete",({failed:s})=>{this.opts.closeAfterFinish&&!(s!=null&&s.length)&&this.requestCloseModal()});A(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});K(this,Zo,()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:s});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});K(this,qh,s=>{const r=s[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});A(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const s=fk(this.opts.trigger);s?s.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_(this,$c)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_(this,Zo)),this.uppy.on("file-removed",_(this,Zo)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",_(this,qh))});A(this,"removeEvents",()=>{const s=fk(this.opts.trigger);!this.opts.inline&&s&&s.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_(this,$c)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_(this,Zo)),this.uppy.off("file-removed",_(this,Zo)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",_(this,qh))});A(this,"superFocusOnEachUpdate",()=>{const s=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||s||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});A(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});A(this,"saveFileCard",(s,r)=>{this.uppy.setFileMeta(r,s),this.toggleFileCard(!1,r)});K(this,Lc,s=>{const r=this.uppy.getPlugin(s.id);return{...s,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});K(this,Cg,s=>{const r=this.uppy.getPlugin(s.id);return typeof r.isSupported!="function"?!0:r.isSupported()});K(this,kg,s=>s.filter(r=>r.type==="acquirer"&&_(this,Cg).call(this,r)).map(_(this,Lc)));K(this,_g,s=>s.filter(r=>r.type==="progressindicator").map(_(this,Lc)));K(this,Jo,s=>s.filter(r=>r.type==="editor").map(_(this,Lc)));A(this,"render",s=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=s,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:j,isAllComplete:x,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),p=_(this,kg).call(this,r.targets),y=_(this,_g).call(this,r.targets),b=_(this,Jo).call(this,r.targets);let w;return this.opts.theme==="auto"?w=a.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),$de({state:s,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:j,isAllComplete:x,isAllPaused:g,totalFileCount:Object.keys(i).length,totalProgress:s.totalProgress,allowNewUpload:o,acquirers:p,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:y,editors:b,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});K(this,Tg,()=>{const{plugins:s}=this.opts;s.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});K(this,Pg,()=>{this.uppy.iteratePlugins(_(this,$c))});K(this,$c,s=>{var i;const r=["acquirer","editor"];s&&!((i=s.opts)!=null&&i.target)&&r.includes(s.type)&&(this.getPluginState().targets.some(o=>s.id===o.id)||s.mount(this,s))});A(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:r}=this.opts;if(s&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(Qle,{id:ne(this,Hs,Ib).call(this),target:this,...ne(this,Hs,Db).call(this)}),this.opts.disableInformer||this.uppy.use(lL,{id:ne(this,Hs,IL).call(this),target:this,...ne(this,Hs,ML).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(jL,{id:ne(this,Hs,Rb).call(this),...ne(this,Hs,Mb).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),_(this,Tg).call(this),_(this,Pg).call(this),this.initEvents()});A(this,"uninstall",()=>{var r;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:s}=this.opts;s.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Ude,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(s){var r,i;super.setOptions(s),(r=this.uppy.getPlugin(ne(this,Hs,Ib).call(this)))==null||r.setOptions(ne(this,Hs,Db).call(this)),(i=this.uppy.getPlugin(ne(this,Hs,Rb).call(this)))==null||i.setOptions(ne(this,Hs,Mb).call(this))}},Oc=new WeakMap,Zo=new WeakMap,qh=new WeakMap,Lc=new WeakMap,Cg=new WeakMap,kg=new WeakMap,_g=new WeakMap,Jo=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,$c=new WeakMap,Hs=new WeakSet,Db=function(){const{hideUploadButton:s,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:s,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Mb=function(){const{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},ML=function(){return{}},Ib=function(){return`${this.id}:StatusBar`},Rb=function(){return`${this.id}:ThumbnailGenerator`},IL=function(){return`${this.id}:Informer`},A(mv,"VERSION",nde.version),mv);const Kde=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qde=/^(aria-|data-)/,RL=e=>Object.fromEntries(Object.entries(e).filter(([t])=>Qde.test(t)||Kde.includes(t)));function Yde(e,t){const s=RL(e);return Object.keys(e).some(r=>!Object.hasOwn(s,r)&&e[r]!==t[r])}class FL extends v.Component{constructor(){super(...arguments);A(this,"container");A(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(s){const{uppy:r,open:i,onRequestClose:a}=this.props;if(s.uppy!==r)this.uninstallPlugin(s),this.installPlugin();else if(Yde(this.props,s)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}s.open&&!i?this.plugin.closeModal():!s.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:s=this.container,open:r,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:s,open:r,onRequestCloseModal:i};a.use(Gde,l),this.plugin=a.getPlugin(l.id),r&&this.plugin.openModal()}uninstallPlugin(s=this.props){const{uppy:r}=s;r.removePlugin(this.plugin)}render(){return v.createElement("div",{className:"uppy-Container",ref:s=>{this.container=s},...RL(this.props)})}}A(FL,"defaultProps",{open:void 0,onRequestClose:void 0});v.createContext({uppy:void 0,status:"init",progress:0});function OL(e,t){return Object.hasOwn(e,t)}class Xde extends Error{constructor(s,r){super(s);A(this,"isNetworkError");A(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&OL(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Zde extends Error{constructor(s,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");A(this,"cause");A(this,"isNetworkError");A(this,"request");this.cause=s,this.isNetworkError=!0,this.request=r}}function Jde(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new Zde(t)})}function eue(e){var i;const s=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:i[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${s}`}class tue extends Error{constructor(){super(...arguments);A(this,"name","UserFacingApiError")}}var LL={};function xr(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var sue=xr;xr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};xr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};xr.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0};xr.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};xr.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};xr.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};xr.prototype.start=xr.prototype.try;xr.prototype.errors=function(){return this._errors};xr.prototype.attempts=function(){return this._attempts};xr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,s=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=s&&(t=i,s=o)}return t};(function(e){var t=sue;e.operation=function(s){var r=e.timeouts(s);return new t(r,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},e.timeouts=function(s){if(s instanceof Array)return[].concat(s);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in s)r[i]=s[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return s&&s.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},e.createTimeout=function(s,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,s));return a=Math.min(a,r.maxTimeout),a},e.wrap=function(s,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in s)typeof s[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=s[l];s[l]=(function(h){var u=e.operation(r),m=Array.prototype.slice.call(arguments,1),f=m.pop();m.push(function(j){u.retry(j)||(j&&(arguments[0]=u.mainError()),f.apply(this,arguments))}),u.attempt(function(){h.apply(s,m)})}).bind(s,c),s[l].options=r}}})(LL);var nue=LL;const rue=Mi(nue),iue=Object.prototype.toString,aue=e=>iue.call(e)==="[object Error]",oue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function lue(e){return e&&aue(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:oue.has(e.message):!1}class Fb extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Sk=(e,t,s)=>{const r=s.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function Ck(e,t){return new Promise((s,r)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const i=rue.operation(t),a=()=>{var l;i.stop(),r((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await e(l);o(),s(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Fb)throw c.originalError;if(c instanceof TypeError&&!lue(c))throw c;if(Sk(c,l,t),await t.shouldRetry(c)||(i.stop(),r(c)),await t.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){Sk(d,l,t),o(),r(d)}}})})}const cue="@uppy/companion-client",due="Client library for communication with Companion. Intended for use in Uppy plugins.",uue="4.5.2",hue="MIT",mue="lib/index.js",pue="module",fue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},gue=["file uploader","uppy","uppy-plugin","companion","provider"],xue="https://uppy.io",yue={url:"https://github.com/transloadit/uppy/issues"},vue={type:"git",url:"git+https://github.com/transloadit/uppy.git"},bue=["src","lib","dist","CHANGELOG.md"],jue={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},wue={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Nue={"@uppy/core":"^4.5.2"},Sue={name:cue,description:due,version:uue,license:hue,main:mue,type:pue,scripts:fue,keywords:gue,homepage:xue,bugs:yue,repository:vue,files:bue,dependencies:jue,devDependencies:wue,peerDependencies:Nue};class Cue extends Error{constructor(){super("Authorization required");A(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function kue(e){return e.replace(/\/$/,"")}const kk=10,_ue=5*60*1e3,Tue=401;class Pue extends Error{constructor({statusCode:s,message:r}){super(r);A(this,"statusCode");this.name="HttpError",this.statusCode=s}}async function Eue(e){if(e.status===Tue)throw new Cue;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,s;try{s=await e.json(),s.message&&(t=`${t} message: ${s.message}`),s.requestId&&(t=`${t} request-Id: ${s.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&s.message?new tue(s.message):new Pue({statusCode:e.status,message:t})}function Aue(e,t,s){const{progress:r,bytesUploaded:i,bytesTotal:a}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",s,{uploadStarted:s.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var el,bo,Ob,Eg,Lb;class $L{constructor(t,s){K(this,bo);K(this,el);A(this,"uppy");A(this,"opts");K(this,Eg,async({file:t,postBody:s,signal:r})=>{var a;if(((a=t.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...s},{signal:r})).token});this.uppy=t,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),te(this,el,s.companionHeaders)}setCompanionHeaders(t){te(this,el,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return _(this,el)}get hostname(){const{companion:t}=this.uppy.getState(),s=this.opts.companionUrl;return kue(t!=null&&t[s]?t[s]:s)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},..._(this,el)}}onReceiveResponse(t){const{headers:s}=t,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;s.has("i-am")&&s.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:s.get("i-am")}})}async request({path:t,method:s="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await Jde(ne(this,bo,Ob).call(this,t),{method:s,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await Eue(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new Xde(`Could not ${s} ${ne(this,bo,Ob).call(this,t)}`,{cause:o})}}async get(t,s){return this.request({...s,path:t})}async post(t,s,r){return this.request({...r,path:t,method:"POST",data:s})}async delete(t,s,r){return this.request({...r,path:t,method:"DELETE",data:s})}async uploadRemoteFile(t,s,r){try{const{signal:i,getQueue:a}=r||{};return await Ck(async()=>{var d;const o=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),ne(this,bo,Lb).call(this,{file:t,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...h)=>{try{return await _(this,Eg).call(this,...h)}catch(u){if(u.isAuthError)throw new Fb(u);if(u.cause==null)throw u;const m=u.cause,f=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!f()?new Fb(m):m}},{priority:-1})({file:t,postBody:s,signal:i}).abortOn(i);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),ne(this,bo,Lb).call(this,{file:this.uppy.getFile(t.id),queue:a(),signal:i})},{retries:kk,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",t,i),i}}}el=new WeakMap,bo=new WeakSet,Ob=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},Eg=new WeakMap,Lb=async function({file:t,queue:s,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=t.serverToken,d=eue(t.remote.companionUrl);let h,u,m,{isPaused:f}=t;const j=(S,k)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${S}" to socket ${t.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:S,payload:k??{}}))};function x(){a.resumableUploads&&j(f?"pause":"resume")}const g=async()=>{u&&u.abort(),u=new AbortController;const S=T=>{var D;this.uppy.setFileState(t.id,{serverToken:null}),(D=u==null?void 0:u.abort)==null||D.call(u),l(T)};function k(){clearTimeout(m),!f&&(m=setTimeout(()=>S(new Error("Timeout waiting for message from Companion socket")),_ue))}try{await s.wrapPromiseFunction(async()=>{await Ck(async()=>new Promise((D,P)=>{h=new WebSocket(`${d}/api/${c}`),k(),h.addEventListener("close",()=>{h=void 0,P(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",X=>{this.uppy.log(`Companion socket error ${JSON.stringify(X)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{x()}),h.addEventListener("message",X=>{var ee,F,re;k();try{const{action:fe,payload:H}=JSON.parse(X.data);switch(fe){case"progress":{Aue(this,H,this.uppy.getFile(t.id));break}case"success":{const $=(ee=H.response)==null?void 0:ee.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:H.url,status:((F=H.response)==null?void 0:F.status)??200,body:$?JSON.parse($):void 0}),(re=u==null?void 0:u.abort)==null||re.call(u),o();break}case"error":{const{message:$}=H.error;throw Object.assign(new Error($),{cause:H.error})}default:this.uppy.log(`Companion socket unknown action ${fe}`,"warning")}}catch(fe){S(fe)}});const M=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(m),h&&h.close(),h=void 0};u.signal.addEventListener("abort",()=>{M()})}),{retries:kk,signal:u.signal,onFailedAttempt:()=>{u.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(u.signal)}catch(T){if(u.signal.aborted)return;S(T)}},p=S=>{a.resumableUploads&&(f=S,h&&x())},y=S=>{var k;a.individualCancellation&&S.id===t.id&&(j("cancel"),(k=u==null?void 0:u.abort)==null||k.call(u),this.uppy.log(`upload ${t.id} was removed`),o())},b=()=>{var S;j("cancel"),(S=u==null?void 0:u.abort)==null||S.call(u),this.uppy.log(`upload ${t.id} was canceled`),o()},w=(S,k)=>{(S==null?void 0:S.id)===t.id&&p(k)},C=()=>p(!0),N=()=>p(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",b),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",C),this.uppy.on("resume-all",N),i=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",b),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",C),this.uppy.off("resume-all",N)},r.addEventListener("abort",()=>{u==null||u.abort()}),g()})}finally{i==null||i()}},A($L,"VERSION",Sue.version);var di,Hh;class Due{constructor(t){K(this,di);K(this,Hh,[]);te(this,di,t)}on(t,s){return _(this,Hh).push([t,s]),_(this,di).on(t,s)}remove(){for(const[t,s]of _(this,Hh).splice(0))_(this,di).off(t,s)}onFilePause(t,s){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&s(i)})}onFileRemove(t,s){this.on("file-removed",r=>{t===r.id&&s(r.id)})}onPause(t,s){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&s(i)})}onRetry(t,s){this.on("upload-retry",r=>{t===(r==null?void 0:r.id)&&s()})}onRetryAll(t,s){this.on("retry-all",()=>{_(this,di).getFile(t)&&s()})}onPauseAll(t,s){this.on("pause-all",()=>{_(this,di).getFile(t)&&s()})}onCancelAll(t,s){this.on("cancel-all",(...r)=>{_(this,di).getFile(t)&&s(...r)})}onResumeAll(t,s){this.on("resume-all",()=>{_(this,di).getFile(t)&&s()})}}di=new WeakMap,Hh=new WeakMap;const{AbortController:uv}=globalThis,UL=(e="Aborted",t)=>{const s=new DOMException(e,"AbortError");return t!=null&&OL(t,"cause")&&Object.defineProperty(s,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),s};function Mue(e){const t=s=>"error"in s&&!!s.error;return e.filter(s=>!t(s))}function Iue(e){return e.filter(t=>{var s;return!((s=t.progress)!=null&&s.uploadStarted)||!t.isRestored})}function _k(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function Rue(e){return new Error("Cancelled",{cause:e})}function Tk(e){var t;if(e!=null){const s=()=>this.abort(e.reason);e.addEventListener("abort",s,{once:!0});const r=()=>{e.removeEventListener("abort",s)};(t=this.then)==null||t.call(this,r,r)}return this}var Gi,ui,Ki,Uc,hi,Bc,tl,ln,$b,bu,BL,zL,VL,Ag,zc;class Fue{constructor(t){K(this,ln);K(this,Gi,0);K(this,ui,[]);K(this,Ki,!1);K(this,Uc);K(this,hi,1);K(this,Bc);K(this,tl);A(this,"limit");K(this,Ag,()=>this.resume());K(this,zc,()=>{if(_(this,Ki)){te(this,tl,setTimeout(_(this,zc),0));return}te(this,hi,this.limit),this.limit=Math.ceil((_(this,Bc)+_(this,hi))/2);for(let t=_(this,hi);t<=this.limit;t++)ne(this,ln,bu).call(this);_(this,Bc)-_(this,hi)>3?te(this,tl,setTimeout(_(this,zc),2e3)):te(this,hi,Math.floor(_(this,hi)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,s){return!_(this,Ki)&&_(this,Gi)<this.limit?ne(this,ln,$b).call(this,t):ne(this,ln,zL).call(this,t,s)}wrapSyncFunction(t,s){return(...r)=>{const i=this.run(()=>(t(...r),queueMicrotask(()=>i.done()),()=>{}),s);return{abortOn:Tk,abort(){i.abort()}}}}wrapPromiseFunction(t,s){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(t(...r))}catch(h){d=Promise.reject(h)}return d.then(h=>{c?l(c):(i.done(),o(h))},h=>{c?l(c):(i.done(),l(h))}),h=>{c=Rue(h)}},s)});return a.abort=o=>{i.abort(o)},a.abortOn=Tk,a}}resume(){te(this,Ki,!1),clearTimeout(_(this,Uc));for(let t=0;t<this.limit;t++)ne(this,ln,bu).call(this)}pause(t=null){te(this,Ki,!0),clearTimeout(_(this,Uc)),t!=null&&te(this,Uc,setTimeout(_(this,Ag),t))}rateLimit(t){clearTimeout(_(this,tl)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(te(this,Bc,this.limit-1),this.limit=_(this,hi),te(this,tl,setTimeout(_(this,zc),t)))}get isPaused(){return _(this,Ki)}}Gi=new WeakMap,ui=new WeakMap,Ki=new WeakMap,Uc=new WeakMap,hi=new WeakMap,Bc=new WeakMap,tl=new WeakMap,ln=new WeakSet,$b=function(t){te(this,Gi,_(this,Gi)+1);let s=!1,r;try{r=t()}catch(i){throw te(this,Gi,_(this,Gi)-1),i}return{abort:i=>{s||(s=!0,te(this,Gi,_(this,Gi)-1),r==null||r(i),ne(this,ln,bu).call(this))},done:()=>{s||(s=!0,te(this,Gi,_(this,Gi)-1),ne(this,ln,bu).call(this))}}},bu=function(){queueMicrotask(()=>ne(this,ln,BL).call(this))},BL=function(){if(_(this,Ki)||_(this,Gi)>=this.limit||_(this,ui).length===0)return;const t=_(this,ui).shift();if(t==null)throw new Error("Invariant violation: next is null");const s=ne(this,ln,$b).call(this,t.fn);t.abort=s.abort,t.done=s.done},zL=function(t,s){const r={fn:t,priority:(s==null?void 0:s.priority)||0,abort:()=>{ne(this,ln,VL).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=_(this,ui).findIndex(a=>r.priority>a.priority);return i===-1?_(this,ui).push(r):_(this,ui).splice(i,0,r),r},VL=function(t){const s=_(this,ui).indexOf(t);s!==-1&&_(this,ui).splice(s,1)},Ag=new WeakMap,zc=new WeakMap;const Oue="@uppy/aws-s3",Lue="Upload to Amazon S3 with Uppy",$ue="4.3.2",Uue="MIT",Bue="lib/index.js",zue="module",Vue={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},que=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],Hue="https://uppy.io",Wue={url:"https://github.com/transloadit/uppy/issues"},Gue={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Kue=["src","lib","dist","CHANGELOG.md"],Que={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Yue={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Xue={"@uppy/core":"^4.5.2"},Zue={name:Oue,description:Lue,version:$ue,license:Uue,main:Bue,type:zue,scripts:Vue,keywords:que,homepage:Hue,bugs:Wue,repository:Gue,files:Kue,dependencies:Que,devDependencies:Yue,peerDependencies:Xue};function Jue({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:s="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[e,t,s,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const CN=new TextEncoder,kN={name:"HMAC",hash:"SHA-256"};async function ehe(e){const{subtle:t}=globalThis.crypto;return t.digest(kN.hash,CN.encode(e))}async function the(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?CN.encode(e):e,kN,!1,["sign"])}function Pk(e){const t=new Uint8Array(e);let s="";for(let r=0;r<t.length;r++)s+=t[r].toString(16).padStart(2,"0");return s}async function lu(e,t){const{subtle:s}=globalThis.crypto;return s.sign(kN,await the(e),CN.encode(t))}async function she({accountKey:e,accountSecret:t,sessionToken:s,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",h=`${d}.${a}.amazonaws.com`,u=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",f=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=f.slice(0,8),x=`${j}/${a}/${d}/aws4_request`,g=new URL(`https://${h}${u}`);g.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),g.searchParams.set("X-Amz-Content-Sha256",m),g.searchParams.set("X-Amz-Credential",`${e}/${x}`),g.searchParams.set("X-Amz-Date",f),g.searchParams.set("X-Amz-Expires",o),g.searchParams.set("X-Amz-Security-Token",s),g.searchParams.set("X-Amz-SignedHeaders","host"),c&&g.searchParams.set("partNumber",c),l&&g.searchParams.set("uploadId",l),g.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const p=Jue({CanonicalUri:u,CanonicalQueryString:g.search.slice(1),SignedHeaders:{host:h},HashedPayload:m}),y=Pk(await ehe(p)),b=["AWS4-HMAC-SHA256",f,x,y].join(`
`),w=await lu(`AWS4${t}`,j),C=await lu(w,a),N=await lu(C,d),S=await lu(N,"aws4_request"),k=Pk(await lu(S,b));return g.searchParams.set("X-Amz-Signature",k),g}const nhe=1024*1024,Ek={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function rhe(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const Xp=Symbol("pausing upload, not an actual error");var kr,ir,mi,Qi,Yi,Wh,Gh,Vc,sl,qc,Kh,Hc,Qh,Zr,qL,HL,Ub,Yh,Xh,WL;class ihe{constructor(t,s){K(this,Zr);A(this,"options");K(this,kr,new uv);K(this,ir,[]);K(this,mi,[]);K(this,Qi);K(this,Yi);K(this,Wh,!1);K(this,Gh);K(this,Vc);K(this,sl);K(this,qc);K(this,Kh,t=>(t==null?void 0:t.cause)===Xp?null:_(this,Gh).call(this,t));K(this,Hc,1e4);K(this,Qh,5*nhe);K(this,Yh,t=>s=>{if(!s.lengthComputable)return;_(this,mi)[t].uploaded=rhe(s.loaded);const r=_(this,mi).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,_(this,Qi).size)});K(this,Xh,t=>s=>{_(this,ir)[t]=null,_(this,mi)[t].etag=s,_(this,mi)[t].done=!0;const r={PartNumber:t+1,ETag:s};this.options.onPartComplete(r)});var r;this.options={...Ek,...s},(r=this.options).getChunkSize??(r.getChunkSize=Ek.getChunkSize),te(this,Qi,t),te(this,Yi,s.file),te(this,Vc,this.options.onSuccess),te(this,Gh,this.options.onError),te(this,sl,this.options.shouldUseMultipart),te(this,qc,s.uploadId&&s.key),ne(this,Zr,qL).call(this)}start(){_(this,Wh)?(_(this,kr).signal.aborted||_(this,kr).abort(Xp),te(this,kr,new uv),ne(this,Zr,Ub).call(this)):_(this,qc)?(this.options.companionComm.restoreUploadFile(_(this,Yi),{uploadId:this.options.uploadId,key:this.options.key}),ne(this,Zr,Ub).call(this)):ne(this,Zr,HL).call(this)}pause(){_(this,kr).abort(Xp),te(this,kr,new uv)}abort(t){t!=null&&t.really?ne(this,Zr,WL).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return _(this,mi)}}kr=new WeakMap,ir=new WeakMap,mi=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Vc=new WeakMap,sl=new WeakMap,qc=new WeakMap,Kh=new WeakMap,Hc=new WeakMap,Qh=new WeakMap,Zr=new WeakSet,qL=function(){const t=_(this,Qi).size,s=typeof _(this,sl)=="function"?_(this,sl).call(this,_(this,Yi)):!!_(this,sl);if(s&&t>_(this,Qh)){let r=Math.max(this.options.getChunkSize(_(this,Qi)),_(this,Qh)),i=Math.floor(t/r);i>_(this,Hc)&&(i=_(this,Hc),r=t/_(this,Hc)),te(this,ir,Array(i));for(let a=0,o=0;a<t;a+=r,o++){const l=Math.min(t,a+r),c=()=>{const d=a;return _(this,Qi).slice(d,l)};if(_(this,ir)[o]={getData:c,onProgress:_(this,Yh).call(this,o),onComplete:_(this,Xh).call(this,o),shouldUseMultipart:s},_(this,qc)){const d=a+r>t?t-a:r;_(this,ir)[o].setAsUploaded=()=>{_(this,ir)[o]=null,_(this,mi)[o].uploaded=d}}}}else te(this,ir,[{getData:()=>_(this,Qi),onProgress:_(this,Yh).call(this,0),onComplete:_(this,Xh).call(this,0),shouldUseMultipart:s}]);te(this,mi,_(this,ir).map(()=>({uploaded:0})))},HL=function(){this.options.companionComm.uploadFile(_(this,Yi),_(this,ir),_(this,kr).signal).then(_(this,Vc),_(this,Kh)),te(this,Wh,!0)},Ub=function(){this.options.companionComm.resumeUploadFile(_(this,Yi),_(this,ir),_(this,kr).signal).then(_(this,Vc),_(this,Kh))},Yh=new WeakMap,Xh=new WeakMap,WL=function(){_(this,kr).abort(),this.options.companionComm.abortFileUpload(_(this,Yi)).catch(t=>this.options.log(t))};function rn(e){if(e!=null&&e.aborted)throw UL("The operation was aborted",{cause:e.reason})}function ahe(e){const t=new URL(e);return t.search="",t.hash="",t.href}var Zh,_r,Jh,em,tm,sm,Wc,Gc,Kc,Qc,nl,Yc,Tr,_l,GL,Bb;class ohe{constructor(t,s,r,i){K(this,_l);K(this,Zh);K(this,_r,new WeakMap);K(this,Jh);K(this,em);K(this,tm);K(this,sm);K(this,Wc);K(this,Gc);K(this,Kc);K(this,Qc);K(this,nl);K(this,Yc);K(this,Tr);te(this,Gc,t),te(this,nl,r),te(this,Tr,i),this.setOptions(s)}setOptions(t){const s=_(this,Gc);"abortMultipartUpload"in t&&te(this,Zh,s.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&te(this,Jh,s.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&te(this,em,s.wrapPromiseFunction(t.signPart)),"listParts"in t&&te(this,sm,s.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&te(this,Qc,s.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&te(this,Kc,t.retryDelays??[]),"uploadPartBytes"in t&&te(this,Yc,s.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&te(this,tm,s.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,s){let r;for(;r=_(this,_r).get(t.data),r!=null;)try{return await r}catch{}const i=_(this,Jh).call(this,_(this,Tr).call(this,t),s),a=()=>{i.abort(s.reason),_(this,_r).delete(t.data)};return s.addEventListener("abort",a,{once:!0}),_(this,_r).set(t.data,i),i.then(async o=>{s.removeEventListener("abort",a),_(this,nl).call(this,t,o),_(this,_r).set(t.data,o)},()=>{s.removeEventListener("abort",a),_(this,_r).delete(t.data)}),i}async abortFileUpload(t){const s=_(this,_r).get(t.data);if(s==null)return;_(this,_r).delete(t.data),_(this,nl).call(this,t,Object.create(null));let r;try{r=await s}catch{return}await _(this,Zh).call(this,_(this,Tr).call(this,t),r)}async uploadFile(t,s,r){if(rn(r),s.length===1&&!s[0].shouldUseMultipart)return ne(this,_l,Bb).call(this,t,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);rn(r);try{const o=await Promise.all(s.map((l,c)=>this.uploadChunk(t,c+1,l,r)));return rn(r),await _(this,Qc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==Xp&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(t),o}}restoreUploadFile(t,s){_(this,_r).set(t.data,s)}async resumeUploadFile(t,s,r){if(rn(r),s.length===1&&s[0]!=null&&!s[0].shouldUseMultipart)return ne(this,_l,Bb).call(this,t,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(t,r);rn(r);const o=await _(this,sm).call(this,_(this,Tr).call(this,t),{uploadId:i,key:a,signal:r},r).abortOn(r);rn(r);const l=await Promise.all(s.map((c,d)=>{var m;const h=d+1,u=o.find(({PartNumber:f})=>f===h);return u==null?this.uploadChunk(t,h,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:h,ETag:u.ETag})}));return rn(r),_(this,Qc).call(this,_(this,Tr).call(this,t),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(t,s,r,i){rn(i);const{uploadId:a,key:o}=await this.getUploadId(t,i),l=_(this,Kc).values(),c=_(this,Kc).values(),d=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){rn(i);const h=r.getData(),{onProgress:u,onComplete:m}=r;let f;try{f=await _(this,em).call(this,_(this,Tr).call(this,t),{uploadId:a,key:o,partNumber:s,body:h,signal:i}).abortOn(i)}catch(j){const x=d();if(x==null||i.aborted)throw j;await new Promise(g=>setTimeout(g,x));continue}rn(i);try{return{PartNumber:s,...await _(this,Yc).call(this,{signature:f,body:h,size:h.size,onProgress:u,onComplete:m,signal:i}).abortOn(i)}}catch(j){if(!await ne(this,_l,GL).call(this,j,c))throw j}}}}Zh=new WeakMap,_r=new WeakMap,Jh=new WeakMap,em=new WeakMap,tm=new WeakMap,sm=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,nl=new WeakMap,Yc=new WeakMap,Tr=new WeakMap,_l=new WeakSet,GL=async function(t,s){var a;const r=_(this,Gc),i=(a=t==null?void 0:t.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&t.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||_(this,Wc)==null){const o=s.next();if(o==null||o.done)return!1;te(this,Wc,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,_(this,Wc)))}}else if(i===429){if(!r.isPaused){const o=s.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=s.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Bb=async function(t,s,r){const{method:i="POST",url:a,fields:o,headers:l}=await _(this,tm).call(this,_(this,Tr).call(this,t),{signal:r}).abortOn(r);let c;const d=s.getData();if(i.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([x,g])=>j.set(x,g)),j.set("file",d),c=j}else c=d;const{onProgress:h,onComplete:u}=s,m=await _(this,Yc).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:h,onComplete:u,signal:r}).abortOn(r),f=o==null?void 0:o.key;return _(this,nl).call(this,t,{key:f}),{...m,location:m.location??ahe(a),bucket:o==null?void 0:o.bucket,key:f}};function Ll(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function Ak(e){const t=e.Expiration;if(t){const s=Math.floor((new Date(t)-Date.now())/1e3);if(s>9)return s}}function Dk({meta:e,allowedMetaFields:t,querify:s=!1}){const r=t??Object.keys(e);return e?Object.fromEntries(r.filter(i=>e[i]!=null).map(i=>{const a=s?`metadata[${i}]`:i,o=String(e[i]);return[a,o]})):{}}const lhe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Xc,vn,As,Vb,Sa,Pr,KL,Dg,Zc,QL,YL,nm,Jc,rl,rm;const Mg=class Mg extends kO{constructor(s,r){super(s,{...lhe,uploadPartBytes:Mg.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});K(this,As);K(this,Xc);K(this,vn);A(this,"requests");A(this,"uploaderEvents");A(this,"uploaders");K(this,Pr);K(this,Dg,(s,{key:r,uploadId:i})=>{const a=this.uppy.getFile(s.id);a!=null&&this.uppy.setFileState(s.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});K(this,Zc,s=>this.uppy.getFile(s.id)||s);K(this,nm,async s=>{if(s.length===0)return;const r=this.uppy.getFilesByIds(s),i=Mue(r),a=Iue(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;_(this,rl).call(this,!1);const h=new AbortController,u=f=>{f.id===c.id&&h.abort()};this.uppy.on("file-removed",u);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ne(this,As,YL).call(this,c),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",u)},{priority:-1})(),m}return ne(this,As,QL).call(this,c)}),l=await Promise.allSettled(o);return _(this,rl).call(this,!0),l});K(this,Jc,()=>{var s;(s=_(this,vn))==null||s.setCompanionHeaders(this.opts.headers)});K(this,rl,s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:s}})});K(this,rm,()=>{_(this,rl).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ne(this,As,Vb).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Fue(this.opts.limit),te(this,Xc,new ohe(this.requests,this.opts,_(this,Dg),_(this,Zc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return _(this,vn)}setOptions(s){_(this,Xc).setOptions(s),super.setOptions(s),ne(this,As,Vb).call(this,s)}resetUploaderReferences(s,r){this.uploaders[s]&&(this.uploaders[s].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[s]=null),this.uploaderEvents[s]&&(this.uploaderEvents[s].remove(),this.uploaderEvents[s]=null)}createMultipartUpload(s,r){ne(this,As,Sa).call(this,"createMultipartUpload"),rn(r);const i=_k(this.opts.allowedMetaFields,s.meta),a=Dk({meta:s.meta,allowedMetaFields:i});return _(this,vn).post("s3/multipart",{filename:s.name,type:s.type,metadata:a},{signal:r}).then(Ll)}listParts(s,{key:r,uploadId:i,signal:a},o){a??(a=o),ne(this,As,Sa).call(this,"listParts"),rn(a);const l=encodeURIComponent(r);return _(this,vn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Ll)}completeMultipartUpload(s,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),ne(this,As,Sa).call(this,"completeMultipartUpload"),rn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return _(this,vn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:h,PartNumber:u})=>({ETag:h,PartNumber:u}))},{signal:o}).then(Ll)}async createSignedURL(s,r){const i=await ne(this,As,KL).call(this,r),a=Ak(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await she({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${s.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":s.type}}}signPart(s,{uploadId:r,key:i,partNumber:a,signal:o}){if(ne(this,As,Sa).call(this,"signPart"),rn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return _(this,vn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Ll)}abortMultipartUpload(s,{key:r,uploadId:i,signal:a}){ne(this,As,Sa).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return _(this,vn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Ll)}getUploadParameters(s,r){ne(this,As,Sa).call(this,"getUploadParameters");const{meta:i}=s,{type:a,name:o}=i,l=_k(this.opts.allowedMetaFields,s.meta),c=Dk({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return _(this,vn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:s,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:h}){if(rn(h),s==null)throw new Error("Cannot upload to an undefined URL");return new Promise((u,m)=>{const f=new XMLHttpRequest;f.open(a,s,!0),i&&Object.keys(i).forEach(g=>{f.setRequestHeader(g,i[g])}),f.responseType="text",typeof r=="number"&&(f.timeout=r*1e3);function j(){f.abort()}function x(){h==null||h.removeEventListener("abort",j)}h==null||h.addEventListener("abort",j),f.upload.addEventListener("progress",g=>{c(g)}),f.addEventListener("abort",()=>{x(),m(UL())}),f.addEventListener("timeout",()=>{x();const g=new Error("Request has expired");g.source={status:403},m(g)}),f.addEventListener("load",()=>{if(x(),f.status===403&&f.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=f,m(w);return}if(f.status<200||f.status>=300){const w=new Error("Non 2xx");w.source=f,m(w);return}c==null||c({loaded:l,lengthComputable:!0});const g=f.getAllResponseHeaders().trim().split(/[\r\n]+/),p={__proto__:null};for(const w of g){const C=w.split(": "),N=C.shift(),S=C.join(": ");p[N]=S}const{etag:y,location:b}=p;if(a.toUpperCase()==="POST"&&b==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(y),u({...p,ETag:y})}),f.addEventListener("error",g=>{x();const p=new Error("Unknown error");p.source=g.target,m(p)}),f.send(o)})}install(){_(this,rl).call(this,!0),this.uppy.addPreProcessor(_(this,Jc)),this.uppy.addUploader(_(this,nm)),this.uppy.on("cancel-all",_(this,rm))}uninstall(){this.uppy.removePreProcessor(_(this,Jc)),this.uppy.removeUploader(_(this,nm)),this.uppy.off("cancel-all",_(this,rm))}};Xc=new WeakMap,vn=new WeakMap,As=new WeakSet,Vb=function(s){s==null||!("endpoint"in s||"companionUrl"in s||"headers"in s||"companionHeaders"in s||"cookiesRule"in s||"companionCookiesRule"in s)||("companionUrl"in s&&!("endpoint"in s)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in s&&!("headers"in s)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in s&&!("cookiesRule"in s)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in s?te(this,vn,new $L(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in s&&_(this,Jc).call(this),"cookiesRule"in s&&(_(this,vn).opts.companionCookiesRule=s.cookiesRule)))},Sa=function(s){if(!_(this,vn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${s}\` implementation.`)},Pr=new WeakMap,KL=async function(s){if(rn(s==null?void 0:s.signal),_(this,Pr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(ne(this,As,Sa).call(this,"getTemporarySecurityCredentials"),te(this,Pr,_(this,vn).get("s3/sts",s).then(Ll))):te(this,Pr,r(s)),te(this,Pr,await _(this,Pr)),setTimeout(()=>{te(this,Pr,null)},(Ak(_(this,Pr).credentials)||0)*500)}return _(this,Pr)},Dg=new WeakMap,Zc=new WeakMap,QL=function(s){return new Promise((r,i)=>{const a=(h,u)=>{const m=this.uppy.getFile(s.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:u})},o=h=>{this.uppy.log(h),this.uppy.emit("upload-error",s,h),this.resetUploaderReferences(s.id),i(h)},l=h=>{const u={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(s.id),this.uppy.emit("upload-success",_(this,Zc).call(this,s),u),h.location&&this.uppy.log(`Download ${s.name} from ${h.location}`),r(void 0)},c=new ihe(s.data,{companionComm:_(this,Xc),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",_(this,Zc).call(this,s),h)},file:s,shouldUseMultipart:this.opts.shouldUseMultipart,...s.s3Multipart});this.uploaders[s.id]=c;const d=new Due(this.uppy);this.uploaderEvents[s.id]=d,d.onFileRemove(s.id,h=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${h} was removed`)}),d.onCancelAll(s.id,()=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${s.id} was canceled`)}),d.onFilePause(s.id,h=>{h?c.pause():c.start()}),d.onPauseAll(s.id,()=>{c.pause()}),d.onResumeAll(s.id,()=>{c.start()}),c.start()})},YL=function(s){var r;return{...(r=s.remote)==null?void 0:r.body,protocol:"s3-multipart",size:s.data.size,metadata:s.meta}},nm=new WeakMap,Jc=new WeakMap,rl=new WeakMap,rm=new WeakMap,A(Mg,"VERSION",Zue.version);let zb=Mg;function che({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:s,onComplete:r,buttonClassName:i,children:a}){const[o,l]=v.useState(!1),[c]=v.useState(()=>new vb({restrictions:{maxNumberOfFiles:e,maxFileSize:t,allowedFileTypes:["image/*"]},autoProceed:!1}).use(zb,{shouldUseMultipart:!1,getUploadParameters:s}).on("complete",d=>{r==null||r(d),l(!1)}));return n.jsxs("div",{children:[n.jsx(E,{type:"button",onClick:()=>l(!0),className:i,variant:"outline",children:a}),n.jsx(FL,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}const Mk=[{value:"insurance",label:"Insurance",icon:os},{value:"medical",label:"Medical",icon:lt},{value:"vehicle",label:"Vehicle",icon:A0},{value:"financial",label:"Financial",icon:ho},{value:"personal",label:"Personal",icon:If},{value:"emergency",label:"Emergency",icon:Jt}];function dhe(){const[e,t]=v.useState(!1),[s,r]=v.useState("text"),[i,a]=v.useState(""),{toast:o}=dt(),l=Yt(),{data:c=[],isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/personal-documents"],staleTime:0,gcTime:0,queryFn:async()=>{console.log("=== FRONTEND: Fetching documents ===");const p=await fetch("/api/personal-documents",{credentials:"include"});if(!p.ok)throw console.error("=== FRONTEND: Fetch error ===",p.status,p.statusText),new Error(`${p.status}: ${p.statusText}`);const y=await p.json();return console.log("=== FRONTEND: Raw API response ===",y),y}});console.log("=== FRONTEND: Documents state ===",{documents:c,length:(c==null?void 0:c.length)||0,isLoading:d,error:u==null?void 0:u.message});const m=Ce({mutationFn:async p=>{console.log("=== FRONTEND: Creating document ===",p);try{const b=await(await ye("POST","/api/personal-documents",p)).json();return console.log("=== FRONTEND: API Response ===",b),b}catch(y){throw console.error("=== FRONTEND: API Error ===",y),y}},onSuccess:p=>{console.log("=== FRONTEND: Success callback ===",p),l.invalidateQueries({queryKey:["/api/personal-documents"]}),l.removeQueries({queryKey:["/api/personal-documents"]}),t(!1),f.reset(),r("text"),a(""),o({title:"Success",description:"Document saved successfully!"}),setTimeout(()=>{h()},100)},onError:p=>{console.error("=== FRONTEND: Error callback ===",p),o({title:"Error",description:`Failed to save document: ${p.message}`,variant:"destructive"})}}),f=Bt({resolver:Vt(Fee),defaultValues:{title:"",category:"personal",description:"",documentType:"text",content:"",imageUrl:"",linkUrl:"",tags:[],isImportant:!1}}),j=p=>{console.log("=== FRONTEND: Form submission started ===",p),console.log("=== FRONTEND: Form errors ===",f.formState.errors),console.log("=== FRONTEND: Form is valid ===",f.formState.isValid);const y={...p,description:p.description||"",tags:p.tags||[],documentType:s,imageUrl:s==="image"?i:"",linkUrl:s==="link"?p.linkUrl:"",content:s==="text"?p.content:s==="image"?`Image: ${p.title}`:s==="link"?`Link: ${p.linkUrl}`:p.content||""};console.log("=== FRONTEND: Processed data ===",y),m.mutate(y)},x=async p=>{try{if(p.successful&&p.successful.length>0){const y=p.successful[0].uploadURL;a(y||""),await ye("PUT","/api/personal-documents/set-image",{imageURL:y}),o({title:"Success",description:"Image uploaded successfully!"})}}catch(y){console.error("Error handling image upload:",y),o({title:"Error",description:"Failed to process image upload",variant:"destructive"})}},g=async()=>{try{return{method:"PUT",url:(await(await ye("POST","/api/personal-documents/upload")).json()).uploadURL}}catch(p){throw console.error("Error getting upload parameters:",p),p}};return d?n.jsx("div",{className:"p-6",children:"Loading..."}):n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Personal Documents"}),n.jsx("p",{className:"text-gray-600",children:"Store important information you need to remember"})]}),n.jsxs(et,{open:e,onOpenChange:t,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Add Document"]})}),n.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Add New Document"})}),n.jsx(zt,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[n.jsx(Z,{control:f.control,name:"title",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Title *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Document title...",...p})}),n.jsx(se,{})]})}),n.jsx(Z,{control:f.control,name:"category",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category *"}),n.jsxs(Ge,{onValueChange:p.onChange,defaultValue:p.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsx(We,{children:Mk.map(y=>n.jsx(B,{value:y.value,children:y.label},y.value))})]}),n.jsx(se,{})]})}),n.jsxs(Y,{children:[n.jsx(Q,{children:"Document Type *"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{type:"button",variant:s==="text"?"default":"outline",size:"sm",onClick:()=>r("text"),children:[n.jsx(ol,{className:"w-4 h-4 mr-2"}),"Text"]}),n.jsxs(E,{type:"button",variant:s==="image"?"default":"outline",size:"sm",onClick:()=>r("image"),children:[n.jsx(rh,{className:"w-4 h-4 mr-2"}),"Image"]}),n.jsxs(E,{type:"button",variant:s==="link"?"default":"outline",size:"sm",onClick:()=>r("link"),children:[n.jsx(j9,{className:"w-4 h-4 mr-2"}),"Link"]})]})]}),s==="text"&&n.jsx(Z,{control:f.control,name:"content",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Information *"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Enter the information you want to save...",className:"min-h-[100px]",...p})}),n.jsx(se,{})]})}),s==="image"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Q,{children:"Upload Image"}),n.jsxs("div",{className:"mt-2",children:[n.jsxs(che,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:g,onComplete:x,buttonClassName:"w-full",children:[n.jsx(rh,{className:"w-4 h-4 mr-2"}),i?"Change Image":"Upload Image"]}),i&&n.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Image uploaded successfully"})]})]}),n.jsx(Z,{control:f.control,name:"content",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Add a description for this image...",className:"min-h-[60px]",...p})}),n.jsx(se,{})]})})]}),s==="link"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z,{control:f.control,name:"linkUrl",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Website URL *"}),n.jsx(J,{children:n.jsx(q,{placeholder:"https://example.com",type:"url",...p})}),n.jsx(se,{})]})}),n.jsx(Z,{control:f.control,name:"content",render:({field:p})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description (Optional)"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"Add a description for this link...",className:"min-h-[60px]",...p})}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:f.control,name:"isImportant",render:({field:p})=>n.jsxs(Y,{className:"flex flex-row items-center space-x-3 space-y-0",children:[n.jsx(J,{children:n.jsx("input",{type:"checkbox",checked:p.value,onChange:p.onChange,className:"h-4 w-4"})}),n.jsx(Q,{children:"Mark as Important"}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:m.isPending,className:"border-2 border-blue-500 bg-blue-600 hover:bg-blue-700 text-white shadow-md",onClick:p=>{if(console.log("=== FRONTEND: Save button clicked ==="),console.log("=== FRONTEND: Form valid? ===",f.formState.isValid),console.log("=== FRONTEND: Form values ===",f.getValues()),console.log("=== FRONTEND: Form errors ===",f.formState.errors),!f.formState.isValid){console.log("=== FRONTEND: Forcing submission despite validation errors ===");const y=f.getValues();j(y),p.preventDefault()}},children:m.isPending?"Saving...":"Save Document"})]})]})})]})]})]}),n.jsx("div",{className:"grid gap-4",children:c.length===0?n.jsx(L,{className:"text-center py-12",children:n.jsxs(V,{children:[n.jsx(ol,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No documents yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first personal document to get started"})]})}):c.map(p=>{const y=Mk.find(w=>w.value===p.category),b=(y==null?void 0:y.icon)||ol;return n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(b,{className:"w-5 h-5 mr-2"}),p.title,p.isImportant&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Important"})]})})}),n.jsxs(V,{children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Category: ",(y==null?void 0:y.label)||p.category]}),p.documentType==="image"&&p.imageUrl&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:p.imageUrl,alt:p.title,className:"max-w-full h-auto rounded border",style:{maxHeight:"200px"}}),p.content&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("p",{className:"text-sm",children:p.content})})]}),p.documentType==="link"&&p.linkUrl&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:p.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 underline",children:[n.jsx(dx,{className:"w-4 h-4 mr-1"}),"Open Link"]}),p.content&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("p",{className:"text-sm",children:p.content})})]}),p.documentType==="text"&&n.jsx("div",{className:"bg-gray-50 p-3 rounded",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:p.content})})]})]},p.id)})})]})}const Ik=[{value:"privilege",label:"Privilege",icon:qt,color:"bg-yellow-100 text-yellow-800"},{value:"item",label:"Item/Purchase",icon:A9,color:"bg-blue-100 text-blue-800"},{value:"activity",label:"Activity/Experience",icon:Zs,color:"bg-green-100 text-green-800"},{value:"money",label:"Money/Allowance",icon:Pi,color:"bg-purple-100 text-purple-800"},{value:"special",label:"Special Treat",icon:lt,color:"bg-pink-100 text-pink-800"}],uhe=[{value:"immediate",label:"Immediate"},{value:"delayed",label:"Delayed"},{value:"recurring",label:"Recurring"}],hhe=Ns({userId:zs(),title:Ae().min(1,"Title is required"),description:Ae().min(1,"Description is required"),pointsRequired:zs().min(1,"Points must be at least 1"),category:Ae().min(1,"Category is required"),rewardType:Ae().min(1,"Type is required"),value:Ae().optional(),maxRedemptions:zs().optional(),iconName:Ae().default("gift"),color:Ae().default("#3b82f6")});function mhe(){const{toast:e}=dt(),t=Yt(),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(null),{data:c,isLoading:d,refetch:h,error:u}=xe({queryKey:["/api/rewards"],queryFn:async()=>{console.log("=== CUSTOM QUERY FUNCTION ===");const S=await fetch("/api/rewards",{credentials:"include",headers:{"Cache-Control":"no-cache"}});if(console.log("Custom query response status:",S.status),!S.ok){const T=await S.text();throw console.error("Custom query failed:",S.status,T),new Error(`${S.status}: ${T}`)}const k=await S.json();return console.log("Custom query response data:",k),console.log("Data is array:",Array.isArray(k)),console.log("Data length:",k==null?void 0:k.length),k},staleTime:0,gcTime:0,refetchOnMount:"always",retry:!1}),m=Array.isArray(c)?c:[];console.log("=== FRONTEND REWARDS DEBUG ==="),console.log("Query isLoading:",d),console.log("Query error:",u),console.log("Rewards data from API:",c),console.log("Processed rewards array:",m),console.log("Rewards array length:",m.length),v.useEffect(()=>{!d&&!c&&!u&&(console.log("Force refetching rewards - no data, no error, not loading"),h())},[d,c,u,h]);const{data:f,isLoading:j}=xe({queryKey:["/api/points/balance"]}),{data:x=[],isLoading:g}=xe({queryKey:["/api/points/transactions"]}),p=Ce({mutationFn:async S=>await ye("POST","/api/rewards",S),onSuccess:async S=>{console.log("Reward created successfully:",S),t.removeQueries({queryKey:["/api/rewards"]}),await t.refetchQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/rewards"]}),r(!1),b.reset(),e({title:"Success",description:"Reward created successfully!"})},onError:S=>{console.error("Reward creation error:",S),e({title:"Error",description:"Failed to create reward",variant:"destructive"})}}),y=Ce({mutationFn:async S=>await ye("POST","/api/rewards/redeem",S),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/rewards"]}),t.invalidateQueries({queryKey:["/api/points/balance"]}),t.invalidateQueries({queryKey:["/api/points/transactions"]}),a(!1),l(null),e({title:"Success",description:"Reward redeemed! Waiting for caregiver approval."})},onError:S=>{e({title:"Error",description:"Failed to redeem reward",variant:"destructive"})}}),b=Bt({resolver:Vt(hhe),defaultValues:{userId:1,title:"",description:"",pointsRequired:10,category:"",rewardType:"immediate",value:"",maxRedemptions:void 0,iconName:"gift",color:"#3b82f6"}}),w=S=>{p.mutate(S)},C=S=>{if(!f||f.availablePoints<S.pointsRequired){e({title:"Not enough points",description:`You need ${S.pointsRequired} points but only have ${(f==null?void 0:f.availablePoints)||0}.`,variant:"destructive"});return}l(S),a(!0)},N=()=>{o&&y.mutate({rewardId:o.id,pointsSpent:o.pointsRequired,status:"pending"})};return d||j?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(S=>n.jsx("div",{className:"h-48 bg-gray-200 rounded"},S))})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(po,{className:"w-8 h-8 text-yellow-500"}),"Rewards & Points"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Earn points and redeem amazing rewards!"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(L,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mS,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-90",children:"Available Points"}),n.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.availablePoints)||0})]})]})})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(et,{open:s,onOpenChange:r,children:[n.jsx(pt,{asChild:!0,children:n.jsxs(E,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ct,{className:"w-4 h-4 mr-2"}),"Create Reward"]})}),n.jsxs(Ye,{className:"max-w-md max-h-[90vh] overflow-y-auto","aria-describedby":"create-reward-description",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create New Reward"}),n.jsx("p",{id:"create-reward-description",className:"text-sm text-gray-600",children:"Set up a new reward for users to earn with their points"})]}),n.jsx(zt,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsx(Z,{control:b.control,name:"title",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Reward Title"}),n.jsx(J,{children:n.jsx(q,{placeholder:"Extra screen time",...S})}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"description",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Description"}),n.jsx(J,{children:n.jsx(ot,{placeholder:"30 minutes of extra screen time on weekends",...S})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{control:b.control,name:"pointsRequired",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Points Required"}),n.jsx(J,{children:n.jsx(q,{type:"number",...S,onChange:k=>S.onChange(parseInt(k.target.value))})}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"category",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Category"}),n.jsxs(Ge,{onValueChange:S.onChange,defaultValue:S.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select category"})})}),n.jsx(We,{children:Ik.map(k=>n.jsx(B,{value:k.value,children:k.label},k.value))})]}),n.jsx(se,{})]})})]}),n.jsx(Z,{control:b.control,name:"rewardType",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Type"}),n.jsxs(Ge,{onValueChange:S.onChange,defaultValue:S.value,children:[n.jsx(J,{children:n.jsx(He,{children:n.jsx(Ke,{placeholder:"Select type"})})}),n.jsx(We,{children:uhe.map(k=>n.jsx(B,{value:k.value,children:k.label},k.value))})]}),n.jsx(se,{})]})}),n.jsx(Z,{control:b.control,name:"value",render:({field:S})=>n.jsxs(Y,{children:[n.jsx(Q,{children:"Value (optional)"}),n.jsx(J,{children:n.jsx(q,{placeholder:"$10 or 30 minutes",...S})}),n.jsx(se,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(E,{type:"submit",disabled:p.isPending,className:"bg-vibrant-green hover:bg-green-600 text-black font-bold border-2 border-green-700 shadow-lg",children:p.isPending?"Creating...":"Create Reward"})]})]})})]})]})})]})]}),n.jsxs(hn,{defaultValue:"rewards",className:"w-full",children:[n.jsxs(en,{className:"grid w-full grid-cols-3",children:[n.jsx($e,{value:"rewards",children:"Available Rewards"}),n.jsx($e,{value:"progress",children:"My Progress"}),n.jsx($e,{value:"history",children:"Point History"})]}),n.jsx(Ue,{value:"rewards",className:"space-y-4",children:m.length===0?n.jsx(L,{className:"text-center py-12",children:n.jsxs(V,{children:[n.jsx(gS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No rewards available yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Ask your caregiver to create some exciting rewards for you!"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(S=>{const k=Ik.find(P=>P.value===S.category),T=(k==null?void 0:k.icon)||gS,D=((f==null?void 0:f.availablePoints)||0)>=S.pointsRequired;return n.jsxs(L,{className:`relative ${D?"ring-2 ring-green-200":"opacity-75"}`,children:[n.jsx(le,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{className:"w-5 h-5",style:{color:S.color}}),n.jsx(ce,{className:"text-lg",children:S.title})]}),k&&n.jsx(he,{variant:"secondary",className:k.color,children:k.label})]})}),n.jsxs(V,{className:"space-y-3",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:S.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mS,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{className:"font-semibold",children:S.pointsRequired}),n.jsx("span",{className:"text-sm text-gray-500",children:"points"})]}),S.value&&n.jsxs("span",{className:"text-sm text-gray-500",children:["Value: ",S.value]})]}),n.jsx(E,{onClick:()=>C(S),disabled:!D||y.isPending,className:"w-full",variant:D?"default":"secondary",children:D?"Redeem":"Not enough points"})]})]},S.id)})})}),n.jsx(Ue,{value:"progress",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-5 h-5 text-yellow-500"}),"Points Summary"]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Earned:"}),n.jsx("span",{className:"font-semibold",children:(f==null?void 0:f.totalEarned)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Spent:"}),n.jsx("span",{className:"font-semibold",children:(f==null?void 0:f.totalSpent)||0})]}),n.jsxs("div",{className:"flex justify-between text-lg",children:[n.jsx("span",{children:"Available:"}),n.jsx("span",{className:"font-bold text-green-600",children:(f==null?void 0:f.availablePoints)||0})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Us,{className:"w-5 h-5 text-blue-500"}),"Next Milestone"]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold",children:"100 Points"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Special Achievement Badge"})]}),n.jsx(on,{value:((f==null?void 0:f.totalEarned)||0)%100,className:"w-full"}),n.jsxs("p",{className:"text-sm text-center text-gray-500",children:[100-((f==null?void 0:f.totalEarned)||0)%100," points to go!"]})]})]})]})}),n.jsx(Ue,{value:"history",className:"space-y-4",children:g?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(S=>n.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},S))}):x.length===0?n.jsx(L,{className:"text-center py-12",children:n.jsxs(V,{children:[n.jsx(ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No point history yet"}),n.jsx("p",{className:"text-gray-600",children:"Start completing tasks to earn your first points!"})]})}):n.jsx("div",{className:"space-y-2",children:x.map(S=>n.jsx(L,{children:n.jsx(V,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:S.description}),n.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(S.createdAt).toLocaleDateString(),"  Source: ",S.source]})]}),n.jsxs("div",{className:`text-lg font-bold ${S.points>0?"text-green-600":"text-red-600"}`,children:[S.points>0?"+":"",S.points]})]})})},S.id))})})]}),n.jsx(et,{open:i,onOpenChange:a,children:n.jsxs(Ye,{className:"max-h-[90vh] overflow-y-auto","aria-describedby":"redeem-reward-description",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Confirm Reward Redemption"}),n.jsx("p",{id:"redeem-reward-description",className:"text-sm text-gray-600",children:"Review and confirm your reward redemption details"})]}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:o.title}),n.jsx("p",{className:"text-gray-600",children:o.description})]}),n.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Cost:"})," ",o.pointsRequired," points",n.jsx("br",{}),n.jsx("strong",{children:"Your balance after:"})," ",((f==null?void 0:f.availablePoints)||0)-o.pointsRequired," points"]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(E,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(E,{onClick:N,disabled:y.isPending,children:y.isPending?"Redeeming...":"Confirm Redemption"})]})]})]})})]})}function phe(){const[e,t]=v.useState(new Date),[s,r]=v.useState(!1),[i,a]=v.useState({targetSleepDuration:480,targetBedtime:"22:00",targetWakeTime:"06:00"}),{toast:o}=dt(),l=Yt(),{data:c=[],isLoading:d}=xe({queryKey:["/api/sleep-sessions"],queryFn:()=>ye("GET","/api/sleep-sessions").then(p=>p.json())}),{data:h}=xe({queryKey:["/api/sleep-sessions",Lt(e,"yyyy-MM-dd")],queryFn:()=>ye("GET",`/api/sleep-sessions/${Lt(e,"yyyy-MM-dd")}`).then(p=>p.json()),enabled:!!e}),u=Ce({mutationFn:p=>ye("POST","/api/sleep-sessions",p).then(y=>y.json()),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/sleep-sessions"]}),o({title:"Sleep session saved successfully!"}),r(!1)},onError:()=>{o({title:"Failed to save sleep session",variant:"destructive"})}}),f=(()=>{if(!c.length)return null;const p=c.slice(-7),b=p.reduce((N,S)=>N+(S.totalSleepDuration||0),0)/p.length,w=p.reduce((N,S)=>N+(S.sleepScore||0),0)/p.length,C=p.reduce((N,S)=>N+(S.sleepEfficiency||0),0)/p.length;return{avgSleepDuration:Math.round(b),avgSleepScore:Math.round(w),avgEfficiency:Math.round(C),totalSessions:p.length,goalProgress:Math.round(b/i.targetSleepDuration*100)}})(),j=p=>{if(!p)return"--";const y=Math.floor(p/60),b=p%60;return`${y}h ${b}m`},x=p=>p?Lt(new Date(p),"h:mm a"):"--",g=p=>{switch(p){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(Zl,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sleep Tracking"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your sleep patterns and improve your rest quality"})]})]}),n.jsxs(hn,{defaultValue:"overview",className:"space-y-6",value:s?"log":void 0,onValueChange:p=>{p!=="log"&&r(!1)},children:[n.jsxs(en,{className:"grid w-full grid-cols-4",children:[n.jsx($e,{value:"overview",children:"Overview"}),n.jsx($e,{value:"log",children:"Log Sleep"}),n.jsx($e,{value:"trends",children:"Trends"}),n.jsx($e,{value:"goals",children:"Goals"})]}),n.jsxs(Ue,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(L,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ce,{className:"text-sm font-medium",children:"Avg Sleep Duration"}),n.jsx(Zl,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:f?j(f.avgSleepDuration):"--"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),n.jsxs(L,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ce,{className:"text-sm font-medium",children:"Sleep Score"}),n.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:f?`${f.avgSleepScore}/100`:"--"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Average quality"})]})]}),n.jsxs(L,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ce,{className:"text-sm font-medium",children:"Sleep Efficiency"}),n.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:f?`${f.avgEfficiency}%`:"--"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time asleep vs time in bed"})]})]}),n.jsxs(L,{children:[n.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ce,{className:"text-sm font-medium",children:"Goal Progress"}),n.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(V,{children:[n.jsx("div",{className:"text-2xl font-bold",children:f?`${f.goalProgress}%`:"--"}),n.jsx(on,{value:(f==null?void 0:f.goalProgress)||0,className:"mt-2"})]})]})]}),n.jsxs(L,{children:[n.jsx(le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ce,{children:"Recent Sleep Sessions"}),n.jsx("div",{className:"p-2 border-2 border-blue-300 rounded-lg bg-blue-50 shadow-sm hover:shadow-md transition-shadow",children:n.jsxs(E,{onClick:()=>{r(!0),setTimeout(()=>{if(!document.querySelector('[data-state="active"][value="log"]')){const y=document.querySelector('[value="log"]');y&&y.click()}},100)},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:[n.jsx(ct,{className:"h-4 w-4 mr-2"}),"Log Sleep"]})})]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[c.slice(-7).reverse().map(p=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:n.jsx(Zl,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:[Lt(new Date(p.sleepDate),"MMM dd, yyyy"),QF(new Date(p.sleepDate))&&n.jsx(he,{variant:"outline",className:"ml-2",children:"Today"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[x(p.bedtime)," - ",x(p.wakeTime)]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-medium",children:j(p.totalSleepDuration)}),n.jsx("p",{className:"text-gray-500",children:"Duration"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"font-medium",children:[p.sleepScore||"--","/100"]}),n.jsx("p",{className:"text-gray-500",children:"Score"})]}),p.quality&&n.jsx(he,{className:g(p.quality),children:p.quality})]})]},p.id)),c.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Zl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No sleep sessions recorded yet"}),n.jsx("div",{className:"p-2 border-2 border-blue-300 rounded-lg bg-blue-50 shadow-sm hover:shadow-md transition-shadow mt-4 inline-block",children:n.jsx(E,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Log your first sleep session"})})]})]})})]})]}),n.jsx(Ue,{value:"log",className:"space-y-6",children:n.jsx(fhe,{onSubmit:p=>u.mutate(p),isLoading:u.isPending,selectedDate:e,dailySession:h})}),n.jsx(Ue,{value:"trends",className:"space-y-6",children:n.jsx(ghe,{sleepSessions:c})}),n.jsx(Ue,{value:"goals",className:"space-y-6",children:n.jsx(xhe,{goals:i,onUpdateGoals:a,stats:f})})]})]})}function fhe({onSubmit:e,isLoading:t,selectedDate:s,dailySession:r}){const[i,a]=v.useState({sleepDate:Lt(s,"yyyy-MM-dd"),bedtime:"",sleepTime:"",wakeTime:"",quality:"",notes:""});v.useEffect(()=>{r&&a({sleepDate:r.sleepDate,bedtime:r.bedtime?Lt(new Date(r.bedtime),"HH:mm"):"",sleepTime:r.sleepTime?Lt(new Date(r.sleepTime),"HH:mm"):"",wakeTime:r.wakeTime?Lt(new Date(r.wakeTime),"HH:mm"):"",quality:r.quality||"",notes:r.notes||""})},[r]);const o=l=>{l.preventDefault();const c={...i,bedtime:i.bedtime?new Date(`${i.sleepDate}T${i.bedtime}:00`).toISOString():null,sleepTime:i.sleepTime?new Date(`${i.sleepDate}T${i.sleepTime}:00`).toISOString():null,wakeTime:i.wakeTime?new Date(`${i.sleepDate}T${i.wakeTime}:00`).toISOString():null};e(c)};return n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{children:"Log Sleep Session"})}),n.jsx(V,{children:n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"sleepDate",children:"Sleep Date"}),n.jsx(q,{id:"sleepDate",type:"date",value:i.sleepDate,onChange:l=>a({...i,sleepDate:l.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"quality",children:"Sleep Quality"}),n.jsxs("select",{id:"quality",value:i.quality,onChange:l=>a({...i,quality:l.target.value}),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:"",children:"Select quality"}),n.jsx("option",{value:"excellent",children:"Excellent"}),n.jsx("option",{value:"good",children:"Good"}),n.jsx("option",{value:"fair",children:"Fair"}),n.jsx("option",{value:"poor",children:"Poor"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"bedtime",children:"Bedtime"}),n.jsx(q,{id:"bedtime",type:"time",value:i.bedtime,onChange:l=>a({...i,bedtime:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"sleepTime",children:"Time Fell Asleep"}),n.jsx(q,{id:"sleepTime",type:"time",value:i.sleepTime,onChange:l=>a({...i,sleepTime:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"wakeTime",children:"Wake Time"}),n.jsx(q,{id:"wakeTime",type:"time",value:i.wakeTime,onChange:l=>a({...i,wakeTime:l.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"notes",children:"Notes"}),n.jsx(ot,{id:"notes",placeholder:"How did you feel? What might have affected your sleep?",value:i.notes,onChange:l=>a({...i,notes:l.target.value}),rows:3})]}),n.jsx("div",{className:"p-3 border-2 border-green-300 rounded-lg bg-green-50 shadow-sm hover:shadow-md transition-shadow",children:n.jsx(E,{type:"submit",disabled:t,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 text-lg",children:t?"Saving...":"Save Sleep Session"})})]})})]})}function ghe({sleepSessions:e}){return n.jsx("div",{className:"space-y-6",children:n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{children:"Sleep Trends"})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(sw,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Not enough data to show trends"}),n.jsx("p",{className:"text-sm",children:"Log at least 3 sleep sessions to see trends"})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sleep Duration Trend"}),n.jsx("div",{className:"space-y-2",children:e.slice(-7).reverse().map((t,s)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:Lt(new Date(t.sleepDate),"MMM dd")}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 bg-blue-500 rounded",style:{width:`${Math.min((t.totalSleepDuration||0)/600*100,100)}px`}}),n.jsx("span",{className:"text-sm font-medium w-12",children:t.totalSleepDuration?`${Math.round(t.totalSleepDuration/60)}h`:"--"})]})]},t.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sleep Quality Trend"}),n.jsx("div",{className:"space-y-2",children:e.slice(-7).reverse().map(t=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:Lt(new Date(t.sleepDate),"MMM dd")}),n.jsx(he,{className:`${t.quality?yhe(t.quality):"bg-gray-100 text-gray-800"}`,children:t.quality||"Not rated"})]},t.id))})]})]})})})]})})}function xhe({goals:e,onUpdateGoals:t,stats:s}){return n.jsx("div",{className:"space-y-6",children:n.jsxs(L,{children:[n.jsx(le,{children:n.jsx(ce,{children:"Sleep Goals"})}),n.jsxs(V,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(de,{htmlFor:"targetDuration",children:"Target Sleep Duration"}),n.jsxs("select",{id:"targetDuration",value:e.targetSleepDuration,onChange:r=>t({...e,targetSleepDuration:parseInt(r.target.value)}),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:420,children:"7 hours"}),n.jsx("option",{value:450,children:"7.5 hours"}),n.jsx("option",{value:480,children:"8 hours"}),n.jsx("option",{value:510,children:"8.5 hours"}),n.jsx("option",{value:540,children:"9 hours"})]})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"targetBedtime",children:"Target Bedtime"}),n.jsx(q,{id:"targetBedtime",type:"time",value:e.targetBedtime,onChange:r=>t({...e,targetBedtime:r.target.value})})]}),n.jsxs("div",{children:[n.jsx(de,{htmlFor:"targetWakeTime",children:"Target Wake Time"}),n.jsx(q,{id:"targetWakeTime",type:"time",value:e.targetWakeTime,onChange:r=>t({...e,targetWakeTime:r.target.value})})]})]}),s&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Progress This Week"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Sleep Duration Goal"}),n.jsxs("span",{className:"font-medium",children:[s.goalProgress,"%"]})]}),n.jsx(on,{value:s.goalProgress}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Average: ",Rk(s.avgSleepDuration)," / Target: ",Rk(e.targetSleepDuration)]})]})]})]})]})})}function yhe(e){switch(e){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Rk(e){if(!e)return"--";const t=Math.floor(e/60),s=e%60;return`${t}h ${s}m`}const vhe=console.error;console.error=(...e)=>{const t=e.join(" ");if(t.includes("Failed to load Stripe")||t.includes("stripe")){console.warn("Stripe error suppressed:",t);return}vhe.apply(console,e)};window.addEventListener("error",e=>{var t,s,r;if((t=e.message)!=null&&t.includes("Failed to load Stripe")||(s=e.message)!=null&&s.includes("stripe")||(r=e.filename)!=null&&r.includes("stripe"))return e.stopImmediatePropagation(),e.preventDefault(),!1});window.addEventListener("unhandledrejection",e=>{if(String(e.reason).includes("Stripe")||String(e.reason).includes("stripe"))return e.stopImmediatePropagation(),e.preventDefault(),!1});function bhe(){const[e]=On();return Fi(),n.jsx(iie,{children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-100 via-teal-50 to-blue-100",children:[!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&n.jsx(wV,{}),n.jsxs(jV,{children:[n.jsx(wt,{path:"/",component:Yy}),n.jsx(wt,{path:"/landing",component:Yy}),n.jsx(wt,{path:"/debug-landing.html",component:Yy}),n.jsx(wt,{path:"/login",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n.jsx(gse,{}):n.jsx(sie,{})}),n.jsx(wt,{path:"/register",component:nie}),n.jsx(wt,{path:"/demo",component:Z2}),n.jsx(wt,{path:"/dashboard",children:n.jsx(ss,{children:n.jsx(Z2,{})})}),n.jsx(wt,{path:"/subscription",children:n.jsx(ss,{children:n.jsx(bC,{})})}),n.jsx(wt,{path:"/direct-payment",children:n.jsx(ss,{children:n.jsx(tie,{})})}),n.jsx(wt,{path:"/daily-tasks",children:n.jsx(ss,{children:n.jsx(Wte,{})})}),n.jsx(wt,{path:"/task-reminders",component:()=>n.jsx(ss,{children:n.jsx(me.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:me.createElement(me.lazy(()=>wS(()=>import("./task-reminders-DYbF6y3M.js"),[])))})})}),n.jsx(wt,{path:"/financial",children:n.jsx(ss,{children:n.jsx(Xte,{})})}),n.jsx(wt,{path:"/mood-tracking",children:n.jsx(ss,{children:n.jsx(Zte,{})})}),n.jsx(wt,{path:"/sleep-tracking",children:n.jsx(ss,{children:n.jsx(phe,{})})}),n.jsx(wt,{path:"/calendar",children:n.jsx(ss,{children:n.jsx(mre,{})})}),n.jsx(wt,{path:"/medical",children:n.jsx(ss,{children:n.jsx(One,{})})}),n.jsx(wt,{path:"/meal-shopping",children:n.jsx(ss,{children:n.jsx(Bne,{})})}),n.jsx(wt,{path:"/pharmacy",children:n.jsx(ss,{children:n.jsx(zne,{})})}),n.jsx(wt,{path:"/academic-planner",children:n.jsx(ss,{children:n.jsx(Vne,{})})}),n.jsx(wt,{path:"/skills-milestones",children:n.jsx(ss,{children:n.jsx(qne,{})})}),n.jsx(wt,{path:"/task-builder",component:()=>n.jsx(ss,{children:n.jsx(me.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:me.createElement(me.lazy(()=>wS(()=>import("./task-builder-Cjxg10kz.js"),[])))})})}),n.jsx(wt,{path:"/rewards",component:()=>n.jsx(ss,{children:n.jsx(me.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:n.jsx(mhe,{})})})}),n.jsx(wt,{path:"/resources",children:n.jsx(ss,{children:n.jsx(rse,{})})}),n.jsx(wt,{path:"/caregiver",children:n.jsx(ss,{children:n.jsx(ose,{})})}),n.jsx(wt,{path:"/caregiver-setup",children:n.jsx(ss,{children:n.jsx(dse,{})})}),n.jsx(wt,{path:"/invite",component:xse}),n.jsx(wt,{path:"/accept-invitation",component:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n.jsx(fse,{}):n.jsx(pse,{})}),n.jsx(wt,{path:"/caregiver-dashboard",children:n.jsx(ss,{children:n.jsx(Gne,{})})}),n.jsx(wt,{path:"/admin",children:n.jsx(jC,{children:n.jsx(hC,{})})}),n.jsx(wt,{path:"/admin-dashboard",children:n.jsx(jC,{children:n.jsx(hC,{})})}),n.jsx(wt,{path:"/settings",children:n.jsx(ss,{children:n.jsx(hre,{})})}),n.jsx(wt,{path:"/features",children:n.jsx(pre,{})}),n.jsx(wt,{path:"/subscription",children:n.jsx(ss,{children:n.jsx(bC,{})})}),n.jsx(wt,{path:"/personal-documents",component:()=>n.jsx(ss,{children:n.jsx(me.Suspense,{fallback:n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-64 mb-6"}),n.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-40"})]})]})})}),children:n.jsx(dhe,{})})})}),n.jsx(wt,{path:"*",component:kV})]}),!["","/","/login","/register","/landing","/debug-landing.html"].includes(e)&&n.jsx(SV,{}),n.jsx(rie,{})]})})}console.log("Starting Adaptalyfe app...");console.log("React version:",me.version);console.log("Current URL:",window.location.href);console.log("User agent:",navigator.userAgent);console.log("Screen size:",screen.width,"x",screen.height);const XL=document.getElementById("root");if(!XL)throw new Error("Failed to find the root element");const Zp=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Mobile device detected:",Zp);!window.URLSearchParams&&window.URL&&(console.log("Adding URLSearchParams polyfill for mobile"),window.URLSearchParams=function(e){const t={};return e&&e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(s,r,i){return t[r]=decodeURIComponent(i),s}),this.get=function(s){return t[s]||null},this});try{const e=zA(XL);if(console.log("Creating React root and rendering app..."),Zp){console.log("Applying mobile-specific optimizations");const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")}e.render(n.jsx(G7,{client:xs,children:n.jsxs(K5,{children:[n.jsx(bhe,{}),n.jsx(B9,{})]})})),console.log("App rendered successfully")}catch(e){console.error("Error rendering app:",e);const t=e instanceof Error?e.message:String(e),s=Zp?`Mobile device: ${navigator.userAgent}. Error: ${t}`:`Desktop device. Error: ${t}`;document.body.innerHTML=`
    <div style="min-height: 100vh; background: linear-gradient(to bottom right, #e0f2fe, #f3e8ff, #f0fdfa); display: flex; align-items: center; justify-content: center; padding: 1rem;">
      <div style="text-align: center; background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); max-width: 90vw; width: 28rem;">
        <h2 style="font-size: 1.5rem; font-weight: bold; color: #dc2626; margin-bottom: 1rem;">App Loading Error</h2>
        <p style="color: #4b5563; margin-bottom: 1rem;">Failed to start the application on ${Zp?"mobile":"desktop"} device.</p>
        <div style="background: #f3f4f6; padding: 1rem; border-radius: 0.25rem; margin-bottom: 1rem; font-size: 0.875rem; text-align: left; overflow-wrap: break-word;">
          ${s}
        </div>
        <button onclick="window.location.reload()" style="background: #2563eb; color: white; padding: 0.75rem 1.5rem; border-radius: 0.25rem; border: none; cursor: pointer; font-size: 1rem;">
          Reload Page
        </button>
      </div>
    </div>
  `}export{dd as A,E as B,L as C,Au as L,ca as S,hn as T,xe as a,Ce as b,le as c,ce as d,at as e,V as f,Ls as g,ws as h,$t as i,n as j,p9 as k,he as l,ye as m,ae as n,os as o,en as p,xs as q,v as r,$e as s,Ue as t,dt as u,lw as v,Hr as w,D9 as x,hc as y};
